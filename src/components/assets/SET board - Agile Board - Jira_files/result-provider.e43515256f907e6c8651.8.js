try{window.performance.mark("result-provider.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["@atlaskit-internal_@atlassian/product-search-dialog/extensible/async/result-provider"],{"1JDK":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("q1tI"),s=r.n(n);const a=({onClick:e})=>s.a.createElement(r("0+Gd").a,{onClick:e,appearance:"subtle",theme:(e,t)=>{const r=e({...t});return{...r,buttonStyles:{...r.buttonStyles,margin:"0 auto",display:"block"}}}},s.a.createElement(r("3e7Q").a,r("SM7q").b.common_give_feedback))},"6uMD":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));class n extends r("D2aB").a{start(){return this.startInvoked?Promise.resolve():(this.startInvoked=!0,super.start())}}},K2VS:function(e,t,r){"use strict";r.r(t),r.d(t,"ResultProviderStateMachine",(function(){return H})),r.d(t,"ResultProviderLegacy",(function(){return B})),r.d(t,"ResultProvider",(function(){return J}))
;var n=r("pVnL"),s=r.n(n),a=r("q1tI"),c=r.n(a),l=()=>{const e=(()=>{const e=Object(a.useRef)(!1);return Object(a.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),Object(a.useCallback)((()=>e.current),[])})();return Object(a.useCallback)((t=>new Promise(((r,n)=>{t.then((t=>{e()&&r(t)})).catch((t=>{e()&&n(t)}))}))),[e])};var u=()=>{const e=Object(a.useRef)(null);return Object(a.useCallback)((t=>{e.current&&e.current.cancel();const n=r("VdyV").a.from(t);return e.current=n,n.promise()}),[])};const o=({setState:e,searchItemSupplier:t,setAPIState:n,ufoExperience:s})=>{const c=l(),o=u(),{query:i}=Object(r("I8Iw").b)(),{filterDefinitions:d}=Object(r("Q8fx").b)(),b=Object(a.useRef)(i),p=Object(a.useRef)(d),y=Object(r("fmnO").c)(),f=(null==y?void 0:y.getAggregatorConfig().cloudId)||"";return Object(a.useEffect)((()=>{b.current=i,p.current=d}),[i,d]),Object(a.useCallback)((a=>new Promise(((l,u)=>{n(r("xGY4").a.Loading),s.start(),o(c(t(a))).then((t=>{b.current===i?(s.success({metadata:{
cloudId:f}}),e(t),Object(r("GPJg").a)(t)?n(r("xGY4").a.Success):n(r("xGY4").a.NoResult),l(t)):s.abort()})).catch((t=>{b.current===i?(t&&!t.isCancelled&&(e(r("tQiX").a),n(r("xGY4").a.Error),u(t)),s.failure()):s.abort()}))}))),[t,e,c,n,o,i,s,f])},i=e=>e.sections.map((e=>({results:e.searchResults.slice(0,(null==e?void 0:e.resultLimit)||10).map((t=>({containerId:t.containerId||"UNAVAILABLE",isRecentResult:!!t.isRecentResult,resultContentId:t.id,resultType:e.id}))),sectionId:e.id}))),d=(e,t,n,s)=>{if(n!==r("xGY4").b.PreQueryLoading)return;const a=i(s),c=Object(r("RWDu").B)({actionSubjectId:r("RWDu").b.PREQUERY,resultCount:s.size||0,sectionCount:s.sections.length,results:a,...t});switch(e){case r("xGY4").b.PreQueryNoResult:return c;case r("xGY4").b.PreQuerySuccess:if(a.length>0)return c}},b=(e,t,n,s)=>{const a=i(s)
;if(n!==r("xGY4").b.PostQueryLoading)return n!==r("xGY4").b.PreQuerySuccess&&n!==r("xGY4").b.PostQuerySuccess||e!==r("xGY4").b.PostQueryLoading||0===a.length?void 0:Object(r("RWDu").B)({actionSubjectId:r("RWDu").b.CACHED,resultCount:s.size||0,sectionCount:s.sections.length,results:a,...t});switch(e){case r("xGY4").b.PostQueryNoResult:case r("xGY4").b.PostQuerySuccess||r("xGY4").b.PostQueryNoResult:return Object(r("RWDu").B)({actionSubjectId:r("RWDu").b.POSTQUERY,resultCount:s.size||0,sectionCount:s.sections.length,results:a,...t})}};function p(e){return{applied:e.map(((e,t)=>({...e,index:t}))).filter((e=>e.isChecked)).map((e=>({id:e.id,source:e.filterSource,index:e.index}))),recommendedIds:e.map((e=>({id:e.id,source:e.filterSource})))}}const y=e=>{let t={};return e.map((e=>{t={...t,[e["@type"]]:p(e.store.availableFilters)}})),t},f=()=>{
const{fireAnalyticsEvent:e}=Object(r("0VsR").a)(),{products:t,getActiveProduct:n}=Object(r("beQG").b)(),s=Object(r("qfuu").d)(),{isExpanded:a}=Object(r("PakA").b)();return[e,n(),a,t.length>0,y(s)]},m=(e,t,r)=>{const n=Object(a.useRef)(),[s,c,l,u,o]=f();Object(a.useEffect)((()=>{if(l&&c&&""!==c.id&&c.isDisplayed&&n.current){const a={activeProduct:null==c?void 0:c.id,isMultiProduct:u,filters:o},l=t(e,a,n.current,r);l&&Object.keys(l).length>0&&s(l)}n.current=e}),[e,l,s,u,c,r,t,o])},h=({setAPIState:e,setState:t,postQueryItemSupplier:n,id:s})=>{const c=Object(a.useRef)(new(r("D2aB").a)(`${s}-post-query-results-load`,{type:r("DRbF").b.Experience,performanceType:r("DRbF").a.InlineResult,platform:{component:r("UPCV").a}})),l=(()=>{const[e,t,n,s,c]=f();return Object(a.useCallback)((a=>l=>{const u=new Date;return a(l).then((a=>{const l=(new Date).getTime()-u.getTime();return e(Object(r("RWDu").w)({actionSubjectId:"postQuerySearchResults",timings:{postQueryRequestDurationMs:l},
activeProduct:null==t?void 0:t.id,isExpanded:n,isMultiProduct:s,filters:c})),a}))}),[e,null==t?void 0:t.id,n,s,c])})(),u=Object(a.useMemo)((()=>l(n)),[n,l]);return o({setState:t,setAPIState:e,ufoExperience:c.current,searchItemSupplier:u})};var S=r("sEfC"),Q=r.n(S),g=r("Y+p1"),I=r.n(g);const P=({debounceTime:e,query:t,analyticsInfo:n,filters:s,workspaces:c,sectionIds:l,isDisplayed:u,postQueryItemSupplier:o,setPostQueryItems:i,setPostQueryAPIState:d,preventDebouncedSearch:b})=>{const p=Object(a.useRef)(u),y=Object(a.useRef)(void 0),f=Object(a.useRef)(s),[m,h,S]=(({debounceTime:e})=>{const[t,r]=Object(a.useState)(!1),n=Object(a.useMemo)((()=>Q()((()=>{r(!0)}),e)),[e,r]);return[t,r,n]})({debounceTime:e});v({query:t,filters:s,setPostQueryAPIState:d,isDisplayed:u}),E({query:t,filters:s,setPostQueryItems:i,setPostQueryAPIState:d,isDisplayed:u,debouncedSetter:S,sectionIds:l}),Object(a.useEffect)((()=>{const e=t!==y.current,a=!I()(f.current,s),i=!1===p.current&&u;b&&t&&u?(e&&(y.current=t,
d(r("xGY4").a.Typing)),(i||a)&&(f.current=s,o({query:t,filters:s,analyticsInfo:n,sectionIds:l,workspaces:c}).catch((e=>{})))):(m||i)&&t&&u&&l&&(e||a||i)&&(y.current=t,f.current=s,o({query:t,filters:s,analyticsInfo:n,sectionIds:l,workspaces:c}).catch((e=>{})),h(!1)),p.current=u,t||(y.current="")}),[m,h,o,l,t,n,s,u,c,b,d])},E=({query:e,filters:t,isDisplayed:n,setPostQueryItems:s,setPostQueryAPIState:c,debouncedSetter:l,sectionIds:u,preventDebouncedSearch:o})=>{const i=Object(a.useRef)(e),d=Object(a.useRef)(t);Object(a.useEffect)((()=>{(i.current!==e||!I()(d.current,t))&&e&&n&&u&&u.length>0&&(s(r("tQiX").a),c(o?r("xGY4").a.Typing:r("xGY4").a.Loading),l()),i.current=e,d.current=t}),[e,n,u,s,c,l,i,t,d,o])},v=({query:e,isDisplayed:t,setPostQueryAPIState:n,preventDebouncedSearch:s})=>{const c=Object(a.useRef)(e);Object(a.useEffect)((()=>{""===e&&t&&""!==c.current&&n(s?r("xGY4").a.Typing:r("xGY4").a.Loading),c.current=e}),[e,t,n,c,s])
},O=({id:e,debounceTime:t,query:n,analyticsInfo:s,filters:c,isPrefetchingEnabled:l,workspaces:u,onRetry:o,preQueryItemSupplier:i,postQueryItemSupplier:d,setPostQueryItems:b,setPostQueryAPIState:p})=>{const{getProduct:y}=Object(r("beQG").b)(),f=y(e),m=(null==f?void 0:f.isDisplayed)||!1,h=Object(a.useMemo)((()=>(null==f?void 0:f.sectionIds)||[]),[f]),S=!(null==f||!f.showSearchOnEnter),Q=null==f?void 0:f.invokePostQuerySearchRef,g=Object(a.useCallback)((()=>{d({query:n,filters:c,analyticsInfo:s,sectionIds:h,workspaces:u}).catch((e=>{}))}),[s,c,d,n,h,u]);Q&&(Q.current=g),P({isDisplayed:m,debounceTime:t,postQueryItemSupplier:d,query:n,analyticsInfo:s,filters:c,sectionIds:h,setPostQueryItems:b,setPostQueryAPIState:p,workspaces:u,preventDebouncedSearch:!!S}),(({query:e,isPrefetchingEnabled:t,sectionIds:r,preQueryItemSupplier:n,isDisplayed:s,workspaces:c})=>{Object(a.useEffect)((()=>{""===e&&(!0===t||!0===s)&&r&&r.length>0&&n({sectionIds:r,workspaces:c}).catch((e=>{}))}),[t,s,r,n,e,c])})({
isDisplayed:m,preQueryItemSupplier:i,query:n,sectionIds:h,isPrefetchingEnabled:l,workspaces:u});const I=(({preQueryItemSupplier:e,onRetry:t,sectionIds:r,workspaces:n})=>Object(a.useCallback)((()=>{e({sectionIds:r,workspaces:n}),null==t||t()}),[t,e,r,n]))({preQueryItemSupplier:i,onRetry:o,sectionIds:h,isDisplayed:m,workspaces:u}),E=(({postQueryItemSupplier:e,onRetry:t,query:r,analyticsInfo:n,filters:s,sectionIds:c,workspaces:l})=>Object(a.useCallback)((()=>{e({query:r,analyticsInfo:n,sectionIds:c,filters:s,workspaces:l}),null==t||t()}),[t,e,c,r,n,s,l]))({postQueryItemSupplier:d,onRetry:o,query:n,analyticsInfo:s,filters:c,sectionIds:h,isDisplayed:m,workspaces:u});return{onRetryPreQuery:I,onRetryPostQuery:E}},j={preQuery:{[r("xGY4").a.Typing]:r("xGY4").b.Invalid,[r("xGY4").a.Error]:r("xGY4").b.PreQueryError,[r("xGY4").a.Loading]:r("xGY4").b.PreQueryLoading,[r("xGY4").a.NoResult]:r("xGY4").b.PreQueryNoResult,[r("xGY4").a.Success]:r("xGY4").b.PreQuerySuccess},postQuery:{
[r("xGY4").a.Typing]:r("xGY4").b.PostQueryTyping,[r("xGY4").a.Error]:r("xGY4").b.PostQueryError,[r("xGY4").a.Loading]:r("xGY4").b.PostQueryLoading,[r("xGY4").a.NoResult]:r("xGY4").b.PostQueryNoResult,[r("xGY4").a.Success]:r("xGY4").b.PostQuerySuccess}},R=({setPreQueryItems:e,setPostQueryItems:t,preQueryItemSupplier:n,postQueryItemSupplier:s,id:c,isPrefetchingEnabled:l=!1,debounceTime:u=250,onRetry:i,workspaces:d})=>{const{query:b,queryVersion:p}=Object(r("I8Iw").b)(),y=Object(r("/4eM").c)(),f=(e=>{const{filterDefinitions:t}=Object(r("Q8fx").b)();let n=[];const s=t[e];return void 0!==s&&s.forEach((e=>{if(e.mapSelectionToAppliedValue){const t=e.mapSelectionToAppliedValue();t&&n.push(t)}else{let t=e.store.availableFilters.filter((e=>e.isChecked)).map((e=>e.id));"sites"===e["@type"]&&0===t.length&&(t=e.store.availableFilters.slice(0,3).map((e=>e.id))),t.length>0&&n.push({"@type":e["@type"],[e.fieldName]:t})}})),n
})(c),[m,S]=Object(a.useState)(r("xGY4").a.Loading),[Q,g]=Object(a.useState)(r("xGY4").a.Loading),I=(({preQueryItemSupplier:e,setAPIState:t,setState:n,id:s})=>{const[c]=Object(a.useState)(new(r("Jko9").a)(e)),l=Object(a.useCallback)((e=>c.getAsync(e).value),[c]),u=Object(a.useRef)(new(r("6uMD").a)(`${s}-pre-query-results-load`,{type:r("DRbF").b.Experience,performanceType:r("DRbF").a.InlineResult,platform:{component:r("UPCV").a}}));return o({setState:n,setAPIState:t,searchItemSupplier:l,ufoExperience:u.current})})({setAPIState:S,preQueryItemSupplier:n,setState:e,id:c}),P=h({setAPIState:g,setState:t,postQueryItemSupplier:s,id:c}),{onRetryPreQuery:E,onRetryPostQuery:v}=O({id:c,query:b,analyticsInfo:{queryVersion:p,searchSessionId:y},filters:f,isPrefetchingEnabled:l,preQueryItemSupplier:I,postQueryItemSupplier:P,debounceTime:u,setPostQueryItems:t,onRetry:i,setPostQueryAPIState:g,workspaces:d});let R;return R=""!==b?j.postQuery[Q]:j.preQuery[m],{state:R,onRetryPreQuery:E,onRetryPostQuery:v}
};var x=r("hNN8");const C=({retainHeight:e,children:t,...r})=>{const n=Object(a.useRef)(void 0),l=Object(a.useRef)(null);if(e){var u,o;const e=null===(u=l.current)||void 0===u||null===(o=u.getBoundingClientRect())||void 0===o?void 0:o.height;n.current=e}Object(a.useEffect)((()=>{var e,t;const r=null===(e=l.current)||void 0===e||null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.height;n.current=r}),[]);const i=e&&n.current;return c.a.createElement(x.q,s()({shouldFixMinimumHeight:i,minimumHeight:n.current,ref:l},r),t)};var k=r("NluS"),G=r.n(k);const w=({filterType:e,store:t,loadFilterOptions:n,sectionLabel:s,findMoreLabel:l,maxSelectable:u,filterConfig:o})=>{var i;const{formatMessage:d}=Object(r("3NU0").a)(),{fireAnalyticsEvent:b}=Object(r("0VsR").a)(),{availableFilters:p,updateFilter:y,addFilters:f,isLoading:m}=t,h=(null==o?void 0:o.usePreloadedOptions)||!1,S=!(null!=o&&o.hideIcon),Q=(null==o?void 0:o.filterOptionIconShape)||"square",g=p.map((e=>({
label:c.a.createElement(r("Zv/Q").a,{label:e.label,iconProps:{src:e.avatarUrl,appearance:null==o?void 0:o.filterOptionIconShape}}),value:e}))),I=g.filter((e=>e.value.isVisible)),P=Object(a.useCallback)(((e,t,r)=>{y(e,r)}),[y]),E=Object(a.useCallback)((({value:t})=>{f([t]),y(t.id,!0),b(Object(r("RWDu").l)({filterId:t.id,filterSource:r("diJP").a.EXTERNAL,filterType:e}))}),[f,y,b,e]),v=G()((e=>n(e)),250),O=Object(a.useCallback)((({avatarUrl:e,name:t})=>{if(S)return c.a.createElement(r("1JKq").a,{borderColor:"transparent",src:e,appearance:Q,size:"small",name:t})}),[S,Q]),j=p.filter((e=>e.isChecked)),R=g.filter((e=>!e.value.isVisible)),C=e=>Promise.resolve(R.filter((t=>-1!==t.value.label.indexOf(e.trim().toLowerCase())))),k=!!u&&j.length===u,w=(t=!1)=>I.map((({value:n})=>{var s;return c.a.createElement(r("kXLL").a,{value:n.id,filterType:e,icon:O(n),label:n.label,onChange:P,isChecked:n.isChecked,filterSource:n.filterSource,isDisabled:k&&!n.isChecked,variant:x.m.CHECKBOX,
LabelComponent:null!==(s=null==o?void 0:o.labelComponent)&&void 0!==s?s:t?x.e:x.g})})),Y=()=>!(h&&0===R.length)&&c.a.createElement(x.h,{placeholderText:l,addFilter:E,defaultOptions:R||[],loadOptions:h?C:v,buttonText:d(r("SM7q").b.show_more_filters),filterComponent:x.a,loadingMessage:()=>d(r("SM7q").b.loading_filters),noOptionsMessage:()=>d(r("SM7q").b.no_options_filters),isDisabled:k});return c.a.createElement(c.a.Fragment,null,(!(null!=o&&o.filterGroupedBy)||"column"===(null==o?void 0:o.filterGroupedBy))&&c.a.createElement(x.c,{title:s,isLoading:m,avatarShape:null!==(i=null==o?void 0:o.filterOptionIconShape)&&void 0!==i?i:"circle"},w(!0),Y()),"row"===(null==o?void 0:o.filterGroupedBy)&&c.a.createElement(x.t,{title:s,isLoading:!1},w(!1),Y()))},Y=Object(a.lazy)((()=>r.e("@atlaskit-internal_product-search-dialog/async-chunk/feedback-collector").then(r.bind(null,"pmbL"))));var q=()=>c.a.createElement(a.Suspense,{fallback:c.a.createElement(r("1JDK").a,{onClick:()=>{}})
},c.a.createElement(Y,null));const L=c.a.lazy((()=>r.e("@atlaskit-internal_@atlassian/product-search-dialog/async-chunk/static-select-filter").then(r.bind(null,"bQAo")).then((({StaticSelectFilter:e})=>({default:e}))))),D=c.a.lazy((()=>r.e("@atlaskit-internal_@atlassian/product-search-dialog/async-chunk/multi-select-filter").then(r.bind(null,"3NjG")).then((({MultiSelectFilter:e})=>({default:e}))))),T=({productState:e})=>{var t;const{query:n}=Object(r("I8Iw").b)(),{resetSearchSession:l}=Object(r("wjCP").b)(),{getActiveProduct:u}=Object(r("beQG").b)(),o=u(),i=null==o?void 0:o.id,d=Object(r("qfuu").d)(),b=Object(r("qfuu").a)(),p=d.find((e=>e["@type"]===r("H38n").c));p&&(p.filterConfig={...p.filterConfig,hideIcon:!0,usePreloadedOptions:!0});const y=d.filter((e=>e["@type"]!==r("H38n").c));if(!i||!d.length)return null;const f=(null==o||null===(t=o.generateAdvancedSearchUrl)||void 0===t?void 0:t.call(o,n))||"",m=!(null==o||!o.showViewAllFiltersLink);switch(e){case r("xGY4").b.PostQueryTyping:
case r("xGY4").b.PostQueryLoading:case r("xGY4").b.PostQuerySuccess:case r("xGY4").b.PostQueryNoResult:case r("xGY4").b.PostQueryError:return c.a.createElement(c.a.Fragment,null,c.a.createElement(x.K,null),c.a.createElement(x.L,null,c.a.createElement(x.M,null,!!p&&c.a.createElement(w,s()({filterType:p["@type"]},p,{maxSelectable:5})),y.map((e=>{switch(e.uiVariant){case r("H38n").b.MULTI_SELECT:return c.a.createElement(a.Suspense,{fallback:null},c.a.createElement(D,s()({filterType:e["@type"]},e)));case r("H38n").b.STATIC_SELECT:return c.a.createElement(a.Suspense,{fallback:null},c.a.createElement(L,{filterType:e["@type"],filterStore:e.store,sectionTitle:e.sectionLabel}));default:return c.a.createElement(w,s()({filterType:e["@type"]},e))}})),!p&&m&&c.a.createElement(r("RwlQ").a,null,c.a.createElement(r("bpEK").a,{isLoading:!1,href:f,query:n,selectedFiltersCount:b,onClick:l}))),c.a.createElement(x.I,null,c.a.createElement(q,null))));default:return null}
},A=c.a.lazy((()=>r.e("@atlaskit-internal_@atlassian/search-ai").then(r.bind(null,"y86U")).then((({SearchAIAnswer:e})=>({default:e}))))),F=()=>{var e;const{query:t}=Object(r("I8Iw").b)(),n=Object(r("fmnO").c)().getAggregatorConfig().cloudId,{getActiveProduct:s}=Object(r("beQG").b)(),l=s(),u=Object(r("/4eM").c)(),{user:o}=Object(r("c1HR").b)(),i=null==l||null===(e=l.generateAdvancedSearchUrl)||void 0===e?void 0:e.call(l,t),{resetSearchSession:d}=Object(r("wjCP").b)(),{allowChangeExpand:b}=Object(r("PakA").b)(),p=Object(a.useCallback)((()=>{d(),b(!0)}),[d,b]);return null!=l&&l.aiSearchConfig?c.a.createElement(A,{query:t,cloudId:n,getAIAnswer:l.aiSearchConfig.aiSearchQueryFunction,onNavigate:p,searchSessionId:u,userDetails:o,advancedSearchUrl:i,source:"searchDialog"}):null
},N=({productState:e,preQueryItems:t,postQueryItems:n,onRetryPreQuery:s,onRetryPostQuery:l,urlGeneratorForNoResultsScreen:u=(()=>""),preQuerySectionTitleGenerator:o,linkComponent:i,children:d,searchFooterLabel:b,appendQueryParams:p})=>{const y=Object(r("wz8l").a)(),f=Object(r("qfuu").c)(),{query:m}=Object(r("I8Iw").b)(),{autocorrectionEnabled:h}=Object(r("zw16").e)(),{correction:S}=Object(r("oELr").b)(),Q=d&&"function"==typeof d?d({query:m,productState:e,linkComponent:i,preQueryItems:t,postQueryItems:n,onRetryPreQuery:s,onRetryPostQuery:l,urlGeneratorForNoResultsScreen:u,preQuerySectionTitleGenerator:o}):null,g=(null==Q?void 0:Q.Header)||(()=>c.a.createElement(c.a.Fragment,null)),I=(null==Q?void 0:Q.SectionFooter)||(()=>c.a.createElement(c.a.Fragment,null)),P=(null==Q?void 0:Q.Footer)||(()=>c.a.createElement(r("JjnE").a,{urlGeneratorForNoResultsScreen:u,linkComponent:i,productState:e,searchFooterLabel:b})),E=Object(a.useCallback)((()=>{switch(e){case r("xGY4").b.PostQueryError:
return c.a.createElement(r("GPXc").a,{onRetry:l});case r("xGY4").b.PostQueryTyping:return c.a.createElement(r("qJPb").a,{searchItems:n,screen:"cachedResults",forceHideResultCount:!0,linkComponent:i,isCollapsed:f||y,productState:r("xGY4").b.PostQueryTyping,appendQueryParams:p});case r("xGY4").b.PostQueryLoading:return c.a.createElement(r("qJPb").a,{searchItems:n,screen:"cachedResults",forceHideResultCount:!0,linkComponent:i,isCollapsed:f||y,productState:r("xGY4").b.PostQueryLoading,appendQueryParams:p},c.a.createElement(r("/lqG").a,null));case r("xGY4").b.PostQueryNoResult:return Object(r("GPJg").a)(n)?c.a.createElement(r("qJPb").a,{searchItems:n,screen:"cachedResults",forceHideResultCount:!0,linkComponent:i,isCollapsed:f||y,productState:r("xGY4").b.PostQueryLoading,appendQueryParams:p}):c.a.createElement(r("uEdj").a,{urlGeneratorForNoResultsScreen:u});case r("xGY4").b.PostQuerySuccess:return c.a.createElement(c.a.Fragment,null,c.a.createElement(r("qJPb").a,{searchItems:n,
forceHideResultCount:h&&!!S&&S.length>0,linkComponent:i,screen:"postQuerySearchResults",productState:r("xGY4").b.PostQuerySuccess,isCollapsed:f||y,renderSectionViewAll:!0,appendQueryParams:p}));case r("xGY4").b.PreQueryError:return c.a.createElement(r("TFtj").a,null);case r("xGY4").b.PreQueryLoading:return c.a.createElement(r("/lqG").a,null);case r("xGY4").b.PreQueryNoResult:return c.a.createElement(r("tCXd").a,null);case r("xGY4").b.PreQuerySuccess:return c.a.createElement(r("qJPb").a,{searchItems:t,generateSectionTitle:(e,t)=>(null==o?void 0:o(e))||t.formatMessage(r("SM7q").b.recently_viewed_title,{sectionTitle:e.title}),linkComponent:i,screen:"preQuerySearchResults",forceHideResultCount:!0,productState:r("xGY4").b.PreQuerySuccess,isCollapsed:y,appendQueryParams:p})}}),[S,h,e,t,n,i,l,o,u,f,y,p]),v=Object(a.useMemo)((()=>Q&&Q.Body&&void 0!==(null==Q?void 0:Q.Body())?Q.Body:E),[Q,E]),O=e===r("xGY4").b.PostQueryLoading||e===r("xGY4").b.PreQueryLoading;return c.a.createElement(C,{
retainHeight:O},c.a.createElement(g,null),c.a.createElement(x.z,null,c.a.createElement(x.o,null,c.a.createElement(x.n,null,(e===r("xGY4").b.PostQuerySuccess||e===r("xGY4").b.PostQueryLoading)&&c.a.createElement(F,null),v()),c.a.createElement(I,null)),f&&c.a.createElement(T,{productState:e})),c.a.createElement(P,null))};var M=({productState:e,preQueryItems:t,postQueryItems:n,children:s})=>((e=>{const{setAdditionalAnalyticsContext:t}=Object(r("I8Iw").b)();Object(a.useEffect)((()=>{const n=e===r("xGY4").b.PreQueryLoading||e===r("xGY4").b.PostQueryLoading;t({type:"isLoading",value:n})}),[e,t])})(e),((e,t,r)=>{m(e,d,t),m(e,b,r)})(e,t,n),c.a.createElement(c.a.Fragment,null,s)),V=r("qPyV"),_=r.n(V);const z=({postQueryItems:e,preQueryItems:t,children:n})=>{const{query:s}=Object(r("I8Iw").b)(),c=Object(r("qfuu").b)(),l=Object(a.useMemo)((()=>((e,t,r=3)=>{if(!e.sections[0])return e;const n=e.sections[0].searchResults.filter((e=>e.title.toLowerCase().includes(t.toLowerCase()))).slice(0,r);return{
size:n.length,sections:[{...e.sections[0],searchResults:n}]}})(t,s,c?0:3)),[t,s,c]),u=Object(a.useMemo)((()=>e?((e,t)=>{var r,n;if(!e.sections[0]||0===(null===(r=e.sections[0])||void 0===r?void 0:r.searchResults.length))return t;if(!t.sections[0]||0===(null===(n=t.sections[0])||void 0===n?void 0:n.searchResults.length))return e;const s=[...e.sections[0].searchResults.map((e=>({...e,isRecentResult:!0}))),...t.sections[0].searchResults],a=_()(s,(e=>e.id)),c=[{...t.sections[0],searchResults:a}];return{size:c.reduce(((e,t)=>e+t.searchResults.length),0),sections:c}})(l,e):l),[l,e]);return n({searchItems:{size:u.size,sections:u.sections.length>0?[u.sections[0]]:[]}})},H=({id:e,children:t,...n})=>{const[l,u]=Object(a.useState)(r("tQiX").a),[o,i]=Object(a.useState)(r("tQiX").a),{state:d,onRetryPreQuery:b,onRetryPostQuery:p}=R({id:e,setPreQueryItems:u,setPostQueryItems:i,...n});return c.a.createElement(r("Sqx2").a,{id:e},c.a.createElement(z,{postQueryItems:o,preQueryItems:l
},(({searchItems:e})=>{const r={sections:[...e.sections,...o.sections.slice(1)],size:o.size};return c.a.createElement(M,{postQueryItems:r,preQueryItems:l,productState:d},c.a.createElement(N,s()({},n,{preQueryItems:l,postQueryItems:r,productState:d,onRetryPreQuery:b,onRetryPostQuery:p}),t))})))},B=({children:e,isPrefetchingEnabled:t,preQueryItemSupplier:r})=>(Object(a.useEffect)((()=>{t&&r({sectionIds:[]})}),[t,r]),c.a.createElement(c.a.Fragment,null,e)),J=({children:e,id:t,PLS_DONT_USE_skipDefaultStateManagement:n,...a})=>c.a.createElement(c.a.Fragment,null,n?c.a.createElement(B,{isPrefetchingEnabled:a.isPrefetchingEnabled,preQueryItemSupplier:a.preQueryItemSupplier},c.a.createElement(r("Sqx2").a,{id:t}," ",e," ")):c.a.createElement(H,s()({id:t},a),e))},RwlQ:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return c}));var n=r("DZdY"),s=r("hNN8");const a=Object(n.a)(s.l,{target:"e1ejhb1b1"
})("display:block;text-align:center;border-radius:3px;color:","var(--ds-text-subtle, #42526E)",";cursor:pointer;padding:var(--ds-space-075, 6px);background-color:","var(--ds-background-neutral, #F4F5F7)",";transition:background 0.1s ease-out,box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38);&:hover{color:","var(--ds-text-subtle, #42526E)",";background-color:","var(--ds-background-neutral-hovered, #EBECF0)",";text-decoration:none;transition:background 0s ease-out,box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38);}:visited{color:","var(--ds-text-subtle, #42526E)",";}"),c=Object(n.a)("div",{target:"e1ejhb1b0"})({name:"bnuiyf",styles:"padding-top:var(--ds-space-400, 28px)"})},bpEK:function(e,t,r){"use strict";var n=r("pVnL"),s=r.n(n),a=r("q1tI"),c=r.n(a);t.a=({linkComponent:e,href:t,selectedFiltersCount:n,isLoading:l,onClick:u,...o})=>{const{fireAnalyticsEvent:i}=Object(r("0VsR").a)(),d=Object(a.useCallback)((e=>{const t=Object(r("Qg+c").a)(e);null==u||u(),i(Object(r("RWDu").r)({
trigger:t,selectedFiltersCount:n}))}),[i,n,u]);return l?null:c.a.createElement(r("RwlQ").b,s()({},o,{linkComponent:e,href:t,onClick:d}),c.a.createElement(r("3e7Q").a,r("SM7q").b.more_filters))}},kXLL:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("pVnL"),s=r.n(n),a=r("q1tI"),c=r.n(a),l=r("hNN8");const u=({onChange:e,filterType:t,filterSource:n,isDisabled:u=!1,smartValue:o,allOptions:i,collabGraphSessionId:d="",variant:b,...p})=>{const{fireAnalyticsEvent:y}=Object(r("0VsR").a)(),f=Object(a.useCallback)(((s,a)=>{a?(y(Object(r("RWDu").l)({filterId:s,filterSource:n,filterType:t})),o&&i&&y(Object(r("RWDu").L)(o,i,"quickSearch",d))):y(Object(r("RWDu").m)({filterId:s,filterSource:n,filterType:t})),null==e||e(s,t,a)}),[e,t,y,n,o,i,d]);return c.a.createElement(l.f,s()({},p,{onChange:f,isDisabled:u,variant:b}))}},qfuu:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return s})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){
return c}));const n=()=>{var e;const{getActiveProduct:t}=Object(r("beQG").b)(),n=t(),{filterDefinitions:s}=Object(r("Q8fx").b)();return!!(n&&(null===(e=s[n.id])||void 0===e?void 0:e.length)>0)},s=()=>{const{getActiveProduct:e}=Object(r("beQG").b)(),t=e(),{filterDefinitions:n}=Object(r("Q8fx").b)();return t&&n[t.id]||[]},a=()=>{const e=s();let t=!1;return e.forEach((e=>{e.store.availableFilters.forEach((e=>{e.isChecked&&"default"!==e.id&&(t=!0)}))})),t},c=()=>s().filter((e=>"sites"!==e["@type"])).reduce(((e,t)=>t.store.availableFilters.filter((e=>e.isChecked)).length+e),0)},wz8l:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("hNN8");const s=()=>window.innerWidth<=n.P}}]);try{window.__jsEvalStop("result-provider.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/@atlaskit-internal_@atlassian/product-search-dialog/extensible/async/result-provider.e43515256f907e6c8651.8.js.map