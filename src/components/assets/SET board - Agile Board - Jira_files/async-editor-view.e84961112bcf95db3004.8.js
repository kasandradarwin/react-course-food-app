try{window.performance.mark("async-editor-view.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-editor-view","async-atlaskit-editor-markdown-transformer","template-extension_icon-code"],{"+13A":function(e,t,n){"use strict";function o(e,t,o,r,i,s,a,c){var l,d;(c(e.view,e.eventDispatcher,e.transformer),null!==(l=t.featureFlags)&&void 0!==l&&l.ufo)&&(o(n("IYQB").b.getInstance(e.view)),null===(d=r())||void 0===d||d.start(n("IYQB").a.loadEditor,a));if(t.onEditorReady){var u,p,h;const e=(null==t||null===(u=t.performanceTracking)||void 0===u||null===(p=u.onEditorReadyCallbackTracking)||void 0===p?void 0:p.enabled)||(null===(h=t.featureFlags)||void 0===h?void 0:h.ufo);e&&Object(n("61k9").b)(n("lZxZ").a.ON_EDITOR_READY_CALLBACK),t.onEditorReady(s),e&&Object(n("61k9").c)(n("lZxZ").a.ON_EDITOR_READY_CALLBACK,Object(n("rh9/").a)(n("+PNV").a.ON_EDITOR_READY_CALLBACK,t,r,i()))}}n.d(t,"a",(function(){return o}))},"+62K":function(e,t,n){"use strict"
;n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("tablePlugin")},"+EM5":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("q1tI"),r=n.n(o);function i({children:e}){return(()=>null===Object(o.useContext)(n("o5hF").a))()?r.a.createElement(n("UO0f").b,{locale:"en"},e):e}},"+IWU":function(e,t,n){"use strict";var o=n("lSNA"),r=n.n(o),i=n("q1tI");class s extends i.Component{constructor(e,t){super(e),r()(this,"isUnmounted",!1),r()(this,"loaded",(e=>!!e.asyncLoadedComponent&&!!e.loadedEmojiProvider)),this.state=t,this.loadEmojiProvider(this.props.emojiProvider)}componentDidMount(){this.state.asyncLoadedComponent||this.asyncLoadComponent()}UNSAFE_componentWillReceiveProps(e){this.loadEmojiProvider(e.emojiProvider)}componentWillUnmount(){this.isUnmounted=!0}loadEmojiProvider(e){e.then((e=>{this.isUnmounted||this.setState({loadedEmojiProvider:e})})).catch((()=>{this.isUnmounted||this.setState({loadedEmojiProvider:void 0})}))}setAsyncState(e){
this.isUnmounted||this.setState({asyncLoadedComponent:e})}renderLoading(){return null}render(){if(this.loaded(this.state)){const{loadedEmojiProvider:e,asyncLoadedComponent:t}=this.state;return this.renderLoaded(e,t)}return this.renderLoading()}}s.displayName="LoadingEmojiComponent";const a=()=>(()=>n.e("@atlaskit-internal_emojiPickerComponent").then(n.bind(null,"IClw")))().then((e=>e.default));class c extends s{constructor(e){super(e,{}),r()(this,"state",{asyncLoadedComponent:c.AsyncLoadedComponent}),n("xFh9").d["emoji-picker-opened"].start()}asyncLoadComponent(){a().then((e=>{c.AsyncLoadedComponent=e,this.setAsyncState(e)}))}renderLoading(){const e=new(n("OS0S").c);return n("xFh9").d["emoji-picker-opened"].markFMP(),Object(n("AeFk").jsx)("div",{css:Object(n("nc8v").i)(),ref:e=>{this.props.onPickerRef&&this.props.onPickerRef(e)}},e.renderItem())}renderLoaded(e,t){const{emojiProvider:o,...r}=this.props;return Object(n("AeFk").jsx)(n("nfRB").a,{
experiences:[n("xFh9").d["emoji-picker-opened"]]},Object(n("AeFk").jsx)(n("OVD/").a,{emojiProvider:e},Object(n("AeFk").jsx)(t,r)))}}r()(c,"defaultProps",{size:"medium"});const l=Object(n("VHV8").a)()(c);t.a=l},"+JPL":function(e,t,n){e.exports={default:n("gRli"),__esModule:!0}},"+LLc":function(t,n,o){"use strict";o.d(n,"a",(function(){return c}));var r=o("lSNA"),i=o.n(r),s=o("q1tI"),a=o.n(s);class c extends a.a.Component{constructor(...t){super(...t),i()(this,"messageCallback",(t=>{const{embedIframeRef:n}=this.props,o=n.current&&t.source===n.current.contentWindow,r="string"==typeof t.data;if(o&&r)try{const e=JSON.parse(t.data);"resize"===e.method&&"number"==typeof e.height&&this.onEmbedHeightChange({height:e.height})}catch(e){}})),i()(this,"onEmbedHeightChange",(e=>{const{onHeightUpdate:t}=this.props;t(e.height+32)}))}componentDidMount(){window.addEventListener("message",this.messageCallback)}componentWillUnmount(){window.removeEventListener("message",this.messageCallback)}render(){
return this.props.children}}c.displayName="EmbedResizeMessageListener"},"+M+A":function(e,t,n){"use strict";let o,r;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),function(e){e.INDENT="indent",e.OUTDENT="outdent"}(o||(o={})),function(e){e.PARAGRAPH="paragraph",e.LIST="list",e.HEADING="heading",e.CODE_BLOCK="codeBlock",e.TASK_LIST="taskList"}(r||(r={}))},"+NwJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("pVnL"),r=n.n(o),i=n("q1tI"),s=n.n(i);class a extends s.a.PureComponent{render(){return s.a.createElement(n("7JDo").a,r()({withoutBackground:!0},this.props),this.props.placeholder||this.props.link)}}a.displayName="CardLinkView"},"+OC9":function(e,t,n){"use strict";n.d(t,"v",(function(){return r})),n.d(t,"r",(function(){return i})),n.d(t,"o",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"x",(function(){return d})),n.d(t,"p",(function(){return u})),n.d(t,"w",(function(){return p})),n.d(t,"D",(function(){return h})),
n.d(t,"E",(function(){return f})),n.d(t,"F",(function(){return b})),n.d(t,"C",(function(){return g})),n.d(t,"l",(function(){return v})),n.d(t,"t",(function(){return y})),n.d(t,"J",(function(){return O})),n.d(t,"q",(function(){return E})),n.d(t,"u",(function(){return w})),n.d(t,"G",(function(){return S})),n.d(t,"I",(function(){return k})),n.d(t,"y",(function(){return x})),n.d(t,"A",(function(){return C})),n.d(t,"P",(function(){return T})),n.d(t,"f",(function(){return j})),n.d(t,"z",(function(){return A})),n.d(t,"Q",(function(){return N})),n.d(t,"O",(function(){return I})),n.d(t,"N",(function(){return P})),n.d(t,"T",(function(){return M})),n.d(t,"S",(function(){return R})),n.d(t,"U",(function(){return _})),n.d(t,"c",(function(){return L})),n.d(t,"M",(function(){return D})),n.d(t,"a",(function(){return F})),n.d(t,"i",(function(){return B})),n.d(t,"j",(function(){return V})),n.d(t,"B",(function(){return z})),n.d(t,"K",(function(){return H})),n.d(t,"H",(function(){return U})),
n.d(t,"h",(function(){return W})),n.d(t,"n",(function(){return K})),n.d(t,"m",(function(){return $})),n.d(t,"s",(function(){return q})),n.d(t,"b",(function(){return G})),n.d(t,"V",(function(){return Y})),n.d(t,"R",(function(){return Q})),n.d(t,"e",(function(){return X})),n.d(t,"d",(function(){return Z})),n.d(t,"k",(function(){return J})),n.d(t,"L",(function(){return ee}));const o="emoji-common-select-on-hover",r="emoji-common-emoji-sprite",i="emoji-common-node",s="emoji-common-emoji-image",a="emoji-common-deleteButton",c="emoji-common-deletable",l={name:"19xco7i",styles:"visibility:hidden;display:flex;position:absolute;top:-8px;right:-8px;z-index:1"},d={name:"e1q0su",styles:"flex:1;display:flex;justify-content:flex-end;padding:10px 10px 11px 0"},u=Object(n("AeFk").css)({borderRadius:"var(--ds-radius-100, 3px)",backgroundColor:"transparent",display:"inline-block",verticalAlign:"middle",margin:"-1px 0",img:{display:"block"},[`&.emoji-common-selected,&.${o}:hover`]:{
backgroundColor:n("jp2e").a},[`&.emoji-common-selected,&.${o}:hover .${a}`]:{visibility:"visible"},[`&.${c}`]:{position:"relative"},[`&.${c}:focus-within .${a}`]:{visibility:"visible"},"&:focus":{boxShadow:"0 0 0 2px var(--ds-border-focused, #4C9AFF)",transitionDuration:"0s, 0.2s",outline:"none"}}),p=Object(n("AeFk").css)({display:"inline-block",margin:"-1px 0",[`&.emoji-common-selected,&.${o}:hover`]:{backgroundColor:n("jp2e").a},[`.${r}`]:{background:"transparent no-repeat",display:"inline-block",minHeight:"20px",minWidth:"20px",verticalAlign:"middle"},"&:focus":{boxShadow:"0 0 0 2px var(--ds-border-focused, #4C9AFF)",transitionDuration:"0s, 0.2s",outline:"none"}}),h="emoji-common-placeholder",f={name:"1tzu9l",styles:"position:relative;margin:-1px 0;display:inline-block;background:var(--ds-border, #f7f7f7);border-radius:var(--ds-radius-100, 3px);overflow:hidden;vertical-align:middle;white-space:nowrap;text-align:center"},m=n("AeFk").keyframes`
  from {
    transform: translateX(-100%);
  }
  to   {
    transform: translateX(100%);
  }
`,b=Object(n("AeFk").css)({"&::before":{content:'""',display:"block",position:"absolute",background:"var(--ds-background-neutral, rgba(9, 30, 66, 0.04))",height:"100%",width:"100%",animation:`${m} 1s cubic-bezier(0.4, 0.0, 0.2, 1) infinite`}}),g={name:"1835etr",styles:"opacity:0;visibility:hidden;display:none"},v=Object(n("AeFk").css)({backgroundColor:"transparent",border:"0",borderRadius:"var(--ds-radius-100, 3px)",cursor:"pointer",padding:0,position:"relative",display:"inline-block","&::-moz-focus-inner":{border:"0 none",padding:0},"&>span":{padding:"6px",[`&>.${r}`]:{height:"24px",width:"24px"},"&>img":{height:"24px",width:"24px"}},"&:focus":{boxShadow:"0 0 0 2px var(--ds-border-focused, #4C9AFF)",transitionDuration:"0s, 0.2s",outline:"none"}}),y=Object(n("AeFk").css)({opacity:0,position:"absolute",top:"-10px",left:"-10px","+span":{borderRadius:"var(--ds-radius-100, 3px)"},"&:focus + span":{boxShadow:"0 0 0 2px var(--ds-border-focused, #4C9AFF)",transitionDuration:"0s, 0.2s",
outline:"none"}}),O={name:"1b8z6z9",styles:"display:flex;flex-direction:column;align-self:center;margin-top:-2px;margin-left:10px;max-width:285px;width:285px;flex-grow:1;flex-shrink:1"},E=Object(n("AeFk").css)({display:"block",color:"var(--ds-text, #091E42)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","&:first-letter":{textTransform:"uppercase"}}),w=Object(n("AeFk").css)({display:"block",color:"var(--ds-text-subtle, #6B778C)",fontSize:"12px",lineHeight:1,marginBottom:"-2px",overflow:"hidden",paddingBottom:"2px",textOverflow:"ellipsis",whiteSpace:"nowrap","&:first-of-type":{color:"var(--ds-text, #091E42)",fontSize:"14px"}}),S={name:"xc6blf",styles:"display:flex;flex-direction:row;flex-wrap:nowrap;padding:10px;height:32px;align-items:center"},k=Object(n("AeFk").css)({display:"inline-block",flex:"initial",width:"32px",[`& .${r}, span[role="img"]`]:{width:"32px",height:"32px",padding:0,maxHeight:"inherit"},'& span[role="img"] > img':{position:"relative",left:"50%",
top:"50%",transform:"translateX(-50%) translateY(-50%)",maxHeight:"32px",maxWidth:"32px",padding:0,display:"block"}}),x={name:"4ig074",styles:"height:78px;padding:10px;display:flex;flex-direction:column;justify-content:space-around"},C={name:"r8ey93",styles:"padding-bottom:7px;display:flex;justify-content:space-between;align-items:flex-end;font-size:12px"},T=Object(n("AeFk").css)({"&&":{color:"var(--ds-text-subtle, #5E6C84)"}}),j={name:"zjik7",styles:"display:flex"},A={name:"1t89zvq",styles:"font-size:11px"},N={name:"t04h3w",styles:"display:flex;justify-content:space-between;padding-bottom:7px"},I=Object(n("AeFk").css)({flex:"1 1 auto",marginRight:"5px",input:{background:"transparent",border:0,outline:"none","&:invalid":{boxShadow:"none"},"&::-ms-clear":{display:"none"}}}),P={name:"ou8xsw",styles:"flex:0 0 auto"},M={name:"9o0thy",styles:"display:flex;flex-direction:column;height:100px;padding:10px"},R=Object(n("AeFk").css)({display:"flex",justifyContent:"space-between",
alignItems:"center",background:"var(--ds-background-neutral, #F4F5F7)",borderRadius:"var(--ds-radius-100, 3px)",padding:"10px"}),_=Object(n("AeFk").css)({h5:{color:"var(--ds-text-subtle, #5E6C84)",paddingBottom:"4px",fontSize:"12px"},img:{maxHeight:"20px",maxWidth:"50px"}}),L={name:"9noowo",styles:"padding-left:4px;img{max-height:40px;max-width:100px;}"},D={name:"n5qme0",styles:"display:flex;justify-content:flex-end;align-items:center;padding-top:10px"},F={name:"udr5k",styles:"align-self:center;margin-left:10px;margin-bottom:10px"},B={name:"k4dmy0",styles:"height:100px;padding:10px;display:flex;flex-direction:column;justify-content:flex-end"},V=Object(n("AeFk").css)({height:"64px",fontSize:"12px","&:first-of-type":{color:"var(--ds-text-subtle, #5E6C84)",lineHeight:"16px"}}),z={name:"zw60t9",styles:"&&{font-size:var(--ds-font-size-075, 12px);font-weight:var(--ds-font-weight-semibold, 600);letter-spacing:-0.003em;line-height:var(--ds-font-lineHeight-100, 16px);}"
},H=Object(n("AeFk").css)({paddingLeft:Object(n("7w+A").gridSize)()/4+"px",color:"var(--ds-text-danger, #DE350B)",fontFamily:Object(n("7w+A").fontFamily)()}),U={name:"zjik7",styles:"display:flex"},W=Object(n("AeFk").css)({display:"flex",height:"40px",alignItems:"center",justifyContent:"space-between",fontSize:"var(--ds-font-size-100, 14px)",img:{maxHeight:"32px",maxWidth:"72px"},".emoji-submit-delete":{width:"84px",fontWeight:"bold",marginRight:"4px"}}),K=Object(n("AeFk").css)({display:"flex",color:"var(--ds-text-danger, #DE350B)",alignItems:"center",justifyContent:"flex-end",paddingRight:"4px"}),$=Object(n("AeFk").css)({display:"flex",color:"var(--ds-text-danger, #FF5630)",paddingRight:"10px",justifyContent:"flex-start"}),q=Object(n("AeFk").css)({display:"inline-flex",color:"var(--ds-text-danger, #DE350B)",paddingRight:"10px",justifyContent:"flex-end",alignItems:"center"}),G={name:"1vnsw82",styles:"max-width:285px"},Y={name:"168k5xt",
styles:"max-width:172px;justify-content:center;font-weight:bold;margin-right:4px;div{display:flex;}"},Q={name:"24o1c1",styles:"max-width:187px;justify-content:center;margin-right:4px;div{display:flex;}"},X={name:"3s4lj9",styles:"max-width:100px"},Z={name:"15lh70q",styles:"margin-right:10px;margin-left:10px"},J={name:"5ej25d",styles:"display:flex;justify-content:flex-end;align-items:center"},ee=Object(n("AeFk").css)({borderRadius:"3px",backgroundColor:"var(--ds-background-inverse-subtle, #505F79)",padding:"0 2px",label:"tooltip-shortcut"})},"+OuI":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));const o=({editorView:e})=>t=>o=>{const{state:r}=e,i=Object(n("Wd+7").a)(t,r);if(!i)return!1;const{tr:s}=r;return Object(n("ifNk").b)({triggerHandler:i,inputMethod:o})(s),e.dispatch(s),!0},r={insertCurrentQueryAsRawText:!1},i=({editorView:e})=>(t=r)=>{const{state:o}=e,i=Object(n("Wd+7").f)(e.state);let s=o.tr;if(t.attachCommand){const e=e=>{s=e}
;t.attachCommand(o,e)}if(Object(n("7jB3").a)(s),t.insertCurrentQueryAsRawText&&i&&i.length>0){const e=Object(n("Wd+7").d)(o).trigger.concat(i);s.replaceSelectionWith(o.schema.text(e))}return e.dispatch(s),e.hasFocus()||e.focus(),!0},s=({editorView:e})=>t=>(r="")=>{const{state:s}=e,a=Object(n("Wd+7").a)(t,s);if(!a)throw new Error(`Handler not found, did you load the ${t} plugin properly`);o({editorView:e})(t)(n("+PNV").f.KEYBOARD),Object(n("3EgI").a)(r)(e.state,e.dispatch);const c={current:r},l={last:a.getItems({query:r,editorState:s}).then((t=>{if(!a.forceSelect)return t;const o=a.forceSelect({items:t,query:r,editorState:s});if(!o)return t;Object(n("rPiI").a)(e)({handler:a,item:o,query:r,mode:n("FOo9").a.SELECTED,sourceListItem:t})}))};return{type:t=>{if(!t)return;c.current+=t,Object(n("3EgI").a)(c.current)(e.state,e.dispatch);const o=a.getItems({query:c.current,editorState:s});return l.last=o,o},result:()=>l.last,close:i({editorView:e}),insert:({index:t,mode:o})=>l.last.then((i=>{
const s=i?i[t]:null;i&&s&&Object(n("rPiI").a)(e)({handler:a,item:s,query:r,mode:o||n("FOo9").a.SELECTED,sourceListItem:i})}))}},a=({editorView:e})=>t=>({contentItem:o,query:r,sourceListItem:i})=>{const{state:s}=e,a=Object(n("Wd+7").a)(t,s);return!!a&&(Object(n("rPiI").a)(e)({handler:a,item:o,mode:n("FOo9").a.SELECTED,query:r,sourceListItem:i}),!0)},c=({editorView:e})=>()=>{if(!Object(n("Wd+7").i)(e.state))return!1;const t=Object(n("Wd+7").d)(e.state);return t||!1},l=({editorView:e})=>()=>Object(n("Wd+7").f)(e.state),d=({editorView:e})=>t=>{const{state:o}=e,r=Object(n("Wd+7").b)({trigger:t,editorState:o});return r||null},u=e=>({findTypeAheadHandler:d({editorView:e}),openTypeAheadHandler:n("ifNk").a}),p=e=>{const t={editorView:e};return{isOpen:c(t),currentQuery:l(t),close:i(t),openMention:o(t)(n("FOo9").b.MENTION),searchMention:s(t)(n("FOo9").b.MENTION),openQuickInsert:o(t)(n("FOo9").b.QUICK_INSERT),searchQuickInsert:s(t)(n("FOo9").b.QUICK_INSERT),openEmoji:o(t)(n("FOo9").b.EMOJI),
searchEmoji:s(t)(n("FOo9").b.EMOJI),insertItemMention:a(t)(n("FOo9").b.MENTION),insertItemEmoji:a(t)(n("FOo9").b.EMOJI),insertItemQuickInsert:a(t)(n("FOo9").b.QUICK_INSERT)}}},"+TPg":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M10.294 9.698a.988.988 0 010-1.407 1.01 1.01 0 011.419 0l2.965 2.94a1.09 1.09 0 010 1.548l-2.955 2.93a1.01 1.01 0 01-1.42 0 .988.988 0 010-1.407l2.318-2.297-2.327-2.307z" fill="inherit"/></g></svg>'},e));i.displayName="ChevronRightCircleIcon";var s=i;t.default=s},"+U5V":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return s})),
n.d(t,"h",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"j",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"m",(function(){return p})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"i",(function(){return b})),n.d(t,"b",(function(){return g}));var o=n("UxO+");const r=(e,t)=>function(n,o,r){return Array.isArray(e)||(e=[e]),!e.some((e=>!e(n,r)))&&(t(n,o,r)||!1)},i=e=>{const{empty:t,$from:o}=e.selection;return t&&(0===o.parentOffset||e.selection instanceof n("WE2A").a)},s=e=>{const{empty:t,$from:o}=e.selection;return t&&(o.end()===o.pos||e.selection instanceof n("WE2A").a)},a=e=>{const{$from:t}=e.selection;return!(t.depth>1)||(e.selection instanceof n("WE2A").a&&0===t.parentOffset||0===t.index(t.depth-1))};function c(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}
const l=(e,t,o,r,i)=>{const{schema:s}=i.doc.type,{code:a}=s.marks;return r.type===a&&Object(n("yg4z").a)(e,t,i),i.doc.nodesBetween(i.mapping.map(e),i.mapping.map(t),((n,s)=>{if(!n.isText)return!0;const a=Math.max(s,i.mapping.map(e)),c=Math.min(s+n.nodeSize,i.mapping.map(t));return o?i.removeMark(a,c,r):i.addMark(a,c,r),!0})),i},d=(e,t,n,o)=>{let r=!0;return t.nodesBetween(n,o,(t=>{if(!r)return!1;t.isText&&r&&(r=e.isInSet(t.marks))})),r},u=(e,t)=>(r,i)=>{const s=e.create(t);if(r.selection instanceof o.TextSelection&&r.selection.$cursor){const e=r.tr;return s.isInSet(r.storedMarks||r.selection.$cursor.marks())?e.removeStoredMark(s):e.addStoredMark(s),!!i&&(i(e),!0)}return(e=>(t,o)=>{const r=t.tr;if(t.selection instanceof n("n1Ll").a){let n=!0;const o=[];t.selection.forEachCell(((r,i)=>{o.push({node:r,pos:i});const s=i,a=i+r.nodeSize;n&&(n=d(e,t.doc,s,a))}));for(let t=o.length-1;t>=0;t--){const i=o[t],s=i.pos,a=s+i.node.nodeSize;l(s,a,n,e,r)}}else{
const{$from:n,$to:o}=t.selection,i=d(e,t.doc,n.pos,o.pos);l(n.pos,o.pos,i,e,r)}return!!r.docChanged&&(o&&o(r),!0)})(s)(r,i)},p=e=>(t,n,o)=>e(t,(e=>{e.scrollIntoView(),n&&n(e)}),o),h=e=>{let t=e;for(;t.pos<t.doc.nodeSize-2&&(t.pos===e.pos||t.parentOffset>0);)t=t.doc.resolve(t.pos+1);return{$pos:t,foundNode:t.pos<t.doc.nodeSize-2}},f=e=>{let t=e;for(;t.pos>0&&(t.pos===e.pos||t.parentOffset<t.parent.nodeSize-2);)t=t.doc.resolve(t.pos-1);return{$pos:t,foundNode:t.pos>0}},m=(e,t,n,r)=>{n.forEach((t=>{let[n,o]=t;e.insert(e.mapping.map(o),n)})),r.forEach((t=>{let[n,o]=t;e.delete(e.mapping.map(n),e.mapping.map(o))})),e.setSelection(new o.TextSelection(t(e)))},b=e=>(t,n)=>(n&&n(t.tr.setSelection(new o.NodeSelection(t.doc.resolve(e)))),!0),g=e=>(t,o,r)=>{const{selection:{$from:{pos:i,parent:s},$head:a,empty:c},tr:l,doc:d}=t,{$pos:u}=h(a),p=d.nodeAt(u.pos-1);return!!(c&&p&&e(p)&&Object(n("x+VZ").h)(s)&&null!=r&&r.endOfTextblock("right"))&&(l.deleteRange(i-1,i+1),o&&o(l),!0)}},
"+WSe":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var o=n("zuKv");const r=n("rJZJ").b,i=o.FabricChannel.editor},"+Z0M":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm8-8h4a1 1 0 010 2h-4a1 1 0 010-2zm0 4h4a1 1 0 010 2h-4a1 1 0 010-2zM6 9h4a1 1 0 011 1v4a1 1 0 01-1 1H6a1 1 0 01-1-1v-4a1 1 0 011-1zm0-4h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorMediaWrapLeftIcon";var s=i;t.default=s},"+lU9":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=(e,t)=>e.getState()[t]||{status:"pending"}},"+ld7":function(e,t,n){"use strict";let o;function r(e){
return-1!==[o.UP,o.LEFT,o.BACKWARD].indexOf(e)}function i(e){return-1!==[o.RIGHT,o.DOWN,o.FORWARD].indexOf(e)}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),function(e){e.UP="up",e.RIGHT="right",e.DOWN="down",e.LEFT="left",e.BACKWARD="backward",e.FORWARD="forward"}(o||(o={}))},"+vXQ":function(e,t,n){e.exports=!n("C61u")&&!n("S4vA")((function(){return 7!=Object.defineProperty(n("BfU5")("div"),"a",{get:function(){return 7}}).a}))},"+w+L":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const o=(e,t)=>{if(e===t)return!0;if(null==e||null==t)return!1;const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;const r=Object.prototype.hasOwnProperty.bind(t);for(let i=0;i<n.length;i++){const o=n[i];if(!r(o))return!1;if(e[o]!==t[o])return!1}return!0},r=(e,t,n=o)=>{if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!n(e[o],t[o]))return!1
;return!0};function i(e,t){let n;return e.descendants((e=>!n&&(!t(e)||(n=e,!1)))),n}},"+yxU":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));const o=e=>t=>{if(!Object(n("GhYq").a)(t,"cell"))return!1;const o=n("wYWE").b.get(t.$anchorCell.node(-1)),r=t.$anchorCell.start(-1),i=o.cellsInRect(e),s=o.cellsInRect(o.rectBetween(t.$anchorCell.pos-r,t.$headCell.pos-r));for(let e=0,n=i.length;e<n;e++)if(-1===s.indexOf(i[e]))return!1;return!0},r=e=>t=>{if(Object(n("GhYq").a)(t,"cell")){const r=n("wYWE").b.get(t.$anchorCell.node(-1));return o({left:e,right:e+1,top:0,bottom:r.height})(t)}return!1},i=e=>t=>{if(Object(n("GhYq").a)(t,"cell")){const r=n("wYWE").b.get(t.$anchorCell.node(-1));return o({left:0,right:r.width,top:e,bottom:e+1})(t)}return!1},s=e=>{if(Object(n("GhYq").a)(e,"cell")){const t=n("wYWE").b.get(e.$anchorCell.node(-1));return o({left:0,right:t.width,top:0,bottom:t.height})(e)}return!1}},
"/7XU":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("lSNA"),r=n.n(o),i=n("MEpN"),s=n("UxO+"),a=n("mG1W");class c{constructor(){r()(this,"listeners",[]),r()(this,"dispatchAnalyticsEvent",(e=>{if(this.eventDispatcher){Object(n("SMi2").b)(this.eventDispatcher)(n("rJZJ").b,{payload:e})}})),r()(this,"getResolvedEditorState",(async()=>{var e;const{useNativeCollabPlugin:t}=this.getFeatureFlags();if(!this.editorView)throw new Error("Called getResolvedEditorState before editorView is ready");if(!t){const e=await this.getValue();if(!e)throw new Error("editorValue is undefined");return{content:e,title:null,stepVersion:-1}}const o=this.editorView;return await Object(n("soJG").c)(o),null===(e=Object(n("9ZfD").a)(o.state))||void 0===e?void 0:e.getFinalAcknowledgedState()}))}static from(e,t,n){const o=new c;return o._privateRegisterEditor(e,t,n),o}_privateGetEditorView(){return this.editorView}_privateGetEventDispatcher(){return this.eventDispatcher}getFeatureFlags(){
return{}}_privateRegisterEditor(e,t,n,o=(()=>({}))){if(this.contentTransformer=n,this.eventDispatcher=t,this.getFeatureFlags=o,!this.editorView&&e)this.editorView=e,this.listeners.forEach((n=>n(e,t)));else if(this.editorView!==e)throw new Error("Editor has already been registered! It's not allowed to re-register editor with the new Editor instance.");this.contentTransformer&&(this.contentEncode=this.contentTransformer.encode.bind(this.contentTransformer))}_privateUnregisterEditor(){this.editorView=void 0,this.contentTransformer=void 0,this.contentEncode=void 0,this.eventDispatcher=void 0,this.getFeatureFlags=()=>({})}_privateSubscribe(e){this.editorView&&this.eventDispatcher&&e(this.editorView,this.eventDispatcher),this.listeners.push(e)}_privateUnsubscribe(e){this.listeners=this.listeners.filter((t=>t!==e))}focus(){if(!this.editorView||this.editorView.hasFocus())return!1;try{this.editorView.focus()}catch(e){0}return this.editorView.dispatch(this.editorView.state.tr.scrollIntoView()),
!0}blur(){return!(!this.editorView||!this.editorView.hasFocus())&&(this.editorView.dom.blur(),!0)}clear(){if(!this.editorView)return!1;const e=this.editorView,{state:t}=e,n=e.state.tr.setSelection(s.TextSelection.create(t.doc,0,t.doc.nodeSize-2)).deleteSelection();return e.dispatch(n),!0}async __temporaryFixForConfigPanel(){const{editorView:e}=this;e&&Object(n("soJG").a)(e)}async getValue(){const{editorView:e}=this;if(!e)return;const t=await Object(n("soJG").c)(e),o=Object(n("D4z0").t)(t);if(!this.contentEncode)return o;const r=i.Node.fromJSON(this.editorView.state.schema,o);return this.contentEncode(r)}getNodeByLocalId(e){var t,o,r;if(null!==(t=this.editorView)&&void 0!==t&&t.state)return null===(o=Object(n("wqCz").b)(null===(r=this.editorView)||void 0===r?void 0:r.state,e))||void 0===o?void 0:o.node}getNodeByFragmentLocalId(e){var t;if(null!==(t=this.editorView)&&void 0!==t&&t.state){var o;let t=Object(n("anr2").a)(null===(o=this.editorView)||void 0===o?void 0:o.state,[e])
;return t.length>0?t[0].node:void 0}}getSelectedNode(){var e,t;if(null!==(e=this.editorView)&&void 0!==e&&null!==(t=e.state)&&void 0!==t&&t.selection){var n;const{selection:e}=this.editorView.state;return e instanceof s.NodeSelection?e.node:null===(n=Object(a.findParentNode)((e=>Boolean(e.type.spec.selectable)))(e))||void 0===n?void 0:n.node}}isDocumentEmpty(){return!this.editorView||Object(n("x+VZ").g)(this.editorView.state.doc)}replaceDocument(e,t=!0,o=!0){return Object(n("IxVf").a)("EditorActions.replaceDocument",{shouldAddToHistory:o},[{property:"shouldAddToHistory",description:"[ED-14158] EditorActions.replaceDocument does not use the shouldAddToHistory arg",type:"removed"}]),!(!this.editorView||null==e)&&(this.eventDispatcher&&this.eventDispatcher.emit("resetEditorState",{doc:e,shouldScrollToBottom:t}),!0)}replaceSelection(e,t){if(!this.editorView)return!1;const{state:o}=this.editorView;if(!e){const e=o.tr.deleteSelection().scrollIntoView();return this.editorView.dispatch(e),!0}
const{schema:r}=o,i=Array.isArray(e)?Object(n("x+VZ").m)(r,e):Object(n("x+VZ").n)(r,e);return!!i&&(this.editorView.dispatch(Object(a.safeInsert)(i,void 0,t)(o.tr).scrollIntoView()),!0)}appendText(e){if(!this.editorView||!e)return!1;const{state:t}=this.editorView,n=t.doc.lastChild;if(n&&n.type!==t.schema.nodes.paragraph)return!1;const o=t.tr.insertText(e).scrollIntoView();return this.editorView.dispatch(o),!0}}},"/97s":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var o=n("pVnL"),r=n.n(o),i=n("lSNA"),s=n.n(i),a=n("q1tI"),c=n.n(a);const l=n("anI9").i+n("anI9").e,d=n("anI9").X+n("anI9").e,u=Object(n("AeFk").css)("position:absolute;right:0;height:calc(100% - ",n("anI9").a,");"),p={name:"k2uqvh",styles:"width:0"
},h=Object(n("AeFk").css)("width:",n("anI9").g,"px;height:100%;transition:width ",500,"ms ",n("anI9").M,";overflow:hidden;box-shadow:inset 2px 0 0 0 ","var(--ds-border, #EBECF0)",";"),f=Object(n("AeFk").css)("transition:width 600ms ",n("anI9").M,";box-sizing:border-box;padding:16px 16px 0px;width:",n("anI9").g,"px;height:100%;overflow-y:auto;");class m extends c.a.PureComponent{constructor(...e){super(...e),s()(this,"state",{mounted:!1,currentPluginContent:void 0}),s()(this,"showPluginContent",(()=>{const{pluginContent:e}=this.props,{currentPluginContent:t}=this.state;if(t)return Object(n("AeFk").jsx)(n("dRu9").e,{timeout:this.state.mounted?500:0,in:!!e,mountOnEnter:!0,unmountOnExit:!0,onExited:()=>this.unsetPluginContent()},t)})),s()(this,"showProvidedContent",(e=>{const{children:t}=this.props;if(t)return Object(n("AeFk").jsx)(n("dRu9").e,{timeout:this.state.mounted?500:0,in:e,mountOnEnter:!0,unmountOnExit:!0},t)}))}static getDerivedStateFromProps(e,t){
return e.pluginContent!==t.currentPluginContent?{...t,currentPluginContent:e.pluginContent}:null}unsetPluginContent(){this.setState({currentPluginContent:void 0})}componentDidMount(){this.setState({mounted:!0})}render(){const{editorWidth:e}=this.props,t=n("anI9").g,o=!!this.props.visible,r=o||!!this.state.currentPluginContent;return Object(n("AeFk").jsx)(n("GxTc").b,null,(({broadcastWidth:i,broadcastPosition:s,positionedOverEditor:a})=>{const c=!!e&&((e,t)=>{const{lineLength:o,containerWidth:r=0,contentBreakoutModes:i}=e,s=!(o&&o>n("anI9").i),a=!i.length&&r>=2*t+l,c=!i.includes("full-width")&&i.includes("wide")&&r>=2*t+d;return s&&(a||c)})(e,t);return i(r?t:0),(c&&r)!==a&&s(c&&r),Object(n("AeFk").jsx)("div",{css:[h,!r&&p,c&&u],"data-testid":"context-panel-panel","aria-labelledby":"context-panel-title",role:"dialog"},Object(n("AeFk").jsx)("div",{"data-testid":"context-panel-content",css:[f,!r&&p]},this.showPluginContent()||this.showProvidedContent(o)))}))}}
m.displayName="SwappableContentArea";class b extends c.a.Component{render(){return Object(n("AeFk").jsx)(n("WdXo").a,{render:e=>{const t=e._privateGetEventDispatcher(),o=e._privateGetEditorView();return t?Object(n("AeFk").jsx)(n("fd7e").a,{eventDispatcher:t,plugins:{contextPanel:n("3FAS").b,widthState:n("IXso").b},render:({contextPanel:e,widthState:t={width:0,containerWidth:0,lineLength:n("anI9").i}})=>{const i=e&&e.contents.find(Boolean),s={...t,contentBreakoutModes:o?Object(n("x+VZ").c)(o.state.doc,o.state.schema):[]};return Object(n("AeFk").jsx)(m,r()({},this.props,{editorView:o,pluginContent:i,editorWidth:s}))}}):Object(n("AeFk").jsx)(m,r()({editorView:o},this.props))}})}}b.displayName="ContextPanel"},"/F7N":function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},"/NTb":function(e,t,n){t.f=n("zBWt")},"/OWP":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return p}))
;var o=n("pVnL"),r=n.n(o),i=n("q1tI"),s=n.n(i),a=n("TSYQ"),c=n.n(a);const l=new(n("UxO+").PluginKey)("gridPlugin"),d=12,u=e=>{const t=Object(n("SMi2").b)(e);return(e,n,o=[])=>t(l,{visible:e,gridType:n,highlight:o})},p=e=>"wrap-left"===e||"wrap-right"===e?"wrapped":"full",h=["left","right"],f=(e,t,n,o)=>{if(!e.length)return!1;const r=e.reduce(((e,t)=>Math.min(e,t))),i=e.reduce(((e,t)=>Math.max(e,t)));return"left"===t?r<0&&r<=-n&&("number"!=typeof o||r>=-(n+o)):i>d&&i>=d+n&&("number"!=typeof o||i<=d+o)},m=(e,t,o,r)=>{const i=[];if(!r)return i;const a=(e*n("anI9").bb-e)/2;return h.forEach((r=>{i.push(s.a.createElement("div",{key:r,className:c()("gridLine",f(o,r,0,4)?"highlight":""),style:{position:"absolute",[r]:`-${a}px`}})),i.push(s.a.createElement("div",{key:r+"-bk",className:c()("gridLine",o.indexOf("full-width")>-1?"highlight":""),style:{position:"absolute",[r]:`-${(t-e-n("anI9").e)/2}px`}}))})),i},b=e=>{const t=[];for(let n=0;n<=d;n++){const o={paddingLeft:"8.333333333333334%"}
;t.push(s.a.createElement("div",{key:n,className:c()("gridLine",e.indexOf(n)>-1?"highlight":""),style:n<d?o:void 0}))}return t};class g extends s.a.Component{render(){const{highlight:e,shouldCalcBreakoutGridLines:t,theme:n,containerElement:o,editorWidth:r,gridType:i,visible:a}=this.props,l=n.layoutMaxWidth;let d=[...b(e),...m(l,r,e,t)];return s.a.createElement("div",{className:"gridParent"},s.a.createElement("div",{className:c()("gridContainer",i),style:{height:`${o.scrollHeight}px`,display:a?"block":"none"}},d))}}g.displayName="Grid";const v=Object(n("zIvK").f)(g);t.b=e=>({name:"grid",contentComponent:({editorView:t})=>s.a.createElement(n("fd7e").a,{plugins:{grid:l,widthState:n("IXso").b},render:({grid:o,widthState:i={width:n("anI9").r}})=>o?s.a.createElement(v,r()({shouldCalcBreakoutGridLines:e&&e.shouldCalcBreakoutGridLines,editorWidth:i.width,containerElement:t.dom},o)):null})})},"/Tf5":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r
})),n.d(t,"b",(function(){return i}));const o="@atlaskit/editor-core",r="182.1.0",i=()=>[Number(r.split(".")[0])+1,0,0].join(".")},"/f6Q":function(e,t,n){"use strict";var o=n("AGgm").isSpace;e.exports=function(e,t,n,r){var i,s,a,c,l=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(42!==(i=e.src.charCodeAt(l++))&&45!==i&&95!==i)return!1;for(s=1;l<d;){if((a=e.src.charCodeAt(l++))!==i&&!o(a))return!1;a===i&&s++}return!(s<3)&&(r||(e.line=t+1,(c=e.push("hr","hr",0)).map=[t,e.line],c.markup=Array(s+1).join(String.fromCharCode(i))),!0)}},"/gRz":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"b",(function(){return d}));const o=e=>Array.from(Array(e).keys()),r=()=>Object(n("dGVe").a)((e=>{const t=Object(n("J/+S").a)(e.tr);if(!t.length)return!1
;const o=Object(n("zYPQ").c)(e.tr.selection);if(!o)return!1;const r=t.map((e=>({pos:e+o.start,start:e+o.start+1,node:o.node.nodeAt(e)}))),i=Object(n("xQCw").a)(r,"warning");return{type:"HOVER_CELLS",data:{decorationSet:Object(n("mKh9").a)(e,i,n("p3BF").c.CELL_CONTROLS_HOVER)}}}),(e=>e.setMeta("addToHistory",!1))),i=(e,t)=>Object(n("dGVe").a)((o=>{const r=Object(n("DgfI").a)(e)(o.tr.selection);if(!r)return!1;const i=Object(n("xQCw").e)(r,"column",o.tr,t);return{type:"HOVER_COLUMNS",data:{decorationSet:Object(n("mKh9").a)(o,i,n("p3BF").c.COLUMN_CONTROLS_HOVER),hoveredColumns:e,isInDanger:t}}}),(e=>e.setMeta("addToHistory",!1))),s=(e,t)=>Object(n("dGVe").a)((o=>{const r=Object(n("Rl6m").a)(e)(o.selection);if(!r)return!1;const i=Object(n("xQCw").e)(r,"row",o.tr,t);return{type:"HOVER_ROWS",data:{decorationSet:Object(n("mKh9").a)(o,i,n("p3BF").c.ROW_CONTROLS_HOVER),hoveredRows:e,isInDanger:t}}}),(e=>e.setMeta("addToHistory",!1))),a=(e,t)=>Object(n("dGVe").a)((r=>{
const i=Object(n("zYPQ").c)(r.selection);if(!i)return!1;const s=n("wYWE").b.get(i.node),a=o(s.width),c=o(s.height),l=Object(n("Rl6m").a)(c)(r.selection);if(!l)return!1;const d=Object(n("xQCw").e)(l,"table",r.tr,e,t);return{type:"HOVER_TABLE",data:{decorationSet:Object(n("mKh9").a)(r,d,n("p3BF").c.TABLE_CONTROLS_HOVER),hoveredColumns:a,hoveredRows:c,isInDanger:e}}}),(e=>e.setMeta("addToHistory",!1))),c=()=>Object(n("dGVe").a)((e=>({type:"CLEAR_HOVER_SELECTION",data:{decorationSet:Object(n("mKh9").a)(e,[],n("p3BF").c.ALL_CONTROLS_HOVER),isInDanger:!1}}))),l=e=>Object(n("dGVe").a)((t=>({type:"SHOW_RESIZE_HANDLE_LINE",data:{decorationSet:Object(n("mKh9").a)(t,Object(n("xQCw").c)(t.selection,e),n("p3BF").c.COLUMN_RESIZING_HANDLE_LINE)}}))),d=()=>Object(n("dGVe").a)((e=>({type:"HIDE_RESIZE_HANDLE_LINE",data:{decorationSet:Object(n("mKh9").a)(e,[],n("p3BF").c.COLUMN_RESIZING_HANDLE_LINE)}})))},"/r+8":function(e,t,n){"use strict";n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return O
})),n.d(t,"b",(function(){return E})),n.d(t,"e",(function(){return w})),n.d(t,"d",(function(){return S})),n.d(t,"f",(function(){return k}));var o=n("MEpN"),r=n("UxO+"),i=n("ABBN"),s=n("mG1W");const a={[n("gu93").c.JOIN_SIBLINGS]:(e,t,o,r)=>{const i=r.node(-1);if(!i.firstChild)return!1;const s=r.before(-1),a=r.after(-1),c=o.pos-1,l=o.pos,d=r.parent.content,u=i.content.cut(i.firstChild.nodeSize);return Object(n("+U5V").e)(e,(e=>e.doc.resolve(c)),[[d,c],[u,l]],[[s,a]]),t&&t(e),!0},[n("gu93").c.JOIN_DESCENDANT_TO_PARENT]:(e,t,o,r)=>{const i=r.node(-2),s=r.node(-1);if(!s.firstChild||!s.lastChild)return!1;const a=r.before(-2),c=r.before(-1),l=o.after(),d=r.after(-2),u=r.after(-1),p=r.start(-2),h=Object(n("EvmU").d)(s.lastChild),f=1===i.childCount&&!h,m=o.pos,b=l,g=p,v=r.parent.content,y=h?s.content.cut(s.firstChild.nodeSize,s.nodeSize-s.lastChild.nodeSize-2):s.content.cut(s.firstChild.nodeSize),O=s.lastChild.content
;return Object(n("+U5V").e)(e,(e=>e.doc.resolve(m)),h?[[v,m],[y,b],[O,g]]:[[v,m],[y,b]],[f?[a,d]:[c,u]]),t&&t(e),!0},[n("gu93").c.JOIN_TO_SIBLING_DESCENDANT]:(e,t,o,r,i)=>{if(!i)return!1;const s=r.node(-1);if(!s.firstChild||!s.lastChild)return!1;const a=r.parent,c=r.before(-1),l=i.after(),d=r.after(-1),u=Object(n("EvmU").d)(s.lastChild),p=i.pos,h=l,f=o.pos-1,m=a.content,b=u?s.content.cut(s.firstChild.nodeSize,s.nodeSize-s.lastChild.nodeSize-2):s.content.cut(s.firstChild.nodeSize),g=s.lastChild.content;return Object(n("+U5V").e)(e,(e=>e.doc.resolve(p)),u?[[m,p],[b,h],[g,f]]:[[m,p],[b,h]],[[c,d]]),t&&t(e),!0}},c=(e,t)=>{const{tr:o,selection:{$head:r}}=e,i=Object(n("+U5V").l)(r);if(!Object(n("+U5V").g)(e))return!1;const c=((e,t,o)=>{const{$pos:r,foundNode:i}=e,s=Object(n("DQ6B").f)(r),a=Object(n("DQ6B").g)(t),c=0===t.index(-1),l=Object(n("DQ6B").f)(t);if(!(i&&s&&a&&c&&l))return!1;if(Object(n("DQ6B").g)(r))return[n("gu93").c.JOIN_DESCENDANT_TO_PARENT,null]
;const d=r.parent.lastChild&&Object(n("EvmU").d)(r.parent.lastChild),u=Object(n("EvmU").e)(r.parent.lastChild);let p,h=o.doc.resolve(r.pos);do{let e=Object(n("+U5V").l)(h);h=e.$pos,p=e.foundNode}while(p&&!h.parent.isTextblock);const f=Object(n("DQ6B").g)(h);return p&&d&&f?[n("gu93").c.JOIN_TO_SIBLING_DESCENDANT,h]:!!u&&[n("gu93").c.JOIN_SIBLINGS,null]})(i,r,o);if(!c)return!1;const{bulletList:l,orderedList:d}=e.schema.nodes,u=Object(s.findParentNodeOfType)([l,d])(o.selection);let p=n("+PNV").c.FORMAT_LIST_BULLET;return u&&u.node.type===d&&(p=n("+PNV").c.FORMAT_LIST_NUMBER),Object(n("SVcB").a)(e,o,{action:n("+PNV").a.LIST_ITEM_JOINED,actionSubject:n("+PNV").b.LIST,actionSubjectId:p,eventType:n("+PNV").e.TRACK,attributes:{inputMethod:n("+PNV").f.KEYBOARD,direction:n("gu93").a.BACKWARD,scenario:c[0]}}),a[c[0]](o,t,i.$pos,r,c[1])},l=({tr:e,$next:t,$head:r})=>{if(r.parent.content.size<1)return Object(n("+U5V").e)(e,(e=>e.doc.resolve(r.pos)),[],[[r.pos-1,r.pos]]),!0
;const i=r.pos,s=e.doc.nodeAt(t.pos-1),a=e.doc.nodeAt(t.pos);if(!s||!a)return!1;const c=a.firstChild;if(!c)return!1;const l=a.lastChild,u=c.firstChild,p=d(a)&&c.childCount<2&&t.nodeAfter,h=!d(a)&&l&&Object(n("EvmU").d)(l),f=[],m=[];if(d(s)&&d(a)&&t.nodeAfter&&m.push([e.mapping.map(t.pos-1),e.mapping.map(t.pos+t.nodeAfter.nodeSize+1)]),h){const n=o.Fragment.from(l.content);f.push([n,e.mapping.map(t.pos)])}if(p||h){m.push([e.mapping.map(t.pos),e.mapping.map(t.pos+a.nodeSize-1)]);const s=o.Fragment.from(c.content);return f.push([s,i]),Object(n("+U5V").e)(e,(e=>e.doc.resolve(r.pos)),f,m),!0}if(a.childCount>1)return f.push([o.Fragment.from(c.content),i]),m.push([e.mapping.map(t.pos+1),e.mapping.map(t.pos+c.nodeSize+1)]),Object(n("+U5V").e)(e,(e=>e.doc.resolve(r.pos)),f,m),!0;if(u&&"hardBreak"===u.type.name){const n=u?u.nodeSize:0;m.push([e.mapping.map(t.pos+2),e.mapping.map(t.pos+2+n)])}else{f.push([o.Fragment.from(c.content),i]);const n=c.nodeSize
;m.push([e.mapping.map(t.pos),e.mapping.map(t.pos+2+n)])}return Object(n("+U5V").e)(e,(e=>e.doc.resolve(r.pos)),f,m),!0},d=e=>1===e.childCount,u=({tr:e,$next:t,$head:o})=>{const r=t.parent,i=t.before(),s=t.after(),a=o.pos,c=r.content;return Object(n("+U5V").e)(e,(e=>e.doc.resolve(a)),[[c,a]],[[i,s]]),!0},p=({tr:e,$next:t,$head:o})=>{const r=t.parent,i=t.nodeAfter;if(!i||!i.lastChild)return!1;const s=i.firstChild;if(!s)return!1;const a=t.before(),c=t.pos,l=o.after(),d=t.after(),u=e.doc.resolve(t.pos+1).after(),p=Object(n("EvmU").d)(i.lastChild),h=1===r.childCount&&!p,f=o.pos,m=l,b=t.pos,g=s.content,v=p?i.content.cut(s.nodeSize,i.nodeSize-i.lastChild.nodeSize-2):i.content.cut(s.nodeSize),y=i.lastChild.content;return Object(n("+U5V").e)(e,(e=>e.doc.resolve(f)),p?[[g,f],[v,m],[y,b]]:[[g,f],[v,m]],[h?[a,d]:[c,u]]),!0},h=({tr:e,$next:t,$head:o})=>{const r=t.parent,i=t.nodeAfter;if(!i)return!1;const s=t.before(),a=t.after(),c=o.end(-1),l=o.pos,d=c,u=i.content,p=r.content.cut(i.nodeSize)
;return Object(n("+U5V").e)(e,(e=>e.doc.resolve(l)),[[u,l],[p,d]],[[s,a]]),!0},f=({tr:e,$next:t,$head:o})=>{const r=t.parent;if(!r.firstChild||!r.lastChild)return!1;const i=t.before(),s=t.before(),a=t.after(),c=Object(n("EvmU").d)(r.lastChild),l=o.pos,d=o.pos+1,u=s-2,p=r.firstChild.content,h=c?r.content.cut(r.firstChild.nodeSize,r.nodeSize-r.lastChild.nodeSize-2):r.content.cut(r.firstChild.nodeSize),f=r.lastChild.content;return Object(n("+U5V").e)(e,(e=>e.doc.resolve(l)),c?[[p,l],[h,d],[f,u]]:[[p,l],[h,d]],[[i,a]]),!0};var m=n("CsC6");const b=({tr:e,nextListNodeType:t})=>{const{selection:o,selection:{from:i,to:a}}=e,{codeBlock:c}=e.doc.type.schema.nodes,l=[];o instanceof r.TextSelection&&o.$cursor||o instanceof n("WE2A").a?l.push(i):e.doc.nodesBetween(i,a,((e,t)=>{if(!e.isLeaf&&(e.type!==c||0!==e.childCount))return!0;l.push(t)})),l.reduce(((t,o)=>{const r=Object(s.findParentNodeClosestToPos)(e.doc.resolve(o),n("EvmU").d);if(!r)return t
;return t.find((e=>e.pos===r.pos&&e.start===r.start&&e.depth===r.depth))||t.push(r),t}),[]).forEach((n=>{e.setNodeMarkup(n.pos,t)}))},g=({tr:e,nextListNodeType:t,nodeRange:n})=>{for(let o=n.endIndex-1;o>=n.startIndex;o--){const r=n.$from.posAtIndex(o,n.depth),i=e.doc.resolve(r+1),s=i.blockRange(i);if(!s)return;const a=Object(m.m)(s,t);if(!s||!a)return;e.wrap(s,a)}};function v(e,t){!function(e,t){return function(r){const{$from:i,$to:s}=r.selection;let a;if(r.selection instanceof n("WE2A").a&&i.nodeAfter&&Object(n("DQ6B").h)(e,r.selection)){const e=i.nodeAfter.nodeSize||1;a=i.blockRange(i.doc.resolve(i.pos+e))}else a=i.blockRange(s);let c=!1,l=a;if(!a)return!1;if(a.depth>=2&&i.node(a.depth-1).type.compatibleContent(e)&&0===a.startIndex){if(0===i.index(a.depth-1))return!1;let e=r.doc.resolve(a.start-2);l=new o.NodeRange(e,e,a.depth),a.endIndex<a.parent.childCount&&(a=new o.NodeRange(i,r.doc.resolve(s.end(a.depth)),a.depth)),c=!0}let d=Object(m.m)(l,e,t,a)
;return!!d&&(r=function(e,t,n,r,i){let s=o.Fragment.empty;for(let u=n.length-1;u>=0;u--)s=o.Fragment.from(n[u].type.create(n[u].attrs,s));e.step(new m.d(t.start-(r?2:0),t.end,t.start,t.end,new o.Slice(s,0,0),n.length,!0));let a=0;for(let o=0;o<n.length;o++)n[o].type===i&&(a=o+1);const c=n.length-a;let l=t.start+n.length-(r?2:0);const d=t.parent;for(let o=t.startIndex,u=t.endIndex,p=!0;o<u;o++,p=!1)!p&&Object(m.k)(e.doc,l,c)&&(e.split(l,c),l+=2*c),l+=d.child(o).nodeSize;return e}(r,a,d,c,e),!0)}}(e)(t),Object(n("kXA1").a)(t,((t,n)=>t.type===n.type&&t.type===e))}const y=e=>(t,r)=>{const{selection:i}=t;if(i.empty){const{$from:a}=i,{listItem:c,codeBlock:l}=t.schema.nodes,d=a.node(a.depth-1);if(d&&d.type===c){if(!Object(n("x+VZ").f)(d))return Object(n("bIcM").a)(n("+PNV").f.KEYBOARD,e)(t,r);if(!Object(s.hasParentNodeOfType)(l)(i))return function(e){return function(t,n){const r=t.selection,i=r.$from,s=r.$to,a=r.node;if(a&&a.isBlock||i.depth<2||!i.sameParent(s))return!1;const c=i.node(-1)
;if(c.type!==e)return!1;if(c.content.content.length<=1&&0===i.parent.content.size&&0!==c.content.size){if(2===i.depth||i.node(-3).type!==e||i.index(-2)!==i.node(-2).childCount-1)return!1;if(n){let r=o.Fragment.empty;const s=i.index(-1)>0;for(let e=i.depth-(s?1:2);e>=i.depth-3;e--)r=o.Fragment.from(i.node(e).copy(r));r=r.append(o.Fragment.from(e.createAndFill()));const a=t.tr.replace(i.before(s?void 0:-1),i.after(-3),new o.Slice(r,s?3:2,2));a.setSelection(t.selection.constructor.near(a.doc.resolve(i.pos+(s?3:2)))),n(a.scrollIntoView())}return!0}const l=s.pos===i.end()?c.contentMatchAt(0).defaultType:void 0,d=t.tr.delete(i.pos,s.pos),u=l&&[void 0,{type:l}];return n&&n(d.split(i.pos,2,u).scrollIntoView()),!0}}(c)(t,r)}}return!1},O=e=>(t,o)=>i.c(c,Object(n("+U5V").c)([n("+U5V").g,n("+U5V").h,n("DQ6B").d],i.c(x,Object(n("bIcM").a)(n("+PNV").f.KEYBOARD,e))),Object(n("+U5V").c)([n("+U5V").g,n("DQ6B").a],C))(t,o),E=(e,t)=>{const{tr:o,selection:{$head:r}}=e,i=Object(n("+U5V").k)(r)
;if(!Object(n("+U5V").f)(e))return!1;const a=((e,t)=>{const{$pos:o,foundNode:r}=e,i=t.parent,s=t.node(-1),a=Object(n("DQ6B").f)(t),c=Object(n("DQ6B").g)(t),d=s&&s.lastChild&&(s.lastChild===i||s.childCount>1&&s.child(s.childCount-2)===i&&Object(n("EvmU").d)(s.lastChild)),m=Object(n("DQ6B").f)(o),b=Object(n("DQ6B").g)(o);if(!a&&c&&m)return[n("gu93").c.JOIN_LIST_ITEM_WITH_PARAGRAPH,l];if(!(r&&a&&c&&d))return!1;if(!m&&b)return[n("gu93").c.JOIN_PARAGRAPH_WITH_LIST,u];if(!m)return!1;const g=o.nodeAfter,v=o.node(-1),y=t.node(-2),O=Object(n("EvmU").c)(o.parent),E=Object(n("EvmU").c)(g),w=g&&E&&Object(n("EvmU").e)(g.firstChild);if(!O&&w)return[n("gu93").c.JOIN_DESCENDANT_TO_PARENT,p];if(!O)return!1;const S=v&&v===y;return!!Object(n("EvmU").e)(g)&&(S?[n("gu93").c.JOIN_SIBLINGS,h]:[n("gu93").c.JOIN_PARENT_SIBLING_TO_PARENT_CHILD,f])})(i,r);if(!a)return!1;const[c,d]=a;if(!d({tr:o,$next:i.$pos,$head:r}))return!1
;const{bulletList:m,orderedList:b}=e.schema.nodes,g=Object(s.findParentNodeOfType)([m,b])(o.selection);let v=n("+PNV").c.FORMAT_LIST_BULLET;return g&&g.node.type===b&&(v=n("+PNV").c.FORMAT_LIST_NUMBER),Object(n("SVcB").a)(e,o,{action:n("+PNV").a.LIST_ITEM_JOINED,actionSubject:n("+PNV").b.LIST,actionSubjectId:v,eventType:n("+PNV").e.TRACK,attributes:{inputMethod:n("+PNV").f.KEYBOARD,direction:n("gu93").a.FORWARD,scenario:c}}),t&&t(o),!0};function w(e,t){return function(i,s){let a=i.tr;const c=Object(n("DQ6B").k)(a),l=i.schema.nodes[t],d="bulletList"===t?n("+PNV").c.FORMAT_LIST_BULLET:n("+PNV").c.FORMAT_LIST_NUMBER;if(c){const{selection:u}=i,p=u instanceof n("WE2A").a||u instanceof r.NodeSelection?1:2,h=u.$from.node(u.$from.depth-p),f=u.$to.node(u.$to.depth-p),v="bulletList"===c.type.name?n("+PNV").c.FORMAT_LIST_BULLET:n("+PNV").c.FORMAT_LIST_NUMBER;if((null==h?void 0:h.type.name)===t&&(null==f?void 0:f.type.name)===t){let t=i.tr;return function(e){const{selection:t}=e,o=((e,t)=>{
const{bulletList:n,orderedList:o,listItem:r}=t;let i;for(let s=e.depth-1;s>0;s--){const t=e.node(s);if(t.type!==n&&t.type!==o||(i=s),t.type!==n&&t.type!==o&&t.type!==r)break}return i})(t.$to,e.doc.type.schema.nodes);e=Object(n("VMKi").a)(t.$to.pos,t.$to.end(o),o||0,e),t instanceof r.NodeSelection||t instanceof n("WE2A").a?Object(n("VMKi").b)(t,e):Object(n("VMKi").c)(t,e)}(t),Object(n("SVcB").a)(i,t,{action:n("+PNV").a.CONVERTED,actionSubject:n("+PNV").b.LIST,actionSubjectId:n("+PNV").c.TEXT,eventType:n("+PNV").e.TRACK,attributes:{...Object(n("2xgt").a)(i),transformedFrom:v,inputMethod:e}}),s&&s(t),!0}!function({tr:e,nextListNodeType:t}){const{doc:r,selection:{$from:i,$to:s}}=e;let a;if(e.selection instanceof n("WE2A").a){var c;const e=(null===(c=i.nodeAfter)||void 0===c?void 0:c.nodeSize)||1;a=i.blockRange(i.doc.resolve(i.pos+e))}else a=i.blockRange(s,n("EvmU").d);if(a)return b({tr:e,nextListNodeType:t});let l=i.blockRange(s);if(!l)return
;const d=l.parent,{startIndex:u,endIndex:p,depth:h}=l;if(!Object(n("ytXc").b)(i))for(let o=u;o<p;o++){const i=l.$from.posAtIndex(o,h),s=r.resolve(i),a=d.child(o),c=s.blockRange(e.doc.resolve(i+a.nodeSize));if(c&&!Object(n("EvmU").d)(a)&&!Object(m.m)(c,t))return}e.doc.nodesBetween(l.start,l.end,((r,i)=>{if(Object(n("ytXc").b)(e.doc.resolve(e.mapping.map(i))))return!1;const s=r;if(!(Object(n("x+VZ").h)(s)||r.type.isBlock&&"paragraph"!==r.type.name)&&l){const n=new o.NodeRange(e.doc.resolve(e.mapping.map(i)),e.doc.resolve(e.mapping.map(i)+s.nodeSize),l.depth);return g({tr:e,nextListNodeType:t,nodeRange:n}),!1}})),b({tr:e,nextListNodeType:t}),e.docChanged&&Object(n("EvmU").f)({tr:e,forceListType:t})}({tr:a,nextListNodeType:l}),Object(n("SVcB").a)(i,a,{action:n("+PNV").a.CONVERTED,actionSubject:n("+PNV").b.LIST,actionSubjectId:d,eventType:n("+PNV").e.TRACK,attributes:{...Object(n("2xgt").a)(i),transformedFrom:v,inputMethod:e}})}else Object(n("RLN1").d)(a,l),v(l,a),Object(n("SVcB").a)(i,a,{
action:n("+PNV").a.INSERTED,actionSubject:n("+PNV").b.LIST,actionSubjectId:d,eventType:n("+PNV").e.TRACK,attributes:{inputMethod:e}});return!!a.docChanged&&(s&&s(a),!0)}}function S(e,t=n("+PNV").f.TOOLBAR){return w(t,"bulletList")(e.state,e.dispatch)}function k(e,t=n("+PNV").f.TOOLBAR){return w(t,"orderedList")(e.state,e.dispatch)}const x=(e,t)=>{const{$from:o}=e.selection,{listItem:r}=e.schema.nodes,i=Object(n("+U5V").d)(o);if(!i||!i.nodeBefore||i.nodeBefore.type!==r)return!1;if(1===i.nodeBefore.childCount&&i.nodeBefore.firstChild.nodeSize<=2){const{tr:n}=e;return t&&t(n.delete(i.pos-i.nodeBefore.nodeSize,o.pos).scrollIntoView()),!0}return!1},C=(e,t)=>{const{$from:i}=e.selection,{paragraph:a,listItem:c,codeBlock:l,bulletList:d,orderedList:u}=e.schema.nodes,p=e.selection instanceof n("WE2A").a,h=p?e.doc.resolve(i.pos+1):i;let f=Object(n("+U5V").d)(h);if(!f)return!1;if(f.nodeBefore&&[d,u].indexOf(f.nodeBefore.type)>-1&&f.nodeAfter&&(f.nodeAfter.type===a||f.nodeAfter.type===l)){
let n=f.doc.resolve(f.pos-1);for(;n.parent.type!==a;)n=e.doc.resolve(n.pos-1);let{tr:l}=e;if(p){const e=Object(s.findPositionOfNodeBefore)(l.selection);if("number"!=typeof e)return!1;const t=f.nodeBefore.copy(f.nodeBefore.content.append(o.Fragment.from(c.createChecked({},f.nodeAfter))));l.replaceWith(e,i.pos+f.nodeAfter.nodeSize,t)}else{const t=(({insertPosition:e,$target:t})=>{var n;const o=e,r=t.pos+((null===(n=t.nodeAfter)||void 0===n?void 0:n.nodeSize)||0),i=t.posAtIndex(0,t.depth+1),s=t.doc.resolve(i).end();return s-i==0?new m.e(o,r,t.doc.slice(e,t.pos)):new m.d(o,r,i,s,t.doc.slice(e,t.pos),0,!0)})({insertPosition:n.pos,$target:f});if(e.tr.maybeStep(t).failed)return!1;l=e.tr.step(t)}let h=l.doc.resolve(l.mapping.map(f.pos+f.nodeAfter.nodeSize));var b;if(h.nodeBefore&&h.nodeAfter&&h.nodeBefore.type===h.nodeAfter.type&&[d,u].indexOf(h.nodeBefore.type)>-1&&(l=l.join(h.pos)),
t)null!==(b=l.doc.resolve(n.pos).nodeBefore)&&void 0!==b&&b.isBlock&&null!==l.doc.resolve(n.pos).nodeBefore||(l=l.setSelection(r.TextSelection.near(l.doc.resolve(l.mapping.map(f.pos)),-1))),t(l.scrollIntoView());return!0}return!1}},"/tXR":function(e,t){t.f=Object.getOwnPropertySymbols},"/x6/":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const o="grammarly-extension, grammarly-popups, [data-grammarly-shadow-root]",r=[{name:"grammarly",fns:{sync:()=>{var e;return Boolean(null===(e=document)||void 0===e?void 0:e.querySelector(o))},async:(e,t)=>{var n;Boolean(null===(n=document)||void 0===n?void 0:n.querySelector(o))&&e();let r=[];const i=()=>{for(const n of r)for(const r of n){var t;if("childList"===(null==r?void 0:r.type)&&null!=r&&null!==(t=r.addedNodes)&&void 0!==t&&t.length){Array.from(r.addedNodes).some((e=>{var t;return null===(t=e.parentElement)||void 0===t?void 0:t.querySelector(o)}))&&e()}}r=[]},s=setInterval((()=>{
"function"==typeof window.requestIdleCallback?window.requestIdleCallback(i):window.requestAnimationFrame(i)}),1e3),a=new MutationObserver((e=>{r.push(e)}));t((()=>{r=[],clearInterval(s),null==a||a.disconnect()})),a.observe(document.documentElement,{childList:!0,subtree:!0})}}}];function i(e){try{const t=((e,t)=>t.filter((t=>e.includes(t.name))).map((e=>({name:e.name,state:{detected:!1},fns:{async:e.fns.async,sync:e.fns.sync}}))))(e.extensions,r);if(!0===e.async){const n=[],o=Promise.all(t.map((e=>new Promise((t=>{const o=()=>{e.state.detected=!0,t()},r=e=>{n.push(e)};"function"==typeof e.fns.async?e.fns.async(o,r):(e.state.detected=!1,t())}))))),r=new Promise((t=>setTimeout(t,e.asyncTimeoutMs,"race_complete")));return Promise.race([o,r]).then((()=>t.filter((e=>e.state.detected)).map((e=>e.name)))).catch((()=>[])).finally((()=>n.map((e=>e()))))}return t.filter((e=>{var t,n;return null===(t=(n=e.fns).sync)||void 0===t?void 0:t.call(n)})).map((e=>e.name))}catch(t){
return e.async?Promise.resolve([]):[]}}},"01nc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12.654 8.764a.858.858 0 01-1.213-1.213l1.214-1.214a3.717 3.717 0 015.257 0 3.714 3.714 0 01.001 5.258l-1.214 1.214-.804.804a3.72 3.72 0 01-5.263.005.858.858 0 011.214-1.214c.781.782 2.05.78 2.836-.005l.804-.803 1.214-1.214a1.998 1.998 0 00-.001-2.831 2 2 0 00-2.83 0l-1.215 1.213zm-.808 6.472a.858.858 0 011.213 1.213l-1.214 1.214a3.717 3.717 0 01-5.257 0 3.714 3.714 0 01-.001-5.258l1.214-1.214.804-.804a3.72 3.72 0 015.263-.005.858.858 0 01-1.214 1.214 2.005 2.005 0 00-2.836.005l-.804.803L7.8 13.618a1.998 1.998 0 00.001 2.831 2 2 0 002.83 0l1.215-1.213z" fill="currentColor"/></svg>'},e))
;i.displayName="EditorLinkIcon";var s=i;t.default=s},"0WpP":function(e,t,n){var o=n("/F7N"),r=Math.min;e.exports=function(e){return e>0?r(o(e),9007199254740991):0}},"0Wv5":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var o=n("DZdY");const r=Object(o.a)("img",{target:"e1ym6i951"})({name:"qg49p3",styles:"height:14px;width:14px;margin-right:4px;border-radius:2px;user-select:none;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)"}),i=Object(o.a)("span",{target:"e1ym6i950"})({name:"a2ctq2",styles:"margin-right:-2px"})},"0ap2":function(e,t,n){"use strict";let o;n.d(t,"a",(function(){return o})),function(e){e.COLOR="color",e.MENU="menu"}(o||(o={}))},"0dhB":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const o={name:"1gno0n1",styles:"display:flex;line-height:0;padding:5px 0;align-items:center"
},r=Object(n("AeFk").css)("display:flex;flex-direction:column;overflow:auto;padding:0;width:",360,"px;line-height:initial;"),i=Object(n("AeFk").css)("width:",420,"px;")},"0f8l":function(e,t){var n={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"};t.base=n;var o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:";",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"};t.shift=o
;for(var r="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),i="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),s="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),a="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),c=r&&(a||+r[1]<57)||s&&a,l=0;l<10;l++)n[48+l]=n[96+l]=String(l);for(l=1;l<=24;l++)n[l+111]="F"+l;for(l=65;l<=90;l++)n[l]=String.fromCharCode(l+32),o[l]=String.fromCharCode(l);for(var d in n)o.hasOwnProperty(d)||(o[d]=n[d]);t.keyName=function(e){var t=!(c&&(e.ctrlKey||e.altKey||e.metaKey)||i&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?o:n)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}},"0jCx":function(e,t,n){"use strict";let o,r;n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),function(e){e.ARROW_RIGHT="rightArrow",
e.ARROW_LEFT="leftArrow",e.ARROW_DOUBLE="doubleArrow"}(o||(o={})),function(e){e.DASH="emDash",e.ELLIPSIS="ellipsis",e.QUOTE_SINGLE="singleQuote",e.QUOTE_DOUBLE="doubleQuote"}(r||(r={}))},"0ryS":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var o={
plugins:["featureFlagsContextPlugin","compositionPlugin","inlineCursorTargetPlugin","typeAhead","typeAheadInsertItem","focusHandlerPlugin","frozenEditor","submitEditor","saveOnEnter","customAutoformatting","newlinePreserveMarksPlugin","imageUpload","imageUploadInputRule","clipboard","paste","pasteKeymap","mention","mentionInputRule","mentionKeymap","emoji","placeholderText","emojiInputRule","emojiKeymap","emojiAsciiInputRule","blockType","quickInsert","tasksAndDecisions","blockTypeInputRule","tasksAndDecisionsInputRule","list","typeAheadKeymap","typeAheadInputRule","date","dateKeymap","indentationKeymap","textColor","alignmentPlugin","listInputRule","listKeymap","codeBlock","codeBlockIDEKeyBindings","codeBlockKeyMap","textFormatting","textFormattingCursor","textFormattingInputRule","textFormattingSmartRule","textFormattingClear","textFormattingKeymap","tasksAndDecisionsKeyMap","expandKeymap","tableSelectionKeymap","tableKeymap","captionKeymap","mediaKeymap","selectionKeymap","gapCursorKeymap","gapCursor","syncUrlText","fakeCursorToolbarPlugin","hyperLink","table","tableDecorations","hyperlinkInputRule","tablePMColResizing","hyperlinkKeymap","tableColResizing","undoRedoKeyMap","blockTypeKeyMap","tableEditing","filterStepsPlugin","pmCollab","collab","ruleInputRule","ruleKeymap","panel","media","mediaSingleKeymap","mediaEditor","unsupportedContent","jiraIssue","fakeTextCursor","helpDialog","helpDialogKeymap","macro","expand","extension","layout","contextPanel","floatingToolbar","clearMarksOnChange","reactNodeView","history","undoRedoPlugin","codeBlockIndent","placeholder","width","maxContentSize","multilineContent","grid","mobileDimensions","scrollGutterPlugin","analytics","findReplace","selection","avatarGroup","viewUpdateSubscription","beforePrimaryToolbar","inlineCode"],
nodes:["doc","paragraph","text","bulletList","orderedList","listItem","heading","blockquote","codeBlock","rule","panel","mention","confluenceUnsupportedBlock","confluenceUnsupportedInline","unsupportedBlock","unsupportedInline","confluenceJiraIssue","hardBreak","emoji","placeholder","mediaSingle","mediaGroup","table","expand","nestedExpand","media","tableHeader","decisionList","tableRow","decisionItem","tableCell","taskList","taskItem","extension","bodiedExtension","inlineExtension","layoutSection","layoutColumn","inlineCard","blockCard","embedCard"],marks:["fragment","link","em","strong","textColor","strike","subsup","underline","code","typeAheadQuery","alignment","breakout","indentation","annotation","dataConsumer","border","unsupportedMark","unsupportedNodeAttribute"]};function r(e){return function(t,n){return o[e].indexOf(t.name)-o[e].indexOf(n.name)}}function i(e){return function(t,n){return o[e].indexOf(t.type.name)-o[e].indexOf(n.type.name)}}},"0unr":function(e,t,n){"use strict"
;function o(e,t){return Object.keys(e).every((function(e){return-1!==t.indexOf(e)}))}var r=function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;n=n.replace("#","").match(/.{2}/g);for(var s=0;s<n.length;s++)n[s]=parseInt(n[s],16);return"rgb"===t?{r:n[0],g:n[1],b:n[2]}:r.convert({conversions:o,operations:r,helpers:i},t,{r:n[0],g:n[1],b:n[2]})},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&a.return&&a.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(e){
if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},c={hex:{test:function(e){return"string"==typeof e&&"#"===e.slice(0,1)},convert:r},rgb:{test:function(e){return o(e,["r","g","b"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"hex":return 1==(y=Math.round(n.r).toString(16)).length&&(y="0"+y),1==(O=Math.round(n.g).toString(16)).length&&(O="0"+O),1==(E=Math.round(n.b).toString(16)).length&&(E="0"+E),"#"+y+O+E;case"cssrgb":return"rgb("+Math.round(n.r)+","+Math.round(n.g)+","+Math.round(n.b)+")";case"hsl":var a=[y=n.r/255,O=n.g/255,E=n.b/255].sort(),c=(a[0]+a[2])/2*100;return a[0]==a[2]?(v=0,g=0):(v=c>=50?(a[2]-a[0])/(2-a[2]-a[0])*100:(a[2]-a[0])/(a[2]+a[0])*100,(g=a[2]==y?(O-E)/(a[2]-a[0])*60:a[2]==O?60*(2+(E-y)/(a[2]-a[0])):60*(4+(y-O)/(a[2]-a[0])))<0?g+=360:g>360&&(g%=360)),{h:g,s:v,l:c};case"csshsl":var l=r.convert({conversions:o,helpers:i},"hsl",n)
;return"hsl("+Math.round(l.h)+","+Math.round(l.s)+"%,"+Math.round(l.l)+"%)";case"cmyk":var d=n.r/255,u=n.g/255,p=n.b/255,h=1-Math.max(d,u,p);if(1!=h)var f=(1-d-h)/(1-h),m=(1-u-h)/(1-h),b=(1-p-h)/(1-h);else f=0,m=0,b=0;return{c:f,m,y:b,k:h};case"hsv":var g,v,y=n.r/255,O=n.g/255,E=n.b/255,w=Math.min(y,O,E),S=Math.max(y,O,E),k=S-w;if(0==k)g=0,v=0;else{v=k/S;var x=((S-y)/6+k/2)/k,C=((S-O)/6+k/2)/k,T=((S-E)/6+k/2)/k;y==S?g=T-C:O==S?g=1/3+x-T:E==S&&(g=2/3+C-x),g<0&&(g+=1),g>1&&(g-=1)}return{h:360*g,s:100*v,v:100*S};case"yiq":b=n.r/255*.299+n.g/255*.587+n.b/255*.114;var j=n.r/255*.596+n.g/255*-.274+n.b/255*-.322,A=n.r/255*.211+n.g/255*-.523+n.b/255*.312;return{y:b,i:j=i.bounded(j,[-.5957,.5957]),q:A=i.bounded(A,[-.5226,.5226])};case"XYZ":var N=[n.r,n.g,n.b].map((function(e){return e/255})).map((function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)})),I=i.getTransform("SRGB_XYZ").map((function(e){return N.reduce((function(t,n,o){return e[o]*n+t}),0)})).map((function(e){return 100*e
})),P=s(I,3);return{X:P[0],Y:P[1],Z:P[2]};case"lms":case"cielab":case"cieluv":case"xyY":var M=r.convert({conversions:o,operations:r,helpers:i},"XYZ",n);return r.convert({conversions:o,operations:r,helpers:i},t,M);case"cielch":var R=r.convert({conversions:o,operations:r,helpers:i},"cieluv",n);return r.convert({conversions:o,operations:r,helpers:i},t,R);case"hsluv":var _=r.convert({conversions:o,operations:r,helpers:i},"cielch",n);return r.convert({conversions:o,operations:r,helpers:i},t,_)}}},cssrgb:{test:function(e){return"string"==typeof e&&"rgb("===e.slice(0,4)},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;n=n.replace(/((rgb\(|\))|[\s]*)/g,"").split(",");for(var s=0;s<n.length;s++)n[s]=parseInt(n[s]);return"rgb"===t?{r:n[0],g:n[1],b:n[2]}:r.convert({conversions:o,operations:r,helpers:i},t,{r:n[0],g:n[1],b:n[2]})}},hsl:{test:function(e){return o(e,["h","s","l"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"rgb":
if(0==n.s){var s=n.l/100*255;return{r:s,g:s,b:s}}var a,c,l;a=n.l>=50?n.l/100+n.s/100-n.l/100*(n.s/100):n.l/100*(1+n.s/100),c=n.l/100*2-a;var d,u,p,h=(.333+(l=n.h/360))%1,f=l,m=i.negMod(l-.333,1);return(d=6*h<1?c+6*(a-c)*h:2*h<1?a:3*h<2?c+6*(.666-h)*(a-c):c)<0&&(d=0),(u=6*f<1?c+6*(a-c)*f:2*f<1?a:3*f<2?c+6*(.666-f)*(a-c):c)<0&&(u=0),(p=6*m<1?c+6*(a-c)*m:2*m<1?a:3*m<2?c+6*(.666-m)*(a-c):c)<0&&(p=0),{r:255*d,g:255*u,b:255*p};case"csshsl":return"hsl("+Math.round(n.h)+","+Math.round(n.s)+"%,"+Math.round(n.l)+"%)";case"hsv":n.s=n.s/100,n.l=n.l/100;var b=n.s*(n.l<.5?n.l:1-n.l);return{h:n.h,s:2*b/(n.l+b)*100,v:100*(n.l+b)};default:var g=r.convert({conversions:o,operations:r,helpers:i},"rgb",n);return r.convert({conversions:o,operations:r,helpers:i},t,g)}}},csshsl:{test:function(e){return"string"==typeof e&&"hsl("===e.slice(0,4)},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;n=n.replace(/(hsl\(|\)|%|[\s]*)/g,"").split(",");for(var s=0;s<n.length;s++)n[s]=parseInt(n[s])
;return"hsl"===t?{h:n[0],s:n[1],l:n[2]}:r.convert({conversions:o,operations:r,helpers:i},t,{h:n[0],s:n[1],l:n[2]})}},hsv:{test:function(e){return o(e,["h","s","v"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"rgb":n.h=n.h/360,n.s=n.s/100,n.v=n.v/100;var s=6*n.h;6==s&&(s=0);var a,c,l,d=Math.round(s),u=n.v*(1-n.s),p=n.v*(1-n.s*(s-d)),h=n.v*(1-n.s*(1-(s-d)));return 0==d?(a=n.v,c=h,l=u):1==d?(a=p,c=n.v,l=u):2==d?(a=u,c=n.v,l=h):3==d?(a=u,c=p,l=n.v):4==d?(a=h,c=u,l=n.v):(a=n.v,c=u,l=p),{r:255*a,g:255*c,b:255*l};case"hsl":return n.h=n.h/360,n.s=n.s/100,n.v=n.v/100,{h:360*n.h,s:100*((2-n.s)*n.v<1?n.s*n.v/((2-n.s)*n.v):n.s*n.v/(2-(2-n.s)*n.v)),l:(2-n.s)*n.v/2*100};default:var f=r.convert({conversions:o,operations:r,helpers:i},"rgb",n);return r.convert({conversions:o,operations:r,helpers:i},t,f)}}},cmyk:{test:function(e){return o(e,["c","m","y","k"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"rgb":return{
r:s=255*(1-n.c)*(1-n.k),g:a=255*(1-n.m)*(1-n.k),b:c=255*(1-n.y)*(1-n.k)};case"cssrgb":var s=255*(1-n.c)*(1-n.k),a=255*(1-n.m)*(1-n.k),c=255*(1-n.y)*(1-n.k);return"rgb("+Math.round(s)+","+Math.round(a)+","+Math.round(c)+")";default:var l=r.convert({conversions:o,operations:r,helpers:i},"rgb",n);return r.convert({conversions:o,operations:r,helpers:i},t,l)}}},yiq:{test:function(e){return o(e,["y","i","q"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;if("rgb"===(n.i=i.bounded(n.i,[-.5957,.5957]),n.q=i.bounded(n.q,[-.5226,.5226]),t)){var s=255*(n.y+.956*n.i+.621*n.q),a=255*(n.y+-.272*n.i+-.647*n.q),c=255*(n.y+-1.106*n.i+-1.703*n.q);return{r:s=i.bounded(s,[0,255]),g:a=i.bounded(a,[0,255]),b:c=i.bounded(c,[0,255])}}var l=r.convert({conversions:o,operations:r,helpers:i},"rgb",n);return r.convert({conversions:o,operations:r,helpers:i},t,l)}},XYZ:{test:function(e){return o(e,["X","Y","Z"])},convert:function(e,t,n){
var o=e.conversions,r=e.operations,i=e.helpers,a=i.getIlluminant("D65");switch(t){case"rgb":var c=[n.X,n.Y,n.Z].map((function(e){return e/100})),l=i.getTransform("INVERSE_SRGB_XYZ").map((function(e){return c.reduce((function(t,n,o){return e[o]*n+t}),0)})).map((function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055})).map((function(e){return 255*e})),d=s(l,3),u=d[0],p=d[1],h=d[2];return i.boundedRgb({r:u,g:p,b:h});case"lms":var f=[n.X,n.Y,n.Z].map((function(e){return e/100})),m=i.getTransform("BRADFORD").map((function(e){return f.reduce((function(t,n,o){return e[o]*n+t}),0)}));return{rho:m[0],gamma:m[1],beta:m[2]};case"cielab":var b=n.X/a.X,g=n.Y/a.Y,v=n.Z/a.Z,y=function(e){return e>.008856?i.cbrt(e):(903.3*e+16)/116},O=y(b),E=y(g);return{L:116*E-16,a:500*(O-E),b:200*(E-y(v))};case"cieluv":var w=n.Y/a.Y,S=w>.008856?116*i.cbrt(w)-16:903.3*w,k=function(e){return 4*e.X/(e.X+15*e.Y+3*e.Z)},x=function(e){return 9*e.Y/(e.X+15*e.Y+3*e.Z)};return{L:S,u:13*S*(k(n)-k(a)),
v:13*S*(x(n)-x(a))};case"xyY":return{x:n.X/(n.X+n.Y+n.Z),y:n.Y/(n.X+n.Y+n.Z),Y:n.Y};default:var C=i.boundedRgb(r.convert({conversions:o,operations:r,helpers:i},"rgb",n));return r.convert({conversions:o,operations:r,helpers:i},t,C)}}},xyY:{test:function(e){return o(e,["x","y","Y"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;if("XYZ"===t){var s=n.Y/n.y*n.x,a=n.Y/n.y*(1-n.x-n.y);return{X:s,Y:n.Y,Z:a}}var c=r.convert({conversions:o,operations:r,helpers:i},"XYZ",n);return r.convert({conversions:o,operations:r,helpers:i},t,c)}},lms:{test:function(e){return o(e,["rho","gamma","beta"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;if("XYZ"===t){var s=[n.rho,n.gamma,n.beta],a=i.getTransform("INVERSE_BRADFORD").map((function(e){return s.reduce((function(t,n,o){return e[o]*n+t}),0)}));return{X:100*a[0],Y:100*a[1],Z:100*a[2]}}var c=r.convert({conversions:o,operations:r,helpers:i},"XYZ",n);return r.convert({conversions:o,operations:r,helpers:i
},t,c)}},cielab:{test:function(e){return o(e,["L","a","b"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;if("XYZ"===t){var s=i.getIlluminant("D65"),a=(n.L+16)/116,c=n.a/500+a,l=a-n.b/200,d=function(e){return Math.pow(e,3)>.008856?Math.pow(e,3):(116*e-16)/903.3},u=d(c),p=d(l),h=n.L>903.3*.008856?Math.pow(a,3):n.L/903.3;return{X:u*s.X,Y:h*s.Y,Z:p*s.Z}}var f=r.convert({conversions:o,operations:r,helpers:i},"XYZ",n);return r.convert({conversions:o,operations:r,helpers:i},t,f)}},cieluv:{test:function(e){return o(e,["L","u","v"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"XYZ":var s=i.getIlluminant("D65"),a=function(e){return 4*e.X/(e.X+15*e.Y+3*e.Z)}(s),c=function(e){return 9*e.Y/(e.X+15*e.Y+3*e.Z)}(s),l=1/3*(52*n.L/(n.u+13*n.L*a)-1),d=n.L>903.3*.008856?Math.pow((n.L+16)/116,3):n.L/903.3,u=-5*d,p=(d*(39*n.L/(n.v+13*n.L*c)-5)-u)/(l- -1/3);return{X:100*p,Y:100*d,Z:100*(p*l+u)};case"cielch":
var h=Math.sqrt(Math.pow(n.u,2)+Math.pow(n.v,2)),f=Math.atan2(n.v,n.u);return f<0&&(f+=2*Math.PI),f=i.toDeg(f),{L:n.L,C:h,h:f};default:var m=r.convert({conversions:o,operations:r,helpers:i},"XYZ",n);return r.convert({conversions:o,operations:r,helpers:i},t,m)}}},cielch:{test:function(e){return o(e,["L","C","h"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"cieluv":var s=i.toRad(n.h),a=n.C*Math.cos(s),c=n.C*Math.sin(s);return{L:n.L,u:a,v:c};case"hsluv":if(n.L>99.9999999)return{hu:n.h,s:0,l:100};if(n.L<1e-8)return{hu:n.h,s:0,l:0};for(var l=(n.L+16)/1560896,d=l>.008856?l:n.L/903.3,u=i.getTransform("INVERSE_SRGB_XYZ"),p=[],h=0;h<3;h++)for(var f=u[h][0],m=u[h][1],b=u[h][2],g=0;g<2;g++){var v=(284517*f-94839*b)*d,y=(838422*b+769860*m+731718*f)*n.L*d-769860*g*n.L,O=(632260*b-126452*m)*d+126452*g;p.push({m:v/O,b:y/O})}var E=Number.MAX_VALUE,w=i.toRad(n.h);p.forEach((function(e){var t=e.b/(Math.sin(w)-e.m*Math.cos(w));t>=0&&(E=Math.min(E,t))}));var S=E
;return{hu:n.h,s:n.C/S*100,l:n.L};default:var k=r.convert({conversions:o,operations:r,helpers:i},"cieluv",n);return r.convert({conversions:o,operations:r,helpers:i},t,k)}}},hsluv:{test:function(e){return o(e,["hu","s","l"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;if("cielch"===t){if(n.L>99.9999999)return{L:100,C:0,h:n.hu};if(n.L<1e-8)return{L:0,C:0,h:n.hu};for(var s=(n.l+16)/1560896,a=s>.008856?s:n.l/903.3,c=i.getTransform("INVERSE_SRGB_XYZ"),l=[],d=0;d<3;d++)for(var u=c[d][0],p=c[d][1],h=c[d][2],f=0;f<2;f++){var m=(284517*u-94839*h)*a,b=(838422*h+769860*p+731718*u)*n.l*a-769860*f*n.l,g=(632260*h-126452*p)*a+126452*f;l.push({m:m/g,b:b/g})}var v=Number.MAX_VALUE,y=i.toRad(n.hu);l.forEach((function(e){var t=e.b/(Math.sin(y)-e.m*Math.cos(y));t>=0&&(v=Math.min(v,t))}));var O=v;return{L:n.l,C:O/100*n.s,h:n.hu}}var E=r.convert({conversions:o,operations:r,helpers:i},"cielch",n);return r.convert({conversions:o,operations:r,helpers:i},t,E)}}},l={
adapt:function(e,t,n,o){var r=e.operations.convert(e,"XYZ",t),i=e.operations.convert(e,"lms",n);if(o)s=e.operations.convert(e,"lms",o);else var s=e.operations.convert(e,"lms",e.helpers.getIlluminant("D65"));var a=e.helpers.getTransform("BRADFORD"),c=e.helpers.getTransform("INVERSE_BRADFORD"),l=[[i.rho/s.rho,0,0],[0,i.gamma/s.gamma,0],[0,0,i.beta/s.beta]],d=e.helpers.matrixMultiply(c,l),u=e.helpers.matrixMultiply(d,a),p=[[r.X],[r.Y],[r.Z]],h=e.helpers.matrixMultiply(u,p),f={X:h[0][0],Y:h[1][0],Z:h[2][0]};return e.helpers.ready(e,f)},adjacent:function(e,t,n,o){for(var r=e.operations.convert(e,"hsl",o),i=[{h:r.h,s:r.s,l:r.l}],s=0;s<n-1;s++)r.h=e.helpers.negMod(r.h+t,360),i.push({h:r.h,s:r.s,l:r.l});return e.helpers.ready(e,i)},brightness:function(e,t,n){var o=e.operations.convert(e,"hsl",n);return o.l+=t,o.l<0?o.l=0:o.l>100&&(o.l=100),e.helpers.ready(e,o)},complementary:function(e,t){var n=e.operations.convert(e,"hsl",t);return n.h=(n.h+180)%360,e.helpers.ready(e,n)},
contrast:function(e,t,n){var o=e.operations.convert(e,"rgb",n);return o.r=255*((o.r/255-.5)*t+.5),o.r<0?o.r=0:o.r>255&&(o.r=255),o.g=255*((o.g/255-.5)*t+.5),o.g<0?o.g=0:o.g>255&&(o.g=255),o.b=255*((o.b/255-.5)*t+.5),o.b<0?o.b=0:o.b>255&&(o.b=255),e.helpers.ready(e,o)},contrastRatio:function(e,t){var n=e.operations.convert(e,"rgb",t);return n=(299*n.r+587*n.g+114*n.b)/1e3>=128?{r:0,g:0,b:0}:{r:255,g:255,b:255},e.helpers.ready(e,n)},convert:function(e,t,n){if(Object.keys(e.conversions).indexOf(t)>-1){n.colour?n=n.colour:n.colours&&(n=n.colours);var o=e.helpers.determineMode(n);return o!=t?e.conversions[o].convert(e,t,n):n}return e.helpers.ready(e,t)},difference:function(e,t,n,o,r){o=o||1,r=r||1
;var i=e.operations.convert(e,"cielab",t),s=e.operations.convert(e,"cielab",n),a=Math.sqrt(Math.pow(i.a,2)+Math.pow(i.b,2)),c=a-Math.sqrt(Math.pow(s.a,2)+Math.pow(s.b,2)),l=i.L-s.L,d=i.a-s.a,u=i.b-s.b,p=Math.sqrt(Math.pow(d,2)+Math.pow(u,2)-Math.pow(c,2)),h=i.L<16?.511:.040975*i.L/(1.01765*i.L),f=.0638*a/(1.0131*a),m=Math.atan2(i.b,i.a),b=m>=0?m:m+360,g=164<=b&&b<=345?.56+Math.abs(.2*Math.cos(e.helpers.toRad(b+168))):.36+Math.abs(.4*Math.cos(e.helpers.toRad(b+35))),v=Math.pow(a,4)/(Math.pow(a,4)+1900),y=f*(v*g+1-v),O=Math.pow(l/(o*h),2);return Math.pow(c/(r*f),2),Math.pow(p/y,2),Math.sqrt(O+O+O)},fade:function(e,t,n,o){var r=e.operations.convert(e,"rgb",n),i=e.operations.convert(e,"rgb",o),s=[r];t-=1;for(var a=(i.r-r.r)/t,c=(i.g-r.g)/t,l=(i.b-r.b)/t,d={r:r.r,g:r.g,b:r.b},u=0;u<t-1;u++)d.r=e.helpers.slopeMod(d.r+a,255),d.g=e.helpers.slopeMod(d.g+c,255),d.b=e.helpers.slopeMod(d.b+l,255),s.push({r:d.r,g:d.g,b:d.b});return s.push(i),e.helpers.ready(e,s)},greyscale:function(e,t){
var n=e.operations.convert(e,"rgb",t),o=(n.r+n.g+n.b)/3;return n={r:o,g:o,b:o},e.helpers.ready(e,n)},hue:function(e,t,n){var o=e.operations.convert(e,"hsl",n);return o.h=e.helpers.negMod(o.h+t,360),e.helpers.ready(e,o)},invert:function(e,t){var n=e.operations.convert(e,"rgb",t);return n.r=e.helpers.negMod(255-n.r,255),n.g=e.helpers.negMod(255-n.g,255),n.b=e.helpers.negMod(255-n.b,255),e.helpers.ready(e,n)},invertLightness:function(e,t){var n=e.operations.convert(e,"hsl",t);return n.l=100-n.l,e.helpers.ready(e,n)},mid:function(e,t,n){var o=e.operations.convert(e,"hsl",t),r=e.operations.convert(e,"hsl",n),i={h:(o.h+r.h)/2,s:(o.s+r.s)/2,l:(o.l+r.l)/2};return e.helpers.ready(e,i)},multiply:function(e,t,n){var o=e.operations.convert(e,"hsl",t),r=e.operations.convert(e,"hsl",n),i={h:o.h,s:o.s,l:o.l/100*(r.l/100)*100};return i.l=i.l>100?100:i.l,i.l=i.l<0?0:i.l,e.helpers.ready(e,i)},saturation:function(e,t,n){var o=e.operations.convert(e,"hsl",n);return o.s+=t,o.s<0?o.s=0:o.s>100&&(o.s=100),
e.helpers.ready(e,o)},sepia:function(e,t){var n=e.operations.convert(e,"rgb",t),o={};return o.r=.393*n.r+.769*n.g+.189*n.b,o.g=.349*n.r+.686*n.g+.168*n.b,o.b=.272*n.r+.534*n.g+.131*n.b,e.helpers.ready(e,o)},shade:function(e,t,n){var o=e.operations.convert(e,"hsv",n);return o.v+=t,o.v<0?o.v=0:o.v>100&&(o.v=100),e.helpers.ready(e,o)},temperature:function(e,t){var n=e.operations.convert(e,"xyY",t),o=(n.x-.332)/(n.y-.1858);return-449*Math.pow(o,3)+3525*Math.pow(o,2)-6823.3*o+5520.33},tetrad:function(e,t){for(var n=e.operations.convert(e,"hsl",t),o=[{h:n.h,s:n.s,l:n.l}],r=0;r<3;r++)n.h=(n.h+90)%360,o.push({h:n.h,s:n.s,l:n.l});return e.helpers.ready(e,o)},triad:function(e,t){for(var n=e.operations.convert(e,"hsl",t),o=[{h:n.h,s:n.s,l:n.l}],r=0;r<2;r++)n.h=(n.h+120)%360,o.push({h:n.h,s:n.s,l:n.l});return e.helpers.ready(e,o)}},d={ILLUMINANTS:{A:{X:1.0985*100,Y:100,Z:35.585},B:{X:99.072,Y:100,Z:85.223},C:{X:98.074,Y:100,Z:118.232},D50:{X:96.422,Y:100,Z:82.521},D55:{X:95.682,Y:100,Z:92.149},
D65:{X:95.047,Y:100,Z:108.883},D75:{X:94.972,Y:100,Z:122.638},E:{X:100,Y:100,Z:100},F2:{X:.99186*100,Y:100,Z:67.393},F7:{X:95.041,Y:100,Z:108.747},F11:{X:1.00962*100,Y:100,Z:64.35}},TRANSFORMS:{BRADFORD:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],INVERSE_BRADFORD:[[.9869929,-.1470543,.1599627],[.4323053,.5183603,.0492912],[-.0085287,.0400428,.9684867]],SRGB_XYZ:[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],INVERSE_SRGB_XYZ:[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]]}},u=function(e,t,n){var o=Object.keys(e.operations).reduce((function(t,o){var r=e.operations[o];return t[o]=function(){for(var t=arguments.length,o=Array(t),s=0;s<t;s++)o[s]=arguments[s];var c=o.slice(0).map((function(e){return"object"===(void 0===e?"undefined":i(e))?Object.assign({},e):e}));return n&&n.colours?function t(n){var o=n.map((function(n){if(Array.isArray(n)){var o=t(n);return o.colours||o.colour}var s=r.apply(void 0,[e].concat(a(c),[n]))
;return"object"===(void 0===s?"undefined":i(s))?s.colours||s.colour:s}));return"number"!=typeof o[0]?e.helpers.ready(e,o):o}(n.colours):r.apply(void 0,[e].concat(a(c),[n?n.colour:void 0]))},t}),{});return n||(o=Object.assign(o,t)),o},p={getIlluminant:function(e){return d.ILLUMINANTS[e]},getTransform:function(e){return d.TRANSFORMS[e]},matrixMultiply:function(e,t){for(var n=[],o=0;o<e.length;o++){n[o]=[];for(var r=0;r<t[0].length;r++){for(var i=0,s=0;s<e[0].length;s++)i+=e[o][s]*t[s][r];n[o][r]=i}}return n},cbrt:function(e){if(Math.cbrt)return Math.cbrt(e);var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t},toRad:function(e){return e*(Math.PI/180)},toDeg:function(e){return e*(180/Math.PI)},negMod:function(e,t){return(e%t+t)%t},slopeMod:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return e>2*t?slopeMod(e-2*t,t):e>t?2*t-e:e<0?slopeMod(e+2*t,t):e})),bounded:function(e,t){return e<t[0]?e=t[0]:e>t[1]&&(e=t[1]),e},
boundedRgb:function(e){var t=this,n=function(e){return t.bounded(e,[0,255])};return{r:n(e.r),g:n(e.g),b:n(e.b)}},determineMode:function(e){for(var t in c)if(c.hasOwnProperty(t)&&c[t].test(e))return t;return null},ready:function(e,t){var n=e.conversions,o=e.operations,r=e.helpers,i={};switch(Object.prototype.toString.call(t)){case"[object Object]":case"[object String]":for(var s in i.colour=t,n)n.hasOwnProperty(s)&&function(e){Object.defineProperty(i,e,{get:function(){return r.determineMode(t),o.convert({conversions:n,operations:o,helpers:r},e,t)},enumerable:!0})}(s);return Object.assign(i,u({conversions:n,operations:o,helpers:r},d,i));case"[object Array]":for(var a in i.colours=t,n)n.hasOwnProperty(a)&&function(e){Object.defineProperty(i,e,{get:function(){return function t(i){return i.map((function(i){return Array.isArray(i)?t(i):o.convert({conversions:n,operations:o,helpers:r},e,i)}))}(t)},enumerable:!0})}(a);return Object.assign(i,u({conversions:n,operations:o,helpers:r},d,i))
;default:return null}}},h=u({conversions:c,operations:l,helpers:p},d);t.a=h},"11sg":function(e,t,n){"use strict";function o(e,t,n=1){if(!e.colspan)throw new Error("removeColSpan(): attrs.colspan not defined");const o={...e,colspan:e.colspan-n};return o.colwidth&&(o.colwidth=o.colwidth.slice(),o.colwidth.splice(t,n),o.colwidth.some((e=>e>0))||(o.colwidth=void 0)),o}function r(e){if(void 0===e.colspan)throw new Error("addColSpan: attrs.colspan is not defined");if("number"!=typeof e.colspan||Number.isNaN(e.colspan)||e.colspan<1)throw new Error(`addColSpan: attrs.colspan must be number >= 1, received: ${e.colspan}`)}function i(e,t,n=1){r(e);const o={...e,colspan:e.colspan+n};if(o.colwidth){o.colwidth=o.colwidth.slice();for(let e=0;e<n;e++)o.colwidth.splice(t,0,0)}return o}n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},"13wO":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),
n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return h}));var o=n("UxO+");var r=n("mG1W");function i(e,{map:t,tableStart:o,table:r},i){let s=o;for(let n=0;n<i;n++)s+=r.child(n).nodeSize;const a=[];let c=i>0?-1:0;(function(e,t,o){const r=Object(n("p81E").a)(t.type.schema).header_cell;for(let n=0;n<e.width;n++){const i=t.nodeAt(e.map[n+o*e.width]);if(i&&i.type!==r)return!1}return!0})(t,r,i+c)&&(c=0===i||i===t.height?null:0);for(let d=0,u=t.width*i;d<t.width;d++,u++)if(i>0&&i<t.height&&t.map[u]===t.map[u-t.width]){const n=t.map[u],i=r.nodeAt(n);if(!i)throw new Error(`addRow: node not found at pos ${n}`);const{attrs:s}=i;e.setNodeMarkup(o+n,void 0,{...s,rowspan:s.rowspan+1}),d+=s.colspan-1}else{let e;if(null==c)e=Object(n("p81E").a)(r.type.schema).cell;else{const n=t.map[u+c*t.width],o=r.nodeAt(n);if(!o)throw new Error(`addRow: invalid node at mapped pos ${n}`);e=o.type}a.push(e.createAndFill())}
const l=Object(n("p81E").a)(r.type.schema).row.create(null,a);return e.insert(s,l),e}const s=(e,t)=>o=>{let r=[];const i=Object(n("Rl6m").a)(e)(o.selection);if(i)for(let e=i.length-1;e>=0;e--)t(i[e],o)&&r.push(i[e]);return r},a=(e,t)=>o=>{const a=Object(n("zYPQ").c)(o.selection);if(a){const c=n("wYWE").b.get(a.node),l=e-1;if(t&&l>=0)return Object(n("oSJA").a)((e=>t=>{const o=Object(n("zYPQ").c)(t.selection);if(o){const i=n("wYWE").b.get(o.node);if(e>=0&&e<=i.height){const a=o.node,c=Object(n("p81E").a)(a.type.schema);let l=o.start;for(let t=0;t<e+1;t++)l+=a.child(t).nodeSize;const d=a.child(e);let u=[],p=0;if(d.forEach((e=>{if(1===e.attrs.rowspan){p+=e.attrs.colspan;const t=c[e.type.spec.tableRole].createAndFill(e.attrs,[],e.marks);t&&u.push(t)}})),p<i.width){let o=[];for(let n=e;n>=0;n--){let r=s(n,((t,o)=>{const r=t.node.attrs.rowspan;return r>1&&n+r>e}))(t);o.push(...r)}o.length&&o.forEach((e=>{t=Object(n("x8g9").a)(e,{rowspan:e.node.attrs.rowspan+1})(t)}))}
return Object(r.safeInsert)(c.row.create(d.attrs,u),l)(t)}}return t})(l)(o));if(e>=0&&e<=c.height)return Object(n("oSJA").a)(i(o,{map:c,tableStart:a.start,table:a.node},e))}return o};function c(e){return(t,o=!1,r)=>i=>{let s=i;s=o?function(e){return t=>{const o=Object(n("zYPQ").c)(t.selection);return o?t.step(n("sgbj").a.create(t.doc,o.pos,e)):t}}(t)(s):(e=>t=>{const o=Object(n("zYPQ").c)(t.selection);if(o){const r=n("wYWE").b.get(o.node);if(e>=0&&e<=r.width)return Object(n("oSJA").a)(Object(n("3ILy").a)(t,{map:r,tableStart:o.start,table:o.node},e))}return t})(t)(s);const a=Object(n("zYPQ").c)(s.selection);return a&&(s=Object(n("Bo8Z").a)(e)(a,r)(s)),s}}const l=e=>(t,o,r)=>{if(!Object(n("zYPQ").c)(t.selection))return!1;if(o){let i=Object(n("gtpc").a)(t);o(c(e)(i.left,Object(n("mk3z").a)(t),r)(t.tr))}return!0},d=e=>(t,o,r)=>{if(!Object(n("zYPQ").c)(t.selection))return!1;if(o){let i=Object(n("gtpc").a)(t);o(c(e)(i.right,Object(n("mk3z").a)(t),r)(t.tr))}return!0},u=e=>t=>(r,i,s)=>{
let a=c(e)(t,Object(n("mk3z").a)(r),s)(r.tr);const l=Object(n("zYPQ").c)(a.selection);if(!l)return!1;const d=n("wYWE").b.get(l.node).positionAt(0,t,l.node);return i&&i(a.setSelection(o.Selection.near(a.doc.resolve(l.start+d)))),!0},p=(e,t)=>(r,i)=>{const s=Object(n("r/3z").b)(r.selection);if(0===e&&s)return!1;const c=s&&e>1||!s&&e>0?Object(n("VnTS").a)(r.schema)(e)(r.tr):a(e)(r.tr),l=Object(n("zYPQ").c)(c.selection);if(!l)return!1;if(i){const{selection:s}=r;if(t){const t=n("wYWE").b.get(l.node).positionAt(e,0,l.node);c.setSelection(o.Selection.near(c.doc.resolve(l.start+t)))}else c.setSelection(s.map(c.doc,c.mapping));i(c)}return!0},h=()=>(e,t)=>{const o=Object(n("H1L9").a)({schema:e.schema});return t&&t(Object(r.safeInsert)(o)(e.tr).scrollIntoView()),!0}},"147O":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),s=n.n(i);class a extends s.a.PureComponent{constructor(...e){super(...e),r()(this,"isMounted",!1),r()(this,"state",{
MediaInlineCard:a.MediaInlineCard,ErrorBoundary:a.ErrorBoundary})}async componentDidMount(){if(this.isMounted=!0,!this.state.MediaInlineCard)try{const[e,t,o]=await Promise.all([n.e("@atlaskit-internal_media-client").then(n.bind(null,"/Sn5")),n.e("@atlaskit-internal_inline-media-card").then(n.bind(null,"7A0d")),n.e("@atlaskit-internal_media-inline-error-boundary").then(n.bind(null,"dkBw"))]);a.MediaInlineCard=e.withMediaClient(t.MediaInlineCard),a.ErrorBoundary=o.default,this.isMounted&&this.setState({MediaInlineCard:a.MediaInlineCard,ErrorBoundary:a.ErrorBoundary})}catch(e){}}async componentWillUnmount(){this.isMounted=!1}render(){const{MediaInlineCard:e,ErrorBoundary:t}=this.state;return e&&t?s.a.createElement(t,null,s.a.createElement(e,this.props)):s.a.createElement(n("Zh7B").a,{message:""})}}a.displayName="MediaInlineCardLoader",r()(a,"displayName","MediaInlineCardLoader")},"183E":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return r})),
n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));const o=e=>e===n("WE2A").c.LEFT;const r=(e,t,n,o)=>{let r=n,i=-1===o?r.nodeBefore:r.nodeAfter;if(i&&(i.isTextblock||i.isText))return!0;for(;r.depth>0;){if(r=e.resolve(-1===o?r.before():r.after()),!r)return!1;if(i=(-1===o?r.nodeBefore:r.nodeAfter)||r.parent,!i||i.type===t.nodes.doc)return!1;if(i.isTextblock)return!0}let s=i;for(;s&&s.firstChild;)if(s=s.firstChild,s&&(s.isTextblock||s.isText))return!0;return!1};function i(e){let t;return e.attrs.layout&&(t=e.attrs.layout),e.marks&&e.marks.length&&(t=(e.marks.find((e=>"breakout"===e.type.name))||{attrs:{mode:""}}).attrs.mode),-1===["wide","full-width"].indexOf(t)?"":t}const s=e=>{if("BUTTON"===e.nodeName||e.closest("button"))return!0;if(e.closest('[data-id="caption-placeholder"]'))return!0;let t,o=e;for(;o;){if(o.className&&(o.getAttribute("class")||"").indexOf(n("9ehW").a.TABLE_CONTAINER)>-1){t=o;break}o=o.parentNode}if(t){
const o=t.querySelector(`.${n("9ehW").a.TABLE_ROW_CONTROLS_WRAPPER}`),r=e&&e.classList&&e.classList.contains(n("9ehW").a.TABLE_COLUMN_CONTROLS_DECORATIONS);return o&&o.contains(e)||r}return!!e.closest(`.${n("1BIu").a.BLOCK_CONTAINER}`)}},"1BIu":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));const o={BLOCK_CONTAINER:"unsupportedBlockView-content-wrap",INLINE_CONTAINER:"unsupportedInlineView-content-wrap"},r=`.${o.INLINE_CONTAINER} > span:nth-of-type(2)`,i=`.${o.BLOCK_CONTAINER} > div`,s=Object(n("AeFk").css)(i,",",r,"{cursor:pointer;}.",n("anI9").H,i,",.",n("anI9").H,r,"{",Object(n("zrlP").a)([n("5iLT").a.Background,n("5iLT").a.Border]),";}.danger{.",n("anI9").H,i,",.",n("anI9").H,r,"{border:",n("anI9").F,"px solid ",`var(--ds-border-danger, ${n("anI9").l})`,";background-color:",`var(--ds-blanket-danger, ${n("anI9").k})`,";}}")},"1GvH":function(e,t,n){n("5w6Y"),e.exports=n("VSTI").Object.keys},"1M3H":function(e,t,n){"use strict"
;e.exports=n("CK61")},"1dGX":function(e,t,n){"use strict";t.Any=n("y8fO"),t.Cc=n("p7ys"),t.Cf=n("b9EY"),t.P=n("fKCf"),t.Z=n("T8I8")},"1nBO":function(e,t,n){"use strict";var o=n("AGgm").normalizeReference,r=n("AGgm").isSpace;e.exports=function(e,t,n,i){var s,a,c,l,d,u,p,h,f,m,b,g,v,y,O,E,w=0,S=e.bMarks[t]+e.tShift[t],k=e.eMarks[t],x=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(S))return!1;for(;++S<k;)if(93===e.src.charCodeAt(S)&&92!==e.src.charCodeAt(S-1)){if(S+1===k)return!1;if(58!==e.src.charCodeAt(S+1))return!1;break}for(l=e.lineMax,O=e.md.block.ruler.getRules("reference"),m=e.parentType,e.parentType="reference";x<l&&!e.isEmpty(x);x++)if(!(e.sCount[x]-e.blkIndent>3||e.sCount[x]<0)){for(y=!1,u=0,p=O.length;u<p;u++)if(O[u](e,x,l,!0)){y=!0;break}if(y)break}for(k=(v=e.getLines(t,x,e.blkIndent,!1).trim()).length,S=1;S<k;S++){if(91===(s=v.charCodeAt(S)))return!1;if(93===s){f=S;break}(10===s||92===s&&++S<k&&10===v.charCodeAt(S))&&w++}
if(f<0||58!==v.charCodeAt(f+1))return!1;for(S=f+2;S<k;S++)if(10===(s=v.charCodeAt(S)))w++;else if(!r(s))break;if(!(b=e.md.helpers.parseLinkDestination(v,S,k)).ok)return!1;if(d=e.md.normalizeLink(b.str),!e.md.validateLink(d))return!1;for(a=S=b.pos,c=w+=b.lines,g=S;S<k;S++)if(10===(s=v.charCodeAt(S)))w++;else if(!r(s))break;for(b=e.md.helpers.parseLinkTitle(v,S,k),S<k&&g!==S&&b.ok?(E=b.str,S=b.pos,w+=b.lines):(E="",S=a,w=c);S<k&&(s=v.charCodeAt(S),r(s));)S++;if(S<k&&10!==v.charCodeAt(S)&&E)for(E="",S=a,w=c;S<k&&(s=v.charCodeAt(S),r(s));)S++;return!(S<k&&10!==v.charCodeAt(S))&&(!!(h=o(v.slice(1,f)))&&(i||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[h]&&(e.env.references[h]={title:E,href:d}),e.parentType=m,e.line=t+w+1),!0))}},"1rMa":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf")
;const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 17h10a1 1 0 010 2H7a1 1 0 010-2zM4 5h16a1 1 0 011 1v8a1 1 0 01-1 1H4a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorMediaFullWidthIcon";var s=i;t.default=s},"1v/Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("ABBN");const r=e=>{const{em:t,code:r,strike:i,strong:s,subsup:a,underline:c}=e.schema.marks,l={};if(r&&(l.codeActive=Object(n("lf5m").a)(e,r.create()),l.codeDisabled=!Object(o.h)(r)(e)),t&&(l.emActive=Object(n("lf5m").a)(e,t),l.emDisabled=!!l.codeActive||!Object(o.h)(t)(e)),i&&(l.strikeActive=Object(n("lf5m").a)(e,i),l.strikeDisabled=!!l.codeActive||!Object(o.h)(i)(e)),s&&(l.strongActive=Object(n("lf5m").a)(e,s),l.strongDisabled=!!l.codeActive||!Object(o.h)(s)(e)),a){const t=a.create({type:"sub"}),r=a.create({type:"sup"})
;l.subscriptActive=Object(n("lf5m").a)(e,t),l.subscriptDisabled=!!l.codeActive||!Object(o.h)(a,{type:"sub"})(e),l.superscriptActive=Object(n("lf5m").a)(e,r),l.superscriptDisabled=!!l.codeActive||!Object(o.h)(a,{type:"sup"})(e)}return c&&(l.underlineActive=Object(n("lf5m").a)(e,c),l.underlineDisabled=!!l.codeActive||!Object(o.h)(c)(e)),l},i=e=>new(n("KkS8").a)({state:{init:(e,t)=>r(t),apply(t,o,i,s){const a=r(s);return Object(n("D4z0").r)(o,a)?o:(e(n("6VYC").a,a),a)}},key:n("6VYC").a,props:{handleKeyDown(e,t){const{state:o,dispatch:r}=e;return t.key!==n("QNHL").I.common||t.metaKey?t.key===n("QNHL").H.common&&!t.metaKey&&n("Nvcy").b()(o,r):n("Nvcy").c()(o,r)},handleTextInput(e,t,o,r){const{state:i,dispatch:s}=e,{schema:a,selection:{$from:{parent:{type:c}}}}=i;return!!c.allowsMarkType(a.marks.code)&&Object(n("Nvcy").a)(t,o,r)(i,s)}}})},"1vCU":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o);const i={danger:{default:{light:"inherit",dark:"inherit"},hover:{
light:"var(--ds-background-neutral-subtle-hovered, rgba(9, 30, 66, 0.08))",dark:"var(--ds-background-neutral-subtle-hovered, rgba(9, 30, 66, 0.08))"},active:{light:`var(--ds-background-neutral-pressed, ${Object(n("5ABH").u)("#B3D4FF",.6)})`,dark:`var(--ds-background-neutral-pressed, ${Object(n("5ABH").u)("#B3D4FF",.6)})`}}},s={danger:{default:{light:"var(--ds-icon, #505F79)",dark:"var(--ds-icon, #9FB0CC)"},hover:{light:"var(--ds-icon-danger, #DE350B)",dark:"var(--ds-icon-danger, #DE350B)"},active:{light:"var(--ds-icon-danger, #DE350B)",dark:"var(--ds-icon-danger, #DE350B)"}}},a=(e,{appearance:t="default",state:n="default",mode:o="light"})=>e[t]&&e[t][n]?e[t][n][o]:"initial",c={"&&":{padding:"0px","&&[href]":{padding:"0 2px"}},"& > span":{margin:"0px"}},l=e=>({background:a(i,e),color:a(s,e)})
;t.a=({title:e,icon:t,iconAfter:o,onClick:i,onKeyDown:s,onMouseEnter:a,onMouseLeave:d,onFocus:u,onBlur:p,selected:h,disabled:f,href:m,target:b,appearance:g="subtle",children:v,className:y,tooltipContent:O,testId:E,hideTooltipOnClick:w=!0,ariaHasPopup:S,tabIndex:k,areaControls:x,ariaLabel:C})=>{const T=(t||o)&&!v?c:{};return r.a.createElement(n("Yto1").a,{content:O||e,hideTooltipOnClick:w,position:"top"},r.a.createElement("div",{onMouseEnter:a,onMouseLeave:d},r.a.createElement(n("0+Gd").a,{className:y,theme:(e,t)=>{const{buttonStyles:n,...o}=e(t);return{buttonStyles:{...n,...T,..."danger"===g&&l({appearance:g,state:t.state,mode:t.mode})},...o}},"aria-label":C||e,"aria-pressed":S?void 0:h,"aria-expanded":S?h:void 0,"aria-controls":S?x:void 0,spacing:"compact",href:m,target:b,appearance:g,"aria-haspopup":S,iconBefore:t||void 0,iconAfter:o,onClick:i,onKeyDown:s,isSelected:h,isDisabled:f,testId:E,onFocus:u,onBlur:p,tabIndex:k},v)))}},"28p1":function(e,t,n){"use strict"
;n.d(t,"a",(function(){return T}));var o=n("lSNA"),r=n.n(o),i=n("EcEN");let s,a,c,l,d,u;!function(e){e[e.EXPERIENCE_PAYLOAD=0]="EXPERIENCE_PAYLOAD",e[e.SUBSCRIBE=1]="SUBSCRIBE",e[e.UNSUBSCRIBE=2]="UNSUBSCRIBE"}(s||(s={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.MIXED="mixed"}(a||(a={})),function(e){e.fmp="fmp",e.tti="tti"}(c||(c={})),function(e){e.fmp="fmp",e.tti="tti"}(l||(l={})),function(e){e.response="response",e.result="result"}(d||(d={})),function(e){e.duration="duration"}(u||(u={}));const p=()=>{if(!globalThis.__UFO_GLOBAL_EVENT_STREAM__){const e=(()=>{const e=[];return{__buffer_only__:!0,push:t=>{e.length<250&&e.push(t)},getStream:()=>e}})();globalThis.__UFO_GLOBAL_EVENT_STREAM__=e}return globalThis.__UFO_GLOBAL_EVENT_STREAM__},h=()=>"undefined"!=typeof window;const f=new class{constructor(){r()(this,"started",!1),r()(this,"observers",[]),r()(this,"broadcast",(()=>{this.observers.forEach((e=>e())),this.observers=[]}))}start(){this.started||(this.started=!0,
document.addEventListener("visibilitychange",this.broadcast),h()&&window.addEventListener("pagehide",this.broadcast))}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter((t=>t!==e))}},m={id:"NOT_STARTED",final:!0},b={id:"STARTED"},g={id:"IN_PROGRESS"},v={id:"BLOCKED"},y={id:"RECOVERED"},O={id:"SUCCEEDED",final:!0,success:!0},E={id:"SUCCEEDED_WAITING_FOR_DEPS"},w={id:"FAILED",final:!0},S={id:"ABORTED",final:!0},k={[m.id]:[b.id],[b.id]:[g.id,v.id,O.id,E.id,w.id,S.id],[g.id]:[v.id,O.id,E.id,w.id,S.id],[v.id]:[y.id,S.id],[y.id]:[b.id,O.id,E.id,w.id,S.id],[O.id]:[b.id],[E.id]:[O.id,w.id,S.id],[w.id]:[b.id],[S.id]:[b.id]},x=()=>h()&&window.document&&"visible"!==window.document.visibilityState?a.HIDDEN:a.VISIBLE,C=e=>void 0!==e?~~e:(()=>~~performance.now())();class T extends class{constructor(e,t,o=null){r()(this,"state",m),r()(this,"instanceId",null),r()(this,"parent",null),r()(this,"category",null),r()(this,"metadata",{}),r()(this,"onDoneCallbacks",[]),
r()(this,"childExperiences",[]),r()(this,"explicitTimings",{}),r()(this,"isSSROutputAsFMP",!1),r()(this,"uuid",null),r()(this,"_until",null),r()(this,"metrics",{startTime:null,endTime:null,marks:[]}),r()(this,"performanceConfig",{}),r()(this,"setPageVisibleStateToMixed",(()=>{this.pageVisibleState=a.MIXED,f.unsubscribe(this.setPageVisibleStateToMixed)})),this.id=e,this.category=(null==t?void 0:t.category)||null,this.until=(null==t?void 0:t.until)||null,this.instanceId=o,this.handleDoneBind=this._handleDoneExperience.bind(this),this.type=t.type,this.performanceType=t.performanceType,this.performanceConfig=t.performanceConfig||{},this.config=t,this.pageVisibleState=x(),this.featureFlags=t.featureFlags||[],this.timings=t.timings||[],t.performanceType!==n("RbdO").a.PageLoad&&t.performanceType!==n("RbdO").a.PageSegmentLoad||(this.isSSROutputAsFMP=t.isSSROutputAsFMP||!1)}async transition(e,t){if(Object(n("tvGp").a)("async transition",this.id,this.state.id,e.id),
((e,t)=>k[e.id]&&k[e.id].includes(t.id))(this.state,e)){if(Object(n("tvGp").a)(`TRANSITION: ${this.id} from ${this.state.id} to ${e.id} successful`,this.state.final,!e.final),e===b&&this._reset(),this.state.final&&!e.final&&(this.metrics.startTime=C(t),this.uuid=Object(i.v4)()),this.state=e,e.final){this.metrics.endTime=C(t),this._isManualStateEnabled()||p().push(((e,t)=>({type:s.UNSUBSCRIBE,payload:{experienceId:e,callback:t}}))("__SUBSCRIBE_ALL__",this.handleDoneBind));const e=await this.exportData();Object(n("tvGp").a)("this.parent",this.parent),p().push((e=>({type:s.EXPERIENCE_PAYLOAD,payload:e}))(e))}return!0}return Object(n("tvGp").a)(`TRANSITION: ${this.id} from ${this.state.id} to ${e.id} unsuccessful`),Object(n("tvGp").b)(`transition of ${this.id} from ${this.state} to ${e} is not possible`),!1}async start(e){await this.transition(b,e)&&(this.pageVisibleState=x(),f.subscribe(this.setPageVisibleStateToMixed),
this._isManualStateEnabled()||(Object(n("tvGp").a)("subscribed",this.id),p().push(((e,t)=>({type:s.SUBSCRIBE,payload:{experienceId:e,callback:t}}))("__SUBSCRIBE_ALL__",this.handleDoneBind))))}mark(e,t){"fmp"!==e&&"inline-response"!==e?this._mark(e,t):Object(n("tvGp").b)("please use markFMP or markInlineResponse for specialised marks")}_mark(e,t){this.metrics.marks.push({name:e,time:C(t)}),this.transition(g)}markFMP(e){this._mark("fmp",e)}markInlineResponse(e){this._mark("inline-response",e)}_isManualStateEnabled(){return null===this.until}_validateManualState(){return!!this._isManualStateEnabled()||(Object(n("tvGp").b)('manual change of state not allowed as "until" is defined'),!1)}switchToEndState(e,t){return null!=t&&t.force||this._validateManualState()?(null!=t&&t.metadata&&this.addMetadata(t.metadata),f.unsubscribe(this.setPageVisibleStateToMixed),this.transition(e)):null}async success(e){return this.switchToEndState(O,e)}async failure(e){return this.switchToEndState(w,e)}
async abort(e){return this.switchToEndState(S,e)}addMetadata(e){Object.assign(this.metadata,e)}_handleDoneExperience(e){if(Object(n("tvGp").a)("_handleDoneExperience in",this.id,e.state,e,this._until),e.state.final&&null!==this._until){const{done:t,state:n}=this._until(e);t&&!this.state.final&&this.transition(n)}}async getId(){return this.id}async exportData(){return{id:await this.getId(),uuid:this.uuid,type:this.type,schemaVersion:"0.1.5",performanceType:this.performanceType,category:this.category,state:this.state,metadata:{...this.metadata},metrics:{...this.metrics},children:[...this.childExperiences],result:{success:!!this.state.success,startTime:this.metrics.startTime,duration:(this.metrics.endTime||0)-(this.metrics.startTime||0)},platform:this.config.platform||null,pageVisibleState:this.pageVisibleState,featureFlags:this.featureFlags,isSSROutputAsFMP:this.isSSROutputAsFMP,timings:this.timings,explicitTimings:this.explicitTimings,performanceConfig:this.performanceConfig}}_reset(){
this.parent=null,this.metadata={},this.onDoneCallbacks=[],this.childExperiences=[],this.metrics={startTime:null,endTime:null,marks:[]},this._until=this.until?this.until():null}}{}},"2KYT":function(e,t,n){"use strict";e.exports.encode=n("xGQ6"),e.exports.decode=n("jzd5"),e.exports.format=n("Q+CF"),e.exports.parse=n("2l+C")},"2l+C":function(e,t,n){"use strict";function o(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var r=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,a=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(a),l=["%","/","?",";","#"].concat(c),d=["/","?","#"],u=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},f={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};o.prototype.parse=function(e,t){var n,o,i,a,c,m=e;if(m=m.trim(),
!t&&1===e.split("#").length){var b=s.exec(m);if(b)return this.pathname=b[1],b[2]&&(this.search=b[2]),this}var g=r.exec(m);if(g&&(i=(g=g[0]).toLowerCase(),this.protocol=g,m=m.substr(g.length)),(t||g||m.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(c="//"===m.substr(0,2))||g&&h[g]||(m=m.substr(2),this.slashes=!0)),!h[g]&&(c||g&&!f[g])){var v,y,O=-1;for(n=0;n<d.length;n++)-1!==(a=m.indexOf(d[n]))&&(-1===O||a<O)&&(O=a);for(-1!==(y=-1===O?m.lastIndexOf("@"):m.lastIndexOf("@",O))&&(v=m.slice(0,y),m=m.slice(y+1),this.auth=v),O=-1,n=0;n<l.length;n++)-1!==(a=m.indexOf(l[n]))&&(-1===O||a<O)&&(O=a);-1===O&&(O=m.length),":"===m[O-1]&&O--;var E=m.slice(0,O);m=m.slice(O),this.parseHost(E),this.hostname=this.hostname||"";var w="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!w){var S=this.hostname.split(/\./);for(n=0,o=S.length;n<o;n++){var k=S[n];if(k&&!k.match(u)){for(var x="",C=0,T=k.length;C<T;C++)k.charCodeAt(C)>127?x+="x":x+=k[C];if(!x.match(u)){
var j=S.slice(0,n),A=S.slice(n+1),N=k.match(p);N&&(j.push(N[1]),A.unshift(N[2])),A.length&&(m=A.join(".")+m),this.hostname=j.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var I=m.indexOf("#");-1!==I&&(this.hash=m.substr(I),m=m.slice(0,I));var P=m.indexOf("?");return-1!==P&&(this.search=m.substr(P),m=m.slice(0,P)),m&&(this.pathname=m),f[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this},o.prototype.parseHost=function(e){var t=i.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=function(e,t){if(e&&e instanceof o)return e;var n=new o;return n.parse(e,t),n}},"2xeO":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={hoveredColumns:[],hoveredRows:[]}},"2xgt":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a}));const o=e=>{
const{selection:{$from:t,$to:o}}=e,i=Object(n("DQ6B").c)(t),s=Object(n("DQ6B").c)(o);return{itemIndexAtSelectionStart:i.itemIndex,itemIndexAtSelectionEnd:s.itemIndex,indentLevelAtSelectionStart:i.indentLevel,indentLevelAtSelectionEnd:s.indentLevel,itemsInSelection:r(e)}},r=e=>{const{from:t,to:o}=e.selection;if(t===o)return 1;let r=0;const i=e.doc.cut(t,o);return i.content.nodesBetween(0,i.content.size,((e,t,o,i)=>{o&&Object(n("EvmU").c)(o)&&!Object(n("EvmU").d)(e)&&0===i&&r++})),r},i="restartListsAnalytics",s=e=>{var t;return null!==(t=e.getMeta(i))&&void 0!==t?t:{}},a=(e,t)=>{const n=s(e);e.setMeta(i,{...n,...t})}},"2zfi":function(e,t,n){var o=n("d+lc"),r=n("FgkJ"),i=n("zBWt")("species");e.exports=function(e,t){var n,s=o(e).constructor;return void 0===s||null==(n=o(s)[i])?t:r(n)}},"3+Ww":function(e,t){},"31bW":function(e,t,n){"use strict";e.exports=function(e,t,n){var o,r,i,s,a=-1,c=e.posMax,l=e.pos;for(e.pos=t+1,o=1;e.pos<c;){if(93===(i=e.src.charCodeAt(e.pos))&&0===--o){r=!0;break}
if(s=e.pos,e.md.inline.skipToken(e),91===i)if(s===e.pos-1)o++;else if(n)return e.pos=l,-1}return r&&(a=e.pos),e.pos=l,a}},"36yd":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o=e=>Object(n("bmZU").a)({type:"SHOW_CONFIRM_DIALOG",data:{buttonIndex:e}},(e=>e.setMeta("addToHistory",!1))),r=()=>Object(n("bmZU").a)({type:"HIDE_CONFIRM_DIALOG"},(e=>e.setMeta("addToHistory",!1)))},"3DM8":function(t,n,o){"use strict";var r=o("ABBN"),i=o("hyZr");var s=o("UxO+"),a=o("mG1W");const c=new s.PluginKey("fixChromeSelectionPlugin");var l=e=>new(o("KkS8").a)({key:new s.PluginKey("disableSpellchecking"),props:{attributes:t=>{if(!e)return;const n=e.disableSpellcheckByBrowser,r=function(){switch(!0){case!0===o("j5wO").a.chrome:return{browser:"chrome",version:o("j5wO").a.chrome_version};case!0===o("j5wO").a.ie:return{browser:"ie",version:o("j5wO").a.ie_version};case!0===o("j5wO").a.gecko:return{browser:"gecko",version:o("j5wO").a.gecko_version}
;case!0===o("j5wO").a.safari:return{browser:"safari",version:o("j5wO").a.safari_version}}}();if(!r||!n)return;const i=n[r.browser];if(!i||!o("j5wO").a[r.browser])return;return(i.maximum?r.version>=i.minimum&&r.version<=i.maximum:o("j5wO").a[r.browser]&&r.version>=i.minimum)?{spellcheck:"false"}:void 0}}}),d=o("fwbU");const u=new s.PluginKey("newlinePreserveMarksPlugin"),p=e=>!!e.selection.$to.parent.marks.find((t=>t.type===e.schema.marks.alignment)),h=e=>!o("yUK8").a.getState(e).active,f=(e,t)=>(t&&t(e.tr.split(e.tr.mapping.map(e.selection.$from.pos),1)),!0);var m=()=>new(o("KkS8").a)({key:u,props:{handleKeyDown:Object(d.a)({Enter:Object(o("+U5V").c)([o("x+VZ").k,p,h],f)})}}),b=o("V2qZ");const g=new s.PluginKey("inlineCursorTargetPlugin"),v=e=>e&&e.type.isInline&&!e.type.isText;function y({event:e,view:t,cursorTarget:n}){e.stopPropagation(),e.preventDefault();const o=e.data||"",r=t.state.tr;t.someProp("handleTextInput",(e=>e(t,n.positions.from,n.positions.to,o)))||(r.insertText(o),
t.dispatch(r))}const O=120;function E(e,t){if(function(){return"undefined"!=typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype}()){return new IntersectionObserver(((e,n)=>{e.forEach((e=>{t(e.intersectionRatio>0)}))}),{root:e,rootMargin:"0px",threshold:0})}}function w(e,t,n){const o=e.offsetHeight,r=e.getBoundingClientRect().top,i=function(){const e=window.getSelection();if(e&&e.rangeCount>0){const t=e.getRangeAt(0);if(t){const e=t.getClientRects();if(e&&e.length>0)return e[0].top;const n=t.startContainer;if(n&&n.getBoundingClientRect)return n.getBoundingClientRect().top}}}();if(!i)return!1;return!(i-r<o-n-80)&&(t.scrollIntoView(!1),!0)}var S=(e={})=>{const{getScrollElement:t,allowCustomScrollHandler:n,gutterSize:r=O}=e;if(!t)return;const i=function(e){const t=document.createElement("div");t.style.paddingBottom=`${e}px`,t.id="#editor-scroll-gutter".substr(1);let n,o=!1,r=!1,i=null,s=!1
;return{addGutter(e){e&&(i=e,e.appendChild(t),r=!0,n&&n.observe(t))},removeGutter(){i&&r&&(r=!1,i.removeChild(t),n&&n.unobserve(t))},element:()=>t,isMounted:()=>r,visible:()=>n?s:r,observe(e){o||(o=!0,n=E(e,(e=>s=e)))},destroy(){n&&n.disconnect(),n=void 0,this.removeGutter(),o=r=!1}}}(r);let s=null;return new(o("KkS8").a)({props:{scrollThreshold:r/2,scrollMargin:r,handleScrollToSelection:()=>!1!==n&&(!!(i.isMounted()&&i.visible()&&s)&&w(s,i.element(),r))},view(n){s=t(n);let a=n.dom,c=a.parentElement;return{destroy(){i.destroy(),s=c=a=null},update(t,n){if(!s||!c)return;const a=t.state;if(n.selection===a.selection)return;const l=i.isMounted(),d=()=>{l||(i.observe(s),i.addGutter(c))};if(e.persistScrollGutter)return void(Object(o("x+VZ").g)(a.doc)?i.removeGutter():d());const u=(e=>o("RB5l").c.getState(e))(a),p=s.offsetHeight-(u&&u.keyboardHeight?u.keyboardHeight:0);c.offsetHeight-(l?r:0)>=p-r?d():l&&i.removeGutter()}}}})};const k=e=>e;var x=o("lSNA"),C=o.n(x);class T{
constructor({samplingRate:e,slowThreshold:t,normalThreshold:n,degradedThreshold:o,dispatchAverage:r,dispatchSample:i,onSampleStart:s,onSampleEnd:a,onSlowInput:c}){C()(this,"samples",[]),C()(this,"total",0),this.samplingRate=e,this.slowThreshold=t,this.normalThreshold=n,this.degradedThreshold=o,this.dispatchAverage=r,this.dispatchSample=i,this.onSampleStart=s,this.onSampleEnd=a,this.onSlowInput=c}start(){const e=performance.now();var t;this.samples.length+1===this.samplingRate&&(null===(t=this.onSampleStart)||void 0===t||t.call(this));return()=>{if(null===e)return;let t=!1;const n=Object(o("aMlB").a)(e);var r,i;(this.push(n),n>this.slowThreshold)&&(null===(r=this.onSlowInput)||void 0===r||r.call(this,n),t=!0);this.samples.length===this.samplingRate&&(this.flush(),null===(i=this.onSampleEnd)||void 0===i||i.call(this,n,{isSlow:t,severity:this.severity(n)}))}}flush(){0!==this.samples.length&&(this.dispatch(),this.samples=[],this.total=0)}dispatch(){var e,t
;null===(e=this.dispatchSample)||void 0===e||e.call(this,this.getLast(),this.severity(this.getLast()));const n=this.getMedian();null===(t=this.dispatchAverage)||void 0===t||t.call(this,{mean:this.getMean(),median:n,sampleSize:this.samples.length},this.severity(n))}push(e){this.samples.push(e),this.total+=e}severity(e){return Object(o("rJZJ").e)(e,this.normalThreshold,this.degradedThreshold)}getLast(){return this.samples[this.samples.length-1]}getMean(){return this.total/this.samples.length}getMedian(){if(1===this.samples.length)return this.samples[0];this.samples.sort(((e,t)=>e-t));const e=(this.samples.length+1)/2,t=Math.floor(e);if(0===e%t)return this.samples[e-1];return(this.samples[t-1]+this.samples[t])/2}}const j=new s.PluginKey("frozenEditor"),A=(e,t,n,r,i,s)=>{var a;const{state:c}=t,l=r(c);return e({action:o("+PNV").a.BROWSER_FREEZE,actionSubject:o("+PNV").b.EDITOR,attributes:{objectId:null===(a=Object(o("Wx28").b)(c))||void 0===a?void 0:a.objectId,freezeTime:n,
nodeSize:c.doc.nodeSize,...l,participants:Object(o("EjDT").a)(t.state),interactionType:i,severity:s},eventType:o("+PNV").e.OPERATIONAL})};const N=o("j5wO").a.chrome&&o("j5wO").a.chrome_version>=88;n.a=(t,n)=>{var s,d;const u=(null==n||null===(s=n.dependencies)||void 0===s||null===(d=s.featureFlags)||void 0===d?void 0:d.sharedState.currentState())||{};return{name:"base",pmPlugins(){const n=[{name:"filterStepsPlugin",plugin:({dispatchAnalyticsEvent:e})=>(e=>new(o("KkS8").a)({filterTransaction:t=>!(e=>(e.steps||[]).some((e=>e.from>e.to)))(t)||(console.warn("The transaction was blocked because it contains invalid steps",t.steps),e({action:o("+PNV").a.DISCARDED_INVALID_STEPS_FROM_TRANSACTION,actionSubject:o("+PNV").b.EDITOR,attributes:{analyticsEventPayloads:Object(o("R8yl").a)(t)},eventType:o("+PNV").e.OPERATIONAL}),!1)}))(e)}];return n.push({name:"inlineCursorTargetPlugin",plugin:()=>t&&t.allowInlineCursorTarget?(()=>new(o("KkS8").a)({key:g,state:{init:()=>({cursorTarget:void 0}),
apply(e){const{selection:t,doc:n}=e,{$from:r,$to:i}=t,s=e.getMeta(g);if(t&&Object(o("XyUv").d)(t)&&!s){const e=v(r.nodeAfter),s=v(r.nodeBefore),a=0===r.parentOffset&&v(r.nodeAfter),c=n.resolve(r.pos).node().lastChild===r.nodeBefore&&v(r.nodeBefore),l=e=>{const n=document.createElement("span");return n.contentEditable="true",n.setAttribute("aria-hidden","true"),n.appendChild(document.createTextNode(o("vNjH").b)),n.className="cursor-target",b.a.widget(t.from,n,{raw:!0,side:"left"===e?-1:1,key:"inlineCursor"})};if(!o("j5wO").a.safari&&(e||c)&&(s||a))return{cursorTarget:{decorations:[l("left"),l("right")],positions:{from:r.pos,to:i.pos}}};if(o("j5wO").a.safari){if(c||s&&e)return{cursorTarget:{decorations:[l("left")],positions:{from:r.pos,to:i.pos}}};if(a)return{cursorTarget:{decorations:[l("right")],positions:{from:r.pos,to:i.pos}}}}}return{cursorTarget:void 0}}},props:{decorations(e){const{doc:t}=e,{cursorTarget:n}=g.getState(e);return function(e){return!(!e||e.decorations.includes(null))
}(n)?b.b.create(t,n.decorations):null},handleDOMEvents:{keydown:(e,t)=>(o("j5wO").a.safari&&t instanceof KeyboardEvent&&t.shiftKey&&("ArrowLeft"===t.key||"ArrowRight"===t.key)&&e.dispatch(e.state.tr.setMeta(g,{cursorTarget:void 0})),!1),compositionend:(e,t)=>{const n=t,{state:o}=e,{cursorTarget:r}=g.getState(o);return void 0!==r&&(y({event:n,cursorTarget:r,view:e}),!0)},beforeinput:(e,t)=>{const n=t,{state:o}=e,{cursorTarget:r}=g.getState(o);return!n.isComposing&&void 0!==r&&(y({event:n,cursorTarget:r,view:e}),!0)}}}}))():void 0}),n.push({name:"focusHandlerPlugin",plugin:({dispatch:e})=>Object(o("HxAM").a)(e)},{name:"newlinePreserveMarksPlugin",plugin:m},{name:"reactNodeView",plugin:()=>o("EfUG").a},{name:"frozenEditor",plugin:({dispatchAnalyticsEvent:n})=>{var r;return null!=t&&null!==(r=t.inputTracking)&&void 0!==r&&r.enabled||null!=t&&t.ufo?((t,n,r,i)=>{let s,a=null,c=null,l=null;null!=r&&r.trackInteractionType&&(s=k(o("N6uE").a.LOADING))
;const d=n&&"number"==typeof n.samplingRate?n.samplingRate:100,u=n&&"number"==typeof n.slowThreshold?n.slowThreshold:300,p=n&&"number"==typeof n.freezeThreshold?n.freezeThreshold:600,h=n&&n.countNodes;let f=null,m={};const b=e=>(e===f||(m=h?Object(o("Cepr").a)(e):{},f=e),m),g=(null==n?void 0:n.trackSeverity)||!1,v=(null==n?void 0:n.severityNormalThreshold)||100,y=(null==n?void 0:n.severityDegradedThreshold)||500,O=(e,n)=>(r,i)=>{var s;const{state:a}=n,c=b(a),l={action:e,actionSubject:o("+PNV").b.EDITOR,attributes:{time:r,nodeSize:a.doc.nodeSize,...c,participants:Object(o("EjDT").a)(a),objectId:null===(s=Object(o("Wx28").b)(a))||void 0===s?void 0:s.objectId,severity:g?i:void 0},eventType:o("+PNV").e.OPERATIONAL};t(l)},E=(e,n)=>({mean:r,median:i,sampleSize:s},a)=>{var c;const{state:l}=n,d=b(l),u={action:e,actionSubject:o("+PNV").b.EDITOR,attributes:{mean:r,median:i,sampleSize:s,...d,nodeSize:l.doc.nodeSize,severity:g?a:void 0,participants:Object(o("EjDT").a)(l),
objectId:null===(c=Object(o("Wx28").b)(l))||void 0===c?void 0:c.objectId},eventType:o("+PNV").e.OPERATIONAL};t(u)};return new(o("KkS8").a)({key:j,props:Object(o("X0Cu").a)()?{handleTextInput(e){if(null!=r&&r.trackInteractionType&&(s=o("N6uE").a.TYPING),a){const e=a.start();requestAnimationFrame(e)}if(c){const e=c.start();Promise.resolve().then(e)}if(l){const e=l.start();setTimeout(e)}return!1},handleDOMEvents:null!=r&&r.trackInteractionType?{click:()=>(s=k(o("N6uE").a.CLICKING),!1),paste:()=>(s=k(o("N6uE").a.PASTING),!1)}:void 0}:void 0,view(h){if(!Object(o("X0Cu").b)())return{};const f=i?o("IYQB").b.getInstance(h):void 0;null!=n&&n.enabled&&(a=new T({samplingRate:d,slowThreshold:u,normalThreshold:v,degradedThreshold:y,onSampleStart:()=>{null==f||f.start(o("IYQB").a.typing)},onSampleEnd:(e,{isSlow:t,severity:n})=>{var r;const{state:i}=h,s=b(i);t&&(null==f||f.addMetadata(o("IYQB").a.typing,{slowInput:!0})),null==f||f.success(o("IYQB").a.typing,{nodeSize:i.doc.nodeSize,...s,
participants:Object(o("EjDT").a)(i),objectId:null===(r=Object(o("Wx28").b)(i))||void 0===r?void 0:r.objectId,time:e,severity:g?n:void 0})},dispatchSample:O(o("+PNV").a.INPUT_PERF_SAMPLING,h),dispatchAverage:E(o("+PNV").a.INPUT_PERF_SAMPLING_AVG,h),onSlowInput:e=>{var n;const{state:r}=h,i=b(r);t({action:o("+PNV").a.SLOW_INPUT,actionSubject:o("+PNV").b.EDITOR,attributes:{time:e,nodeSize:r.doc.nodeSize,...i,participants:Object(o("EjDT").a)(r),objectId:null===(n=Object(o("Wx28").b)(r))||void 0===n?void 0:n.objectId},eventType:o("+PNV").e.OPERATIONAL})}})),null!=n&&n.trackSingleKeypress&&(c=new T({samplingRate:d,slowThreshold:u,normalThreshold:v,degradedThreshold:y,dispatchSample:O(o("+PNV").a.INPUT_PERF_SAMPLING_SINGLE_KEYPRESS,h),dispatchAverage:E(o("+PNV").a.INPUT_PERF_SAMPLING_SINGLE_KEYPRESS_AVG,h)})),null!=n&&n.trackRenderingTime&&(l=new T({samplingRate:d,slowThreshold:u,normalThreshold:v,degradedThreshold:y,dispatchSample:O(o("+PNV").a.INPUT_PERF_SAMPLING_RENDERED,h),
dispatchAverage:E(o("+PNV").a.INPUT_PERF_SAMPLING_RENDERED_AVG,h)}));try{new PerformanceObserver((e=>{const n=e.getEntries();for(let i=0;i<n.length;i++){const{duration:e}=n[i];e>p&&A(t,h,e,b,null!=r&&r.trackInteractionType?s:void 0,null!=r&&r.trackSeverity?Object(o("rJZJ").e)(e,r.severityNormalThreshold||2e3,r.severityDegradedThreshold||3e3):void 0)}})).observe({entryTypes:["longtask"]})}catch(e){}return{destroy:()=>{var e;null===(e=a)||void 0===e||e.flush()}}}})})(n,t.inputTracking,t.browserFreezeTracking,t.ufo):void 0}},{name:"decorationPlugin",plugin:()=>Object(o("lgPy").c)()},{name:"history",plugin:()=>Object(i.b)()},{name:"codeBlockIndent",plugin:()=>Object(o("uIwD").a)({...r.b,"Mod-[":()=>!0,"Mod-]":()=>!0})},{name:"contextIdentifier",plugin:({dispatch:e,providerFactory:t})=>Object(o("Wx28").a)(e,t)},{name:"betterTypeHistory",plugin:({dispatch:e,providerFactory:t})=>Object(o("7QgF").a)()}),t&&t.allowScrollGutter&&n.push({name:"scrollGutterPlugin",plugin:()=>S(t.allowScrollGutter)
}),N&&n.push({name:"fixChrome88SelectionPlugin",plugin:()=>(()=>new(o("KkS8").a)({key:c,props:{handleDOMEvents:{focus:e=>(function(e){return"div"===e.tagName.toLowerCase()}(e.dom)&&!Object(a.isNodeSelection)(e.state.selection)&&(e.dom.style.display="inline-block",e.dom.offsetHeight,e.dom.style.display="block"),!1)}}}))()}),n.push({name:"disableSpellcheckingPlugin",plugin:()=>l(u)}),n.push({name:"compositionPlugin",plugin:()=>Object(o("i6fy").a)()}),n},nodes:()=>[{name:"doc",node:o("s2EJ").a},{name:"paragraph",node:o("9yGC").a},{name:"text",node:o("u4ca").a}]}}},"3EgI":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>(t,o)=>{if(n("yUK8").a.getState(t).query===e)return!1;const r=t.tr;return r.setMeta(n("yUK8").a,{action:n("Y+O0").a.CHANGE_QUERY,params:{query:e}}),o&&o(r),!0}},"3FAS":function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));const o=new(n("UxO+").PluginKey)("contextPanelPluginKey");t.a=()=>({name:"contextPanel",pmPlugins:(e=[])=>[{
name:"contextPanel",plugin:({dispatch:t})=>function(e,t){return new(n("KkS8").a)({key:o,state:{init:(t,n)=>({handlers:e,contents:e.map((e=>e(n)))}),apply(e,n,r,i){let s=n;const a=e.getMeta(o);if(e.docChanged||e.selectionSet||a&&a.changed){const e=n.handlers.map((e=>e(i)));(e.length!==s.contents.length||e.some((e=>s.contents.indexOf(e)<0)))&&(s={...s,contents:e})}return s!==n&&t(o,s),s}}})}(e.filter(Boolean),t)}]})},"3G5u":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));const o=e=>{let t=e.depth;for(let o=e.depth;o>0;o--){const r=e.node(o);if(Object(n("EvmU").d)(r)&&(t=o),!Object(n("EvmU").c)(r)&&!Object(n("EvmU").d)(r))break}return t-1},r=({tr:e,maxIndentation:t})=>{const o=Object(n("DQ6B").j)(e.selection.$from);let r,i=e.selection.$to.pos;do{const o=e.doc.resolve(i);if(r=Object(n("DQ6B").j)(o),r>t)return!1;i++}while(r>=o);return!0}},"3ILy":function(e,t,n){"use strict";function o(e,t,o){
const r=Object(n("p81E").a)(t.type.schema).header_cell;for(let n=0;n<e.height;n++){const i=t.nodeAt(e.map[o+n*e.width]);if(i&&i.type!==r)return!1}return!0}function r(e,{map:t,tableStart:r,table:i},s){let a=s>0?-1:0;o(t,i,s+a)&&(a=0===s||s===t.width?null:0);for(let o=0;o<t.height;o++){const c=o*t.width+s;if(s>0&&s<t.width&&t.map[c-1]===t.map[c]){const a=t.map[c],l=i.nodeAt(a);if(!l)throw new Error(`addColumn: invalid cell for pos ${a}`);const d=l.attrs;Object(n("11sg").b)(d),e.setNodeMarkup(e.mapping.map(r+a),void 0,Object(n("11sg").a)(d,s-t.colCount(a))),o+=d.rowspan-1}else{let l;if(null===a)l=Object(n("p81E").a)(i.type.schema).cell;else{const e=t.map[c+a],n=i.nodeAt(e);if(!n)throw new Error(`addColumn: invalid node at mapped pos ${e}`);l=n.type}const d=t.positionAt(o,s,i);e.insert(e.mapping.map(r+d),l.createAndFill())}}return e}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}))},"3R0y":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}))
;const o=e=>t=>("problem"in e&&Object(n("qmiZ").a)(e),t.setMeta(n("+62K").a,e))},"3ecq":function(e){e.exports=JSON.parse('{"a":"@atlaskit/link-picker","b":"1.22.2"}')},"3zmQ":function(e,t,n){"use strict";var o=n("lSNA"),r=n.n(o),i=n("q1tI"),s=n.n(i),a=n("8L3F");const c={"top left":{position:"top-start",animation:"top"},"top center":{position:"top",animation:"top"},"top right":{position:"top-end",animation:"top"},"right top":{position:"right-start",animation:"right"},"right middle":{position:"right",animation:"right"},"right bottom":{position:"right-end",animation:"right"},"bottom left":{position:"bottom-start",animation:"bottom"},"bottom center":{position:"bottom",animation:"bottom"},"bottom right":{position:"bottom-end",animation:"bottom"},"left top":{position:"left-start",animation:"left"},"left middle":{position:"left",animation:"left"},"left bottom":{position:"left-end",animation:"left"}},l="right middle";function d(e){return function(e){return e&&c[e]?c[e].position:null
}(e)||c[l].position}const u={hasExtractedStyles:!1,offsets:{popper:{left:-9999,top:-9999,position:null}},cssPosition:"absolute",originalHeight:null,maxHeight:null};class p extends i.Component{constructor(e){super(e),r()(this,"targetRef",s.a.createRef()),r()(this,"contentRef",s.a.createRef()),r()(this,"extractStyles",(e=>{if(e){const t=e.offsets.popper.height,n=Math.round(e.offsets.popper.left),o=Math.round(e.offsets.popper.top),r="absolute",i=this.state.originalHeight||t,s=this.calculateMaxHeight(i,t,o,r);this.setState({cssPosition:r,hasExtractedStyles:!0,transform:`translate3d(${n}px, ${o}px, 0px)`,originalHeight:i,maxHeight:s})}})),this.state=u,this.extractStyles=Object(n("w95p").a)(this.extractStyles.bind(this))}componentDidMount(){this.applyPopper(this.props)}UNSAFE_componentWillReceiveProps(e){this.applyPopper(e)}componentDidUpdate(e,t){const{onPositioned:n}=this.props,{hasExtractedStyles:o}=this.state;!t.hasExtractedStyles&&o&&n&&n()}componentWillUnmount(){
this.popper&&this.popper.destroy()}calculateMaxHeight(e,t,n,o){let r=0;if(document.documentElement&&(r=document.documentElement.clientHeight),"fixed"!==o)return null;const i=Math.max(r,window.innerHeight||0);return i<e&&t+n>=i-50?i-12:null}applyPopper(e){if(!this.targetRef.current||!this.contentRef.current)return;if(this.popper&&this.popper.destroy(),!e.content)return;const t=this.targetRef.current.children[0],n={placement:d(e.position),onCreate:this.extractStyles,onUpdate:this.extractStyles,modifiers:{applyStyle:{enabled:!1},hide:{enabled:!1},offset:{enabled:!0,offset:this.props.offset},flip:{enabled:!1,flipVariations:!0,boundariesElement:"viewport",padding:0},preventOverflow:{enabled:!1,escapeWithReference:!0}},positionFixed:!1};t&&(this.popper=new a.a(t,this.contentRef.current,n))}render(){const{transform:e,hasExtractedStyles:t,maxHeight:n}=this.state,o=t?{}:{opacity:0};return s.a.createElement("div",null,s.a.createElement("div",{ref:this.targetRef
},this.props.children),s.a.createElement("div",{ref:this.contentRef,style:{top:0,left:0,position:"absolute",transform:e,maxHeight:n||"auto",...o}},this.props.content))}}p.displayName="Layer",r()(p,"defaultProps",{boundariesElement:"viewport",children:null,content:null,offset:"0, 0",position:"right middle",zIndex:400,lockScroll:!1,isAlwaysFixed:!1,onPositioned:()=>{}});const h="@atlaskit/editor-common",f="72.8.0",m=`0, ${Object(n("7w+A").gridSize)()}px`;class b extends i.Component{constructor(...e){super(...e),r()(this,"wrapperStyles",Object(n("AeFk").css)(this.props.shouldFitContainer?"display: block; flex: 1 1 auto;":"display: inline-flex;"," transition-duration:0.2s;transition:box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38);")),r()(this,"triggerStyles",Object(n("AeFk").css)("transition-duration:0.2s;transition:box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38);",this.props.shouldFitContainer?"display: block; box-sizing: border-box;":"display: inline-flex;",";")),
r()(this,"menuWrapper",(e=>Object(n("AeFk").css)("color:",Object(n("56zV").a)({light:"var(--ds-text, #091E42)",dark:"var(--ds-text, #B8C7E0)"})(e),";background-color:",Object(n("56zV").a)({light:"var(--ds-surface-overlay, #FFFFFF)",dark:"var(--ds-surface-overlay, #283447)"})(e),";border-radius:",Object(n("7w+A").borderRadius)(),"px;box-shadow:0 ",Object(n("7w+A").gridSize)()/2,"px ",Object(n("7w+A").gridSize)(),"px -",Object(n("7w+A").gridSize)()/4,"px ","rgba(9, 30, 66, 0.25)",",0 0 1px ","rgba(9, 30, 66, 0.31)",";box-sizing:border-box;overflow:auto;padding:",Object(n("7w+A").gridSize)()/2,"px 0;max-height:90vh;"))),r()(this,"componentDidMount",(()=>{this.setContentWidth(),document.addEventListener("click",this.handleClickOutside,!0),document.addEventListener("keydown",this.handleEsc)})),r()(this,"componentDidUpdate",(()=>{this.props.isOpen&&this.setContentWidth()})),r()(this,"componentWillUnmount",(()=>{document.removeEventListener("click",this.handleClickOutside,!0),
document.removeEventListener("keydown",this.handleEsc)})),r()(this,"setContentWidth",(()=>{const{dropContentRef:e,triggerRef:t}=this,{shouldFitContainer:n}=this.props;n&&e&&t&&(e.style.width=t.offsetWidth-2+"px")})),r()(this,"handleEsc",(e=>{"Escape"!==e.key&&"Esc"!==e.key||!this.props.isOpen||this.close(e)})),r()(this,"handleClickOutside",(e=>{if(this.props.isOpen&&e.target instanceof Node){const t=this.triggerRef&&this.triggerRef.contains(e.target),n=this.dropContentRef&&this.dropContentRef.contains(e.target);t||n||this.close(e)}})),r()(this,"close",(e=>{this.props.onOpenChange&&this.props.onOpenChange({isOpen:!1,event:e})})),r()(this,"handleContentRef",(e=>{this.dropContentRef=e,e&&e.focus()})),r()(this,"handleTriggerRef",(e=>{this.triggerRef=e}))}getChildContext(){return{shouldAllowMultilineItems:!1}}render(){const{children:e,isOpen:t,position:o,trigger:r,onPositioned:i,testId:s,id:a}=this.props;let c=t?Object(n("AeFk").jsx)("div",{css:e=>this.menuWrapper({theme:e}),
"data-role":"droplistContent","data-testid":s&&`${s}--content`,ref:this.handleContentRef,id:a,role:"menu"},e):null;return Object(n("AeFk").jsx)("div",{css:this.wrapperStyles},Object(n("AeFk").jsx)(p,{content:c,offset:m,position:o,onPositioned:i},Object(n("AeFk").jsx)("div",{css:this.triggerStyles,ref:this.handleTriggerRef},r)))}}b.displayName="DropList";const g=Object(n("qgDP").a)("atlaskit");t.a=Object(n("ibeh").a)({componentName:"droplist",packageName:h,packageVersion:f})(Object(n("VHV8").a)({onOpenChange:g({action:"toggled",actionSubject:"droplist",attributes:{componentName:"droplist",packageName:h,packageVersion:f}})})(b))},"40oJ":function(e,t,n){var o=n("ixoo")("meta"),r=n("ekG2"),i=n("nA4W"),s=n("GhSp").f,a=0,c=Object.isExtensible||function(){return!0},l=!n("S4vA")((function(){return c(Object.preventExtensions({}))})),d=function(e){s(e,o,{value:{i:"O"+ ++a,w:{}}})},u=e.exports={KEY:o,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e
;if(!i(e,o)){if(!c(e))return"F";if(!t)return"E";d(e)}return e[o].i},getWeak:function(e,t){if(!i(e,o)){if(!c(e))return!0;if(!t)return!1;d(e)}return e[o].w},onFreeze:function(e){return l&&u.NEED&&c(e)&&!i(e,o)&&d(e),e}}},"49vz":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("mG1W");const r=e=>{const{table:t,tableCell:n}=e.schema.nodes;return Object(o.hasParentNodeOfType)([t,n])(e.selection)}},"4Ncm":function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return h}));var o=n("UxO+"),r=n("V2qZ")
;const i=({decorationSet:e})=>e.remove(Object(n("xQCw").h)(e)),s=({decorationSet:e,tr:t})=>(e=>e.selection instanceof n("n1Ll").a&&e.selection.isColSelection())(t)?Object(n("xQCw").i)(t.doc,e,Object(n("xQCw").d)(t),n("p3BF").c.COLUMN_SELECTED):e,a=({decorationSet:e,tr:t})=>Object(n("zYPQ").c)(t.selection)?Object(n("xQCw").i)(t.doc,e,Object(n("xQCw").b)(t.selection),n("p3BF").c.COLUMN_CONTROLS_DECORATIONS):e,c=({decorationSet:e})=>e.remove(Object(n("xQCw").g)(e)),l=({decorationSet:e,tr:t})=>(e=>!!Object(n("xQCw").g)(e).length)(e)?c({decorationSet:e,tr:t}):e,d=new o.PluginKey("tableDecorationsPlugin"),u=e=>d.getState(e),p=(e,t,o)=>{if(e.docChanged||e.selection instanceof n("n1Ll").a)return(({decorationSet:e,tr:t})=>Object(n("RFJY").a)([c,i,s,a])({decorationSet:e,tr:t}))({decorationSet:t,tr:e});if(e.selectionSet){if(!e.docChanged&&e.selectionSet&&e.getMeta("pointer")||o.selection instanceof n("n1Ll").a)return l({decorationSet:t,tr:e})}return t},h=()=>new(n("KkS8").a)({state:{
init:()=>r.b.empty,apply:(e,t,o)=>{let r=t;const i=e.getMeta(n("+62K").a);return i&&i.data&&i.data.decorationSet&&(r=i.data.decorationSet),e.docChanged||e.selectionSet?(r=r.map(e.mapping,e.doc),p(e,r,o)):r}},key:d,props:{decorations:e=>u(e)}})},"4Nwc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 6.5c0-.276.228-.5.491-.5H13l4 4v7.5c0 .276-.228.5-.51.5H7.51a.508.508 0 01-.51-.5v-11zm5 1v2.999c0 .271.225.501.501.501H15.5L12 7.5z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorFileIcon";var s=i;t.default=s},"4Upw":function(e,t,n){"use strict";n.r(t),n.d(t,"addAltText",(function(){return n("QNHL").b})),n.d(t,"navToEditorToolbar",(function(){return n("QNHL").K})),
n.d(t,"navToFloatingToolbar",(function(){return n("QNHL").L})),n.d(t,"toggleBold",(function(){return n("QNHL").eb})),n.d(t,"toggleItalic",(function(){return n("QNHL").nb})),n.d(t,"toggleUnderline",(function(){return n("QNHL").tb})),n.d(t,"toggleStrikethrough",(function(){return n("QNHL").pb})),n.d(t,"toggleSubscript",(function(){return n("QNHL").qb})),n.d(t,"toggleSuperscript",(function(){return n("QNHL").rb})),n.d(t,"toggleCode",(function(){return n("QNHL").gb})),n.d(t,"pastePlainText",(function(){return n("QNHL").R})),n.d(t,"clearFormatting",(function(){return n("QNHL").m})),n.d(t,"setNormalText",(function(){return n("QNHL").U})),n.d(t,"toggleHeading1",(function(){return n("QNHL").hb})),n.d(t,"toggleHeading2",(function(){return n("QNHL").ib})),n.d(t,"toggleHeading3",(function(){return n("QNHL").jb})),n.d(t,"toggleHeading4",(function(){return n("QNHL").kb})),n.d(t,"toggleHeading5",(function(){return n("QNHL").lb})),n.d(t,"toggleHeading6",(function(){return n("QNHL").mb})),
n.d(t,"toggleOrderedList",(function(){return n("QNHL").ob})),n.d(t,"ctrlBackSpace",(function(){return n("QNHL").o})),n.d(t,"toggleBulletList",(function(){return n("QNHL").fb})),n.d(t,"toggleBlockQuote",(function(){return n("QNHL").db})),n.d(t,"insertNewLine",(function(){return n("QNHL").C})),n.d(t,"shiftBackspace",(function(){return n("QNHL").V})),n.d(t,"splitCodeBlock",(function(){return n("QNHL").Z})),n.d(t,"splitListItem",(function(){return n("QNHL").ab})),n.d(t,"insertRule",(function(){return n("QNHL").D})),n.d(t,"undo",(function(){return n("QNHL").vb})),n.d(t,"moveUp",(function(){return n("QNHL").J})),n.d(t,"moveDown",(function(){return n("QNHL").G})),n.d(t,"moveLeft",(function(){return n("QNHL").H})),n.d(t,"moveRight",(function(){return n("QNHL").I})),n.d(t,"indentList",(function(){return n("QNHL").B})),n.d(t,"outdentList",(function(){return n("QNHL").P})),n.d(t,"redo",(function(){return n("QNHL").T})),n.d(t,"openHelp",(function(){return n("QNHL").N})),
n.d(t,"addLink",(function(){return n("QNHL").f})),n.d(t,"addInlineComment",(function(){return n("QNHL").e})),n.d(t,"submit",(function(){return n("QNHL").bb})),n.d(t,"enter",(function(){return n("QNHL").r})),n.d(t,"shiftEnter",(function(){return n("QNHL").W})),n.d(t,"tab",(function(){return n("QNHL").cb})),n.d(t,"indent",(function(){return n("QNHL").A})),n.d(t,"outdent",(function(){return n("QNHL").O})),n.d(t,"backspace",(function(){return n("QNHL").k})),n.d(t,"deleteKey",(function(){return n("QNHL").q})),n.d(t,"forwardDelete",(function(){return n("QNHL").y})),n.d(t,"space",(function(){return n("QNHL").Y})),n.d(t,"escape",(function(){return n("QNHL").s})),n.d(t,"nextCell",(function(){return n("QNHL").M})),n.d(t,"previousCell",(function(){return n("QNHL").S})),n.d(t,"shiftTab",(function(){return n("QNHL").X})),n.d(t,"toggleTable",(function(){return n("QNHL").sb})),n.d(t,"addRowBefore",(function(){return n("QNHL").h})),n.d(t,"addRowAfter",(function(){return n("QNHL").g})),
n.d(t,"addColumnAfter",(function(){return n("QNHL").c})),n.d(t,"addColumnBefore",(function(){return n("QNHL").d})),n.d(t,"cut",(function(){return n("QNHL").p})),n.d(t,"copy",(function(){return n("QNHL").n})),n.d(t,"paste",(function(){return n("QNHL").Q})),n.d(t,"altPaste",(function(){return n("QNHL").j})),n.d(t,"find",(function(){return n("QNHL").t})),n.d(t,"alignLeft",(function(){return n("QNHL").i})),n.d(t,"tooltip",(function(){return n("QNHL").ub})),n.d(t,"ToolTipContent",(function(){return n("QNHL").a})),n.d(t,"findKeymapByDescription",(function(){return n("QNHL").v})),n.d(t,"findShortcutByDescription",(function(){return n("QNHL").w})),n.d(t,"findShortcutByKeymap",(function(){return n("QNHL").x})),n.d(t,"makeKeymap",(function(){return n("QNHL").F})),n.d(t,"makeKeyMapWithCommon",(function(){return n("QNHL").E})),n.d(t,"bindKeymapWithCommand",(function(){return n("QNHL").l})),n.d(t,"findKeyMapForBrowser",(function(){return n("QNHL").u})),n.d(t,"DOWN",(function(){return n("XS4t").a
})),n.d(t,"HEADING_KEYS",(function(){return n("XS4t").b})),n.d(t,"KEY_0",(function(){return n("XS4t").c})),n.d(t,"KEY_1",(function(){return n("XS4t").d})),n.d(t,"KEY_2",(function(){return n("XS4t").e})),n.d(t,"KEY_3",(function(){return n("XS4t").f})),n.d(t,"KEY_4",(function(){return n("XS4t").g})),n.d(t,"KEY_5",(function(){return n("XS4t").h})),n.d(t,"KEY_6",(function(){return n("XS4t").i})),n.d(t,"LEFT",(function(){return n("XS4t").j})),n.d(t,"RIGHT",(function(){return n("XS4t").k})),n.d(t,"UP",(function(){return n("XS4t").l}))},"4Zg2":function(e,t,n){var o=n("7whZ"),r=n("VSTI"),i=n("5ETA"),s=n("/NTb"),a=n("GhSp").f;e.exports=function(e){var t=r.Symbol||(r.Symbol=i?{}:o.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},"4d7F":function(e,t,n){e.exports={default:n("Ir+t"),__esModule:!0}},"4fNk":function(e,t,n){"use strict"
;e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},"5ETA":function(e,t){e.exports=!0},"5I88":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const o="ak-editor-expand",r={prefix:o,expanded:`${o}__expanded`,titleContainer:`${o}__title-container`,inputContainer:`${o}__input-container`,iconContainer:`${o}__icon-container`,icon:`${o}__icon`,titleInput:`${o}__title-input`,content:`${o}__content`,type:e=>`${o}__type-${e}`}},"5Mrk":function(e,t,n){"use strict";var o=n("AGgm").unescapeAll;e.exports=function(e,t,n){var r,i,s=t,a={ok:!1,pos:0,
lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<n;){if(10===(r=e.charCodeAt(t)))return a;if(60===r)return a;if(62===r)return a.pos=t+1,a.str=o(e.slice(s+1,t)),a.ok=!0,a;92===r&&t+1<n?t+=2:t++}return a}for(i=0;t<n&&32!==(r=e.charCodeAt(t))&&!(r<32||127===r);)if(92===r&&t+1<n){if(32===e.charCodeAt(t+1))break;t+=2}else{if(40===r&&++i>32)return a;if(41===r){if(0===i)break;i--}t++}return s===t||0!==i||(a.str=o(e.slice(s,t)),a.lines=0,a.pos=t,a.ok=!0),a}},"5Qd4":function(e,t,n){var o=n("USwo");o(o.S+o.F,"Object",{assign:n("By1P")})},"5SuN":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bpfrpt_proptype_Scroll=t.bpfrpt_proptype_RenderedRows=t.bpfrpt_proptype_RowRenderer=t.bpfrpt_proptype_RowRendererParams=void 0;(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e})(n("q1tI")),function(e){e&&e.__esModule}(n("17x9"));t.bpfrpt_proptype_RowRendererParams=null,
t.bpfrpt_proptype_RowRenderer=null,t.bpfrpt_proptype_RenderedRows=null,t.bpfrpt_proptype_Scroll=null},"5Svd":function(e,t,n){"use strict";t.a=Object(n("D6b/").defineMessages)({white:{id:"fabric.theme.white",defaultMessage:"White",description:"Name of a color"},"light-blue":{id:"fabric.theme.light-blue",defaultMessage:"Light blue",description:"Name of a color"},"light-teal":{id:"fabric.theme.light-teal",defaultMessage:"Light teal",description:"Name of a color"},"light-green":{id:"fabric.theme.light-green",defaultMessage:"Light green",description:"Name of a color"},"light-yellow":{id:"fabric.theme.light-yellow",defaultMessage:"Light yellow",description:"Name of a color"},"light-red":{id:"fabric.theme.light-red",defaultMessage:"Light red",description:"Name of a color"},"light-purple":{id:"fabric.theme.light-purple",defaultMessage:"Light purple",description:"Name of a color"},"light-gray":{id:"fabric.theme.light-gray",defaultMessage:"Light gray",description:"Name of a color"},blue:{
id:"fabric.theme.blue",defaultMessage:"Blue",description:"Name of a color"},teal:{id:"fabric.theme.teal",defaultMessage:"Teal",description:"Name of a color"},green:{id:"fabric.theme.green",defaultMessage:"Green",description:"Name of a color"},yellow:{id:"fabric.theme.yellow",defaultMessage:"Yellow",description:"Name of a color"},red:{id:"fabric.theme.red",defaultMessage:"Red",description:"Name of a color"},orange:{id:"fabric.theme.orange",defaultMessage:"Orange",description:"Name of a color."},purple:{id:"fabric.theme.purple",defaultMessage:"Purple",description:"Name of a color"},gray:{id:"fabric.theme.gray",defaultMessage:"Gray",description:"Name of a color"},"dark-blue":{id:"fabric.theme.dark-blue",defaultMessage:"Dark blue",description:"Name of a color"},"dark-teal":{id:"fabric.theme.dark-teal",defaultMessage:"Dark teal",description:"Name of a color"},"dark-green":{id:"fabric.theme.dark-green",defaultMessage:"Dark green",description:"Name of a color"},"dark-yellow":{
id:"fabric.theme.dark-yellow",defaultMessage:"Dark yellow",description:"Name of a color"},"dark-red":{id:"fabric.theme.dark-red",defaultMessage:"Dark red",description:"Name of a color"},"dark-purple":{id:"fabric.theme.dark-purple",defaultMessage:"Dark purple",description:"Name of a color"},"subtle-gray":{id:"fabric.theme.subtle-gray",defaultMessage:"Subtle gray",description:"Name of a color"},"bold-gray":{id:"fabric.theme.bold-gray",defaultMessage:"Bold gray",description:"Name of a color"}})},"5fPG":function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));const o=new(n("UxO+").PluginKey)("maxContentSizePlugin");t.a=e=>({name:"maxContentSize",pmPlugins:()=>[{name:"maxContentSize",plugin:({dispatch:t})=>function(e,t){if(!t)return;let r=!1;return new(n("KkS8").a)({filterTransaction(n){const i=n.doc&&n.doc.nodeSize>t;return(i||i!==r)&&e(o,{maxContentSizeReached:i}),r=i,!i}})}(t,e)}]})},"5iLT":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));let o=function(e){
return e[e.Border=0]="Border",e[e.BoxShadow=1]="BoxShadow",e[e.Background=2]="Background",e[e.Blanket=3]="Blanket",e}({})},"5w6Y":function(e,t,n){var o=n("CYMq"),r=n("mHY4");n("czaS")("keys",(function(){return function(e){return r(o(e))}}))},"5wz/":function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},"5xi9":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("lSNA"),r=n.n(o),i=n("q1tI");const s=e=>t=>{const n={...t,eventType:"ui"};n.attributes||(n.attributes={}),n.attributes.packageName="@atlaskit/status",n.attributes.packageVersion="1.3.4",n.attributes.componentName="status";const o=e(n);return o.fire("fabric-elements"),o};const a={neutral:"default",purple:"new",blue:"inprogress",red:"removed",yellow:"moved",
green:"success"},c={name:"1cmo4ll",styles:"& > *{display:inline-block !important;line-height:16px;}"},l="undefined"!=typeof window&&/Version\/.* Chrome\/.*/.test(window.navigator.userAgent);class d extends i.PureComponent{constructor(...e){super(...e),r()(this,"hoverStartTime",0),r()(this,"handleMouseEnter",(e=>{this.hoverStartTime=Date.now()})),r()(this,"handleMouseLeave",(e=>{const{onHover:t}=this.props;Date.now()-this.hoverStartTime>=1e3&&t&&t(),this.hoverStartTime=0}))}componentWillUnmount(){this.hoverStartTime=0}render(){const{text:e,color:t,style:o,role:r,onClick:i}=this.props;if(0===e.trim().length)return null;const s=a[t]||"default";return Object(n("AeFk").jsx)("span",{css:l?c:void 0,className:"status-lozenge-span",onClick:i,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,"data-node-type":"status","data-color":t,"data-style":o,role:r},Object(n("AeFk").jsx)(n("EFQh").a,{appearance:s,maxWidth:200},e))}}d.displayName="StatusInternal",
r()(d,"displayName","StatusInternal");const u=Object(n("VHV8").a)({onClick:(e,t)=>{const{localId:n}=t;return s(e)({action:"clicked",actionSubject:"statusLozenge",attributes:{localId:n}})},onHover:(e,t)=>{const{localId:n}=t;return s(e)({action:"hovered",actionSubject:"statusLozenge",attributes:{localId:n}})}})(d)},"61vS":function(e,t,n){"use strict";let o;n.d(t,"a",(function(){return a})),function(e){e.ConfluencePageBlogAttachment="confluence.page,blogpost,attachment",e.ConfluencePageBlog="confluence.page,blogpost",e.ConfluenceExperimentsPageBlogAttachment="confluence_experiments.page,blogpost,attachment",e.ConfluenceSpace="confluence.space",e.UserConfluence="urs.user-confluence"}(o||(o={}));let r,i,s;!function(e){e.JiraIssue="jira.issue",e.JiraPlan="jira.plan",e.JiraBoardProjectFilter="jira.board,project,filter",e.JiraBoardProjectFilterPlan="jira.board,project,filter,plan",e.JiraProject="jira.project",e.People="urs.user-jira"}(r||(r={})),function(e){e.JiraIssue="jira-issue",
e.JiraBoard="jira-board",e.JiraProject="jira-project",e.JiraFilter="jira-filter",e.JiraPlan="jira-plan",e.JiraPeople="jira-people"}(i||(i={})),function(e){e.issue="issue",e.board="board",e.project="project",e.filter="filter",e.plan="plan",e.people="people"}(s||(s={}));const a={...o,...r}},"67gn":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return g}));var o,r=n("lSNA"),i=n.n(r),s=n("q1tI"),a=n.n(s),c=n("wSSu"),l=n("17x9"),d=n.n(l);function u(e){const{children:t,mode:o}=e,r=a.a.useMemo((()=>({__ATLASKIT_THEME__:{mode:o},theme:{__ATLASKIT_THEME__:{mode:o}}})),[o]),i=a.a.useCallback((()=>({mode:o})),[o]);return a.a.createElement(n("zIvK").e,{theme:r},a.a.createElement(n("1chJ").a.Provider,{value:i},t))}class p extends n("SMi2").a{constructor(e,t,n,o){super(),i()(this,"portals",new Map),i()(this,"setContext",(e=>{this.context=e})),this.intl=e,this.onAnalyticsEvent=t,
this.useAnalyticsContext=n,this.themeMode=o}render(e,t,o=!1,r=!1){this.portals.set(t,{children:e,hasAnalyticsContext:o,hasIntlContext:r});const i=a.a.createElement(u,{mode:this.themeMode},e());let s=this.useAnalyticsContext?a.a.createElement(y,null,i):i;r&&(s=a.a.createElement(n("o5hF").b,{value:this.intl},s)),Object(c.unstable_renderSubtreeIntoContainer)(this.context,s,t)}forceUpdate({intl:e,themeMode:t}){this.intl=e,this.themeMode=t,this.portals.forEach(((e,o)=>{if(!e.hasAnalyticsContext&&!this.useAnalyticsContext&&!e.hasIntlContext)return;let r=e.children();const i=a.a.createElement(u,{mode:t},r);e.hasAnalyticsContext&&this.useAnalyticsContext&&(r=a.a.createElement(y,null,i)),e.hasIntlContext&&(r=a.a.createElement(n("o5hF").b,{value:this.intl},i)),Object(c.unstable_renderSubtreeIntoContainer)(this.context,r,o)}))}remove(e){this.portals.delete(e);try{Object(c.unmountComponentAtNode)(e)}catch(t){this.onAnalyticsEvent&&this.onAnalyticsEvent({payload:{
action:n("+PNV").a.FAILED_TO_UNMOUNT,actionSubject:n("+PNV").b.EDITOR,actionSubjectId:n("+PNV").c.REACT_NODE_VIEW,attributes:{error:t,domNodes:{container:e?e.className:void 0,child:e.firstElementChild?e.firstElementChild.className:void 0}},eventType:n("+PNV").e.OPERATIONAL}})}}}p.displayName="PortalProviderAPI";class h extends a.a.Component{constructor(e){super(e),this.portalProviderAPI=new p(e.intl,e.onAnalyticsEvent,e.useAnalyticsContext,e.themeMode)}render(){return this.props.render(this.portalProviderAPI)}componentDidUpdate(){this.portalProviderAPI.forceUpdate({intl:this.props.intl,themeMode:this.props.themeMode})}}h.displayName="BasePortalProvider",i()(h,"displayName","PortalProvider");const f=Object(n("o5hF").c)(h),m=({onAnalyticsEvent:e,useAnalyticsContext:t,render:o})=>a.a.createElement(n("+EM5").a,null,a.a.createElement(b,{onAnalyticsEvent:e,useAnalyticsContext:t,render:o})),b=({onAnalyticsEvent:e,useAnalyticsContext:t,render:o})=>{
const r=Object(n("3NU0").a)(),i=Object(n("1chJ").b)();return a.a.createElement(h,{intl:r,themeMode:i.mode,onAnalyticsEvent:e,useAnalyticsContext:t,render:o})};class g extends a.a.Component{constructor(e){super(e),i()(this,"handleUpdate",(e=>this.setState({portals:e}))),e.portalProviderAPI.setContext(this),e.portalProviderAPI.on("update",this.handleUpdate),this.state={portals:new Map}}render(){const{portals:e}=this.state;return a.a.createElement(a.a.Fragment,null,Array.from(e.entries()).map((([e,t])=>Object(c.createPortal)(t,e))))}}g.displayName="PortalRenderer";const v={getAtlaskitAnalyticsContext(){},getAtlaskitAnalyticsEventHandlers(){}},y=(o=class extends a.a.Component{render(){const{value:e}=this.context.contextAdapter.analytics||{value:v};return a.a.createElement(n("5TYI").a.Provider,{value:e},this.props.children)}},i()(o,"contextTypes",{contextAdapter:d.a.object}),o)},"69XA":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
t.CellMeasurerCache=t.CellMeasurer=void 0;var o=i(n("8/pp")),r=i(n("e1D4"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=o.default,t.CellMeasurer=o.default,t.CellMeasurerCache=r.default},"6A5J":function(e,t,n){"use strict";var o=n("AGgm").isSpace;e.exports=function(e,t,n,r){var i,s,a,c,l,d,u,p,h,f,m,b,g,v,y,O,E,w,S,k,x=e.lineMax,C=e.bMarks[t]+e.tShift[t],T=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(C++))return!1;if(r)return!0;for(c=h=e.sCount[t]+1,32===e.src.charCodeAt(C)?(C++,c++,h++,i=!1,O=!0):9===e.src.charCodeAt(C)?(O=!0,(e.bsCount[t]+h)%4==3?(C++,c++,h++,i=!1):i=!0):O=!1,f=[e.bMarks[t]],e.bMarks[t]=C;C<T&&(s=e.src.charCodeAt(C),o(s));)9===s?h+=4-(h+e.bsCount[t]+(i?1:0))%4:h++,C++;for(m=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(O?1:0),d=C>=T,v=[e.sCount[t]],e.sCount[t]=h-c,y=[e.tShift[t]],e.tShift[t]=C-e.bMarks[t],w=e.md.block.ruler.getRules("blockquote"),g=e.parentType,e.parentType="blockquote",
p=t+1;p<n&&(k=e.sCount[p]<e.blkIndent,!((C=e.bMarks[p]+e.tShift[p])>=(T=e.eMarks[p])));p++)if(62!==e.src.charCodeAt(C++)||k){if(d)break;for(E=!1,a=0,l=w.length;a<l;a++)if(w[a](e,p,n,!0)){E=!0;break}if(E){e.lineMax=p,0!==e.blkIndent&&(f.push(e.bMarks[p]),m.push(e.bsCount[p]),y.push(e.tShift[p]),v.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}f.push(e.bMarks[p]),m.push(e.bsCount[p]),y.push(e.tShift[p]),v.push(e.sCount[p]),e.sCount[p]=-1}else{for(c=h=e.sCount[p]+1,32===e.src.charCodeAt(C)?(C++,c++,h++,i=!1,O=!0):9===e.src.charCodeAt(C)?(O=!0,(e.bsCount[p]+h)%4==3?(C++,c++,h++,i=!1):i=!0):O=!1,f.push(e.bMarks[p]),e.bMarks[p]=C;C<T&&(s=e.src.charCodeAt(C),o(s));)9===s?h+=4-(h+e.bsCount[p]+(i?1:0))%4:h++,C++;d=C>=T,m.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(O?1:0),v.push(e.sCount[p]),e.sCount[p]=h-c,y.push(e.tShift[p]),e.tShift[p]=C-e.bMarks[p]}for(b=e.blkIndent,e.blkIndent=0,(S=e.push("blockquote_open","blockquote",1)).markup=">",S.map=u=[t,0],e.md.block.tokenize(e,t,p),
(S=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=x,e.parentType=g,u[1]=e.line,a=0;a<y.length;a++)e.bMarks[a+t]=f[a],e.tShift[a+t]=y[a],e.sCount[a+t]=v[a],e.bsCount[a+t]=m[a];return e.blkIndent=b,!0}},"6DEX":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("pVnL"),r=n.n(o),i=n("q1tI"),s=n.n(i);const a=e=>s.a.createElement("svg",r()({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M12 22C9.34784 22 6.8043 20.9464 4.92893 19.0711C3.05357 17.1957 2 14.6522 2 12C2 9.34784 3.05357 6.8043 4.92893 4.92893C6.8043 3.05357 9.34784 2 12 2C14.6522 2 17.1957 3.05357 19.0711 4.92893C20.9464 6.8043 22 9.34784 22 12C22 14.6522 20.9464 17.1957 19.0711 19.0711C17.1957 20.9464 14.6522 22 12 22V22ZM12 11.375C11.6685 11.375 11.3505 11.5067 11.1161 11.7411C10.8817 11.9755 10.75 12.2935 10.75 12.625V15.75C10.75 16.0815 10.8817 16.3995 11.1161 16.6339C11.3505 16.8683 11.6685 17 12 17C12.3315 17 12.6495 16.8683 12.8839 16.6339C13.1183 16.3995 13.25 16.0815 13.25 15.75V12.625C13.25 12.2935 13.1183 11.9755 12.8839 11.7411C12.6495 11.5067 12.3315 11.375 12 11.375ZM12 9.96875C12.4558 9.96875 12.893 9.78767 13.2153 9.46534C13.5377 9.14301 13.7188 8.70584 13.7188 8.25C13.7188 7.79416 13.5377 7.35699 13.2153 7.03466C12.893 6.71233 12.4558 6.53125 12 6.53125C11.5442 6.53125 11.107 6.71233 10.7847 7.03466C10.4623 7.35699 10.2812 7.79416 10.2812 8.25C10.2812 8.70584 10.4623 9.14301 10.7847 9.46534C11.107 9.78767 11.5442 9.96875 12 9.96875Z",
fill:"currentColor"})),c=e=>s.a.createElement(n("UnwW").b,r()({glyph:a},e))},"6EZf":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var o=n("q1tI"),r=n.n(o),i=n("EcEN");const s=Object(o.createContext)("SESSION_UNINITIALIZED"),a=({children:e})=>{const{current:t}=Object(o.useRef)(Object(i.v4)());return Object(o.useEffect)((()=>()=>Object(n("9l+G").a)(n("9l+G").e.mounted,t)),[t]),(e=>{const t=Object(o.useRef)(!1);t.current||(e(),t.current=!0)})((()=>Object(n("9l+G").c)(n("9l+G").e.mounted,t))),r.a.createElement(s.Provider,{value:t},e)},c=()=>Object(o.useContext)(s)},"6PZK":function(t,n,o){"use strict";var r=o("q1tI"),i=o.n(r),s=o("UxO+");const a=new s.PluginKey("mediaAltTextPlugin"),{createPluginState:c,createCommand:l,getPluginState:d}=Object(o("pVB1").a)(a,((e,t)=>{switch(t.type){case"updateAltText":return{...e};case"openMediaAltTextMenu":return{...e,isAltTextEditorOpen:!0};case"closeMediaAltTextMenu":return{...e,isAltTextEditorOpen:!1}
;default:return e}}),{onSelectionChanged:(e,t)=>e.getMeta("history$")?t:{isAltTextEditorOpen:!1}}),u=({dispatch:e,providerFactory:t})=>new(o("KkS8").a)({state:c(e,{isAltTextEditorOpen:!1}),key:a});var p=o("fwbU");const h=l((e=>!!Object(o("Nrp8").e)(e)&&{type:"closeMediaAltTextMenu"})),f=((e,t,n)=>Object(o("SVcB").b)({action:e,actionSubject:o("+PNV").b.MEDIA,actionSubjectId:o("+PNV").c.ALT_TEXT,eventType:o("+PNV").e.TRACK})(l(t,n)))(o("+PNV").a.OPENED,(e=>!!Object(o("Nrp8").e)(e)&&{type:"openMediaAltTextMenu"}),(e=>e.setMeta("scrollIntoView",!1)));var m=o("mG1W"),b=o("ABBN");function g(e,t){const{$from:n}=e,o=n.index(n.depth-1),r=n.node(n.depth-1);return r?r.maybeChild(o+t):null}function v(t){return(n,r)=>{const{$from:i}=n.selection,{paragraph:s}=n.schema.nodes,a=g(n.selection,-2);if(!a)return!1;const c=g(n.selection,-1),l=i.pos-c.nodeSize-a.nodeSize;let d=n.tr;if(function(n){let o=!1;try{o=t(n)}catch(e){}return o
}(a))d=d.replace(l-1,l+a.nodeSize);else if(Object(o("D4z0").n)(n.selection)?d.replace(i.pos,i.pos+i.parent.nodeSize-1):d.replace(i.pos-1,i.pos+i.parent.nodeSize-1),a.type===s){const e=l+a.nodeSize-2;Object(m.safeInsert)(i.parent.content,e)(d)}else{const e=l+a.nodeSize-1;Object(m.safeInsert)(i.parent.copy(i.parent.content),e)(d)}return r&&r(d),!0}}const y=e=>{const t=Object(o("D4z0").j)(e);return(e,n)=>{const{selection:r,schema:i}=e,{$from:s}=r;if(!function(e){if(!e.empty)return!1;const{$from:t}=e;return t.parentOffset<=0}(e.selection))return!1;if(!function(e,t){const{$from:n}=e;return n.parent.type===t}(e.selection,i.nodes.paragraph))return!1;if(!function(e,t,n){const o=g(e,n);return!!o&&o.type===t}(e.selection,i.nodes.mediaSingle,-1))return!1;return"wrap-right"===g(e.selection,-1).attrs.layout?v(t)(e,n):(n&&Object(b.f)(e,(r=>{t(s.parent)&&!Object(o("vRZh").d)(e)&&r.replace(s.pos-1,s.pos+s.parent.nodeSize-1),n(r)})),!0)}};let O;!function(e){e.showToolbar="MEDIA_SHOW_TOOLBAR",
e.hideToolbar="MEDIA_HIDE_TOOLBAR",e.setUrl="MEDIA_SET_LINK_TO",e.unlink="MEDIA_LINKING_UNLINK"}(O||(O={}));const E=new s.PluginKey("mediaLinking"),w={visible:!1,editable:!1,mediaPos:null,link:""};const S=Object(o("pVB1").a)(E,((e,t)=>{switch(t.type){case O.showToolbar:return{...e,visible:!0};case O.setUrl:return{...e,editable:!0,link:t.payload};case O.hideToolbar:return{...e,visible:!1};case O.unlink:return{...e,link:"",visible:!1,editable:!1}}return e}),{mapping:function(e,t){return t&&null!==t.mediaPos?{...t,mediaPos:e.mapping.map(t.mediaPos)}:t},onSelectionChanged:function(e){if(!(e.selection instanceof s.NodeSelection))return w;const t=e.selection.$from.pos+1,n=e.doc.nodeAt(t);if(!n||"media"!==n.type.name)return w;const o=n.marks.find((e=>"link"===e.type.name));return o?{...w,mediaPos:t,editable:!0,link:o.attrs.href}:{...w,mediaPos:t}}}),{createCommand:k,getPluginState:x}=S;const C=e=>{const{doc:t,selection:n,schema:o}=e
;if(!(t&&n&&n instanceof s.NodeSelection&&n.node.type===o.nodes.mediaSingle))return;const r=n.$anchor.pos+1,i=t.nodeAt(r);return i&&i.type===o.nodes.media?{node:i,pos:r}:void 0},T=e=>{var t;return null===(t=C(e))||void 0===t?void 0:t.node},j=async(e,t)=>{if("external"===e.attrs.type)return"external";if(e.attrs.id)try{const n=await Object(o("CG+v").a)(t).file.getCurrentState(e.attrs.id,{collectionName:e.attrs.collection});if(n&&"error"!==n.status)return n.mediaType}catch(n){}},A=k((e=>{const t=x(e);if(t&&null!==t.mediaPos){if(e.doc.nodeAt(t.mediaPos))return{type:O.showToolbar}}return!1})),N=(e,t,n)=>{if(t&&n){const r=T(e);if(!r)return!1;const{mediaClientConfig:i}=Object(o("ftVL").b)(e);if(!i)return!1;j(r,i).then((e=>{"external"!==e&&"image"!==e||T(n.state)!==r||t(n.state.tr.setMeta(E,{type:O.showToolbar}))}))}return!0},I=k({type:O.hideToolbar}),P=(e,t,n,o)=>{I(e,t,n),n&&!o&&n.focus()};function M(e,t,{forceRemove:n=!1,url:r}){const i=x(t);if(!i||null===i.mediaPos)return e
;const s=t.doc.resolve(i.mediaPos),a=t.doc.nodeAt(s.pos);if(!a)return e;const c=t.schema.marks.link,{media:l}=t.schema.nodes,d=Object(o("t0jr").g)(c,((e,t)=>{if(!t||t.type!==l)return;if(n)return!1;const i=Object(o("CHQz").g)(r);return e&&e.href===i?void 0:""!==i.trim()&&{...e,href:i}}),[l]);return d(s.pos,s.pos+a.nodeSize,e,t),e}const R=(e,t,n,r)=>Object(o("SVcB").a)(t,e,{action:n,eventType:o("+PNV").e.TRACK,actionSubject:o("+PNV").b.MEDIA,actionSubjectId:o("+PNV").c.LINK,attributes:r}),_=k({type:O.unlink},((e,t)=>{const n=M(e,t,{forceRemove:!0});return R(n,t,o("+PNV").a.DELETED)})),L=(e,t)=>{const n=function(e){const{link:t}=e.schema.marks,n=x(e);if(!n||null===n.mediaPos)return;const o=e.doc.resolve(n.mediaPos),r=e.doc.nodeAt(o.pos);if(!r)return;if(!t.isInSet(r.marks))return;return r.marks.find((e=>e.type===t)).attrs.href}(t);return n?e!==n?o("+PNV").a.EDITED:void 0:o("+PNV").a.ADDED},D=(t,n)=>k({type:O.setUrl,payload:Object(o("CHQz").g)(t)},((r,i)=>{const s=L(t,i);if(!s)return r;try{
const e=M(r,i,{url:t});return R(r,i,s,s===o("+PNV").a.ADDED?{inputMethod:n}:void 0),e}catch(e){throw R(r,i,o("+PNV").a.ERRORED,{action:s}),e}}));const F=(e,t)=>(n,r)=>{let i=n.tr;if(1!==t.childCount)return!1;if(r){const s=n.schema,a=t.child(0),c=s.nodes.caption.create();i=n.tr.insert(e+a.nodeSize+1,c),i=B(i,e,a.nodeSize,c.nodeSize),i.setMeta("scrollIntoView",!1),Object(o("SVcB").a)(n,i,{action:o("+PNV").a.ADDED,eventType:o("+PNV").e.TRACK,actionSubject:o("+PNV").b.MEDIA_SINGLE,actionSubjectId:o("+PNV").c.CAPTION}),r(i)}return!0},B=(e,t,n,o)=>Object(m.setTextSelection)(t+n+o)(e);const V=e=>(o("wBzk").a.getState(e).ignoreLinks=!0,!1),z=e=>o("wBzk").a.getState(e).splitMediaGroup(),H=(e,t)=>{const{selection:n,schema:o}=e;if(n instanceof s.NodeSelection&&n.node.type===o.nodes.mediaSingle&&o.nodes.caption){if(t){const{from:o,node:r}=n;F(o,r)(e,t)||((e,t)=>(n,o)=>{if(2!==t.childCount)return!1;if(o){const r=t.child(0),i=t.child(1);let s=n.tr;s=B(s,e,r.nodeSize,i.nodeSize),
s.setMeta("scrollIntoView",!1),o(s)}return!0})(o,r)(e,t)}return!0}return!1},U=e=>(t,n)=>{const{selection:r}=t;if(e&&r instanceof s.NodeSelection&&"mediaSingle"===r.node.type.name){const i=e.setSelectionRelativeToNode({selectionRelativeToNode:void 0,selection:new(o("WE2A").a)(t.doc.resolve(r.from),o("WE2A").c.LEFT)})(t);return n&&n(i),!0}return!1},W=e=>(t,n)=>{const{selection:r}=t;if(e&&r instanceof s.NodeSelection&&"mediaSingle"===r.node.type.name){const i=e.setSelectionRelativeToNode({selectionRelativeToNode:void 0,selection:new(o("WE2A").a)(t.doc.resolve(r.to),o("WE2A").c.RIGHT)})(t);return n&&n(i),!0}return!1};var K=function(e){const t={},{featureFlags:n}=e||{};return o("QNHL").l(o("QNHL").vb.common,V,t),o("QNHL").l(o("QNHL").r.common,z,t),Object(o("CzTa").b)("captions",n)&&(o("QNHL").l(o("QNHL").G.common,H,t),o("QNHL").l(o("QNHL").cb.common,H,t),o("QNHL").l(o("QNHL").H.common,U(null==e?void 0:e.editorSelectionAPI),t),
o("QNHL").l(o("QNHL").I.common,W(null==e?void 0:e.editorSelectionAPI),t)),o("QNHL").l(o("QNHL").C.common,z,t),Object(p.b)(t)};const $=Object(o("D6b/").defineMessages)({toolbarMediaTitle:{id:"fabric.editor.toolbarMediaTitle",defaultMessage:"Add image, video, or file",description:"a label for an icon that describes files, videos and images"}}),q=e=>()=>(e.showMediaPicker(),!0);var G=Object(o("o5hF").c)((({editorView:e,eventDispatcher:t,pluginKey:n,isDisabled:r,isReducedSpacing:s,intl:a})=>i.a.createElement(o("fd7e").a,{editorView:e,eventDispatcher:t,plugins:{mediaPlugin:n},render:({mediaPlugin:e})=>{if(null==e||!e.allowsUploads)return null;const{toolbarMediaTitle:t}=$;return i.a.createElement(o("aEOQ").a,{buttonId:o("Ssoj").a.MEDIA,onClick:q(e),disabled:r,title:a.formatMessage(t),spacing:s?"none":"default",iconBefore:i.a.createElement(o.n(o("8R/O")).a,{label:a.formatMessage(t)})})}}))),Y=o("lSNA"),Q=o.n(Y),X=o("pVnL"),Z=o.n(X);let J=1;const ee=new Map;class te extends r.Component{
constructor(...e){super(...e),Q()(this,"state",{animate:!1,offset:0}),Q()(this,"handleSize",(({offset:e})=>this.setState({offset:e}))),Q()(this,"handleScroll",(({animate:e,offset:t})=>this.setState({animate:e,offset:t})))}renderCards(){const{items:e,mediaClientConfig:t,shouldOpenMediaViewer:n,featureFlags:r}=this.props;return e.map((s=>{const a=(e=>{switch(e.mediaItemType){case"external-image":return e.dataURI;case"file":if("string"==typeof e.id)return e.id;{const t=ee.get(e.id);if(t)return t;J++;const n=`${J}`;return ee.set(e.id,n),n}}})(s.identifier);if(!t)return i.a.createElement(o("2euv").a,{key:a,dimensions:o("NdM7").a});const c=n?e.map((e=>e.identifier)):void 0;return i.a.createElement(o("xLAl").a,Z()({key:a,mediaClientConfig:t,dimensions:o("NdM7").a,useInlinePlayer:!1,shouldOpenMediaViewer:n,mediaViewerItems:c,featureFlags:r},s))}))}render(){const{testId:e="media-filmstrip"}=this.props,{animate:t,offset:n}=this.state;return i.a.createElement(o("S8d9").a,{animate:t,offset:n,
onSize:this.handleSize,onScroll:this.handleScroll,testId:e},this.renderCards())}}te.displayName="Filmstrip";var ne=o("xk4V"),oe=o.n(ne);class re{constructor(t){Q()(this,"updateContextId",(async()=>{const e=this.getAttrs();if(!e||"file"!==e.type)return;const{id:t}=e,n=await this.getObjectId();Object(o("JLWW").c)(t,{__contextId:n})(this.props.view.state,this.props.view.dispatch)})),Q()(this,"updateNodeContextId",(async e=>{const t=this.getAttrs();if("file"!==(null==t?void 0:t.type))return;const n=await this.getObjectId();Object(o("JLWW").d)({__contextId:n},{node:this.props.node,getPos:e})(this.props.view.state,this.props.view.dispatch)})),Q()(this,"hasFileAttributesDefined",(e=>e&&"file"===e.type&&e.__fileName&&e.__fileMimeType&&e.__fileSize&&e.__contextId)),Q()(this,"getNewFileAttrsForNode",(async()=>{const e=this.getAttrs(),t=await this.props.mediaProvider;if(!t||!t.uploadParams||!e||"file"!==e.type||this.hasFileAttributesDefined(e))return
;const n=t.viewMediaClientConfig,r=Object(o("CG+v").a)(n);let i;const{id:s,collection:a}=e;try{if(i=await r.file.getCurrentState(s,{collectionName:a}),"error"===i.status)return}catch(h){return}const c=this.getNodeContextId()||await this.getObjectId(),{name:l,mimeType:d,size:u}=i,p={__fileName:l,__fileMimeType:d,__fileSize:u,__contextId:c};return ie(e,p)?p:void 0})),Q()(this,"updateMediaSingleFileAttrs",(async()=>{const e=await this.getNewFileAttrsForNode(),{id:t}=this.getAttrs();t&&e&&Object(o("JLWW").c)(t,e)(this.props.view.state,this.props.view.dispatch)})),Q()(this,"updateNodeAttrs",(async e=>{const t=await this.getNewFileAttrsForNode();t&&Object(o("JLWW").d)(t,{node:this.props.node,getPos:e})(this.props.view.state,this.props.view.dispatch)})),Q()(this,"getAttrs",(()=>{const{attrs:e}=this.props.node;if(e)return e})),Q()(this,"getObjectId",(async()=>{const e=await this.props.contextIdentifierProvider;return(null==e?void 0:e.objectId)||null})),
Q()(this,"uploadExternalMedia",(async t=>{const{node:n}=this.props,r=await this.props.mediaProvider;if(n&&r){const i=r.uploadMediaClientConfig;if(!i||!n.attrs.url)return;const s=Object(o("CG+v").a)(i),a=r.uploadParams&&r.uploadParams.collection;try{const e=await s.file.uploadExternal(n.attrs.url,a),{uploadableFileUpfrontIds:r,dimensions:i}=e;Object(o("JLWW").b)(t()+1,{id:r.id,collection:a,height:i.height,width:i.width,occurrenceKey:r.occurrenceKey})(this.props.view.state,this.props.view.dispatch)}catch(e){this.props.dispatchAnalyticsEvent&&this.props.dispatchAnalyticsEvent({action:o("+PNV").a.UPLOAD_EXTERNAL_FAIL,actionSubject:o("+PNV").b.EDITOR,eventType:o("+PNV").e.OPERATIONAL})}}})),Q()(this,"getNodeContextId",(()=>{const e=this.getAttrs();return e&&"file"===e.type&&e.__contextId||null})),Q()(this,"updateDimensions",(e=>{Object(o("JLWW").c)(e.id,{height:e.height,width:e.width})(this.props.view.state,this.props.view.dispatch)})),Q()(this,"hasDifferentContextId",(async()=>{
const e=this.getNodeContextId(),t=await this.getObjectId();return!(!e||!t||e===t)})),Q()(this,"isNodeFromDifferentCollection",(async()=>{const e=await this.props.mediaProvider;if(!e||!e.uploadParams)return!1;const t=e.uploadParams.collection,n=this.getAttrs();if(!n||"file"!==n.type)return!1;const{collection:o,__contextId:r}=n;return!(!r&&!(await this.getObjectId())||t===o)})),Q()(this,"copyNodeFromBlobUrl",(async e=>{const t=this.getAttrs();if(!t||"external"!==t.type)return;const{url:n}=t,r=Object(o("WUE1").b)(n);if(!r)return;const i=await this.props.mediaProvider;if(!i||!i.uploadParams)return;const s=i.uploadParams.collection,{contextId:a,id:c,collection:l,height:d,width:u,mimeType:p,name:h,size:f}=r,m=i.uploadMediaClientConfig;if(!m||!m.getAuthFromContext)return;const b=Object(o("CG+v").a)(m),g=await m.getAuthFromContext(a),v={id:c,collection:l,authProvider:()=>Promise.resolve(g)},y={collection:s,authProvider:m.authProvider,occurrenceKey:oe()()},O=await b.file.copyFile(v,y)
;Object(o("JLWW").b)(e()+1,{id:O.id,collection:s,height:d,width:u,__fileName:h,__fileMimeType:p,__fileSize:f})(this.props.view.state,this.props.view.dispatch)})),Q()(this,"copyNodeFromPos",(async(e,t)=>{const n=this.getAttrs();if("file"!==(null==n?void 0:n.type))return;const r=await this.copyFile(n.id,n.collection,t);r&&Object(o("JLWW").d)(r,{node:this.props.node,getPos:e})(this.props.view.state,this.props.view.dispatch)})),Q()(this,"copyNode",(async e=>{const t=this.getAttrs(),{view:n}=this.props;if("file"!==(null==t?void 0:t.type))return;const r=await this.copyFile(t.id,t.collection,e);r&&Object(o("JLWW").e)(t.id,r)(n.state,n.dispatch)})),Q()(this,"copyFile",(async(e,t,n)=>{const r=await this.props.mediaProvider;if(null==r||!r.uploadParams)return;const i=this.getNodeContextId(),s=r.uploadMediaClientConfig;if(null==s||!s.getAuthFromContext||!i)return;const a=Object(o("CG+v").a)(s),c=await s.getAuthFromContext(i),l=await this.getObjectId(),d={id:e,collection:t,
authProvider:()=>Promise.resolve(c)},u=r.uploadParams.collection,p={collection:u,authProvider:s.authProvider,occurrenceKey:oe()()};return{id:(await a.file.copyFile(d,p,void 0,n)).id,collection:u,__contextId:l}})),this.props=t}isMediaBlobUrl(){const e=this.getAttrs();return!(!e||"external"!==e.type||!Object(o("WUE1").c)(e.url))}async getRemoteDimensions(){const e=await this.props.mediaProvider,{mediaOptions:t}=this.props,n=this.getAttrs();if(!e||!n)return!1;const{height:r,width:i}=n;if("external"===n.type||!n.id)return!1;const{id:s,collection:a}=n;if(r&&i)return!1;if(t&&!t.allowRemoteDimensionsFetch)return{id:s,height:o("zaYB").a,width:o("zaYB").b};const c=e.viewMediaClientConfig,l=Object(o("CG+v").a)(c),d=await l.file.getCurrentState(s,{collectionName:a});if(!Object(o("WxjT").c)(d))return!1;const u=await l.getImageMetadata(s,{collection:a});return!(!u||!u.original)&&{id:s,height:u.original.height||o("zaYB").a,width:u.original.width||o("zaYB").b}}async handleExternalMedia(t){
if(this.isMediaBlobUrl())try{await this.copyNodeFromBlobUrl(t)}catch(e){await this.uploadExternalMedia(t)}else await this.uploadExternalMedia(t)}}const ie=(e,t)=>e.__fileName!==t.__fileName||e.__fileMimeType!==t.__fileMimeType||e.__fileSize!==t.__fileSize||e.__contextId!==t.__contextId,se=Object(o("D6b/").defineMessages)({mediaGroupDeleteLabel:{id:"fabric.editor.mediaGroupDeleteLabel",defaultMessage:"delete",description:"a label for an icon that deletes media"}}),ae=e=>Object(o("ceYy").f)(e.anchorPos,e.headPos,e.getPos(),e.node.nodeSize);class ce extends i.a.Component{constructor(e){super(e),Q()(this,"state",{viewMediaClientConfig:void 0}),Q()(this,"updateNodeAttrs",((e,t,n)=>{const{view:o,mediaProvider:r,contextIdentifierProvider:i}=e;new re({view:o,mediaProvider:r,contextIdentifierProvider:i,node:t,isMediaSingle:!1}).updateNodeAttrs(n)})),Q()(this,"setMediaItems",((e,t=!1)=>{const{node:n}=e,o=this.mediaNodes;this.mediaNodes=[],n.forEach(((n,o)=>{const r=()=>e.getPos()+o+1
;this.mediaNodes.push(n),t&&this.updateNodeAttrs(e,n,r)})),this.mediaPluginState.handleMediaGroupUpdate(o,this.mediaNodes)})),Q()(this,"getIdentifier",(e=>"external"===e.attrs.type?{mediaItemType:"external-image",dataURI:e.attrs.url}:{id:e.attrs.id,mediaItemType:"file",collectionName:e.attrs.collection})),Q()(this,"isNodeSelected",(e=>{const t=ae(this.props);return t===o("ceYy").a.selectedInRange||t===o("ceYy").a.selectedInside&&this.props.anchorPos===e})),Q()(this,"renderChildNodes",(()=>{const{viewMediaClientConfig:e}=this.state,{getPos:t,allowLazyLoading:n,disabled:r,mediaOptions:s}=this.props,a=this.mediaNodes.map(((e,a)=>{const c=()=>t()+a+1;return{identifier:this.getIdentifier(e),isLazy:n,selected:this.isNodeSelected(c()),onClick:()=>{Object(o("XyUv").g)(this.props.view,c())},...((e=!1)=>{if(!e)return{shouldEnableDownloadButton:s.enableDownloadButton,actions:[{handler:r?()=>{}:this.mediaPluginState.handleMediaNodeRemoval.bind(null,void 0,c),
icon:i.a.createElement(o.n(o("8m3F")).a,{label:this.props.intl.formatMessage(se.mediaGroupDeleteLabel)})}]}})(Object(o("CzTa").b)("mediaInline",s.featureFlags))}}));return i.a.createElement(te,{items:a,mediaClientConfig:e,featureFlags:s.featureFlags})})),this.mediaNodes=[],this.mediaPluginState=o("wBzk").a.getState(e.view.state),this.setMediaItems(e),this.state={viewMediaClientConfig:void 0}}componentDidMount(){this.updateMediaClientConfig(),this.mediaNodes.forEach((async e=>{if("external"===e.attrs.type)return;const{view:t,mediaProvider:n,contextIdentifierProvider:o}=this.props,r=new re({view:t,mediaProvider:n,contextIdentifierProvider:o,node:e,isMediaSingle:!1}),i=()=>this.props.getPos()+1;r.getNodeContextId()||await r.updateNodeContextId(i);await r.hasDifferentContextId()&&await r.copyNodeFromPos(i,{traceId:e.attrs.__mediaTraceId})}))}componentWillUnmount(){this.mediaPluginState.handleMediaGroupUpdate(this.mediaNodes,[])}UNSAFE_componentWillReceiveProps(e){
this.updateMediaClientConfig(),this.setMediaItems(e,e.isCopyPasteEnabled||void 0===e.isCopyPasteEnabled)}shouldComponentUpdate(e){return!(!((e,t)=>ae(e)!==ae(t)||ae(t)===o("ceYy").a.selectedInside&&e.anchorPos!==t.anchorPos)(this.props,e)&&this.props.node===e.node&&this.state.viewMediaClientConfig===this.mediaPluginState.mediaClientConfig)}updateMediaClientConfig(){const{viewMediaClientConfig:e}=this.state,{mediaClientConfig:t}=this.mediaPluginState;!e&&t&&this.setState({viewMediaClientConfig:t})}render(){return this.renderChildNodes()}}ce.displayName="MediaGroup",Q()(ce,"displayName","MediaGroup");const le=Object(o("o5hF").c)(ce);class de extends o("gVP2").a{render(e,t){const{providerFactory:n,mediaOptions:r}=e,s=this.getPos;return i.a.createElement(o("D0us").a,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:n,renderNode:({mediaProvider:e,contextIdentifierProvider:n})=>i.a.createElement(o("fd7e").a,{editorView:this.view,plugins:{reactNodeViewState:o("EfUG").b,
editorDisabledPlugin:o("QNcB").b},render:({editorDisabledPlugin:o})=>e?i.a.createElement(le,{node:this.node,getPos:s,view:this.view,forwardRef:t,disabled:(o||{}).editorDisabled,allowLazyLoading:r.allowLazyLoading,mediaProvider:e,contextIdentifierProvider:n,isCopyPasteEnabled:r.isCopyPasteEnabled,anchorPos:this.view.state.selection.$anchor.pos,headPos:this.view.state.selection.$head.pos,mediaOptions:r}):null})})}}de.displayName="MediaGroupNodeView";const ue=(e,t,n,o={})=>(r,i,s)=>new de(r,i,s,e,t,{providerFactory:n,mediaOptions:o},void 0,void 0,void 0,!0).init(),pe=e=>Object(o("AeFk").css)("&>div{",Object(o("zux5").a)(e),";position:relative;clear:both;}");class he extends i.a.Component{constructor(...e){super(...e),Q()(this,"state",{offsetLeft:fe(this.insideInlineLike,this.insideLayout,this.props.view.dom,void 0),isVideoFile:!0}),Q()(this,"calcNewSize",((e,t)=>{const{layout:n,view:{state:r}}=this.props,i=100*Object(o("Qvlh").b)(e,this.props.lineLength);this.setState({resizedPctWidth:i})
;let s=Object(m.hasParentNodeOfType)(r.schema.nodes.table)(r.selection)?n:this.calcUnwrappedLayout(i,e);return i<=100?(!this.wrappedLayout||t&&100===i||(s=n),{width:i,layout:s}):{width:this.props.pctWidth||null,layout:s}})),Q()(this,"calcUnwrappedLayout",((e,t)=>e<=100?"center":t<=o("anI9").X?"wide":"full-width")),Q()(this,"calcColumnLeftOffset",(()=>{const{offsetLeft:e}=this.state;return this.insideInlineLike?Object(o("Qvlh").a)(e,this.props.lineLength,this.props.gridSize):0})),Q()(this,"calcPxWidth",(e=>{const{width:t=0,height:n,layout:r,pctWidth:i,lineLength:s,containerWidth:a,fullWidthMode:c,getPos:l,view:{state:d}}=this.props,u="function"==typeof l?l():void 0;return Object(o("ZPHY").a)({origWidth:t,origHeight:n,pctWidth:i,state:d,containerWidth:{width:a,lineLength:s},isFullWidthModeEnabled:c,layout:e||r,pos:u})})),Q()(this,"highlights",((e,t)=>{const n=Object(o("GD2S").c)(e,t),{layoutColumn:r,table:i,expand:s,nestedExpand:a}=this.props.view.state.schema.nodes
;if(this.$pos&&Object(m.findParentNodeOfTypeClosestToPos)(this.$pos,[r,i,s,a].filter(Boolean)))return[];if(n>o("anI9").X)return["full-width"];const{layout:c,lineLength:l,gridSize:d}=this.props,u=Object(o("Qvlh").a)(n,l,d),p=Math.round(u),h=[];return"wrap-left"===c||"align-start"===c?h.push(0,p):"wrap-right"===c||"align-end"===c?h.push(d,d-p):this.insideInlineLike?h.push(Math.round(u+this.calcColumnLeftOffset())):h.push(Math.floor((d-p)/2),Math.ceil((d+p)/2)),h})),Q()(this,"saveWrapper",(e=>this.wrapper=e))}componentDidUpdate(){const e=fe(this.insideInlineLike,this.insideLayout,this.props.view.dom,this.wrapper);return e!==this.state.offsetLeft&&e>=0&&this.setState({offsetLeft:e}),!0}get wrappedLayout(){return o("zaYB").e.indexOf(this.props.layout)>-1}async componentDidMount(){const{viewMediaClientConfig:e}=this.props;e&&await this.checkVideoFile(e)}UNSAFE_componentWillReceiveProps(e){
this.props.viewMediaClientConfig!==e.viewMediaClientConfig&&this.checkVideoFile(e.viewMediaClientConfig),this.props.layout!==e.layout&&this.checkLayout(this.props.layout,e.layout)}async checkVideoFile(e){const t=this.$pos;if(!t||!e)return;const n=this.props.view.state.doc.nodeAt(t.pos+1);if(!n||!n.attrs.id)return;const r=Object(o("CG+v").a)(e);try{const e=await r.file.getCurrentState(n.attrs.id,{collectionName:n.attrs.collection});e&&"error"!==e.status&&"image"===e.mediaType&&this.setState({isVideoFile:!1})}catch(i){this.setState({isVideoFile:!1})}}checkLayout(e,t){const{resizedPctWidth:n}=this.state;if(o("zaYB").e.indexOf(e)>-1&&"center"===t&&n){const e=this.calcUnwrappedLayout(n,this.calcPxWidth(t));this.props.updateSize(n,e)}}get $pos(){if("function"!=typeof this.props.getPos)return null;const e=this.props.getPos();return Number.isNaN(e)||"number"!=typeof e?null:this.props.view.state.doc.resolve(e)}get gridWidth(){const{gridSize:e}=this.props
;return this.wrappedLayout||this.insideInlineLike?e:e/2}get insideInlineLike(){const e=this.$pos;if(!e)return!1;const{listItem:t}=this.props.view.state.schema.nodes;return!!Object(m.findParentNodeOfTypeClosestToPos)(e,[t])}get insideLayout(){const e=this.$pos;if(!e)return!1;const{layoutColumn:t}=this.props.view.state.schema.nodes;return!!Object(m.findParentNodeOfTypeClosestToPos)(e,[t])}render(){const{width:e,height:t,layout:n,pctWidth:r,containerWidth:i,fullWidthMode:s,selected:a,children:c}=this.props,l=this.calcPxWidth();let d;e&&(d=(t/e*100).toFixed(3));const u={};o("GD2S").a.forEach((e=>{const t="left"===e?"right":"left";u[e]=["full-width","wide","center"].concat(`wrap-${t}`).concat(`align-${o("GD2S").b[t]}`).indexOf(n)>-1,"left"===e&&this.insideInlineLike&&(u[e]=!1)}));const p={$pos:this.$pos,akEditorWideLayoutWidth:o("anI9").X,allowBreakoutSnapPoints:this.props.allowBreakoutSnapPoints,containerWidth:this.props.containerWidth,gridSize:this.props.gridSize,gridWidth:this.gridWidth,
insideInlineLike:this.insideInlineLike,insideLayout:this.insideLayout,isVideoFile:this.state.isVideoFile,lineLength:this.props.lineLength,offsetLeft:this.state.offsetLeft,wrappedLayout:this.wrappedLayout};return Object(o("AeFk").jsx)("div",{ref:this.saveWrapper,css:pe({layout:n,isResized:!!r,containerWidth:i||e,fullWidthMode:s})},Object(o("AeFk").jsx)(o("j3Is").a,Z()({},this.props,{ratio:d,width:l,selected:a,enable:u,calcNewSize:this.calcNewSize,snapPoints:Object(o("j0F9").b)(p),scaleFactor:this.wrappedLayout||this.insideInlineLike?1:2,highlights:this.highlights,nodeType:"media",dispatchAnalyticsEvent:this.props.dispatchAnalyticsEvent,handleComponentFunc:()=>Object(o("AeFk").jsx)("div",{contentEditable:!1})}),c))}}function fe(e,t,n,o){let r=0;if(o&&e&&!t){r=o.getBoundingClientRect().left-n.getBoundingClientRect().left}return r}he.displayName="ResizableMediaSingle";const me={name:"ti75j2",styles:"margin:0"},be={name:"19s8nj4",styles:"position:absolute;width:100%;height:100%"},ge={
name:"n48rgu",styles:"width:100%;position:relative"},ve=({dimensions:e,children:t,selected:n,borderWidth:r=0,onContextMenu:i})=>{const s=n&&r>0?r+1:r;return Object(o("AeFk").jsx)("div",{"data-testid":"media-card-wrapper",style:{borderColor:"var(--custom-palette-color)",borderWidth:`${s}px`,borderStyle:"solid",borderRadius:2*s+"px"}},Object(o("AeFk").jsx)("div",{css:ge,style:{paddingBottom:e.height/e.width*100+"%"},onContextMenuCapture:i},Object(o("AeFk").jsx)("div",{css:be},t)))},ye=Object(o("D6b/").defineMessages)({placeholder:{id:"fabric.editor.captionPlaceholder",defaultMessage:"Add a caption",description:"Placeholder description for an empty (new) caption in the editor"}}),Oe=Object(o("AeFk").css)("color:","var(--ds-text-subtlest, #6B778C)",";width:100%;text-align:center;margin-top:8px!important;display:block;");var Ee=i.a.forwardRef((({onClick:e},t)=>Object(o("AeFk").jsx)("span",{ref:t,css:Oe,onClick:e,"data-id":"caption-placeholder","data-testid":"caption-placeholder"
},Object(o("AeFk").jsx)(o("3e7Q").a,ye.placeholder))));class we extends r.Component{constructor(...t){super(...t),Q()(this,"state",{width:void 0,height:void 0,viewMediaClientConfig:void 0,isCopying:!1}),Q()(this,"mediaSingleWrapperRef",i.a.createRef()),Q()(this,"captionPlaceHolderRef",i.a.createRef()),Q()(this,"createMediaNodeUpdater",(e=>{const t=this.props.node.firstChild;return new re({...e,isMediaSingle:!0,node:t||this.props.node,dispatchAnalyticsEvent:this.props.dispatchAnalyticsEvent})})),Q()(this,"setViewMediaClientConfig",(async e=>{const t=await e.mediaProvider;if(t){const e=t.viewMediaClientConfig;this.setState({viewMediaClientConfig:e})}})),Q()(this,"updateMediaNodeAttributes",(async t=>{const n=this.createMediaNodeUpdater(t),{addPendingTask:o}=this.props.mediaPluginState,r=this.props.node.firstChild;if(!r)return;const i=await n.getRemoteDimensions();if(i&&n.updateDimensions(i),"external"===r.attrs.type&&r.attrs.__external){const e=n.handleExternalMedia(this.props.getPos)
;return o(e),void(await e)}n.getNodeContextId()||await n.updateContextId();if(await n.hasDifferentContextId()){this.setState({isCopying:!0});try{const e=n.copyNode({traceId:r.attrs.__mediaTraceId});o(e),await e}catch(e){this.setState({isCopying:!1})}}})),Q()(this,"selectMediaSingle",(({event:e})=>{e.stopPropagation();const t=this.props.getPos(),{state:n}=this.props.view;if(e.shiftKey){if(n.selection instanceof o("n1Ll").a)return;Object(o("XyUv").h)(this.props.view,n.selection.from<t?n.selection.from:t,n.selection.to>t?n.selection.to:t+3)}else Object(o("XyUv").g)(this.props.view,t)})),Q()(this,"updateSize",((e,t)=>{const{state:n,dispatch:o}=this.props.view,r=this.props.getPos();if(void 0===r)return;const i=n.tr.setNodeMarkup(r,void 0,{...this.props.node.attrs,layout:t,width:e});return i.setMeta("scrollIntoView",!1),i.setSelection(s.NodeSelection.create(i.doc,r)),o(i)})),Q()(this,"onMediaSingleClicked",(e=>{var t
;o("j5wO").a.ios&&this.mediaSingleWrapperRef.current===e.target&&(null===(t=this.captionPlaceHolderRef.current)||void 0===t||t.click())})),Q()(this,"clickPlaceholder",(()=>{const{view:e,getPos:t,node:n}=this.props;"boolean"!=typeof t&&F(t(),n)(e.state,e.dispatch)})),Q()(this,"getLineLength",((e,t)=>{if(Object(o("j0F9").d)(e,t)){const n=e.state.doc.resolve(t),r=e.nodeDOM(n.pos);if(n.nodeAfter&&o("j0F9").c.indexOf(n.nodeAfter.attrs.layout)>-1&&r&&r.parentElement)return r.parentElement.offsetWidth;if(r instanceof HTMLElement)return r.offsetWidth}return null}))}UNSAFE_componentWillReceiveProps(e){e.mediaProvider!==this.props.mediaProvider&&this.setViewMediaClientConfig(e),!1!==e.isCopyPasteEnabled&&this.createMediaNodeUpdater(e).updateMediaSingleFileAttrs()}async componentDidMount(){const{contextIdentifierProvider:e}=this.props;await Promise.all([this.setViewMediaClientConfig(this.props),this.updateMediaNodeAttributes(this.props)]),this.setState({contextIdentifierProvider:await e})}
render(){const{selected:e,getPos:t,node:n,mediaOptions:r,fullWidthMode:i,view:{state:a},view:c}=this.props,{layout:l,width:d}=n.attrs,u=n.firstChild.attrs;let{width:p,height:h}=u;if("external"===u.type){if(Object(o("Nrp8").d)(u)){const e=Object(o("WUE1").b)(u.url);if(e){const{width:t,height:n}=e;p=p||t,h=h||n}}const{width:e,height:t}=this.state;null===p&&(p=e||o("zaYB").b),null===h&&(h=t||o("zaYB").a)}p&&h||(p=o("zaYB").b,h=o("zaYB").a);const f={layout:l,width:p,height:h,containerWidth:this.props.width,lineLength:this.props.lineLength,pctWidth:d,fullWidthMode:i,hasFallbackContainer:!1};let b=!!this.props.mediaOptions.allowResizing;if(!this.props.mediaOptions.allowResizingInTables){const e=t();if(e){const t=a.doc.resolve(e),{table:n}=a.schema.nodes,o=!!Object(m.findParentNodeOfTypeClosestToPos)(t,[n]);b=b&&!o}}
const g=this.getLineLength(c,t())||this.props.lineLength,v=e(),y=Object(o("CzTa").b)("captions",r.featureFlags)&&2!==n.childCount&&v&&a.selection instanceof s.NodeSelection,O=Object(o("AeFk").jsx)("figure",{ref:this.mediaSingleWrapperRef,css:me,className:"media-single-node",onClick:this.onMediaSingleClicked},Object(o("AeFk").jsx)("div",{ref:this.props.forwardRef}),y&&Object(o("AeFk").jsx)(Ee,{ref:this.captionPlaceHolderRef,onClick:this.clickPlaceholder}));return b?Object(o("AeFk").jsx)(he,Z()({},f,{lineLength:g,view:this.props.view,getPos:t,updateSize:this.updateSize,displayGrid:Object(o("/OWP").a)(this.props.eventDispatcher),gridSize:12,viewMediaClientConfig:this.state.viewMediaClientConfig,allowBreakoutSnapPoints:r&&r.allowBreakoutSnapPoints,selected:v,dispatchAnalyticsEvent:this.props.dispatchAnalyticsEvent}),O):Object(o("AeFk").jsx)(o("zaYB").c,f,O)}}we.displayName="MediaSingleNode",Q()(we,"defaultProps",{mediaOptions:{}}),Q()(we,"displayName","MediaSingleNode")
;class Se extends o("gVP2").a{constructor(...e){super(...e),Q()(this,"lastOffsetLeft",0),Q()(this,"forceViewUpdate",!1),Q()(this,"selectionType",null),Q()(this,"checkAndUpdateSelectionType",(()=>{const e=this.getPos,{selection:t}=this.view.state,n=Object(o("ceYy").f)(t.$anchor.pos,t.$head.pos,e(),this.node.nodeSize);return this.selectionType=n,n})),Q()(this,"isNodeSelected",(()=>(this.checkAndUpdateSelectionType(),null!==this.selectionType)))}createDomRef(){const e=document.createElement("div");return this.reactComponentProps.mediaOptions&&this.reactComponentProps.mediaOptions.allowMediaSingleEditable&&(e.contentEditable="true"),e}getContentDOM(){const e=document.createElement("div");return e.classList.add("media-content-wrap"),{dom:e}}viewShouldUpdate(e){return this.forceViewUpdate?(this.forceViewUpdate=!1,!0):this.node.attrs!==e.attrs||(this.selectionType!==this.checkAndUpdateSelectionType()||(this.node.childCount!==e.childCount||super.viewShouldUpdate(e)))}getNodeMediaId(e){
if(e.firstChild)return e.firstChild.attrs.id}update(e,t,n,o){return o||(o=(e,t)=>this.getNodeMediaId(e)===this.getNodeMediaId(t)),super.update(e,t,n,o)}render(e,t){const{eventDispatcher:n,fullWidthMode:r,providerFactory:i,mediaOptions:s,dispatchAnalyticsEvent:a}=this.reactComponentProps,c=this.getPos;return Object(o("AeFk").jsx)(o("D0us").a,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:i,renderNode:({mediaProvider:e,contextIdentifierProvider:i})=>Object(o("AeFk").jsx)(o("fd7e").a,{editorView:this.view,plugins:{width:o("IXso").b,mediaPluginState:o("wBzk").a},render:({width:l,mediaPluginState:d})=>Object(o("AeFk").jsx)(we,{width:l.width,lineLength:l.lineLength,node:this.node,getPos:c,mediaProvider:e,contextIdentifierProvider:i,mediaOptions:s,view:this.view,fullWidthMode:r,selected:this.isNodeSelected,eventDispatcher:n,mediaPluginState:d,dispatchAnalyticsEvent:a,forwardRef:t})})})}ignoreMutation(){if(this.dom){const e=this.dom.offsetLeft
;e!==this.lastOffsetLeft&&(this.lastOffsetLeft=e,this.forceViewUpdate=!0,this.update(this.node,[],[],(()=>!0)))}return!0}}Se.displayName="MediaSingleNodeView";const ke=(e,t,n,o,r={})=>(i,s,a)=>new Se(i,s,a,e,t,{eventDispatcher:t,fullWidthMode:r.fullWidthEnabled,providerFactory:n,mediaOptions:r,dispatchAnalyticsEvent:o,isCopyPasteEnabled:r.isCopyPasteEnabled},void 0,void 0,void 0,!0).init();const xe=Object(o("AeFk").css)("color:","var(--ds-text-danger, #DE350B)",";"),Ce=e=>Object(o("AeFk").css)(Object(o("PFik").h200)(e)," font-weight:normal;color:","var(--ds-text-subtlest, #6B778C)",";margin-top:",Object(o("7w+A").gridSize)()/2,"px;display:flex;justify-content:baseline;"),Te={name:"1vgx75j",styles:"display:flex;margin-right:4px"},je=({children:e})=>Object(o("AeFk").jsx)("div",{css:e=>[Ce(e),xe]},Object(o("AeFk").jsx)("span",{css:Te},Object(o("AeFk").jsx)(o.n(o("425I")).a,{size:"small",label:"error","aria-label":"error"})),e);const Ae=(e,t)=>e.slice(0,t);class Ne extends i.a.Component{
constructor(e){super(e),Q()(this,"activityProvider",null),Q()(this,"handleSubmit",(()=>{const{items:e,url:t,selectedIndex:n}=this.state,r=this.getCurrentInputMethod();if(r)switch(r){case o("+PNV").f.MANUAL:this.props.onSubmit({url:t,text:t,inputMethod:o("+PNV").f.MANUAL});break;case o("+PNV").f.TYPEAHEAD:{const t=e[n];this.setState((()=>({url:t.url}))),this.props.onSubmit&&this.props.onSubmit({url:t.url,text:t.name,inputMethod:o("+PNV").f.TYPEAHEAD});break}}})),Q()(this,"handleSelected",((e,t)=>{this.props.onSubmit&&(this.setState((()=>({url:e}))),this.props.onSubmit({text:t,url:e,inputMethod:o("+PNV").f.TYPEAHEAD}))})),Q()(this,"handleChange",(async e=>{this.setState({url:e}),this.activityProvider&&(0===e.length?this.setState({items:Ae(await this.activityProvider.getRecentItems(),this.props.limit),selectedIndex:-1}):this.setState({items:Ae(await this.activityProvider.searchRecent(e),this.props.limit),selectedIndex:0}))})),Q()(this,"handleKeyDown",(e=>{
const{items:t,selectedIndex:n}=this.state;t&&t.length&&("ArrowDown"===e.key?(e.preventDefault(),this.setState({selectedIndex:(n+1)%t.length})):"ArrowUp"===e.key&&(e.preventDefault(),this.setState({selectedIndex:n>0?n-1:t.length-1})))})),Q()(this,"handleMouseMove",(e=>{const{items:t}=this.state;if(t){const n=t.findIndex((t=>t.objectId===e));this.setState({selectedIndex:n})}})),Q()(this,"renderRecentList",(()=>{const{items:e,isLoading:t,selectedIndex:n}=this.state;return i.a.createElement(o("OqP8").a,{items:e,isLoading:t,selectedIndex:n,onSelect:this.handleSelected,onMouseMove:this.handleMouseMove})})),Q()(this,"clearValue",(()=>{this.setState({url:""})})),this.state={selectedIndex:-1,isLoading:!1,items:[],url:e.defaultUrl||""}}UNSAFE_componentWillReceiveProps(e){this.props.defaultUrl!==e.defaultUrl&&this.setState((t=>t.url!==e.defaultUrl?{items:[],selectedIndex:-1,url:e.defaultUrl||""}:null))}async componentDidMount(){
this.props.activityProvider&&(this.activityProvider=await this.props.activityProvider,await this.loadRecentItems(this.activityProvider))}async loadRecentItems(e){try{this.state.url||this.setState({isLoading:!0,items:Ae(await e.getRecentItems(),this.props.limit)})}finally{this.setState({isLoading:!1})}}getCurrentInputMethod(){const{items:e,url:t,selectedIndex:n}=this.state;return e&&e.length>0&&n>-1?o("+PNV").f.TYPEAHEAD:t&&t.length>0?o("+PNV").f.MANUAL:void 0}render(){const{render:e}=this.props,{url:t}=this.state;return e({activityProvider:this.activityProvider,inputProps:{onChange:this.handleChange,onKeyDown:this.handleKeyDown,onSubmit:this.handleSubmit,value:t},clearValue:this.clearValue,currentInputMethod:this.getCurrentInputMethod(),renderRecentList:this.renderRecentList})}}Ne.displayName="RecentLink",Q()(Ne,"defaultProps",{limit:5});var Ie=function(e){return class extends i.a.Component{constructor(...t){super(...t),Q()(this,"renderNode",(t=>{
const{providerFactory:n,...o}=this.props,{activityProvider:r}=t;return i.a.createElement(e,Z()({activityProvider:r},o))}))}render(){const{providerFactory:e}=this.props;return i.a.createElement(o("D0us").a,{providers:["activityProvider"],providerFactory:e,renderNode:this.renderNode})}}}(Object(o("o5hF").c)(Ne));const Pe=Object(o("D6b/").defineMessages)({backLink:{id:"fabric.editor.backLink",defaultMessage:"Go back",description:"Go back from media linking toolbar to main toolbar"}});const Me=Object(o("AeFk").css)("line-height:0;padding:12px 24px 12px 0;margin:0 4px 0 32px;border-top:1px solid ","var(--ds-border-danger, #DE350B)",";align-items:start;display:flex;flex-direction:column;"),Re={name:"12u9yd4",styles:"padding:4px 8px 4px 0px"};class _e extends i.a.PureComponent{constructor(...e){super(...e),Q()(this,"state",{validationErrors:[]}),Q()(this,"handleSubmit",(({url:e,inputMethod:t})=>{this.props.onSubmit(e,{inputMethod:t})})),Q()(this,"handleOnBack",(({url:e,inputMethod:t})=>{
const{onBack:n}=this.props;n&&n(e,{inputMethod:t})})),Q()(this,"handleCancel",(()=>{const{onCancel:e}=this.props;e&&e()})),Q()(this,"handleUnlink",(()=>{const{onUnlink:e}=this.props;e&&e()})),Q()(this,"handleOnBlur",(e=>{this.props.onBlur(e.url)})),Q()(this,"renderContainer",(({activityProvider:e,inputProps:{onChange:t,onKeyDown:n,onSubmit:i,value:s},currentInputMethod:a,renderRecentList:c})=>{const{intl:{formatMessage:l},displayUrl:d}=this.props,u=l(Pe.backLink),p=l(o("yYBl").b.unlink),h=this.state.validationErrors.map((function(e,t){return Object(o("AeFk").jsx)(je,{key:t},e)}));return Object(o("AeFk").jsx)("div",{className:"recent-list"},Object(o("AeFk").jsx)("div",{css:[o("0dhB").a,!!e&&o("0dhB").b]},Object(o("AeFk").jsx)("div",{css:o("0dhB").c},Object(o("AeFk").jsx)("span",{css:Re},Object(o("AeFk").jsx)(o("1vCU").a,{title:u,icon:Object(o("AeFk").jsx)(o.n(o("oMky")).a,{label:u}),onClick:()=>this.handleOnBack({url:s,inputMethod:a})})),Object(o("AeFk").jsx)(o("pG8m").a,{
testId:"media-link-input",placeholder:(e=>l(e?o("yYBl").b.placeholder:o("yYBl").b.linkPlaceholder))(!!e),autoFocus:!0,onCancel:this.handleCancel,defaultValue:s,onSubmit:e=>{const t=this.getValidationErrors(e,a);this.setState({validationErrors:t}),t.length||i()},onChange:e=>{this.setState({validationErrors:[]}),t(e)},onKeyDown:n}),Object(o("CHQz").g)(d)&&Object(o("AeFk").jsx)(r.Fragment,null,Object(o("AeFk").jsx)(o("ecD3").a,null),Object(o("AeFk").jsx)(o("1vCU").a,{title:p,icon:Object(o("AeFk").jsx)(o.n(o("VAOK")).a,{label:p}),onClick:this.handleUnlink}))),!!h.length&&Object(o("AeFk").jsx)("section",{css:Me},h),c()))}))}getValidationErrors(e,t){const{intl:{formatMessage:n}}=this.props;return t===o("+PNV").f.TYPEAHEAD?[]:e?Object(o("CHQz").g)(e)?[]:[n(o("yYBl").b.invalidLink)]:[n(o("yYBl").b.emptyLink)]}render(){const{providerFactory:e,displayUrl:t}=this.props;return Object(o("AeFk").jsx)(Ie,{defaultUrl:Object(o("CHQz").g)(t),providerFactory:e,onSubmit:this.handleSubmit,
onBlur:this.handleOnBlur,render:this.renderContainer})}}_e.displayName="LinkAddToolbar";var Le=_e;function De(e){const t=x(e);if(!t||null===t.mediaPos)return!1;const{nodes:{media:n},marks:{link:o}}=e.schema,r=e.doc.nodeAt(t.mediaPos);if(!r||r.type!==n)return!1;const{parent:i}=e.doc.resolve(t.mediaPos);return i&&i.type.allowsMarkType(o)}const Fe=Object(o("D6b/").defineMessages)({altText:{id:"fabric.editor.addAltText",defaultMessage:"Alt text",description:"Add an alt text for this image"},editAltText:{id:"fabric.editor.editAltText",defaultMessage:"Edit alt text",description:"Edit an alt text for this image"},back:{id:"fabric.editor.closeAltTextEdit",defaultMessage:"Back",description:"Back to toolbar"},clear:{id:"fabric.editor.clearAltTextEdit",defaultMessage:"Clear alt text",description:"Clear alt text"},placeholder:{id:"fabric.editor.placeholderAltText",defaultMessage:"Describe this image with alt text",description:"Describe this image with alt text"},supportText:{
id:"fabric.editor.supportAltText",defaultMessage:"Alt text is useful for people using screen readers because of visual limitations.",description:"Alt text is useful for people using screen readers because of visual limitations."},validationMessage:{id:"fabric.editor.alttext.validation",defaultMessage:"Please remove any special characters in alt text.",description:"Please remove any special characters in alt text. "}});const Be=Object(o("AeFk").css)("color:","var(--ds-text-subtlest, #7A869A)",";font-size:",Object(o("anI9").fb)(12),";padding:12px 40px;line-height:20px;border-top:1px solid ","var(--ds-border, #EBECF0)",";margin:0;"),Ve=Object(o("AeFk").css)("width:",420,"px;display:flex;flex-direction:column;overflow:auto;line-height:2;"),ze={name:"1gno0n1",styles:"display:flex;line-height:0;padding:5px 0;align-items:center"
},He=Object(o("AeFk").css)("display:flex;line-height:0;padding:12px 24px 12px 0;margin:0 12px 0 40px;border-top:1px solid ","var(--ds-border-danger, #DE350B)",";align-items:start;flex-direction:column;"),Ue={name:"1p12j9m",styles:"display:flex;padding:4px 8px"},We=Object(o("AeFk").css)("color:","var(--ds-icon-subtle, #97A0AF)",";");class Ke extends i.a.Component{constructor(e){super(e),Q()(this,"state",{showClearTextButton:Boolean(this.props.value),validationErrors:this.props.value?this.getValidationErrors(this.props.value):[],lastValue:this.props.value}),Q()(this,"closeMediaAltTextMenu",(()=>{const{view:e}=this.props;h(e.state,e.dispatch)})),Q()(this,"dispatchCancelEvent",(e=>{const{view:t}=this.props;t.someProp("handleKeyDown",(n=>n(t,e)))})),Q()(this,"updateAltText",(e=>{const{view:t}=this.props;(e=>l((e=>!!Object(o("Nrp8").e)(e)&&{type:"updateAltText"}),((t,n)=>{const r=Object(o("Nrp8").b)(n),i=t.selection.from+1;return r&&(t.setMeta("scrollIntoView",!1),t.setNodeMarkup(i,void 0,{
...r.attrs,alt:e})),t})))(0===e.length?"":e)(t.state,t.dispatch)})),Q()(this,"handleOnChange",(e=>{const t=this.getValidationErrors(e);this.setState({showClearTextButton:Boolean(e),validationErrors:t,lastValue:e},(()=>{t&&t.length||this.updateAltText(e)}))})),Q()(this,"handleOnBlur",(()=>{const{value:e}=this.props,t=(this.state.lastValue||e||"").trim();this.handleOnChange(t)})),Q()(this,"handleClearText",(()=>{this.handleOnChange("")}));const{createAnalyticsEvent:t}=e;this.fireCustomAnalytics=Object(o("ViYe").a)(t)}componentDidMount(){this.prevValue=this.props.value}componentWillUnmount(){this.fireAnalytics(o("+PNV").a.CLOSED),!this.prevValue&&this.props.value&&this.fireAnalytics(o("+PNV").a.ADDED),this.prevValue&&!this.props.value&&this.fireAnalytics(o("+PNV").a.CLEARED),this.prevValue&&this.prevValue!==this.props.value&&this.fireAnalytics(o("+PNV").a.EDITED)}getValidationErrors(e){const{altTextValidator:t}=this.props;return e&&"function"==typeof t&&t(e)||[]}render(){
const{intl:{formatMessage:e}}=this.props,{showClearTextButton:t}=this.state,n=e(Fe.back),r=Object(o("AeFk").jsx)(o("QNHL").a,{description:n,keymap:o("QNHL").s,shortcutOverride:"Esc"}),i=(this.state.validationErrors||[]).map((function(e,t){return Object(o("AeFk").jsx)(je,{key:t},e)}));return Object(o("AeFk").jsx)("div",{css:Ve},Object(o("AeFk").jsx)("section",{css:ze},Object(o("AeFk").jsx)("div",{css:Ue},Object(o("AeFk").jsx)(o("1vCU").a,{title:e(Fe.back),icon:Object(o("AeFk").jsx)(o.n(o("oMky")).a,{label:e(Fe.back)}),tooltipContent:r,onClick:this.closeMediaAltTextMenu})),Object(o("AeFk").jsx)(o("pG8m").a,{testId:"alt-text-input",ariaLabel:e(Fe.placeholder),describedById:"support-text",placeholder:e(Fe.placeholder),defaultValue:this.state.lastValue,onCancel:this.dispatchCancelEvent,onChange:this.handleOnChange,onBlur:this.handleOnBlur,onSubmit:this.closeMediaAltTextMenu,maxLength:510,autoFocus:!0}),t&&Object(o("AeFk").jsx)("div",{css:Ue},Object(o("AeFk").jsx)(o("1vCU").a,{
testId:"alt-text-clear-button",title:e(Fe.clear),icon:Object(o("AeFk").jsx)("span",{css:We},Object(o("AeFk").jsx)(o.n(o("SEpd")).a,{label:e(Fe.clear)})),tooltipContent:e(Fe.clear),onClick:this.handleClearText}))),!!i.length&&Object(o("AeFk").jsx)("section",{css:He},i),Object(o("AeFk").jsx)("p",{css:Be,id:"support-text"},e(Fe.supportText)))}fireAnalytics(e){const{createAnalyticsEvent:t}=this.props;t&&this.fireCustomAnalytics&&this.fireCustomAnalytics({payload:{action:e,actionSubject:o("+PNV").b.MEDIA,actionSubjectId:o("+PNV").c.ALT_TEXT,eventType:o("+PNV").e.TRACK}})}}Ke.displayName="AltTextEditComponent";var $e=Object(o("VHV8").a)()(Object(o("o5hF").c)(Ke));const qe="alt-text-edit-button",Ge=Object(o("PAtx").a)($e),Ye=e=>({type:"custom",fallback:[],disableArrowNavigation:!0,render:(t,n)=>{if(!t)return null;const r=Object(o("Nrp8").b)(t.state);if(!r)return null;return i.a.createElement(Ge,{view:t,key:n,value:r.attrs.alt,altTextValidator:e&&e.altTextValidator,handleEscapeKeydown:e=>{
Object(o("EHlN").c)('[data-testid="alt-text-edit-button"]',t)}})}});const Qe={name:"fl753h",styles:"display:flex;align-items:center;margin-right:4px"},Xe=({editorState:e,mediaLinkingState:t,intl:n,onAddLink:i,onEditLink:s,onOpenLink:a})=>{const[c,l]=Object(r.useState)(!0);if(Object(r.useEffect)((()=>{var t;const n=T(e);if(!n)return void l(!1);const r=null===(t=o("wBzk").a.getState(e))||void 0===t?void 0:t.mediaClientConfig;r?j(n,r).then((e=>{l("external"===e||"image"===e)})):l(!1)}),[e]),!c)return null;if(t&&t.editable){const e=Object(o("Z7Qe").c)(t.link),i=n.formatMessage(o("yYBl").b.editLink),c=n.formatMessage(e?o("kALn").a.openLink:o("yYBl").b.unableToOpenLink);return Object(o("AeFk").jsx)(r.Fragment,null,Object(o("AeFk").jsx)("div",{css:Qe},Object(o("AeFk").jsx)(o("1vCU").a,{onClick:s,title:i,tooltipContent:Object(o("AeFk").jsx)(o("QNHL").a,{description:i,keymap:o("QNHL").f}),testId:"edit-link-button"},i)),Object(o("AeFk").jsx)("div",{css:Qe
},Object(o("AeFk").jsx)(o("ecD3").a,null)),Object(o("AeFk").jsx)(o("1vCU").a,{target:"_blank",href:e?t.link:void 0,disabled:!e,onClick:a,title:c,icon:Object(o("AeFk").jsx)(o.n(o("WhJf")).a,{label:c}),className:"hyperlink-open-link"}),Object(o("AeFk").jsx)(o("ecD3").a,null))}{const e=n.formatMessage(o("yYBl").b.addLink);return Object(o("AeFk").jsx)(r.Fragment,null,Object(o("AeFk").jsx)(o("1vCU").a,{testId:"add-link-button",onClick:i,title:e,tooltipContent:Object(o("AeFk").jsx)(o("QNHL").a,{description:e,keymap:o("QNHL").f}),icon:Object(o("AeFk").jsx)(o.n(o("01nc")).a,{label:e})}),Object(o("AeFk").jsx)(o("ecD3").a,null))}};var Ze=o("wSSu"),Je=o.n(Ze);const et=e=>{const t=e.selectedMediaContainerNode();return t&&t.attrs?t.attrs:null},tt=async e=>{try{const t=et(e);if(t&&e.mediaClientConfig){const{id:n,collection:r=""}=t,i=Object(o("CG+v").a)(e.mediaClientConfig),s=await i.file.getCurrentState(n,{collectionName:r}),a="error"===s.status?void 0:s.name;i.file.downloadBinary(n,a,r)}return!0
}catch(t){return!1}},nt=e=>{const{mediaGroup:t}=e.schema.nodes,n=Object(m.findParentNodeOfType)(t)(e.selection);let o=e.tr;return o=n&&1===n.node.childCount?Object(m.removeParentNodeOfType)(t)(o):Object(m.removeSelectedNode)(o),o},ot=({mediaPluginState:e,intl:t})=>{const[n,s]=Object(r.useState)(!1),a=()=>{s(!1)},c=(()=>{if(n){const t=et(e);if(t&&e.mediaClientConfig){const{id:n,collection:r=""}=t,s={id:n,mediaItemType:"file",collectionName:r};return Je.a.createPortal(i.a.createElement(o("HYlX").a,{collectionName:r,items:[],mediaClientConfig:e.mediaClientConfig,selectedItem:s,onClose:a}),document.body)}}return null})(),l=t.formatMessage(o("XU+y").a.preview);return i.a.createElement("div",null,i.a.createElement(o("1vCU").a,{testId:"file-preview-toolbar-button",key:"editor.media.card.preview",onClick:()=>{s(!0)},icon:i.a.createElement(o.n(o("BOO7")).a,{label:"file preview"}),tooltipContent:l}),c)};var rt=o("MEpN");const it="#091e4224",st=(e,t)=>{
const{media:n,mediaInline:r,mediaGroup:i}=e.schema.nodes,a=e.selection instanceof s.NodeSelection&&e.selection.node.type===r&&e.selection.node;if(!a)return!1;const{id:c,type:l,collection:d}=a.attrs,u=n.createChecked({id:c,type:l,collection:d}),p=i.createChecked({},u),h=e.tr.doc.resolve(e.selection.from).end();let f=e.tr;return f=Object(m.removeSelectedNode)(f),f=Object(m.safeInsert)(p,h,!0)(f),t&&(Object(o("SVcB").a)(e,f,{action:o("+PNV").a.CHANGED_TYPE,actionSubject:o("+PNV").b.MEDIA,eventType:o("+PNV").e.TRACK,attributes:{newType:o("+PNV").c.MEDIA_GROUP,previousType:o("+PNV").c.MEDIA_INLINE}}),t(f)),!0},at=(e,t)=>{const{media:n,mediaInline:r,paragraph:i}=e.schema.nodes,a=e.selection instanceof s.NodeSelection&&e.selection.node;if(!a||!a.type===n)return!1;const c=r.create({id:a.attrs.id,collection:a.attrs.collection}),l=e.schema.text(" ");let d=rt.Fragment.from([c,l]);const u=i.createChecked({},d),p=e.tr.doc.resolve(e.selection.from).start()-1;let h=nt(e)
;return h=Object(m.safeInsert)(u,p,!0)(h),t&&(Object(o("SVcB").a)(e,h,{action:o("+PNV").a.CHANGED_TYPE,actionSubject:o("+PNV").b.MEDIA,eventType:o("+PNV").e.TRACK,attributes:{newType:o("+PNV").c.MEDIA_INLINE,previousType:o("+PNV").c.MEDIA_GROUP}}),t(h)),!0},ct=(e,t)=>!!Object(m.isNodeSelection)(e.selection)&&(t&&t(Object(m.removeSelectedNode)(e.tr)),!0),lt=[];o("JmPa").b.forEach(((e,t)=>{const n=e.toLowerCase().replace(" ","-"),r=Object(o("cL9K").a)(o("5Svd").a,n);lt.push({value:t,label:e,border:o("aYdX").a,message:r})}));var dt=lt
;const ut=175,pt=32,ht=Object(o("7w+A").gridSize)()/2,ft=Object(o("AeFk").css)("display:flex;&::after{content:'\u203a';margin-left:4px;line-height:20px;color:","var(--ds-icon, #8993A4)",";}"),mt=e=>Object(o("AeFk").css)(ft," &::before{content:'';display:block;border:1px solid ",o("aYdX").a,";border-radius:var(--ds-radius-100, 3px);width:20px;height:20px;",e&&`background: ${e}`,";}"),bt=e=>Object(o("AeFk").css)("border-radius:var(--ds-radius-100, 3px);background:var(--ds-surface-overlay, white);box-shadow:","var(--ds-shadow-overlay, 0 4px 8px -2px rgba(9, 30, 66, 0.31), 0 0 1px rgba(9, 30, 66, 0.31))",";display:flex;position:absolute;top:",e*(pt+2*ht),"px;left:",ut,"px;padding:8px;>div{padding:0;}"),gt=e=>Object(o("AeFk").css)("height:26px;width:26px;padding:0;border-radius:4px;background-color:",e?"var(--ds-text, #172B4D)":"var(--ds-background-neutral, rgba(9, 30, 66, 0.04))",";border:1px solid ",o("aYdX").a,";cursor:pointer;display:block;"),vt=Object(o("AeFk").css)("border:1px solid transparent;margin:1px;font-size:0;display:flex;align-items:center;padding:1px;border-radius:6px;&:focus-within,&:focus,&:hover{border-color:","#C1C7D0","!important;}"),yt=(e,t)=>Object(o("AeFk").css)("position:relative;&:before{content:'';display:block;position:absolute;top:50%;left:50%;width:12px;height:",e,"px;background-color:",t?"var(--ds-icon-inverse, #FFFFFF)":"var(--ds-icon, #44546F)",";border-radius:90px;transform:translate(-50%, -50%) rotate(135deg);}"),Ot=({enabled:e,isOpen:t})=>Object(o("AeFk").css)("display:flex;.image-border-toolbar-btn{border-top-right-radius:0;border-bottom-right-radius:0;padding:0;&>span{margin:0;}}.image-border-toolbar-dropdown{padding:0;width:16px!important;border-top-left-radius:0!important;border-bottom-left-radius:0!important;margin-left:1px;&>span{margin:0;}}&:hover{.image-border-toolbar-btn{",!e&&" background: var(--ds-background-neutral-subtle-hovered, rgba(9, 30, 66, 0.08));",";}.image-border-toolbar-dropdown{",!t&&"background: var(--ds-background-neutral-subtle-hovered, rgba(9, 30, 66, 0.08));",";}}"),Et=Object(o("D6b/").defineMessages)({
borderColor:{id:"fabric.editor.imageBorderColor",defaultMessage:"Color",description:"Change the border color of an image."},borderSize:{id:"fabric.editor.imageBorderSize",defaultMessage:"Size",description:"Change the border size of an image."},addBorder:{id:"fabric.editor.addImageBorder",defaultMessage:"Add border",description:"Add a border to an image."},removeBorder:{id:"fabric.editor.removeImageBorder",defaultMessage:"Remove border",description:"Remove the border of an image."},borderOptions:{id:"fabric.editor.imageBorderOptions",defaultMessage:"Border options",description:"Display options available for customizing the border of an image."},borderSizeSubtle:{id:"fabric.editor.imageBorderSubtle",defaultMessage:"Subtle",description:"Name of a border size."},borderSizeMedium:{id:"fabric.editor.imageBorderMedium",defaultMessage:"Medium",description:"Name of a border size."},borderSizeBold:{id:"fabric.editor.imageBorderBold",defaultMessage:"Bold",description:"Name of a border size."}})
;var wt=({intl:{formatMessage:e},toggleBorder:t,showSomewhatSemanticTooltips:n,borderMark:i,setBorder:s})=>{const a=Object(r.useRef)(null),c=!!i,l=null==i?void 0:i.color,d=null==i?void 0:i.size,[u,p]=Object(r.useState)(!1),[h,f]=Object(r.useState)(!1),[m,b]=Object(r.useState)(!1),g=[{name:e(Et.borderSizeSubtle),value:1},{name:e(Et.borderSizeMedium),value:2},{name:e(Et.borderSizeBold),value:3}],v=[{content:e(Et.borderColor),value:{name:"color"},elemAfter:Object(o("AeFk").jsx)("div",{className:o("OwO3").a.SUBMENU},Object(o("AeFk").jsx)("div",{css:mt(l&&Object(o("QjMM").a)(l))}),h&&Object(o("AeFk").jsx)("div",{css:bt(0)},Object(o("AeFk").jsx)(o("XMlW").a,{onClick:e=>{s({color:e}),p(!u)},selectedColor:null!=l?l:null,paletteOptions:{palette:dt,paletteColorTooltipMessages:o("aDti").b,hexToPaletteColor:o("QjMM").a,showSomewhatSemanticTooltips:n}})))},{content:e(Et.borderSize),value:{name:"size"},elemAfter:Object(o("AeFk").jsx)("div",{className:o("OwO3").a.SUBMENU
},Object(o("AeFk").jsx)("div",{css:ft}),m&&Object(o("AeFk").jsx)("div",{css:bt(1)},g.map((({name:e,value:t},n)=>Object(o("AeFk").jsx)(o("Yto1").a,{key:n,content:e},Object(o("AeFk").jsx)("span",{css:vt},Object(o("AeFk").jsx)("button",{css:gt(t===d),"aria-label":e,role:"radio","aria-checked":t===d,onClick:()=>{s({size:t}),p(!1)},onMouseDown:e=>{e.preventDefault()}},Object(o("AeFk").jsx)("div",{css:yt(t,t===d),role:"presentation"}))))))))}],y=ut,O=v.length*(pt+ht);return Object(o("AeFk").jsx)("div",null,Object(o("AeFk").jsx)("div",{css:Ot({enabled:c,isOpen:u})},Object(o("AeFk").jsx)(o("aEOQ").a,{className:"image-border-toolbar-btn",selected:c,onClick:t,spacing:"compact","aria-label":e(c?Et.removeBorder:Et.addBorder),iconBefore:Object(o("AeFk").jsx)(o("uBDH").a,{label:""}),title:e(c?Et.removeBorder:Et.addBorder)}),Object(o("AeFk").jsx)("div",{ref:a},Object(o("AeFk").jsx)(o("aEOQ").a,{className:"image-border-toolbar-dropdown",selected:u,"aria-label":e(Et.borderOptions),
title:e(Et.borderOptions),spacing:"compact",iconBefore:Object(o("AeFk").jsx)(o.n(o("1YpF")).a,{label:""}),onClick:()=>{p(!u)}}))),Object(o("AeFk").jsx)(o("poXX").a,{target:a.current?a.current:void 0,fitWidth:y+10,fitHeight:O+10,forcePlacement:!0,stick:!0},Object(o("AeFk").jsx)("div",{onMouseLeave:()=>{f(!1),b(!1)}},Object(o("AeFk").jsx)(o("L92d").a,{arrowKeyNavigationProviderOptions:{type:o("0ap2").a.MENU,disableArrowKeyNavigation:!0},items:[{items:v}],isOpen:u,onOpenChange:()=>{p(!1),f(!1),b(!1)},onItemActivated:({item:e})=>{"color"===e.value.name&&f(!h),"size"===e.value.name&&b(!m)},onMouseEnter:({item:e})=>{"color"===e.value.name&&f(!0),"size"===e.value.name&&b(!0)},onMouseLeave:({item:e})=>{"color"===e.value.name&&f(!1),"size"===e.value.name&&b(!1)},fitWidth:y+10,fitHeight:O+10}))))};const St=(e,t)=>(t&&t(Object(m.removeSelectedNode)(e.tr)),!0),kt=(e,t)=>{const n=nt(e);return t&&t(n),!0},xt=(e,t,n,r,a,c)=>{
const{mediaSingle:l}=e.schema.nodes,{allowResizing:d,allowLinking:u,allowAdvancedToolBarOptions:p,allowResizingInTables:h,allowAltTextOnImages:m}=n;let b=[];(function(e){const t=e.schema.marks.border;if(!t)return!1;const n=C(e);if(!n)return!1;let{parent:o}=e.doc.resolve(n.pos);return o&&o.type.allowsMarkType(t)})(e)&&b.push({type:"custom",fallback:[],render:e=>{if(!e)return null;const{dispatch:n,state:r}=e,a=(e=>{const t=T(e);if(!t)return;const n=t.marks.find((e=>"border"===e.type.name));return n?n.attrs:void 0})(r);return i.a.createElement(wt,{toggleBorder:()=>{((e,t)=>{const n=C(e);if(!n)return!1;const{node:r,pos:i}=n,a=r.marks.find((e=>"border"===e.type.name)),c=r.marks.filter((e=>"border"!==e.type.name)).concat(a?[]:e.schema.marks.border.create({color:it,size:2})),l=e.tr.setNodeMarkup(i,r.type,r.attrs,c);l.setMeta("scrollIntoView",!1),e.selection instanceof s.NodeSelection&&e.selection.$anchor.pos===e.selection.from&&l.setSelection(s.NodeSelection.create(l.doc,e.selection.from)),
t&&(null!=a&&a.attrs?Object(o("SVcB").a)(e,l,{action:o("+PNV").a.DELETED,actionSubject:o("+PNV").b.MEDIA,actionSubjectId:o("+PNV").c.BORDER,eventType:o("+PNV").e.TRACK,attributes:{previousColor:a.attrs.color,previousSize:a.attrs.size}}):Object(o("SVcB").a)(e,l,{action:o("+PNV").a.ADDED,actionSubject:o("+PNV").b.MEDIA,actionSubjectId:o("+PNV").c.BORDER,eventType:o("+PNV").e.TRACK,attributes:{color:it,size:2}}),t(l))})(r,n)},setBorder:e=>{(e=>(t,n)=>{var r,i,a,c,l;const d=C(t);if(!d)return!1;const{node:u,pos:p}=d,h=null===(r=u.marks.find((e=>"border"===e.type.name)))||void 0===r?void 0:r.attrs,f=null!==(i=null!==(a=e.color)&&void 0!==a?a:null==h?void 0:h.color)&&void 0!==i?i:it,m=null!==(c=null!==(l=e.size)&&void 0!==l?l:null==h?void 0:h.size)&&void 0!==c?c:2,b=u.marks.filter((e=>"border"!==e.type.name)).concat(t.schema.marks.border.create({color:f,size:m})),g=t.tr.setNodeMarkup(p,u.type,u.attrs,b);return g.setMeta("scrollIntoView",!1),
t.selection instanceof s.NodeSelection&&t.selection.$anchor.pos===t.selection.from&&g.setSelection(s.NodeSelection.create(g.doc,t.selection.from)),n&&(Object(o("SVcB").a)(t,g,{action:o("+PNV").a.UPDATED,actionSubject:o("+PNV").b.MEDIA,actionSubjectId:o("+PNV").c.BORDER,eventType:o("+PNV").e.TRACK,attributes:{previousColor:null==h?void 0:h.color,previousSize:null==h?void 0:h.size,newColor:f,newSize:m}}),n(g)),!0})(e)(r,n)},showSomewhatSemanticTooltips:null==c?void 0:c().useSomewhatSemanticTextColorNames,borderMark:a,intl:t})}}),p&&(b=[...b,...Object(o("VV44").a)(e,t,e.schema.nodes.mediaSingle,d,h)],b.length&&b.push({type:"separator"}),u&&De(e)&&b.push({type:"custom",fallback:[],render:(e,n)=>{if(null!=e&&e.state){const r=()=>{if(e){const{state:t,dispatch:n}=e;A(t,n)}},s=()=>{if(e){const{state:t,dispatch:n}=e;return n(Object(o("SVcB").a)(t,t.tr,{eventType:o("+PNV").e.TRACK,action:o("+PNV").a.VISITED,actionSubject:o("+PNV").b.MEDIA,actionSubjectId:o("+PNV").c.LINK})),!0}}
;return i.a.createElement(Xe,{key:n,editorState:e.state,intl:t,mediaLinkingState:a,onAddLink:r,onEditLink:r,onOpenLink:s})}return null}})),m&&b.push(((e,t)=>{const n=Object(o("Nrp8").b)(t),r=n&&n.attrs.alt?Fe.editAltText:Fe.altText,s=e.formatMessage(r);return{title:s,id:"editor.media.altText",type:"button",onClick:f,showTitle:!0,testId:qe,tooltipContent:i.a.createElement(o("QNHL").a,{description:s,keymap:o("QNHL").b})}})(t,e),{type:"separator"});const g={id:"editor.media.delete",type:"button",appearance:"danger",focusEditoronEnter:!0,icon:o.n(o("Fn6O")).a,onMouseEnter:Object(o("lgPy").d)(l,!0),onMouseLeave:Object(o("lgPy").d)(l,!1),onFocus:Object(o("lgPy").d)(l,!0),onBlur:Object(o("lgPy").d)(l,!1),title:t.formatMessage(o("yYBl").a.remove),onClick:St,testId:"media-toolbar-remove-button"};return[...b,{type:"copy-button",items:[{state:e,formatMessage:t.formatMessage,nodeType:l},{type:"separator"}]},g]},Ct=(e,t,n={})=>{
const{media:r,mediaInline:a,mediaSingle:c,mediaGroup:l}=e.schema.nodes,{altTextValidator:u,allowLinking:p,allowAltTextOnImages:h,providerFactory:f,allowMediaInline:b,getEditorFeatureFlags:g}=n,v=o("wBzk").a.getState(e),y=x(e);if(!v)return;const O={title:"Media floating controls",nodeType:b?[a,c,r]:[c],getDomRef:()=>v.element};if(p&&y&&y.visible&&De(e)){const n=((e,t,n,r,s)=>{const{link:a,visible:c,editable:l,mediaPos:d}=t;if(c&&null!==d&&n.doc.nodeAt(d))return{...e,height:360,width:420,forcePlacement:!0,items:[{type:"custom",fallback:[],disableArrowNavigation:!0,render:(e,t)=>e&&s?i.a.createElement(Le,{key:t,displayUrl:a,providerFactory:s,intl:r,editing:l,onUnlink:()=>_(e.state,e.dispatch,e),onBack:(t,n)=>{t.trim()&&n.inputMethod&&D(t,n.inputMethod)(e.state,e.dispatch,e),P(e.state,e.dispatch,e)},onCancel:()=>{P(e.state,e.dispatch,e,!0),Object(o("EHlN").c)('[data-testid="add-link-button"],[data-testid="edit-link-button"]',e)},onSubmit:(t,n)=>{D(t,n.inputMethod)(e.state,e.dispatch,e),
P(e.state,e.dispatch,e)},onBlur:()=>{P(e.state,e.dispatch,e)}}):null}]}})(O,y,e,t,f);if(n)return n}if(h){if(d(e).isAltTextEditorOpen)return((e,t)=>({...e,width:420,className:o("KG1a").a.FLOATING_TOOLBAR_COMPONENT,items:[Ye(t)]}))(O,{altTextValidator:u})}let E=[];const w=Object(m.findParentNodeOfType)(l)(e.selection);let S;if(e.selection instanceof s.NodeSelection&&(S=e.selection.node.type),b&&(null==w?void 0:w.node.type)===l){const n=e.selection.$from.parentOffset+1;O.getDomRef=()=>{var e;const t=(e=>`.media-filmstrip-list-item:nth-child(${e})`)(n);return null===(e=v.element)||void 0===e?void 0:e.querySelector(t)},E=((e,t,n)=>{const{mediaGroup:r}=e.schema.nodes;return[{id:"editor.media.view.switcher",type:"dropdown",title:t.formatMessage(o("XU+y").a.changeView),options:[{id:"editor.media.view.switcher.inline",title:t.formatMessage(o("y4yO").a.inline),selected:!1,disabled:!1,onClick:at,testId:"inline-appearance"},{id:"editor.media.view.switcher.thumbnail",
title:t.formatMessage(o("XU+y").a.displayThumbnail),selected:!0,disabled:!1,onClick:()=>!0,testId:"thumbnail-appearance"}]},{type:"separator"},{type:"custom",fallback:[],render:()=>i.a.createElement(ot,{key:"editor.media.card.preview",mediaPluginState:n,intl:t})},{type:"separator"},{id:"editor.media.card.download",type:"button",icon:o.n(o("s49W")).a,onClick:()=>(tt(n),!0),title:t.formatMessage(o("XU+y").a.download)},{type:"separator"},{type:"copy-button",items:[{state:e,formatMessage:t.formatMessage,nodeType:r},{type:"separator"}]},{id:"editor.media.delete",type:"button",appearance:"danger",focusEditoronEnter:!0,icon:o.n(o("Fn6O")).a,onMouseEnter:Object(o("lgPy").d)(r,!0),onMouseLeave:Object(o("lgPy").d)(r,!1),onFocus:Object(o("lgPy").d)(r,!0),onBlur:Object(o("lgPy").d)(r,!1),title:t.formatMessage(o("yYBl").a.remove),onClick:kt,testId:"media-toolbar-remove-button"}]})(e,t,v)}else b&&S&&S===a?(O.getDomRef=()=>{var e
;return(null===(e=v.element)||void 0===e?void 0:e.querySelector(".media-inline-node"))||v.element},E=((e,t,n)=>{const{mediaInline:r}=e.schema.nodes;return[{id:"editor.media.view.switcher",type:"dropdown",title:t.formatMessage(o("XU+y").a.changeView),options:[{id:"editor.media.view.switcher.inline",title:t.formatMessage(o("y4yO").a.inline),selected:!0,disabled:!1,onClick:()=>!0,testId:"inline-appearance"},{id:"editor.media.view.switcher.thumbnail",title:t.formatMessage(o("XU+y").a.displayThumbnail),selected:!1,disabled:!1,onClick:st,testId:"thumbnail-appearance"}]},{type:"separator"},{type:"custom",fallback:[],render:()=>i.a.createElement(ot,{key:"editor.media.card.preview",mediaPluginState:n,intl:t})},{type:"separator"},{id:"editor.media.card.download",type:"button",icon:o.n(o("s49W")).a,onClick:()=>(tt(n),!0),title:t.formatMessage(o("XU+y").a.download)},{type:"separator"},{type:"copy-button",items:[{state:e,formatMessage:t.formatMessage,nodeType:r},{type:"separator"}]},{
id:"editor.media.delete",type:"button",appearance:"danger",focusEditoronEnter:!0,icon:o.n(o("Fn6O")).a,onMouseEnter:Object(o("lgPy").d)(r,!0),onMouseLeave:Object(o("lgPy").d)(r,!1),onFocus:Object(o("lgPy").d)(r,!0),onBlur:Object(o("lgPy").d)(r,!1),title:t.formatMessage(o("yYBl").a.remove),onClick:ct,testId:"media-toolbar-remove-button"}]})(e,t,v)):(O.getDomRef=()=>{var e;return(null===(e=v.element)||void 0===e?void 0:e.querySelector(".media-single-node"))||v.element},E=xt(e,t,n,0,y,g));return{...O,items:E,scrollable:!0}},Tt={on:()=>{},removeAllListeners:()=>{},emit:()=>{},destroy:()=>{},setUploadParams:()=>{}};class jt extends i.a.Component{constructor(...e){super(...e),Q()(this,"state",{}),Q()(this,"handleMediaProvider",(async(e,t)=>{const{mediaState:n,analyticsName:r}=this.props,i=await t;if(!i||!i.uploadParams)return;const s=await i.uploadMediaClientConfig||await i.viewMediaClientConfig;if(!s)return;const a={mediaClientConfig:s,
errorReporter:n.options.errorReporter||new(o("AG9f").a),featureFlags:n.mediaOptions&&n.mediaOptions.featureFlags},c=await new(o("8ORD").a)("customMediaPicker",a,Tt,r).init();c.onNewMedia(n.insertFile),c.setUploadParams(i.uploadParams);const l={uploadParams:i.uploadParams};this.setState({pickerFacadeInstance:c,config:l,mediaClientConfig:s})}))}componentDidMount(){this.props.mediaState.options.providerFactory.subscribe("mediaProvider",this.handleMediaProvider)}componentWillUnmount(){this.props.mediaState.options.providerFactory.unsubscribe("mediaProvider",this.handleMediaProvider)}render(){const{mediaClientConfig:e,config:t,pickerFacadeInstance:n}=this.state;return e&&t&&n?this.props.children({mediaClientConfig:e,config:t,pickerFacadeInstance:n}):null}}jt.displayName="PickerFacadeProvider";var At=o("ga5A");const Nt=({mediaState:e,featureFlags:t})=>i.a.createElement(jt,{mediaState:e,analyticsName:"clipboard"
},(({mediaClientConfig:e,config:n,pickerFacadeInstance:o})=>i.a.createElement(At.b,{mediaClientConfig:e,config:n,onError:o.handleUploadError,onPreviewUpdate:o.handleUploadPreviewUpdate,onEnd:o.handleReady,featureFlags:t}))),It=({mediaState:e,isActive:t,featureFlags:n,editorDomElement:r,appearance:s})=>i.a.createElement(jt,{mediaState:e,analyticsName:"dropzone"},(({mediaClientConfig:a,config:c,pickerFacadeInstance:l})=>{const{options:{customDropzoneContainer:d},handleDrag:u}=e,p=r,h="full-page"===s&&Object(o("fuko").c)(p),f={...c,container:d||h||p};return t?i.a.createElement(At.c,{mediaClientConfig:a,config:f,onError:l.handleUploadError,onPreviewUpdate:l.handleUploadPreviewUpdate,onEnd:l.handleReady,onDragEnter:()=>u("enter"),onDragLeave:()=>u("leave"),featureFlags:n}):null})),Pt=({mediaState:e,isOpen:t,onBrowseFn:n,featureFlags:o})=>i.a.createElement(jt,{mediaState:e,analyticsName:"browser"},(({mediaClientConfig:e,config:r,pickerFacadeInstance:s})=>{const a={...r,multiple:!0}
;return i.a.createElement(At.a,{onBrowseFn:n,isOpen:t,config:a,mediaClientConfig:e,onEnd:s.handleReady,onError:s.handleUploadError,onPreviewUpdate:s.handleUploadPreviewUpdate,featureFlags:o})}));class Mt extends i.a.Component{constructor(...e){super(...e),Q()(this,"state",{isPopupOpened:!1}),Q()(this,"onBrowseFn",(e=>{const{mediaState:t}=this.props;t&&t.setBrowseFn(e)}))}componentDidMount(){const{mediaState:e}=this.props;e.onPopupToggle((e=>{this.setState({isPopupOpened:e})}))}render(){const{mediaState:e,editorDomElement:t,appearance:n}=this.props,{isPopupOpened:r}=this.state,s=e.mediaOptions&&e.mediaOptions.featureFlags;return i.a.createElement(o("fd7e").a,{plugins:{focus:o("HxAM").b},render:({focus:o})=>{const a=o?i.a.createElement(Nt,{mediaState:e,featureFlags:s}):null;return i.a.createElement(i.a.Fragment,null,a,i.a.createElement(It,{mediaState:e,isActive:!r,featureFlags:s,editorDomElement:t,appearance:n}),i.a.createElement(Pt,{onBrowseFn:this.onBrowseFn,mediaState:e,featureFlags:s
}))}})}}Mt.displayName="MediaPickerComponents",Q()(Mt,"displayName","MediaPickerComponents");var Rt=o("OhBV");class _t extends r.Component{constructor(e){super(e),Q()(this,"state",{}),Q()(this,"setViewMediaClientConfig",(async()=>{const e=await this.props.mediaProvider;if(e){const t=e.viewMediaClientConfig;this.setState({viewMediaClientConfig:t})}})),Q()(this,"selectMediaSingleFromCard",(({event:e})=>{this.selectMediaSingle(e)})),Q()(this,"selectMediaSingle",(e=>{e.stopPropagation();const t=this.props.getPos(),{state:n}=this.props.view;if(e.shiftKey){if(n.selection instanceof o("n1Ll").a)return;Object(o("XyUv").h)(this.props.view,n.selection.from<t?n.selection.from:t-1,n.selection.to>t?n.selection.to:t+2)}else Object(o("XyUv").g)(this.props.view,t-1)})),Q()(this,"onFullscreenChange",(e=>{this.mediaPluginState.updateAndDispatch({isFullscreen:e})})),Q()(this,"handleNewNode",(e=>{const{node:t}=e;this.mediaPluginState.handleMediaNodeMount(t,(()=>this.props.getPos()))}))
;const{view:t}=this.props;this.mediaPluginState=o("wBzk").a.getState(t.state)}shouldComponentUpdate(e,t){const n=!this.state.viewMediaClientConfig&&t.viewMediaClientConfig;return!(this.props.selected===e.selected&&this.props.node.attrs.id===e.node.attrs.id&&this.props.node.attrs.collection===e.node.attrs.collection&&this.props.maxDimensions.height===e.maxDimensions.height&&this.props.maxDimensions.width===e.maxDimensions.width&&this.props.contextIdentifierProvider===e.contextIdentifierProvider&&this.props.isLoading===e.isLoading&&this.props.mediaProvider===e.mediaProvider&&!n)}async componentDidMount(){this.handleNewNode(this.props);const{contextIdentifierProvider:e}=this.props;this.setState({contextIdentifierProvider:await e}),await this.setViewMediaClientConfig()}componentWillUnmount(){const{node:e}=this.props;this.mediaPluginState.handleMediaNodeUnmount(e)}componentDidUpdate(e){e.node.attrs.id!==this.props.node.attrs.id&&(this.mediaPluginState.handleMediaNodeUnmount(e.node),
this.handleNewNode(this.props)),this.mediaPluginState.updateElement(),this.setViewMediaClientConfig()}render(){const{node:e,selected:t,originalDimensions:n,isLoading:r,maxDimensions:s,mediaOptions:a}=this.props,c=e.marks.find((e=>"border"===e.type.name)),{viewMediaClientConfig:l,contextIdentifierProvider:d}=this.state,{id:u,type:p,collection:h,url:f,alt:m}=e.attrs;if(r||"external"!==p&&!l)return i.a.createElement(ve,{dimensions:n},i.a.createElement(o("2euv").a,null));const b=d&&d.objectId,g="external"===p?{dataURI:f,name:f,mediaItemType:"external-image"}:{id:u,mediaItemType:"file",collectionName:h},v=l||{authProvider:()=>({})};return i.a.createElement(ve,{dimensions:n,onContextMenu:this.selectMediaSingle,borderWidth:null==c?void 0:c.attrs.size,selected:t},i.a.createElement(o("APFK").a,{data:{[Rt.h]:{border:!!c}}},i.a.createElement(o("xLAl").a,{mediaClientConfig:v,resizeMode:"stretchy-fit",dimensions:s,originalDimensions:n,identifier:g,selectable:!0,selected:t,disableOverlay:!0,
onFullscreenChange:this.onFullscreenChange,onClick:this.selectMediaSingleFromCard,useInlinePlayer:a&&a.allowLazyLoading,isLazy:a&&a.allowLazyLoading,featureFlags:a&&a.featureFlags,contextId:b,alt:m})))}}_t.displayName="MediaNode";var Lt=Object(o("f7y9").a)(_t);class Dt extends o("HAbh").a{constructor(...e){super(...e),Q()(this,"renderMediaNodeWithState",((e,t)=>({width:n})=>{const r=this.getPos,{mediaOptions:a}=this.reactComponentProps,{selection:c}=this.view.state,l=this.getAttrs(),d="external"===l.type?l.url:"";let{width:u,height:p}=l;if(this.isMediaBlobUrl()){const e=Object(o("WUE1").b)(d);if(e){const{width:t,height:n}=e;u=u||t,p=p||n}}u=u||o("zaYB").b,p=p||o("zaYB").a;const h={width:`${n.width}px`,height:p/u*n.width+"px"},f={width:u,height:p};return i.a.createElement(Lt,{view:this.view,node:this.node,getPos:r,selected:(()=>this.isNodeInsideSelection(c.from,c.to)||c instanceof s.NodeSelection&&c.from===r())(),originalDimensions:f,maxDimensions:h,url:d,mediaProvider:e,
contextIdentifierProvider:t,mediaOptions:a})})),Q()(this,"renderMediaNodeWithProviders",(({mediaProvider:e,contextIdentifierProvider:t})=>i.a.createElement(o("fd7e").a,{editorView:this.view,plugins:{width:o("IXso").b},render:this.renderMediaNodeWithState(e,t)})))}createDomRef(){const e=document.createElement("div");return this.reactComponentProps.mediaOptions&&this.reactComponentProps.mediaOptions.allowMediaSingleEditable&&(e.contentEditable="true"),e}viewShouldUpdate(e){return this.node.attrs!==e.attrs||super.viewShouldUpdate(e)}stopEvent(e){if(-1!==["mousedown","contextmenu"].indexOf(e.type)){if(2===e.button)return!0}return!1}getAttrs(){const{attrs:e}=this.node;return e}isMediaBlobUrl(){const e=this.getAttrs();return Object(o("Nrp8").d)(e)}render(){const{providerFactory:e}=this.reactComponentProps;return i.a.createElement(o("D0us").a,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:e,renderNode:this.renderMediaNodeWithProviders})}}
Dt.displayName="MediaNodeView";const Ft=(e,t,n,o={})=>(r,i,s)=>new Dt(r,i,s,e,t,{eventDispatcher:t,providerFactory:n,mediaOptions:o},void 0,void 0,void 0,!0).init(),Bt=async t=>{const n=(e=>{const t=e.node;return new re({...e,isMediaSingle:!0,node:t||e.node,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,contextIdentifierProvider:e.contextIdentifierProvider})})(t),{addPendingTask:o}=t.mediaPluginState,r=t.node;if(!r)return;n.getNodeContextId()||await n.updateContextId();if(await n.hasDifferentContextId())try{const e=n.copyNode({traceId:r.attrs.__mediaTraceId});o(e),await e}catch(e){return}await n.updateMediaSingleFileAttrs()},Vt=e=>{const[t,n]=Object(r.useState)();Object(r.useEffect)((()=>((e=>{const{node:t,mediaPluginState:n,getPos:o}=e;n.handleMediaNodeMount(t,(()=>o()))})(e),Bt(e),s(e),()=>{const{mediaPluginState:t}=e;t.handleMediaNodeUnmount(e.node)})),[e]);const s=async e=>{const t=await e.mediaProvider;if(t){const e=t.viewMediaClientConfig;n(e)}
},{id:a,collection:c}=e.node.attrs,l={id:a,mediaItemType:"file",collectionName:c};return t?i.a.createElement(o("147O").a,{isSelected:e.isSelected,identifier:l,mediaClientConfig:t}):i.a.createElement(o("Zh7B").a,{message:"",isSelected:!1})};class zt extends o("HAbh").a{createDomRef(){const e=document.createElement("span");return e.contentEditable="false",e}getContentDOM(){const e=document.createElement("span");return e.classList.add("media-inline-node"),{dom:e}}ignoreMutation(){return!0}viewShouldUpdate(e){return this.node.attrs!==e.attrs||super.viewShouldUpdate(e)}render(e){const{providerFactory:t}=e,n=this.getPos;return i.a.createElement(o("D0us").a,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:t,renderNode:({mediaProvider:e,contextIdentifierProvider:t})=>e?i.a.createElement(o("fd7e").a,{editorView:this.view,plugins:{mediaPluginState:o("wBzk").a},render:({mediaPluginState:o})=>o?i.a.createElement(Vt,{identifier:this.node.attrs.id,mediaProvider:e,
mediaPluginState:o,node:this.node,isSelected:this.nodeInsideSelection(),view:this.view,getPos:n,contextIdentifierProvider:t}):null}):null})}}zt.displayName="MediaInlineNodeView";const Ht=(e,t,n,o)=>(r,i,s)=>new zt(r,i,s,e,t,{providerFactory:n,dispatchAnalyticsEvent:o}).init();n.a=(e={},t)=>{var n,r;const a=(null==t||null===(n=t.dependencies)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r.sharedState.currentState())||{};return{name:"media",nodes(){const{allowMediaGroup:t=!0,allowMediaSingle:n=!1,featureFlags:r}=e||{},i=Object(o("CzTa").b)("captions",r),s=Object(o("CzTa").b)("mediaInline",r),a=i?o("im5F").b:o("im5F").a;return[{name:"mediaGroup",node:o("ukiq").a},{name:"mediaSingle",node:a},{name:"media",node:o("kJ/d").d},{name:"mediaInline",node:o("nQ4j").a}].filter((e=>"mediaGroup"===e.name?t:"mediaSingle"===e.name?n:"mediaInline"!==e.name||s))},pmPlugins(){const t=[{name:"media",
plugin:({schema:t,dispatch:n,getIntl:r,eventDispatcher:i,providerFactory:s,errorReporter:c,portalProviderAPI:l,reactContext:d,dispatchAnalyticsEvent:u})=>Object(o("ftVL").a)(t,{providerFactory:s,nodeViews:{mediaGroup:ue(l,i,s,e),mediaSingle:ke(l,i,s,u,e),media:Ft(l,i,s,e),mediaInline:Ht(l,i,s)},errorReporter:c,uploadErrorHandler:e&&e.uploadErrorHandler,waitForMediaUpload:e&&e.waitForMediaUpload,customDropzoneContainer:e&&e.customDropzoneContainer,customMediaPicker:e&&e.customMediaPicker,allowResizing:!(!e||!e.allowResizing)},d,r,n,e,a.newInsertionBehaviour)},{name:"mediaKeymap",plugin:()=>K(e)}];return e&&e.allowMediaSingle&&t.push({name:"mediaSingleKeymap",plugin:({schema:e})=>function(e){const t={},n=y(e);return o("QNHL").l(o("QNHL").k.common,n,t),Object(p.b)(t)}(e)}),e&&e.allowAltTextOnImages&&(t.push({name:"mediaAltText",plugin:u}),t.push({name:"mediaAltTextKeymap",plugin:({schema:e})=>function(e){const t={};return o("QNHL").l(o("QNHL").b.common,f,t),
o("QNHL").l(o("QNHL").s.common,h,t),Object(p.b)(t)}()})),e&&e.allowLinking&&(t.push({name:"mediaLinking",plugin:({dispatch:e})=>(e=>new(o("KkS8").a)({key:E,state:S.createPluginState(e,w)}))(e)}),t.push({name:"mediaLinkingKeymap",plugin:({schema:e})=>function(e){const t={};return o("QNHL").l(o("QNHL").f.common,N,t),Object(p.b)(t)}()})),t.push({name:"mediaSelectionHandler",plugin:()=>new(o("KkS8").a)({key:new s.PluginKey("mediaSelectionHandlerPlugin"),props:{handleScrollToSelection:e=>{const{state:{selection:t}}=e;if(!(t instanceof s.NodeSelection)||"media"!==t.node.type.name)return!1;const{node:n,offset:o}=e.domAtPos(t.from);return o===n.childNodes.length}}})}),t},contentComponent:({editorView:e,appearance:t})=>i.a.createElement(i.a.Fragment,null,i.a.createElement(o("fd7e").a,{editorView:e,plugins:{mediaState:o("wBzk").a},render:({mediaState:n})=>i.a.createElement(Mt,{editorDomElement:e.dom,mediaState:n,appearance:t})})),
secondaryToolbarComponent:({editorView:e,eventDispatcher:t,disabled:n})=>i.a.createElement(G,{editorView:e,eventDispatcher:t,pluginKey:o("wBzk").a,isDisabled:n,isReducedSpacing:!0}),pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"media",title:e(o("ViDr").a.mediaFiles),description:e(o("ViDr").a.mediaFilesDescription),priority:400,keywords:["attachment","gif","media","picture","image","video"],icon:()=>i.a.createElement(o("Jzj3").j,null),action:(e,t)=>(o("wBzk").a.getState(t).showMediaPicker(),Object(o("SVcB").a)(t,e(""),{action:o("+PNV").a.OPENED,actionSubject:o("+PNV").b.PICKER,actionSubjectId:o("+PNV").c.PICKER_CLOUD,attributes:{inputMethod:o("+PNV").f.QUICK_INSERT},eventType:o("+PNV").e.UI}))}],floatingToolbar:(t,n,r)=>Ct(t,n,{providerFactory:r,allowMediaInline:e&&Object(o("CzTa").b)("mediaInline",e.featureFlags),allowResizing:e&&e.allowResizing,allowResizingInTables:e&&e.allowResizingInTables,allowLinking:e&&e.allowLinking,
allowAdvancedToolBarOptions:e&&e.allowAdvancedToolBarOptions,allowAltTextOnImages:e&&e.allowAltTextOnImages,altTextValidator:e&&e.altTextValidator})}}}},"6VYC":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("textFormatting")},"6jRP":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},"6o/e":function(e,t,n){"use strict";let o,r;n.d(t,"a",(function(){return a})),function(e){e.CURSOR="cursor",e.RANGED="ranged",e.TEXT="text",e.NODE="node",e.CELL="cell",e.GAP_CURSOR="gapCursor"}(o||(o={})),function(e){e.START="start",e.MIDDLE="middle",e.END="end",e.LEFT="left",e.RIGHT="right"}(r||(r={}));var i=n("mG1W"),s=n("UxO+");function a(e,t){if(!t.attributes)return t;const{type:a,position:c}=function(e){var t;const{selection:i}=e;let a,c;if("GapCursorSelection"===(null==i||null===(t=i.constructor)||void 0===t?void 0:t.name))a=o.GAP_CURSOR,
c=i.side;else if(i instanceof n("n1Ll").a)a=o.CELL;else if(i instanceof s.NodeSelection)a=o.NODE;else if(i.from!==i.to)a=o.RANGED;else{a=o.CURSOR;const{from:e,$from:t}=i;c=e===t.start()?r.START:e===t.end()?r.END:r.MIDDLE}return{type:a,position:c}}(e);t.attributes.selectionType=a,c&&(t.attributes.selectionPosition=c);const l=function(e){const{selection:t}=e;if(t instanceof s.NodeSelection)return t.node.type.name;if(t instanceof n("n1Ll").a)return e.schema.nodes.table.name;const o=Object(i.findParentNode)((t=>t.type!==e.schema.nodes.paragraph))(e.selection);return o?o.node.type.name:e.doc.type.name}(e);return t.action===n("+PNV").a.INSERTED&&t.actionSubject===n("+PNV").b.DOCUMENT&&t.attributes?t.attributes.insertLocation=l:t.attributes.nodeLocation=l,t}},"74Zc":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d}));var o=n("UxO+");const r=new o.PluginKey("clipboardPlugin");var i=n("MEpN"),s=n("mG1W")
;const a=({dispatchAnalyticsEvent:e,schema:t})=>{let o;return new(n("KkS8").a)({key:r,view:e=>(o=e,{update:e=>{o=e}}),props:{handleDOMEvents:{cut:t=>l(t,e,n("+PNV").a.CUT),copy:t=>l(t,e,n("+PNV").a.COPIED)},clipboardSerializer:c(t,(()=>o))}})},c=(e,t)=>{const n=i.DOMSerializer.fromSchema(e),o=new i.DOMSerializer(n.nodes,n.marks),r=o.serializeFragment.bind(o);return o.serializeFragment=(n,o={},a)=>{var c;const l=t().state.selection;if(!o.tableWrapperExists){let e=0;for(;e<n.childCount;){var d;if("table"===(null===(d=n.maybeChild(e))||void 0===d?void 0:d.type.name)){o.tableWrapperExists=!0;break}e++}}if("tableRow"===(null===(c=n.firstChild)||void 0===c?void 0:c.type.name)&&!o.tableWrapperExists){o.tableWrapperExists=!0;const t=Object(s.findParentNodeOfType)(e.nodes.table)(l),c=null==t?void 0:t.node.attrs,d=e.nodes.table.createChecked({...c,localId:void 0},n),u=i.Fragment.from(d);return r(u,o,a)}return r(n,o,a)},o},l=(e,t,n)=>{const o=d(e.state,n);return o&&t(o),!1},d=(e,t)=>{
const{selection:r,doc:i}=e,s=Object(n("BuIm").j)(r)||Object(n("BuIm").k)(r,i)||Object(n("BuIm").g)(r)||Object(n("BuIm").h)(e);if(s){const{actionSubjectId:e}=s;let o=[];switch(e){case n("+PNV").c.NODE:o.push(s.attributes.node);break;case n("+PNV").c.RANGE:o.push(...s.attributes.nodes);break;case n("+PNV").c.ALL:o.push("all");break;case n("+PNV").c.CELL:{const{selectedCells:e}=s.attributes;o.push(...Array(e).fill("tableCell"));break}}return{eventType:n("+PNV").e.TRACK,action:t,actionSubject:n("+PNV").b.DOCUMENT,attributes:{content:o}}}if(r instanceof o.TextSelection&&r.$cursor)return{eventType:n("+PNV").e.TRACK,action:t,actionSubject:n("+PNV").b.DOCUMENT,attributes:{content:["caret"]}}}},"75pU":function(e,t){function n(e,t,n,o){var r=function(e){return null==e||"number"==typeof e||"boolean"==typeof e}(o)?o:n(o),i=t.get(r);return void 0===i&&(i=e.call(this,o),t.set(r,i)),i}function o(e,t,n){var o=Array.prototype.slice.call(arguments,3),r=n(o),i=t.get(r)
;return void 0===i&&(i=e.apply(this,o),t.set(r,i)),i}function r(e,t,n,o,r){return n.bind(t,e,o,r)}function i(e,t){return r(e,this,1===e.length?n:o,t.cache.create(),t.serializer)}function s(){return JSON.stringify(arguments)}function a(){this.cache=Object.create(null)}a.prototype.has=function(e){return e in this.cache},a.prototype.get=function(e){return this.cache[e]},a.prototype.set=function(e,t){this.cache[e]=t};var c={create:function(){return new a}};e.exports=function(e,t){var n=t&&t.cache?t.cache:c,o=t&&t.serializer?t.serializer:s;return(t&&t.strategy?t.strategy:i)(e,{cache:n,serializer:o})},e.exports.strategies={variadic:function(e,t){return r(e,this,o,t.cache.create(),t.serializer)},monadic:function(e,t){return r(e,this,n,t.cache.create(),t.serializer)}}},"77QF":function(e,t,n){"use strict";let o;!function(e){e.FULFILLED="fulfilled",e.FAILED="failed"}(o||(o={}));const r=e=>e.status===o.FULFILLED,i=e=>({status:o.FULFILLED,value:e}),s=e=>({status:o.FAILED,reason:e
}),a=e=>Promise.all(e.map((e=>e.then(i).catch(s)))),c=e=>e.filter(r).map((e=>e.value));t.a=e=>{if(0===e.length)throw new Error("At least one provider must be provided");const t=async t=>(await(async()=>{const t=await a(e.map((e=>Promise.resolve(e))));return c(t)})()).map((e=>t(e))),n=(e,t)=>n=>{const o=n[e];if("function"==typeof o)return o.apply(n,t);throw new Error(`"${e}" isn't a function of the provider`)};return{invokeSingle:async(e,o)=>{const r=n(e,o);return(e=>{const t=[];return new Promise(((n,o)=>{e.forEach((r=>r.then((e=>{if(null==e)throw new Error("Result was not found but the method didn't reject/throw. Please ensure that it doesn't return null or undefined.");n(e)})).catch((n=>{t.push(n),t.length===e.length&&o(n)}))))}))})(await t(r))},invokeList:async(e,o)=>{const r=n(e,o),i=await a(await t(r));return(e=>[].concat(...e))(c(i)).filter((e=>e))}}}},"7JDo":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("q1tI"),r=n.n(o),i=n("DZdY")
;const s="\n  cursor: pointer;\n  box-shadow: 0 0 0 2px var(--ds-border-selected, #4C9AFF);\n  outline: none;\n  user-select: none;\n  &, :hover, :focus, :active {\n    text-decoration: none;\n  }\n",a=({isInteractive:e})=>e?`\n      :hover {\n        background-color: ${Object(n("56zV").a)({light:"var(--ds-background-neutral-subtle-hovered, #F4F5F7)",dark:"var(--ds-background-neutral-subtle-hovered, #262B31)"})};\n      }\n      :active {\n        background-color: ${Object(n("56zV").a)({light:"var(--ds-background-selected, #DEEBFF)",dark:"var(--ds-background-selected, #262B31)"})};\n      }\n      :focus {\n        ${s}\n      }\n    `:"",c=e=>`\n  line-height: 16px;\n  padding: 1px 0.24em 2px 0.24em;\n  ${e.withoutBackground?"padding-left: 0; margin-left:-2px;":""}\n  display: inline;\n  box-decoration-break: clone;\n  border-radius: ${Object(n("7w+A").borderRadius)()}px;\n  color: ${Object(n("56zV").a)({light:"var(--ds-link, #0052CC)",dark:"var(--ds-link, #4794FF)"
})(e)};\n  background-color: ${e.withoutBackground?"":Object(n("56zV").a)({light:"var(--ds-surface-raised, white)",dark:"var(--ds-surface-raised, #262B31)"})(e)};\n  ${e.withoutBackground?"":Object(n("56zV").a)({light:"box-shadow: var(--ds-shadow-raised, 0 1px 1px rgba(9, 30, 66, 0.25), 0 0 1px 1px rgba(9, 30, 66, 0.13));",dark:"box-shadow: var(--ds-shadow-raised, 0 1px 1px rgba(13, 20, 36, 0.85), 0 0 1px 1px rgba(13, 20, 36, 0.89));"})(e)}\n  ${(({isSelected:e})=>e?s:"user-select: text")(e)};\n  transition: 0.1s all ease-in-out;\n  -moz-user-select: none;\n`,l=Object(i.a)("a",{target:"eeajecn1"})(c," ",a,";");l.displayName="WrapperAnchor";const d=Object(i.a)("span",{target:"eeajecn0"})(c,";");d.displayName="WrapperSpan";const u=e=>{const{isSelected:t,children:i,onClick:s,link:a,withoutBackground:c,testId:u,className:p}=e,h=Object(o.useCallback)((e=>{s&&(e.preventDefault(),e.stopPropagation(),s(e))}),[s]),f=Object(o.useCallback)((e=>{
" "!==e.key&&"Enter"!==e.key||s&&(e.preventDefault(),e.stopPropagation(),s(e))}),[s]),m=Object(n("Ieu2").a)(),b=Boolean(s),g=a||s?l:d;return r.a.createElement(g,{theme:Object(n("1chJ").b)(),href:a,withoutBackground:c,isSelected:t,isInteractive:b,tabIndex:b?0:void 0,role:b?"button":void 0,onClick:h,onMouseDown:m,onKeyPress:f,"data-testid":u,className:p},i)}},"7OFl":function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return h}));var o=n("CsC6"),r=n("UxO+");const i=(e,t,o)=>{const{doc:r,json:i,version:s,reserveCursor:a}=e;if(r){const{state:e}=t,i=Object(n("8PVD").f)(r,e,s,o,a);i.setMeta("isRemote",!0),t.dispatch(i)}else i&&l(i,t)},s=(e,t)=>{const{state:{tr:n}}=t;t.dispatch(n.setMeta("sessionId",e))},a=(e,t)=>{const{state:{tr:n}}=t;t.dispatch(n.setMeta("presence",e))},c=(e,t,n)=>{const{json:o,userIds:r=[]}=e;o&&l(o,t,r,n)
},l=(e,t,r,i)=>{if(!e||!e.length)return;const{state:s,state:{schema:a}}=t,c=e.map((e=>o.f.fromJSON(a,e)));let l;if(i&&i.useNativePlugin&&r?l=Object(n("OqVw").c)(s,c,r):(l=s.tr,c.forEach((e=>l.step(e)))),l){l.setMeta("addToHistory",!1),l.setMeta("isRemote",!0);const{from:n,to:o}=s.selection,[r]=e;s.tr.storedMarks&&l.setStoredMarks(s.tr.storedMarks),n===r.from&&o===r.to&&l.setSelection(s.selection.map(l.doc,l.mapping)),t.dispatch(l)}},d=(e,t)=>{const{state:{tr:n}}=t;t.dispatch(n.setMeta("telepointer",e))};function u(e){return e instanceof r.AllSelection}function p(e){return e instanceof r.NodeSelection}const h=e=>({type:"textSelection",anchor:e.anchor,head:u(e)||p(e)?e.head-1:e.head})},"7QgF":function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var o=n("UxO+"),r=n("MEpN"),i=n("hyZr"),s=n("CsC6");const a=new o.PluginKey("betterTypeHistoryPlugin");t.a=()=>new(n("KkS8").a)({key:a,appendTransaction:(e,t,c)=>{if(e.find((e=>e.getMeta(a))))return Object(i.a)(c.tr);const l=(e=>{
const t=1===e.length&&e[0];if(!(t&&t.docChanged&&t.isGeneric&&t.selection instanceof o.TextSelection))return null;const{selection:n,steps:r}=t,i=r.filter((e=>e instanceof s.e||e instanceof s.d));return n.$cursor&&1===i.length?i[0]:null})(e);if(!l)return;const d=Object(n("XyUv").a)(l),{schema:u}=c;return d&&((e=>{if(!(e.size>1&&2===e.content.childCount))return!1;const t=e.content.child(0),n=e.content.child(1);return t&&n&&t.type===n.type})(d)||((e,t)=>{const n=r.Fragment.from(t.text("\n"));return e.content.eq(n)})(d,u))?Object(i.a)(c.tr):void 0}})},"7Xhc":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),s=n.n(i),a=n("wSSu"),c=n.n(a);class l extends i.PureComponent{constructor(...e){super(...e),r()(this,"handleClick",(e=>{if(!this.props.isActiveComponent)return;const t=c.a.findDOMNode(this);var n,o;(!t||e.target instanceof Node&&!t.contains(e.target))&&(this.props.handleClickOutside&&(this.props.handleClickOutside(e),
null!==(n=this.props.editorView)&&void 0!==n&&n.hasFocus()||null===(o=this.props.editorView)||void 0===o||o.focus()))})),r()(this,"handleKeydown",(e=>{if(this.props.isActiveComponent)return"Escape"===e.code&&this.props.handleEscapeKeydown?(e.preventDefault(),e.stopPropagation(),this.props.handleEscapeKeydown(e),!1):void("Enter"===e.code&&this.props.handleEnterKeydown?this.props.handleEnterKeydown(e):"Tab"===e.code&&this.props.handleEscapeKeydown&&this.props.closeOnTab&&this.props.handleEscapeKeydown(e))}))}componentDidMount(){var e;(this.props.handleClickOutside&&document.addEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown)&&((null===(e=this.props.editorRef)||void 0===e?void 0:e.current)||this.props.targetRef||document).addEventListener("keydown",this.handleKeydown,!1)}componentWillUnmount(){var e;(this.props.handleClickOutside&&document.removeEventListener("click",this.handleClick,!1),
this.props.handleEscapeKeydown)&&((null===(e=this.props.editorRef)||void 0===e?void 0:e.current)||this.props.targetRef||document).removeEventListener("keydown",this.handleKeydown,!1)}render(){return this.props.children}}function d(e){return({handleClickOutside:t,handleEnterKeydown:o,handleEscapeKeydown:r,closeOnTab:i,...a})=>{const c=!function(e){return"isOpen"in e}(a)||a.isOpen;return s.a.createElement(n("kaPT").a.Consumer,null,(({editorView:n,editorRef:d})=>s.a.createElement(l,{editorView:n,editorRef:d,targetRef:a.targetRef,isActiveComponent:c,handleClickOutside:t,handleEnterKeydown:o,handleEscapeKeydown:r,closeOnTab:i},s.a.createElement(e,a))))}}l.displayName="WithOutsideClick"},"7csE":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return v}));const o={info:"#DEEBFF",note:"#EAE6FF",tip:"#E3FCEF",
success:"#E3FCEF",warning:"#FFFAE6",error:"#FFEBE6"},r={info:"#0C294F",error:"#441C13",warning:"#413001",tip:"#052E21",success:"#052E21",note:"#282249",R900:"#601D16",R100S:"#FFEFEB",R300S:"#FFB5A3",R500S:"#FF6B47",R800S:"#C4320E",R1200S:"#441C13",Y900:"#533F04",Y100S:"#FFF3D1",Y300S:"#FFDC7A",Y500S:"#FFC933",Y800S:"#D8A003",Y1200S:"#413001",G900:"#164B35",G100S:"#E3FCF0",G300S:"#95EEC5",G400S:"#60DCA8",G900S:"#086848",G1200S:"#052E21",B900:"#09326C",B100S:"#E5F0FF",B300S:"#A3C9FF",B500S:"#4794FF",B800S:"#0055CC",B1200S:"#0C294F",P900:"#352C63",P100S:"#EEEBFF",P300S:"#CCC3FE",P500S:"#A292F7",P800S:"#5E49CA",P1200S:"#282249",T900:"#1D474C",T100S:"#DBFAFF",T300S:"#78EBFC",T400S:"#3AD6EE",T900S:"#056270",T1200S:"#0B3037",DarkGray:"#161A1D",Gray:"#2C333A",LightGray:"#5A6977",TextColor:"#D9DDE3"},i={info:"var(--ds-icon-information, #0052CC)",note:"var(--ds-icon-discovery, #5243AA)",tip:"var(--ds-icon-success, #00875A)",success:"var(--ds-icon-success, #00875A)",
warning:"var(--ds-icon-warning, #FF991F)",error:"var(--ds-icon-danger, #DE350B)"},s={info:"var(--ds-icon-information, #4C9AFF)",note:"var(--ds-icon-discovery, #998DD9)",tip:"var(--ds-icon-success, #57D9A3)",success:"var(--ds-icon-success, #57D9A3)",warning:"var(--ds-icon-warning, #FFE380)",error:"var(--ds-icon-danger, #FF7452)"},a={info:`var(--ds-background-information, ${r.info})`,note:`var(--ds-background-discovery, ${r.note})`,tip:`var(--ds-background-success, ${r.tip})`,success:`var(--ds-background-success, ${r.success})`,warning:`var(--ds-background-warning, ${r.warning})`,error:`var(--ds-background-danger, ${r.error})`
},c=-(3*Object(n("7w+A").gridSize)()-n("anI9").h)/2,l=c-1,d=[["#DEEBFF",r.B1200S],["#B3D4FF",r.B900],["#4C9AFF",r.B800S],["#FFFFFF",r.LightGray],["#F4F5F7",r.Gray],["#B3BAC5",r.DarkGray],["#E6FCFF",r.T1200S],["#B3F5FF",r.T900],["#79E2F2",r.T900S],["#E3FCEF",r.G1200S],["#ABF5D1",r.G900],["#57D9A3",r.G900S],["#FFFAE6",r.Y1200S],["#FFF0B3",r.Y900],["#FFC400",r.Y800S],["#FFEBE6",r.R1200S],["#FFBDAD",r.R900],["#FF8F73",r.R800S],["#EAE6FF",r.P1200S],["#C0B6F2",r.P900],["#998DD9",r.P800S]],u=d.map((([e,t])=>function(e,t){return`\n  &[data-panel-color="${e}"] {\n    background-color: ${t} !important; // !important to override default style color\n    color: ${r.TextColor};\n  }\n  `}(e,t))).join("\n");const p="ak-editor-panel",h={prefix:p,content:`${p}__content`,icon:`${p}__icon`},f=(n("XN8Y").a.INFO,n("XN8Y").a.NOTE,n("XN8Y").a.WARNING,n("XN8Y").a.ERROR,n("XN8Y").a.SUCCESS,e=>t=>{const o=i[e],r=s[e];return`\n    color: ${Object(n("56zV").a)({light:o,dark:r})(t)};\n  `}),m=(e,t={})=>{
const i=o[e],s=r[e];return Object(n("56zV").a)({light:i,dark:s})(t)||"none"},b=e=>t=>{const i=((e,t={})=>{const r=Object(n("UK/+").a)(o[e]),i=a[e];return Object(n("56zV").a)({light:r,dark:i})(t)||"none"})(e,t);return`\n    background-color: ${i};\n    color: ${Object(n("56zV").a)({light:"inherit",dark:r.TextColor})(t)};\n  `
},g=e=>Object(n("AeFk").css)("border-radius:",Object(n("7w+A").borderRadius)(),"px;margin:",n("anI9").ab," 0 0;padding:",Object(n("7w+A").gridSize)(),"px;min-width:",n("anI9").P,"px;display:flex;position:relative;align-items:baseline;word-break:break-word;",b(n("XN8Y").a.INFO)(e)," .",h.icon,"{flex-shrink:0;height:",3*Object(n("7w+A").gridSize)(),"px;width:",3*Object(n("7w+A").gridSize)(),"px;box-sizing:content-box;padding-right:",Object(n("7w+A").gridSize)(),"px;text-align:center;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;",f(n("XN8Y").a.INFO)(e),">span{vertical-align:middle;display:inline-flex;}.",n("+OC9").v,"{vertical-align:",c,"px;}.",n("+OC9").o,"{vertical-align:",l,"px;@-moz-document url-prefix(){img{display:inline-block;}}}}.ak-editor-panel__content{margin:1px 0 1px;flex:1 0 0;min-width:0;}&[data-panel-type='",n("XN8Y").a.NOTE,"']{",b(n("XN8Y").a.NOTE)(e)," .",h.icon,"{",f(n("XN8Y").a.NOTE)(e),";}}&[data-panel-type='",n("XN8Y").a.TIP,"']{",b(n("XN8Y").a.TIP)(e)," .",h.icon,"{",f(n("XN8Y").a.TIP)(e),";}}&[data-panel-type='",n("XN8Y").a.WARNING,"']{",b(n("XN8Y").a.WARNING)(e)," .",h.icon,"{",f(n("XN8Y").a.WARNING)(e),";}}&[data-panel-type='",n("XN8Y").a.ERROR,"']{",b(n("XN8Y").a.ERROR)(e)," .",h.icon,"{",f(n("XN8Y").a.ERROR)(e),";}}&[data-panel-type='",n("XN8Y").a.SUCCESS,"']{",b(n("XN8Y").a.SUCCESS)(e)," .",h.icon,"{",f(n("XN8Y").a.SUCCESS)(e),";}}&[data-panel-type='",n("XN8Y").a.CUSTOM,"']{",Object(n("56zV").a)({
dark:u})(e),";}"),v=e=>Object(n("AeFk").css)(".",h.prefix,"{",g(e),";}")},"7eIw":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 7h10a1 1 0 010 2H7a1 1 0 110-2zm0 4h10a1 1 0 010 2H7a1 1 0 010-2zm0 4h5a1 1 0 010 2H7a1 1 0 010-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorAlignLeftIcon";var s=i;t.default=s},"7jB3":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>e.setMeta(n("yUK8").a,{action:n("Y+O0").a.CLOSE_TYPE_AHEAD})},"7qa5":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("q1tI"),r=n.n(o),i=n("qn5P"),s=n.n(i);class a extends r.a.Component{renderAtlaskitIcon(){const{icon:e,emoji:t}=this.props
;return t?r.a.createElement(n("hdVq").a,null,t):e&&"string"!=typeof e?r.a.createElement(n("hdVq").e,null,e):null}renderImageIcon(e,t){const{icon:o}=this.props;return o&&"string"==typeof o?r.a.createElement(s.a,{src:o,loaded:r.a.createElement(n("0Wv5").b,{className:"smart-link-icon",src:o,"data-testid":`${t}-image`}),errored:e}):null}renderIconPlaceholder(e){const{defaultIcon:t}=this.props;return t?r.a.createElement(n("hdVq").e,null,t):r.a.createElement(n("hdVq").e,null,r.a.createElement(n.n(n("Ydou")).a,{label:"link",size:"small",testId:`${e}-default`}))}renderIcon(e){const t=this.renderAtlaskitIcon();if(t)return t;const n=this.renderIconPlaceholder(e);return this.renderImageIcon(n,e)||n}render(){const{children:e,title:t,titleColor:o,testId:i="media-inline-card-icon-and-title"}=this.props;return r.a.createElement(r.a.Fragment,null,r.a.createElement(n("hdVq").d,{style:o?{color:o}:void 0
},r.a.createElement(n("hdVq").c,null,e||r.a.createElement(r.a.Fragment,null,r.a.createElement(n("hdVq").b,null),this.renderIcon(i))),r.a.createElement(n("hdVq").g,null,t)))}}a.displayName="IconAndTitleLayout"},"7rlJ":function(t,n,o){"use strict";(function(n){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function r(e,t){if(e===t)return 0;for(var n=e.length,o=t.length,r=0,i=Math.min(n,o);r<i;++r)if(e[r]!==t[r]){n=e[r],o=t[r];break}return n<o?-1:o<n?1:0}function i(e){return n.Buffer&&"function"==typeof n.Buffer.isBuffer?n.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var s=o("dXPX"),a=Object.prototype.hasOwnProperty,c=Array.prototype.slice,l=function(){return"foo"===function(){}.name}();function d(e){return Object.prototype.toString.call(e)}function u(e){return!i(e)&&("function"==typeof n.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var p=t.exports=v,h=/\s*function\s+([^\(\s]*)\s*/;function f(e){if(s.isFunction(e)){if(l)return e.name;var t=e.toString().match(h);return t&&t[1]}}function m(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function b(e){if(l||!s.isFunction(e))return s.inspect(e);var t=f(e);return"[Function"+(t?": "+t:"")+"]"}function g(e,t,n,o,r){
throw new p.AssertionError({message:n,actual:e,expected:t,operator:o,stackStartFunction:r})}function v(e,t){e||g(e,!0,t,"==",p.ok)}function y(e,t,n,o){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(s.isDate(e)&&s.isDate(t))return e.getTime()===t.getTime();if(s.isRegExp(e)&&s.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(u(e)&&u(t)&&d(e)===d(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var a=(o=o||{actual:[],expected:[]}).actual.indexOf(e);return-1!==a&&a===o.expected.indexOf(t)||(o.actual.push(e),o.expected.push(t),function(e,t,n,o){if(null==e||null==t)return!1;if(s.isPrimitive(e)||s.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var r=O(e),i=O(t);if(r&&!i||!r&&i)return!1
;if(r)return y(e=c.call(e),t=c.call(t),n);var a,l,d=S(e),u=S(t);if(d.length!==u.length)return!1;for(d.sort(),u.sort(),l=d.length-1;l>=0;l--)if(d[l]!==u[l])return!1;for(l=d.length-1;l>=0;l--)if(!y(e[a=d[l]],t[a],n,o))return!1;return!0}(e,t,n,o))}return n?e===t:e==t}function O(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function E(t,n){if(!t||!n)return!1;if("[object RegExp]"==Object.prototype.toString.call(n))return n.test(t);try{if(t instanceof n)return!0}catch(e){}return!Error.isPrototypeOf(n)&&!0===n.call({},t)}function w(t,n,o,r){var i;if("function"!=typeof n)throw new TypeError('"block" argument must be a function');"string"==typeof o&&(r=o,o=null),i=function(t){var n;try{t()}catch(e){n=e}return n}(n),r=(o&&o.name?" ("+o.name+").":".")+(r?" "+r:"."),t&&!i&&g(i,o,"Missing expected exception"+r);var a="string"==typeof r,c=!t&&i&&!o;if((!t&&s.isError(i)&&a&&E(i,o)||c)&&g(i,o,"Got unwanted exception"+r),t&&i&&o&&!E(i,o)||!t&&i)throw i}p.AssertionError=function(e){
this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return m(b(e.actual),128)+" "+e.operator+" "+m(b(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var o=n.stack,r=f(t),i=o.indexOf("\n"+r);if(i>=0){var s=o.indexOf("\n",i+1);o=o.substring(s+1)}this.stack=o}}},s.inherits(p.AssertionError,Error),p.fail=g,p.ok=v,p.equal=function(e,t,n){e!=t&&g(e,t,n,"==",p.equal)},p.notEqual=function(e,t,n){e==t&&g(e,t,n,"!=",p.notEqual)},p.deepEqual=function(e,t,n){y(e,t,!1)||g(e,t,n,"deepEqual",p.deepEqual)},p.deepStrictEqual=function(e,t,n){y(e,t,!0)||g(e,t,n,"deepStrictEqual",p.deepStrictEqual)},p.notDeepEqual=function(e,t,n){y(e,t,!1)&&g(e,t,n,"notDeepEqual",p.notDeepEqual)},p.notDeepStrictEqual=function e(t,n,o){
y(t,n,!0)&&g(t,n,o,"notDeepStrictEqual",e)},p.strictEqual=function(e,t,n){e!==t&&g(e,t,n,"===",p.strictEqual)},p.notStrictEqual=function(e,t,n){e===t&&g(e,t,n,"!==",p.notStrictEqual)},p.throws=function(e,t,n){w(!0,e,t,n)},p.doesNotThrow=function(e,t,n){w(!1,e,t,n)},p.ifError=function(e){if(e)throw e};var S=Object.keys||function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t}}).call(this,o("yLpj"))},"7whZ":function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"7xfi":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=async(e,t)=>{const o=Object(n("Zs9A").a)(e),r={issueKey:t},{data:i,errors:s}=await o.query({query:"\n    query IssueExistence($issueKey: String!) {\n        viewIssue(issueKey: $issueKey) {\n            issueId\n        }\n    }\n",variables:r});if(null!=s&&s.length>0){const[{message:e}]=s;throw new Error(e)}
return null!=(null==i?void 0:i.viewIssue)}},"7xzX":function(e,t,n){"use strict";t.a=function(e,t){const[n,o,r,i]=e.split(".");return"screen"===n?{eventType:n,name:o,action:"viewed",attributes:t}:{eventType:n,actionSubject:o,actionSubjectId:i,action:r,attributes:t}}},"8/pp":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=d(n("Yz+Y")),r=d(n("iCc5")),i=d(n("V7oC")),s=d(n("FYw3")),a=d(n("mRg0")),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("q1tI")),l=n("wSSu");n("KrvG"),d(n("17x9"));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){var e,n,i,a;(0,r.default)(this,t);for(var c=arguments.length,l=Array(c),d=0;d<c;d++)l[d]=arguments[d];return n=i=(0,s.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(l))),i._measure=function(){
var e=i.props,t=e.cache,n=e.columnIndex,o=void 0===n?0:n,r=e.parent,s=e.rowIndex,a=void 0===s?i.props.index||0:s,c=i._getCellMeasurements(),l=c.height,d=c.width;l===t.getHeight(a,o)&&d===t.getWidth(a,o)||(t.set(a,o,d,l),r&&"function"==typeof r.recomputeGridSize&&r.recomputeGridSize({columnIndex:o,rowIndex:a}))},a=n,(0,s.default)(i,a)}return(0,a.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var e=this.props.children;return"function"==typeof e?e({measure:this._measure}):e}},{key:"_getCellMeasurements",value:function(){var e=this.props.cache,t=(0,l.findDOMNode)(this);if(t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){var n=t.style.width,o=t.style.height;e.hasFixedWidth()||(t.style.width="auto"),e.hasFixedHeight()||(t.style.height="auto")
;var r=Math.ceil(t.offsetHeight),i=Math.ceil(t.offsetWidth);return n&&(t.style.width=n),o&&(t.style.height=o),{height:r,width:i}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var e=this.props,t=e.cache,n=e.columnIndex,o=void 0===n?0:n,r=e.parent,i=e.rowIndex,s=void 0===i?this.props.index||0:i;if(!t.has(s,o)){var a=this._getCellMeasurements(),c=a.height,l=a.width;t.set(s,o,l,c),r&&"function"==typeof r.invalidateCellSizeAfterRender&&r.invalidateCellSizeAfterRender({columnIndex:o,rowIndex:s})}}}]),t}(c.PureComponent);u.__internalCellMeasurerFlag=!1,u.propTypes=null,t.default=u},"82ng":function(e,t){function n(e){switch(e){case 9:case 32:return!0}return!1}function o(e,t){var n=e.bMarks[t]+e.blkIndent,o=e.eMarks[t];return e.src.substr(n,o-n)}function r(e){var t,n=[],o=0,r=e.length,i=0,s=0,a=!1,c=0;for(t=e.charCodeAt(o);o<r;)96===t?a?(a=!1,c=o):i%2==0&&(a=!0,c=o):124!==t||i%2!=0||a||(n.push(e.substring(s,o)),s=o+1),92===t?i++:i=0,++o===r&&a&&(a=!1,o=c+1),
t=e.charCodeAt(o);return n.push(e.substring(s)),n}e.exports=function(e,t,i,s){var a,c,l,d,u,p,h,f,m,b,g;if(t+2>i)return!1;if(u=t+1,e.sCount[u]<e.blkIndent)return!1;if(e.sCount[u]-e.blkIndent>=4)return!1;if((l=e.bMarks[u]+e.tShift[u])>=e.eMarks[u])return!1;if(124!==(a=e.src.charCodeAt(l++))&&45!==a&&58!==a)return!1;for(;l<e.eMarks[u];){if(124!==(a=e.src.charCodeAt(l))&&45!==a&&58!==a&&!n(a))return!1;l++}for(p=(c=o(e,t+1)).split("|"),f=[],d=0;d<p.length;d++){if(!(m=p[d].trim())){if(0===d||d===p.length-1)continue;return!1}if(!/^:?-+:?$/.test(m))return!1;58===m.charCodeAt(m.length-1)?f.push(58===m.charCodeAt(0)?"center":"right"):58===m.charCodeAt(0)?f.push("left"):f.push("")}if(-1===(c=o(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((p=r(c.replace(/^\||\|$/g,""))).length>f.length)return!1;if(s)return!0;for((h=e.push("table_open","table",1)).map=b=[t,0],(h=e.push("tr_open","tr",1)).map=[t,t+1],d=0;d<p.length;d++)(h=e.push("th_open","th",1)).map=[t,t+1],
f[d]&&(h.attrs=[["style","text-align:"+f[d]]]),h=e.push("paragraph_open","p",1),(h=e.push("inline","",0)).content=p[d].trim(),h.map=[t,t+1],h.children=[],h=e.push("paragraph_close","p",-1),h=e.push("th_close","th",-1);for((h=e.push("tr_close","tr",-1)).map=g=[t+2,0],u=t+2;u<i&&!(e.sCount[u]<e.blkIndent)&&-1!==(c=o(e,u).trim()).indexOf("|")&&!(e.sCount[u]-e.blkIndent>=4);u++){p=r(c.replace(/^\||\|$/g,"")),h=e.push("tr_open","tr",1);for(var v=0,y=1;v<p.length;v++){h=e.push("td_open","td",1),f[v]&&(h.attrs=[["style","text-align:"+f[v]]]);var O=" "===p[v][0]||/^(\d+\.|\*|-)$/.test(p[v].trim())?1:0;e.bMarks[u]+=y+O,y=(p[v]||"").length+(O?0:1),e.eMarks[u]=e.bMarks[u]+y-1,e.lineMax=1,e.md.block.tokenize(e,u,u+1),h=e.push("td_close","td",-1)}h=e.push("tr_close","tr",-1)}return h=e.push("table_close","table",-1),b[1]=g[1]=u,e.line=u,!0}},"89Qp":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("quickInsertPluginKey")},"8ADI":function(e,t,n){
"use strict";n.d(t,"a",(function(){return o}));const o={listHeight:n("W+Fu").i,listWidth:350,searchHeight:52,categoryHeadingHeight:30,emojiRowHeight:40,addEmojiHeight:32,loadingRowHeight:150,uploadActionHeight:40,emojiPerRow:8}},"8L3F":function(t,n,o){"use strict";(function(t){for(
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.15.0
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var o="undefined"!=typeof window&&"undefined"!=typeof document,r=["Edge","Trident","Firefox"],i=0,s=0;s<r.length;s+=1)if(o&&navigator.userAgent.indexOf(r[s])>=0){i=1;break}var a=o&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),i))}};function c(e){return e&&"[object Function]"==={}.toString.call(e)}function l(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function d(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function u(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=l(e),n=t.overflow,o=t.overflowX,r=t.overflowY;return/(auto|scroll|overlay)/.test(n+r+o)?e:u(d(e))}var p=o&&!(!window.MSInputMethodContext||!document.documentMode),h=o&&/MSIE 10/.test(navigator.userAgent);function f(e){
return 11===e?p:10===e?h:p||h}function m(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var o=n&&n.nodeName;return o&&"BODY"!==o&&"HTML"!==o?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===l(n,"position")?m(n):n:e?e.ownerDocument.documentElement:document.documentElement}function b(e){return null!==e.parentNode?b(e.parentNode):e}function g(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,o=n?e:t,r=n?t:e,i=document.createRange();i.setStart(o,0),i.setEnd(r,0);var s=i.commonAncestorContainer;if(e!==s&&t!==s||o.contains(r))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||m(e.firstElementChild)===e)}(s)?s:m(s);var a=b(e);return a.host?g(a.host,t):g(e,b(t).host)}function v(e){
var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",o=e.nodeName;if("BODY"===o||"HTML"===o){var r=e.ownerDocument.documentElement,i=e.ownerDocument.scrollingElement||r;return i[n]}return e[n]}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=v(t,"top"),r=v(t,"left"),i=n?-1:1;return e.top+=o*i,e.bottom+=o*i,e.left+=r*i,e.right+=r*i,e}function O(e,t){var n="x"===t?"Left":"Top",o="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+o+"Width"],10)}function E(e,t,n,o){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],f(10)?parseInt(n["offset"+e])+parseInt(o["margin"+("Height"===e?"Top":"Left")])+parseInt(o["margin"+("Height"===e?"Bottom":"Right")]):0)}function w(e){var t=e.body,n=e.documentElement,o=f(10)&&getComputedStyle(n);return{height:E("Height",t,n,o),width:E("Width",t,n,o)}}var S=function(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},k=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),x=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function T(e){return C({},e,{right:e.left+e.width,bottom:e.top+e.height})}function j(t){var n={};try{if(f(10)){n=t.getBoundingClientRect();var o=v(t,"top"),r=v(t,"left");n.top+=o,n.left+=r,n.bottom+=o,n.right+=r}else n=t.getBoundingClientRect()}catch(e){}var i={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top
},s="HTML"===t.nodeName?w(t.ownerDocument):{},a=s.width||t.clientWidth||i.right-i.left,c=s.height||t.clientHeight||i.bottom-i.top,d=t.offsetWidth-a,u=t.offsetHeight-c;if(d||u){var p=l(t);d-=O(p,"x"),u-=O(p,"y"),i.width-=d,i.height-=u}return T(i)}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=f(10),r="HTML"===t.nodeName,i=j(e),s=j(t),a=u(e),c=l(t),d=parseFloat(c.borderTopWidth,10),p=parseFloat(c.borderLeftWidth,10);n&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=T({top:i.top-s.top-d,left:i.left-s.left-p,width:i.width,height:i.height});if(h.marginTop=0,h.marginLeft=0,!o&&r){var m=parseFloat(c.marginTop,10),b=parseFloat(c.marginLeft,10);h.top-=d-m,h.bottom-=d-m,h.left-=p-b,h.right-=p-b,h.marginTop=m,h.marginLeft=b}return(o&&!n?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(h=y(h,t)),h}function N(e){
var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,o=A(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:v(n),a=t?0:v(n,"left"),c={top:s-o.top+o.marginTop,left:a-o.left+o.marginLeft,width:r,height:i};return T(c)}function I(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===l(e,"position"))return!0;var n=d(e);return!!n&&I(n)}function P(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===l(t,"transform");)t=t.parentElement;return t||document.documentElement}function M(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},s=r?P(e):g(e,t);if("viewport"===o)i=N(s,r);else{var a=void 0;"scrollParent"===o?"BODY"===(a=u(d(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===o?e.ownerDocument.documentElement:o;var c=A(a,s,r);if("HTML"!==a.nodeName||I(s))i=c;else{
var l=w(e.ownerDocument),p=l.height,h=l.width;i.top+=c.top-c.marginTop,i.bottom=p+c.top,i.left+=c.left-c.marginLeft,i.right=h+c.left}}var f="number"==typeof(n=n||0);return i.left+=f?n:n.left||0,i.top+=f?n:n.top||0,i.right-=f?n:n.right||0,i.bottom-=f?n:n.bottom||0,i}function R(e){return e.width*e.height}function _(e,t,n,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=M(n,o,i,r),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},c=Object.keys(a).map((function(e){return C({key:e},a[e],{area:R(a[e])})})).sort((function(e,t){return t.area-e.area})),l=c.filter((function(e){var t=e.width,o=e.height;return t>=n.clientWidth&&o>=n.clientHeight})),d=l.length>0?l[0].key:c[0].key,u=e.split("-")[1];return d+(u?"-"+u:"")}function L(e,t,n){
var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=o?P(t):g(t,n);return A(n,r,o)}function D(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),o=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+o,height:e.offsetHeight+n}}function F(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function B(e,t,n){n=n.split("-")[0];var o=D(e),r={width:o.width,height:o.height},i=-1!==["right","left"].indexOf(n),s=i?"top":"left",a=i?"left":"top",c=i?"height":"width",l=i?"width":"height";return r[s]=t[s]+t[c]/2-o[c]/2,r[a]=n===a?t[a]-o[l]:t[F(a)],r}function V(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function z(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var o=V(e,(function(e){return e[t]===n}))
;return e.indexOf(o)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&c(n)&&(t.offsets.popper=T(t.offsets.popper),t.offsets.reference=T(t.offsets.reference),t=n(t,e))})),t}function H(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=L(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=_(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=B(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=z(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}
function U(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function W(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<t.length;o++){var r=t[o],i=r?""+r+n:e;if(void 0!==document.body.style[i])return i}return null}function K(){return this.state.isDestroyed=!0,U(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[W("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function $(e){var t=e.ownerDocument;return t?t.defaultView:window}function q(e,t,n,o){var r="BODY"===e.nodeName,i=r?e.ownerDocument.defaultView:e;i.addEventListener(t,n,{passive:!0}),r||q(u(i.parentNode),t,n,o),o.push(i)}function G(e,t,n,o){n.updateBound=o,
$(e).addEventListener("resize",n.updateBound,{passive:!0});var r=u(e);return q(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function Y(){this.state.eventsEnabled||(this.state=G(this.reference,this.options,this.state,this.scheduleUpdate))}function Q(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function(e,t){return $(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}(this.reference,this.state))}function X(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Z(e,t){Object.keys(t).forEach((function(n){var o="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&X(t[n])&&(o="px"),e.style[n]=t[n]+o}))}var J=o&&/Firefox/i.test(navigator.userAgent);function ee(e,t,n){var o=V(e,(function(e){return e.name===t})),r=!!o&&e.some((function(e){
return e.name===n&&e.enabled&&e.order<o.order}));if(!r){var i="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return r}var te=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ne=te.slice(3);function oe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ne.indexOf(e),o=ne.slice(n+1).concat(ne.slice(0,n));return t?o.reverse():o}var re="flip",ie="clockwise",se="counterclockwise";function ae(e,t,n,o){var r=[0,0],i=-1!==["right","left"].indexOf(o),s=e.split(/(\+|\-)/).map((function(e){return e.trim()})),a=s.indexOf(V(s,(function(e){return-1!==e.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.")
;var c=/\s*,\s*|\s+/,l=-1!==a?[s.slice(0,a).concat([s[a].split(c)[0]]),[s[a].split(c)[1]].concat(s.slice(a+1))]:[s];return l=l.map((function(e,o){var r=(1===o?!i:i)?"height":"width",s=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,o){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+r[1],s=r[2];if(!i)return e;if(0===s.indexOf("%")){return T("%p"===s?n:o)[t]/100*i}if("vh"===s||"vw"===s)return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i;return i}(e,r,t,n)}))})),l.forEach((function(e,t){e.forEach((function(n,o){X(n)&&(r[t]+=n*("-"===e[o-1]?-1:1))}))})),r}var ce={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],o=t.split("-")[1];if(o){
var r=e.offsets,i=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),c=a?"left":"top",l=a?"width":"height",d={start:x({},c,i[c]),end:x({},c,i[c]+i[l]-s[l])};e.offsets.popper=C({},s,d[o])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,o=e.placement,r=e.offsets,i=r.popper,s=r.reference,a=o.split("-")[0],c=void 0;return c=X(+n)?[+n,0]:ae(n,i,s,a),"left"===a?(i.top+=c[0],i.left-=c[1]):"right"===a?(i.top+=c[0],i.left+=c[1]):"top"===a?(i.left+=c[0],i.top-=c[1]):"bottom"===a&&(i.left+=c[0],i.top+=c[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||m(e.instance.popper);e.instance.reference===n&&(n=m(n));var o=W("transform"),r=e.instance.popper.style,i=r.top,s=r.left,a=r[o];r.top="",r.left="",r[o]="";var c=M(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);r.top=i,r.left=s,r[o]=a,t.boundaries=c;var l=t.priority,d=e.offsets.popper,u={primary:function(e){var n=d[e]
;return d[e]<c[e]&&!t.escapeWithReference&&(n=Math.max(d[e],c[e])),x({},e,n)},secondary:function(e){var n="right"===e?"left":"top",o=d[n];return d[e]>c[e]&&!t.escapeWithReference&&(o=Math.min(d[n],c[e]-("right"===e?d.width:d.height))),x({},n,o)}};return l.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";d=C({},d,u[t](e))})),e.offsets.popper=d,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,o=t.reference,r=e.placement.split("-")[0],i=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",c=s?"left":"top",l=s?"width":"height";return n[a]<i(o[c])&&(e.offsets.popper[c]=i(o[c])-n[l]),n[c]>i(o[a])&&(e.offsets.popper[c]=i(o[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!ee(e.instance.modifiers,"arrow","keepTogether"))return e;var o=t.element;if("string"==typeof o){if(!(o=e.instance.popper.querySelector(o)))return e
}else if(!e.instance.popper.contains(o))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],i=e.offsets,s=i.popper,a=i.reference,c=-1!==["left","right"].indexOf(r),d=c?"height":"width",u=c?"Top":"Left",p=u.toLowerCase(),h=c?"left":"top",f=c?"bottom":"right",m=D(o)[d];a[f]-m<s[p]&&(e.offsets.popper[p]-=s[p]-(a[f]-m)),a[p]+m>s[f]&&(e.offsets.popper[p]+=a[p]+m-s[f]),e.offsets.popper=T(e.offsets.popper);var b=a[p]+a[d]/2-m/2,g=l(e.instance.popper),v=parseFloat(g["margin"+u],10),y=parseFloat(g["border"+u+"Width"],10),O=b-e.offsets.popper[p]-v-y;return O=Math.max(Math.min(s[d]-m,O),0),e.arrowElement=o,e.offsets.arrow=(x(n={},p,Math.round(O)),x(n,h,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(U(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e
;var n=M(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),o=e.placement.split("-")[0],r=F(o),i=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case re:s=[o,r];break;case ie:s=oe(o);break;case se:s=oe(o,!0);break;default:s=t.behavior}return s.forEach((function(a,c){if(o!==a||s.length===c+1)return e;o=e.placement.split("-")[0],r=F(o);var l=e.offsets.popper,d=e.offsets.reference,u=Math.floor,p="left"===o&&u(l.right)>u(d.left)||"right"===o&&u(l.left)<u(d.right)||"top"===o&&u(l.bottom)>u(d.top)||"bottom"===o&&u(l.top)<u(d.bottom),h=u(l.left)<u(n.left),f=u(l.right)>u(n.right),m=u(l.top)<u(n.top),b=u(l.bottom)>u(n.bottom),g="left"===o&&h||"right"===o&&f||"top"===o&&m||"bottom"===o&&b,v=-1!==["top","bottom"].indexOf(o),y=!!t.flipVariations&&(v&&"start"===i&&h||v&&"end"===i&&f||!v&&"start"===i&&m||!v&&"end"===i&&b),O=!!t.flipVariationsByContent&&(v&&"start"===i&&f||v&&"end"===i&&h||!v&&"start"===i&&b||!v&&"end"===i&&m),E=y||O;(p||g||E)&&(e.flipped=!0,
(p||g)&&(o=s[c+1]),E&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=o+(i?"-"+i:""),e.offsets.popper=C({},e.offsets.popper,B(e.instance.popper,e.offsets.reference,e.placement)),e=z(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],o=e.offsets,r=o.popper,i=o.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=i[n]-(a?r[s?"width":"height"]:0),e.placement=F(t),e.offsets.popper=T(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!ee(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=V(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{
if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,o=t.y,r=e.offsets.popper,i=V(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==i?i:t.gpuAcceleration,a=m(e.instance.popper),c=j(a),l={position:r.position},d=function(e,t){var n=e.offsets,o=n.popper,r=n.reference,i=Math.round,s=Math.floor,a=function(e){return e},c=i(r.width),l=i(o.width),d=-1!==["left","right"].indexOf(e.placement),u=-1!==e.placement.indexOf("-"),p=t?d||u||c%2==l%2?i:s:a,h=t?i:a;return{left:p(c%2==1&&l%2==1&&!u&&t?o.left-1:o.left),top:h(o.top),bottom:h(o.bottom),right:p(o.right)}}(e,window.devicePixelRatio<2||!J),u="bottom"===n?"top":"bottom",p="right"===o?"left":"right",h=W("transform"),f=void 0,b=void 0
;if(b="bottom"===u?"HTML"===a.nodeName?-a.clientHeight+d.bottom:-c.height+d.bottom:d.top,f="right"===p?"HTML"===a.nodeName?-a.clientWidth+d.right:-c.width+d.right:d.left,s&&h)l[h]="translate3d("+f+"px, "+b+"px, 0)",l[u]=0,l[p]=0,l.willChange="transform";else{var g="bottom"===u?-1:1,v="right"===p?-1:1;l[u]=b*g,l[p]=f*v,l.willChange=u+", "+p}var y={"x-placement":e.placement};return e.attributes=C({},y,e.attributes),e.styles=C({},l,e.styles),e.arrowStyles=C({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return Z(e.instance.popper,e.styles),function(e,t){Object.keys(t).forEach((function(n){!1!==t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n)}))}(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&Z(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,o,r){var i=L(r,t,e,n.positionFixed),s=_(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding)
;return t.setAttribute("x-placement",s),Z(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},le={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:ce},de=function(){function e(t,n){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};S(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=a(this.update.bind(this)),this.options=C({},e.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(C({},e.Defaults.modifiers,r.modifiers)).forEach((function(t){o.options.modifiers[t]=C({},e.Defaults.modifiers[t]||{},r.modifiers?r.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return C({name:e},o.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),
this.modifiers.forEach((function(e){e.enabled&&c(e.onLoad)&&e.onLoad(o.reference,o.popper,o.options,e,o.state)})),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return k(e,[{key:"update",value:function(){return H.call(this)}},{key:"destroy",value:function(){return K.call(this)}},{key:"enableEventListeners",value:function(){return Y.call(this)}},{key:"disableEventListeners",value:function(){return Q.call(this)}}]),e}();de.Utils=("undefined"!=typeof window?window:t).PopperUtils,de.placements=te,de.Defaults=le,n.a=de}).call(this,o("yLpj"))},"8OMt":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("q1tI");function r(e,t){const n=Object(o.useRef)(t),r=n.current;return n.current=e,r}},"8ORD":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("lSNA"),r=n.n(o),i=n("ga5A");class s{constructor(e,t,n,o){r()(this,"onDragListeners",[]),r()(this,"onStartListeners",[]),r()(this,"eventListeners",{}),
r()(this,"handleUploadPreviewUpdate",(e=>{const{file:t,preview:n}=e,o=this.erroredFiles.has(t.id),{dimensions:r,scaleFactor:s}=Object(i.d)(n)?n:{dimensions:void 0,scaleFactor:void 0},a={id:t.id,fileName:t.name,fileSize:t.size,fileMimeType:t.type,collection:t.collectionName,dimensions:r,scaleFactor:s,status:o?"error":void 0};this.eventListeners[t.id]=[],this.onStartListeners.forEach((e=>e(a,(e=>this.subscribeStateChanged(t,e)),this.analyticsName||this.pickerType)))})),r()(this,"subscribeStateChanged",((e,t)=>{const n=this.eventListeners[e.id];n&&n.push(t)})),r()(this,"handleUploadError",(({error:e,fileId:t})=>{const n=this.eventListeners[t];this.erroredFiles.add(t),n&&(n.forEach((n=>n({id:t,status:"error",error:e&&{description:e.description,name:e.name}}))),delete this.eventListeners[t])})),r()(this,"handleMobileUploadEnd",(e=>{const{file:t}=e,n=this.eventListeners[t.id];n&&n.forEach((e=>e({id:t.id,status:"mobile-upload-end",fileMimeType:t.type,collection:t.collectionName,
publicId:t.publicId})))})),r()(this,"handleReady",(e=>{const{file:t}=e,n=this.eventListeners[t.id];n&&(n.forEach((e=>e({id:t.id,status:"ready"}))),delete this.eventListeners[t.id])})),this.config=t,this.pickerConfig=n,this.pickerType=e,this.analyticsName=o,this.erroredFiles=new Set}async init(){let e;return"customMediaPicker"===this.pickerType&&(e=this.picker=this.pickerConfig),e?(e.on("upload-preview-update",this.handleUploadPreviewUpdate),e.on("upload-end",this.handleReady),e.on("upload-error",this.handleUploadError),e.on("mobile-upload-end",this.handleMobileUploadEnd),this):this}get type(){return this.pickerType}get mediaPicker(){return this.picker}destroy(){const{picker:e}=this;e&&(e.removeAllListeners("upload-preview-update"),e.removeAllListeners("upload-end"),e.removeAllListeners("upload-error"),this.onStartListeners=[],this.onDragListeners=[])}setUploadParams(e){this.picker&&this.picker.setUploadParams(e)}onNewMedia(e){this.onStartListeners.push(e)}onDrag(e){
this.onDragListeners.push(e)}}},"8PVD":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return u}));var o=n("UxO+"),r=n("V2qZ");const i=["#FF8F73","#FF5630","#BF2600","#FFE380","#FFAB00","#FF8B00","#79F2C0","#36B37E","#006644","#79E2F2","#00B8D9","#008DA6","#4C9AFF","#0065FF","#0747A6","#998DD9","#6554C0","#403294","#A5ADBA","#6B778C","#172B4D"].map((e=>({solid:e,selection:Object(n("5ABH").u)(e,.2)}))),s=e=>{let t=0;for(let o=0;o<e.length;o++)t=(t<<5)-t+e.charCodeAt(o),t&=t;const n=Math.abs(t)%i.length;return{index:n,color:i[n]}},a=(e,t)=>t.find().reduce(((t,n)=>n.spec.pointer.sessionId===e?t.concat(n):t),[]);const c=(e,t,o,i,a)=>{let c=[];const l=s(o),d=l.index.toString();if(i){const n=`telepointer color-${d} telepointer-selection`;c.push(r.a.inline(e,t,{class:n,"data-initial":a},{
pointer:{sessionId:o}}))}const u=document.createElement("span");u.textContent=n("vNjH").a;const p=document.createElement("span");p.textContent=n("vNjH").a;const h=document.createElement("span");return h.textContent=n("vNjH").a,h.className=`telepointer color-${d} telepointer-selection-badge`,h.style.cssText=`${function(e){const t=e&&e.color||"black";return`border-left: 1px solid ${t}; border-right: 1px solid ${t}; margin-right: -2px;`}({color:l.color.solid})};`,h.setAttribute("data-initial",a),c.concat(r.a.widget(t,p,{pointer:{sessionId:o},key:`telepointer-${o}-zero`})).concat(r.a.widget(t,h,{pointer:{sessionId:o},key:`telepointer-${o}`})).concat(r.a.widget(t,u,{pointer:{sessionId:o},key:`telepointer-${o}-zero`}))},l=(e,t,n,r,i)=>{const{schema:s,tr:a}=t;let c=(e.content||[]).map((e=>s.nodeFromJSON(e)));if(!!c.length){a.setMeta("addToHistory",!1),a.replaceWith(0,t.doc.nodeSize-2,c);const e=t.selection;if(i){if(e.to<a.doc.content.size-2){
const t=a.doc.resolve(e.from),n=a.doc.resolve(e.to),r=new o.TextSelection(t,n);a.setSelection(r)}}else a.setSelection(o.Selection.atStart(a.doc));if(a.setMeta("replaceDocument",!0),void 0!==typeof n&&r&&r.useNativePlugin){const e={version:n,unconfirmed:[]};a.setMeta("collab$",e)}}return a},d=(e,t,r,i)=>{const s=t[i];if(s&&void 0!==s.cursorPos&&s.sessionId!==r){const{state:t}=e;let r=t.tr;const i={action:n("+PNV").a.MATCHED,actionSubject:n("+PNV").b.SELECTION,eventType:n("+PNV").e.TRACK};r.setSelection(o.Selection.near(r.doc.resolve(s.cursorPos))),r=Object(n("SVcB").a)(t,r,i),r.scrollIntoView(),e.dispatch(r),e.hasFocus()||e.focus()}},u=(e,t)=>{let n;return t.find().forEach((t=>{t.type.spec.pointer.sessionId===e&&(n=t.from)})),n}},"8R/O":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M17.222 11.557L12.11 16.64a3.012 3.012 0 01-4.238.004 2.97 2.97 0 01.002-4.21L13.339 7a1.75 1.75 0 012.472-.002c.683.679.684 1.775.002 2.452l-5.126 5.095a.493.493 0 01-.699-.007.488.488 0 010-.701l4.764-4.735a.74.74 0 000-1.052.752.752 0 00-1.058 0L8.93 12.785a1.97 1.97 0 000 2.805c.781.777 2.038.78 2.816.007l5.126-5.094a3.206 3.206 0 00-.003-4.557 3.253 3.253 0 00-4.589.002l-5.466 5.433a4.451 4.451 0 00-.001 6.314 4.516 4.516 0 006.355-.004l5.113-5.081a.74.74 0 000-1.053.752.752 0 00-1.059 0z" fill="currentColor"/></svg>'},e));i.displayName="EditorAttachmentIcon";var s=i;t.default=s},"8cLp":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var o=n("mG1W");const r=e=>{const{selection:t}=e.state;let r=[];const i=Object(n("zYPQ").c)(t);if(i){const s=n("wYWE").b.get(i.node),a=e.domAtPos.bind(e);r=Array.from({
length:s.width});for(let e=0;e<s.width;e++){const i=Object(n("DgfI").a)(e)(t)[0];if(i){const t=Object(o.findDomRefAtPos)(i.pos,a),n=t.getBoundingClientRect();r[e]=(n?n.width:t.offsetWidth)+1,e+=i.node.attrs.colspan-1}}}return r},i=(e,t)=>{const o=Object(n("n3wV").a)(t);if(!o)return null;let r=0,i=0;for(let n=0;n<o.left;n++){const t=e[n];t&&(i+=t-1)}const s=[];for(let n=o.left;n<o.right;n++){const t=e[n];t&&(r+=t,s.push(n))}return{left:i+r/2-8,indexes:s}},s=(e,t)=>{const o=Object(n("uYq7").d)(t,(e=>Number(e.getAttribute("colspan")||1))),r=t.nextElementSibling||t;if(r){const e=Object(n("uYq7").d)(r,(e=>({width:e.getBoundingClientRect().width,colspan:Number(e.getAttribute("colspan")||1),colwidth:e.dataset.colwidth})));let t=[];if(e.map(((e,n)=>{t.push(...(({width:e,colspan:t,colwidth:n})=>{if(1===t||!n)return new Array(t).fill(e/t);const o=n.split(",").map((e=>Number(e))),r=o.reduce(((e,t)=>e+t),0);return o.map((t=>e*(t/r)))})(e))})),0!==e.reduce(((e,t)=>e+t.width),0)){const e=((e,t)=>{
let n=0;const o=[];return e.forEach((e=>{const r=t.slice(n,n+e).reduce(((e,t)=>e+t),0);n+=e,o.push(r)})),o})(o,t);return e.map((e=>`${e}px`)).join(" ")}}const i=o.reduce(((e,t)=>e+t),0);return o.map((e=>e/i*100)).map((e=>`${e}%`)).join(" ")}},"8sL3":function(e,t,n){"use strict";var o=n("FgkJ");function r(e){var t,n;this.promise=new e((function(e,o){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=o})),this.resolve=o(t),this.reject=o(n)}e.exports.f=function(e){return new r(e)}},"8to4":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}))
;const o=Object(n("AeFk").css)("input&{background:transparent;border:0;border-radius:0;box-sizing:content-box;color:","var(--ds-text-subtle, #505F79)",";flex-grow:1;font-size:",Object(n("anI9").fb)(13),";line-height:20px;padding:0;min-width:145px;&::-ms-clear{display:none;}&:focus{outline:none;}&::placeholder{color:","var(--ds-text-subtlest, #7A869A)",";}}"),r=e=>Object(n("AeFk").css)("input&{width:",e,"px;}")},"8tqJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const o=e=>{const t=(e=>e.getMeta(n("TypY").a)||null)(e);return e=>t&&["undid","redid"].includes(e.action)?{...e,attributes:{...e.attributes,historyTriggerMethod:t}}:e};function r({payload:e,duration:t,distortedDuration:o}){return{...e,attributes:{...e.attributes,duration:t,distortedDuration:o},eventType:n("+PNV").e.OPERATIONAL}}var i=(e,t)=>{var i;const s=(null==t||null===(i=t.dependencies.featureFlags)||void 0===i?void 0:i.sharedState.currentState())||{};return{name:"analytics",pmPlugins:()=>[{
name:"analyticsPlugin",plugin:()=>function(e,t){if(!e||!e.createAnalyticsEvent)return;const o=Object(n("X0Cu").a)();return new(n("KkS8").a)({key:n("OdZc").a,state:{init:()=>({...e,fireAnalytics:Object(n("ViYe").a)(e.createAnalyticsEvent)}),apply:(i,s,a,c)=>{if(s.createAnalyticsEvent!==e.createAnalyticsEvent)return{...s,createAnalyticsEvent:e.createAnalyticsEvent};if(t.catchAllTracking){const e=Object(n("R8yl").a)(i);if(e.length>0)for(const{payload:t,channel:a}of e)if(o&&i.docChanged&&t.action!==n("+PNV").a.INSERTED&&t.action!==n("+PNV").a.DELETED){const e=`${t.actionSubject}:${t.action}:${t.actionSubjectId}`;Object(n("Xvyu").b)(e,(({duration:e,distortedDuration:o})=>{Object(n("ViYe").a)(s.createAnalyticsEvent)({payload:r({payload:t,duration:e,distortedDuration:o}),channel:a})}))}}return s}}})}(e,s)}],onEditorViewStateUpdated({originalTransaction:e,transactions:t,newEditorState:r}){const i=n("OdZc").a.getState(r);if(!i||!i.createAnalyticsEvent)return;const s=t.reduce(((e,t)=>{
const o=t.steps.filter((e=>e instanceof n("Wabn").a)).map((e=>e.analyticsEvents)).reduce(((e,t)=>e.concat(t)),[]);return e.push(...o),e}),[]);if(0===s.length)return;const{createAnalyticsEvent:a}=i,c=o(e);s.forEach((({payload:e,channel:t})=>{const o=c(e);Object(n("ViYe").a)(a)({payload:o,channel:t})}))}}};const s=n("OdZc").a;t.b=i},"90ml":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o);let i;const s=Object(o.forwardRef)((({ariaAtomic:e="true",ariaLive:t="polite",ariaRelevant:n="all",role:s="status",text:a="",delay:c=0},l)=>{const[d,u]=Object(o.useState)(!1);return Object(o.useEffect)((()=>(clearTimeout(i),u(!1),i=setTimeout((()=>{u(!0)}),c),()=>clearTimeout(i))),[a,c]),r.a.createElement("div",{className:"assistive",ref:l,role:s,"aria-atomic":e,"aria-relevant":n,"aria-live":t},d&&r.a.createElement("span",null,a))}));t.a=Object(o.memo)(s)},"9GNJ":function(e,t,n){"use strict"
;function o({linking:e,smartLinks:t,UNSAFE_cards:n,autoformattingProvider:o,media:r,emojiProvider:i,mentionProvider:s,legacyImageUploadProvider:a,taskDecisionProvider:c,contextIdentifierProvider:l,searchProvider:d,macroProvider:u,activityProvider:p,collabEdit:h,collabEditProvider:f,presenceProvider:m}){var b;const g=(null==e||null===(b=e.smartLinks)||void 0===b?void 0:b.provider)||t&&t.provider||n&&n.provider;return{mediaProvider:null==r?void 0:r.provider,emojiProvider:i,mentionProvider:s,autoformattingProvider:o,cardProvider:g,activityProvider:p,imageUploadProvider:a,taskDecisionProvider:c,contextIdentifierProvider:l,searchProvider:d,presenceProvider:m,macroProvider:u,collabEditProvider:h&&h.provider?h.provider:f}}n.d(t,"a",(function(){return o}))},"9GOd":function(e,t,n){"use strict";function o(e,t,o){var r;if(null!=t&&null!==(r=t.contentRetrievalTracking)&&void 0!==r&&r.enabled){const r=100,i=e.getValue.bind(e);e._contentRetrievalTracking||(e._contentRetrievalTracking={
samplingCounters:{success:1,failure:1},getValueTracked:!1});const{_contentRetrievalTracking:{samplingCounters:s,getValueTracked:a}}=e;if(!a){const a=async()=>{try{var e,a;const c=await i();return s.success===(null!==(e=null==t||null===(a=t.contentRetrievalTracking)||void 0===a?void 0:a.successSamplingRate)&&void 0!==e?e:r)&&(o({payload:{action:n("+PNV").a.EDITOR_CONTENT_RETRIEVAL_PERFORMED,actionSubject:n("+PNV").b.EDITOR,attributes:{success:!0},eventType:n("+PNV").e.OPERATIONAL}}),s.success=0),s.success++,c}catch(u){var c,l,d;if(s.failure===(null!==(c=null==t||null===(l=t.contentRetrievalTracking)||void 0===l?void 0:l.failureSamplingRate)&&void 0!==c?c:r))o({payload:{action:n("+PNV").a.EDITOR_CONTENT_RETRIEVAL_PERFORMED,actionSubject:n("+PNV").b.EDITOR,attributes:{success:!1,errorInfo:u.toString(),errorStack:null!=t&&null!==(d=t.contentRetrievalTracking)&&void 0!==d&&d.reportErrorStack?u.stack:void 0},eventType:n("+PNV").e.OPERATIONAL}}),s.failure=0;throw s.failure++,u}};e.getValue=a,
e._contentRetrievalTracking.getValueTracked=!0}}return e}n.d(t,"a",(function(){return o}))},"9TOn":function(e,t,n){"use strict";function o(e){return"full-page"===e||"full-width"===e}n.d(t,"a",(function(){return o}))},"9ZfD":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const o=new(n("UxO+").PluginKey)("nativeCollabProviderPlugin"),r=({providerPromise:e})=>new(n("KkS8").a)({key:o,state:{init:()=>null,apply:(e,t)=>{const n=e.getMeta(o);return n||t}},view:t=>(e.then((e=>{const{dispatch:n,state:r}=t,i=r.tr;i.setMeta(o,e),n(i)})),{})}),i=e=>o.getState(e)},"9bjj":function(t,n,o){"use strict";o.d(n,"b",(function(){return a})),o.d(n,"a",(function(){return l}));var r=o("MEpN"),i=o("UxO+"),s=o("mG1W");const a=({view:e,macroProvider:t})=>()=>{if(!e)throw new Error("Missing view. Can't update without EditorView");if(!t)throw new Error("Missing macroProvider. Can't use the macro browser for updates");const n=Object(o("wqCz").f)(e.state,!0)
;if(!n)throw new Error("Missing nodeWithPos. Can't determine position of node");Object(o("JkFw").a)(t,n.node,!0)(e)},c=e=>({action:o("+PNV").a.INVOKED,actionSubject:o("+PNV").b.EXTENSION,actionSubjectId:o("+PNV").c.EXTENSION_API,attributes:{functionName:e},eventType:o("+PNV").e.TRACK}),l=t=>{const{editorView:{state:{schema:n}}}=t,l=Object.keys(n.nodes),d=Object.keys(n.marks),u=Object(o("m6+T").b)(l,d,{allowPrivateAttributes:!0}),p=(e,{opName:n})=>{if("string"!=typeof e||""===e)throw new Error(`${n}(): Invalid localId '${e}'.`);const{editorView:{state:r}}=t,i=Object(o("wqCz").b)(r,e);if(!i)throw new Error(`${n}(): Could not find node with ID '${e}'.`);return i},h={insertAfter:(n,s,a)=>{try{u(s)}catch(e){throw new Error("insertAfter(): Invalid ADF given.")}const l=p(n,{opName:"insertAfter"}),{editorView:d}=t,{dispatch:h,state:f}=d,{tr:m,schema:b}=f,g=b.nodes[s.type];if(!g)throw new Error(`insertAfter(): Invalid ADF type '${s.type}'.`)
;const v=r.Fragment.fromJSON(b,s.content),y=(s.marks||[]).map((e=>r.Mark.fromJSON(b,e))),O=null==g?void 0:g.createChecked(s.attrs,v,y);if(!O)throw new Error("insertAfter(): Could not create a node for given ADFEntity.");const E=l.pos+l.node.nodeSize;m.insert(E,O);try{m.doc.check()}catch(k){throw new Error(`insertAfter(): The given ADFEntity cannot be inserted in the current position.\n${k}`)}const w=c("insertAfter");Object(o("SVcB").a)(f,m,w);const S=[O];O.descendants((e=>(S.push(e),!0))),S.forEach((e=>{const{extensionKey:t,extensionType:n}=e.attrs,r=Object(o("wqCz").c)(e),i=(null==r?void 0:r.attrs.sources.map((e=>e)))||[],s=!!r,a=s?Object(o("wqCz").d)(i,f):void 0,c={action:o("+PNV").a.INSERTED,actionSubject:o("+PNV").b.DOCUMENT,attributes:{nodeType:e.type.name,inputMethod:o("+PNV").f.EXTENSION_API,hasReferentiality:s,nodeTypesReferenced:a,layout:e.attrs.layout,extensionType:n,extensionKey:t},eventType:o("+PNV").e.TRACK};Object(o("SVcB").a)(f,m,c)})),
a&&a.allowSelectionToNewNode&&m.setSelection(new i.NodeSelection(m.doc.resolve(E))),h(m)},scrollTo:e=>{const n=p(e,{opName:"scrollTo"}),r=c("scrollTo"),{editorView:{dispatch:i,state:a}}=t;let{tr:l}=a;l=Object(o("SVcB").a)(a,l,r),l=Object(s.setTextSelection)(n.pos)(l),l=l.scrollIntoView(),i(l)},update:(e,n)=>{var s;const{node:a,pos:l}=p(e,{opName:"update"}),{editorView:{dispatch:d,state:h}}=t,{tr:f,schema:m}=h,b=n({content:Object(o("D4z0").p)(a).content,attrs:a.attrs,marks:a.marks.map((e=>({type:e.type.name,attrs:e.attrs})))}),g=b.hasOwnProperty("marks")?null===(s=b.marks)||void 0===s?void 0:s.map((e=>{if("object"!=typeof e||Array.isArray(e))throw new Error("update(): Invalid mark given.");const{parent:t}=h.doc.resolve(l),n=m.marks[e.type];if(!n)throw new Error(`update(): Invalid ADF mark type '${e.type}'.`);if(!t.type.allowsMarkType(n))throw new Error(`update(): Parent of type '${t.type.name}' does not allow marks of type '${e.type}'.`);return{mark:n,attrs:e.attrs}
})).map((({mark:e,attrs:t})=>e.create(t))):a.marks,v=b.hasOwnProperty("content")?r.Fragment.fromJSON(m,b.content):a.content,y=b.hasOwnProperty("attrs")?b.attrs:a.attrs;try{const e=a.type.createChecked(y,v,g),t=(new(o("pSE0").JSONTransformer)).encodeNode(e);u(t),f.replaceWith(l,l+a.nodeSize,e),v===a.content&&f.setSelection(i.Selection.fromJSON(f.doc,h.selection.toJSON()))}catch(E){throw new Error(`update(): The given ADFEntity cannot be inserted in the current position.\n${E}`)}const O=c("update");Object(o("SVcB").a)(h,f,O),d(f)}};return{editInContextPanel:(e,n)=>{const{editorView:r}=t;Object(o("raAN").e)(e,n)(r.state,r.dispatch,r)},_editInLegacyMacroBrowser:()=>{const{editorView:e}=t;let n=t.editInLegacyMacroBrowser;if(!n){const r=o("YAmM").a.getState(e.state);n=a({view:t.editorView,macroProvider:(null==r?void 0:r.macroProvider)||void 0})}n()},doc:h}}},"9d+w":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i
}));const o=(e,t,o,r)=>{if(!e.cols[t]||!e.cols[t+1])return e;const i=a(e,t+1,t,o),s=o-i.amount;let l=i.state;return s>0&&(l=c(l,t,s).state),r&&r.length>1?Object(n("Vwtw").b)(l,r,t):l},r=(e,t,o,r)=>{if(!e.cols[t])return e;const i=a(e,t,t+1,-o);let s=i.state;const l=Object(n("Vwtw").f)(s)>s.maxSize;if(!s.cols[t+1]&&!l)return s;const d=o+i.amount;return d<0&&(s=c(s,t+1,d).state),r&&r.length>1?Object(n("Vwtw").b)(s,r,t):s};function i(e,t,o=[]){let r=t;for(;r>0;){const t=e.cols.filter((e=>Object(n("wfiM").d)(e)&&-1===o.indexOf(e.index)));if(0===t.length)break;const i=Math.floor(r/t.length);if(0===i)break;t.forEach((t=>{let n=t.width-i;if(n<t.minWidth){const e=t.minWidth-n;n=t.minWidth,r=r-i+e}else r-=i;e={...e,cols:[...e.cols.slice(0,t.index),{...t,width:n},...e.cols.slice(t.index+1)]}}))}return e}var s;function a(e,t,o,r,i=!0){const a=e.cols[t],c=e.cols[o];if(i){const e=Object(n("wfiM").d)(a);d(s.DEST)(r)>e&&(r=r>0?e:-e)}
d(s.SOURCE)(r)<0&&u(s.SOURCE)(r,a,c)<a.minWidth&&(r=a.width-a.minWidth);const l=c?{...c,width:u(s.DEST)(r,a,c)}:void 0;if(!l&&d(s.SOURCE)(r)<0){const t=Object(n("Vwtw").f)(e);t-a.width+u(s.SOURCE)(r,a,c)<e.maxSize&&(r=e.maxSize-(t-a.width)-a.width-1)}const p={...a,width:u(s.SOURCE)(r,a,c)},h=e.cols.map(((e,n)=>n===t?p:n===o?l:e)).filter(Boolean);return{state:{...e,cols:h},amount:r}}function c(e,t,o){let r=function(e,t,n){const o=e.cols;return n<0?o.slice(0,t):o.slice(t+1)}(e,t,o);for(;r.length&&o;){let i=l(r,o);if(-1===i){if(o>0)return{state:{...e,cols:[...e.cols.slice(0,t),{...e.cols[t],width:e.cols[t].width+o},...e.cols.slice(t+1)]},remaining:o};break}const s=r.find((e=>e.index===i));if(!s||Object(n("wfiM").d)(s)<=0)break;const c=a(e,s.index,t,o);e=c.state,o-=c.amount,r=r.filter((e=>e.index!==i))}return{state:e,remaining:o}}function l(e,t){if(0===e.length)return-1;"left"===(t<0?"left":"right")&&(e=e.slice().reverse());let o=-1;return e.forEach((e=>{
Object(n("wfiM").d)(e)&&-1===o&&(o=e.index)})),-1===o?-1:o}function d(e){return t=>e===s.SOURCE?t>0?-t:t:t<0?-t:t}function u(e){return(t,n,o)=>(e===s.SOURCE?n:o).width+d(e)(t)}!function(e){e.SOURCE="src",e.DEST="dest"}(s||(s={}))},"9hcL":function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return u}));var o=n("UxO+"),r=n("CsC6");const i=({rules:e,pluginKey:t,allowInsertTextOnDocument:n,onInputEvent:o,onBeforeRegexMatch:r})=>({view:i,from:s,to:a,text:c})=>{if(i.composing)return!1;const l=i.state,d=l.doc.resolve(s);if(d.parent.type.spec.code)return!1;if(o&&!o({state:l,from:s,to:a}))return!1;const u=d.parent.textBetween(Math.max(0,d.parentOffset-500),d.parentOffset,void 0,"\ufffc")+c,p=function({rules:e,textBefore:t,from:n,to:o,state:r}){for(let i=0;i<e.length;i++){const n=e[i],s=n.match.exec(t);if(!s)continue
;const a=r.selection.$from.start(),c=Math.max(0,r.selection.$from.parentOffset-500),l=Math.max(a+s.index+c,1);if(n.handler(r,s,l,o))return{from:l,to:o,matchedRule:{...n,result:s}}}return null}({rules:e,textBefore:u,from:s,to:a,state:l});if(!p)return!1;const h=n?l.tr.insertText(c,s,a):l.tr;return h.setMeta("input_rule_plugin_transaction",!0),h.setMeta(t,{textInserted:c,from:p.from,to:p.to,matchedRule:p.matchedRule}),r&&r(h),i.dispatch(h),!0};var s=n("hyZr");const a=e=>t=>({...t,onHandlerApply:(o,r,i)=>{const s="function"==typeof e?e(o,i):e;Object(n("SVcB").a)(o,r,s),t.onHandlerApply&&t.onHandlerApply(o,r,i)}}),c=(e,t)=>({match:e,handler:t,onHandlerApply:(e,t)=>{Object(s.a)(t)}}),l=(e,t,r={})=>{const{isBlockNodeRule:a=!1,allowInsertTextOnDocument:c=!0}=r;return function(e,t,n={}){const r=null==n?void 0:n.onInputEvent,s=null==n?void 0:n.onBeforeRegexMatch,a=Boolean(null==n?void 0:n.allowInsertTextOnDocument),c=new o.PluginKey(`inputRulePlugin__${e}`),l=i({allowInsertTextOnDocument:a,
pluginKey:c,rules:t,onInputEvent:r,onBeforeRegexMatch:s});return new o.Plugin({key:c,state:{init:()=>null,apply:(e,t)=>e.getMeta(c)||(e.selectionSet||e.docChanged?null:t)},appendTransaction:(e,t,n)=>{const o=e.find((e=>e.getMeta(c))),r=null==o?void 0:o.getMeta(c);if(!r||!o)return null;const{matchedRule:i,from:s,to:a}=r,{result:l}=i,d=o.mapping.map(a),u=i.handler(n,l,s,d);return u?(u.setMeta("input_rule_plugin_transaction",!0),i.onHandlerApply&&i.onHandlerApply(n,u,i.result),u):null},props:{handleTextInput:(e,t,n,o)=>l({view:e,from:t,to:n,text:o}),handleDOMEvents:{compositionend:e=>(setTimeout((()=>{const t=e.state.selection;if(!(t instanceof o.TextSelection))return;const{$cursor:n}=t;n&&l({view:e,from:n.pos,to:n.pos,text:""})})),!1)}},isInputRules:!0})}(e,t,{allowInsertTextOnDocument:c,onInputEvent:({state:e,from:t,to:r})=>{const i=a?["code","link","typeAheadQuery"]:["code"]
;return!e.selection.$from.parent.type.spec.code&&(e.selection instanceof o.TextSelection||e.selection instanceof n("WE2A").a)&&!p(e,t,r,i)&&(!a||!h(e,i))},onBeforeRegexMatch:e=>{Object(s.a)(e)}})},d=({match:e,nodeType:t,getAttrs:n})=>c(e,((e,o,r,i)=>{const s=Math.max(r,1),a=e.doc.resolve(s),c=n instanceof Function?n(o):n,l=a.node(-1);return l&&!l.canReplaceWith(a.index(-1),a.indexAfter(-1),t)?null:e.tr.delete(s,i).setBlockType(s,s,t,c)})),u=(e,t)=>(({match:e,nodeType:t,getAttrs:o,joinPredicate:i})=>c(e,((e,s,a,c)=>{const l=(o instanceof Function?o(s):o)||{},d=e.tr,u=Math.max(a,1);d.delete(u,c);const p=d.doc.resolve(u).blockRange(),h=p&&Object(r.m)(p,t,l);if(!h||!p)return null;const f=d.mapping.map(p.start),m=d.doc.nodeAt(f),b=h[h.length-1];if(m&&b){const e=b.type.allowedMarks(m.marks)||[];d.setNodeMarkup(f,m.type,m.attrs,e)}d.wrap(p,h);const g=d.doc.resolve(u-1).nodeBefore;return g&&g.type===t&&Object(r.j)(d.doc,u-1)&&(!i||i(s,g,n("gu93").b.JOINED_TO_LIST_ABOVE))&&d.join(u-1),d})))({
nodeType:t,match:e,getAttrs:{},joinPredicate:(e,n)=>n.type===t}),p=(e,t,n,o)=>{const r=e.doc.resolve(t),i=e.doc.resolve(n);return((t===n?r.marks():r.marksAcross(i))||[]).some((e=>(o||[]).includes(e.type.name)))},h=(e,t)=>{var n,r;const{selection:i}=e;if(!(i instanceof o.TextSelection))return!1;const{$cursor:s}=i;return Boolean(null==s||null===(n=s.nodeBefore)||void 0===n||null===(r=n.marks)||void 0===r?void 0:r.some((e=>t.includes(e.type.name))))}},"9l+G":function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));const o={mounted:"component-mounted"},r={[o.mounted]:new(n("jwUo").a)(o.mounted,{type:n("qZMz").b.Load,performanceType:n("qZMz").a.PageSegmentLoad,platform:{component:"link-picker"}})},i=(e,t,n)=>{const o=r[e].getInstance(t);o.start(),n&&o.addMetadata(n)},s=(e,t,n)=>{r[e].getInstance(t).success({metadata:n})},a=(e,t,n)=>{
r[e].getInstance(t).failure({metadata:n})},c=(e,t,n)=>{r[e].getInstance(t).abort({metadata:n})}},"9mxG":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm0-8h4a1 1 0 011 1v4a1 1 0 01-1 1H6a1 1 0 01-1-1v-4a1 1 0 011-1zm0-4h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorAlignImageLeftIcon";var s=i;t.default=s},A0FV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6.26 6.678l-3.237 9.534a.5.5 0 00.473.66h1.032a.75.75 0 00.717-.53l.648-2.107H9.63l.647 2.107a.75.75 0 00.717.53h1.113a.5.5 0 00.473-.66L9.337 6.677A1 1 0 008.39 6H7.207a1 1 0 00-.947.678zM7.736 8.08h.051l1.364 4.453H6.372L7.736 8.08zm11.113 2.043v-.327a1 1 0 011-1H20a1 1 0 011 1v6.078a1 1 0 01-1 1h-.151a1 1 0 01-1-1v-.312h-.088c-.392.874-1.232 1.439-2.418 1.439-1.975 0-3.221-1.613-3.221-4.182 0-2.546 1.254-4.15 3.221-4.15 1.172 0 2.026.595 2.418 1.454h.088zm-.045 2.712c0-1.47-.685-2.404-1.754-2.404-1.068 0-1.725.92-1.725 2.404 0 1.491.657 2.395 1.725 2.395 1.076 0 1.754-.911 1.754-2.395z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorTextStyleIcon";var s=i;t.default=s},A9a0:function(e,t,n){var o=n("nA4W"),r=n("bKEA"),i=n("Oa1h")(!1),s=n("WpRT")("IE_PROTO");e.exports=function(e,t){var n,a=r(e),c=0,l=[];for(n in a)n!=s&&o(a,n)&&l.push(n)
;for(;t.length>c;)o(a,n=t[c++])&&(~i(l,n)||l.push(n));return l}},ABBN:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return m}));var o=n("CsC6"),r=n("MEpN"),i=n("UxO+");function s(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function a(e,t,n){for(;e;e="start"==t?e.firstChild:e.lastChild){if(e.isTextblock)return!0;if(n&&1!=e.childCount)return!1}return!1}function c(e,t,n){var o=e.selection,r=o.$head,s=r;if(!o.empty)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;s=l(r)}var a=s&&s.nodeBefore;return!(!a||!i.NodeSelection.isSelectable(a))&&(t&&t(e.tr.setSelection(i.NodeSelection.create(e.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)}function l(e){
if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function d(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function u(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function p(e,t){var n=e.selection,o=n.$from,r=n.$to;if(n instanceof i.AllSelection||o.parent.inlineContent||r.parent.inlineContent)return!1;var s=u(r.parent.contentMatchAt(r.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){var a=(!o.parentOffset&&r.index()<r.parent.childCount?o:r).pos,c=e.tr.insert(a,s.createAndFill());c.setSelection(i.TextSelection.create(c.doc,a+1)),t(c.scrollIntoView())}return!0}function h(e,t){var n=e.selection,r=n.$from,s=n.$to
;if(e.selection instanceof i.NodeSelection&&e.selection.node.isBlock)return!(!r.parentOffset||!Object(o.k)(e.doc,r.pos))&&(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(t){var a=s.parentOffset==s.parent.content.size,c=e.tr;(e.selection instanceof i.TextSelection||e.selection instanceof i.AllSelection)&&c.deleteSelection();var l=0==r.depth?null:u(r.node(-1).contentMatchAt(r.indexAfter(-1))),d=a&&l?[{type:l}]:null,p=Object(o.k)(c.doc,c.mapping.map(r.pos),1,d);if(d||p||!Object(o.k)(c.doc,c.mapping.map(r.pos),1,l&&[{type:l}])||(d=[{type:l}],p=!0),p&&(c.split(c.mapping.map(r.pos),1,d),!a&&!r.parentOffset&&r.parent.type!=l)){var h=c.mapping.map(r.before()),f=c.doc.resolve(h);r.node(-1).canReplaceWith(f.index(),f.index()+1,l)&&c.setNodeMarkup(c.mapping.map(r.before()),l)}t(c.scrollIntoView())}return!0}function f(e,t,n){var s,c,l=t.nodeBefore,d=t.nodeAfter;if(l.type.spec.isolating||d.type.spec.isolating)return!1;if(function(e,t,n){
var r=t.nodeBefore,i=t.nodeAfter,s=t.index();return!(!(r&&i&&r.type.compatibleContent(i.type))||(!r.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(s,s+1)||!i.isTextblock&&!Object(o.j)(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;var u=t.parent.canReplace(t.index(),t.index()+1);if(u&&(s=(c=l.contentMatchAt(l.childCount)).findWrapping(d.type))&&c.matchType(s[0]||d.type).validEnd){if(n){for(var p=t.pos+d.nodeSize,h=r.Fragment.empty,f=s.length-1;f>=0;f--)h=r.Fragment.from(s[f].create(null,h));h=r.Fragment.from(l.copy(h));var m=e.tr.step(new o.d(t.pos-1,p,t.pos,p,new r.Slice(h,1,0),s.length,!0)),b=p+2*s.length;Object(o.j)(m.doc,b)&&m.join(b),n(m.scrollIntoView())}return!0}var g=i.Selection.findFrom(t,1),v=g&&g.$from.blockRange(g.$to),y=v&&Object(o.p)(v);if(null!=y&&y>=t.depth)return n&&n(e.tr.lift(v,y).scrollIntoView()),
!0;if(u&&a(d,"start",!0)&&a(l,"end")){for(var O=l,E=[];E.push(O),!O.isTextblock;)O=O.lastChild;for(var w=d,S=1;!w.isTextblock;w=w.firstChild)S++;if(O.canReplace(O.childCount,O.childCount,w.content)){if(n){for(var k=r.Fragment.empty,x=E.length-1;x>=0;x--)k=r.Fragment.from(E[x].copy(k));n(e.tr.step(new o.d(t.pos-E.length,t.pos+d.nodeSize,t.pos+S,t.pos+d.nodeSize-S,new r.Slice(k,E.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function m(e,t){return function(n,o){var r=n.selection,i=r.empty,s=r.$cursor,a=r.ranges;if(i&&!s||!function(e,t,n){for(var o=function(o){var r=t[o],i=r.$from,s=r.$to,a=0==i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,s.pos,(function(e){if(a)return!1;a=e.inlineContent&&e.type.allowsMarkType(n)})),a)return{v:!0}},r=0;r<t.length;r++){var i=o(r);if(i)return i.v}return!1}(n.doc,a,e))return!1;if(o)if(s)e.isInSet(n.storedMarks||s.marks())?o(n.tr.removeStoredMark(e)):o(n.tr.addStoredMark(e.create(t)));else{for(var c=!1,l=n.tr,d=0;!c&&d<a.length;d++){
var u=a[d],p=u.$from,h=u.$to;c=n.doc.rangeHasMark(p.pos,h.pos,e)}for(var f=0;f<a.length;f++){var m=a[f],b=m.$from,g=m.$to;if(c)l.removeMark(b.pos,g.pos,e);else{var v=b.pos,y=g.pos,O=b.nodeAfter,E=g.nodeBefore,w=O&&O.isText?/^\s*/.exec(O.text)[0].length:0,S=E&&E.isText?/\s*$/.exec(E.text)[0].length:0;v+w<y&&(v+=w,y-=S),l.addMark(v,y,e.create(t))}}o(l.scrollIntoView())}return!0}}function b(e,t){if(Array.isArray(t)){var n=t;t=function(e){return n.indexOf(e.type.name)>-1}}return function(n,r,i){return e(n,r&&function(e,t){return function(n){if(!n.isGeneric)return e(n);for(var r=[],i=0;i<n.mapping.maps.length;i++){for(var s=n.mapping.maps[i],a=0;a<r.length;a++)r[a]=s.map(r[a]);s.forEach((function(e,t,n,o){return r.push(n,o)}))}for(var c=[],l=0;l<r.length;l+=2)for(var d=r[l],u=r[l+1],p=n.doc.resolve(d),h=p.sharedDepth(u),f=p.node(h),m=p.indexAfter(h),b=p.after(h+1);b<=u;++m){var g=f.maybeChild(m);if(!g)break;if(m&&-1==c.indexOf(b)){var v=f.child(m-1);v.type==g.type&&t(v,g)&&c.push(b)}
b+=g.nodeSize}c.sort((function(e,t){return e-t}));for(var y=c.length-1;y>=0;y--)Object(o.j)(n.doc,c[y])&&n.join(c[y]);e(n)}}(r,t),i)}}function g(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,o){for(var r=0;r<e.length;r++)if(e[r](t,n,o))return!0;return!1}}var v=g(s,(function(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",e):r.parentOffset>0))return!1;var s=l(r);if(!s){var c=r.blockRange(),d=c&&Object(o.p)(c);return null!=d&&(t&&t(e.tr.lift(c,d).scrollIntoView()),!0)}var u=s.nodeBefore;if(!u.type.spec.isolating&&f(e,s,t))return!0;if(0==r.parent.content.size&&(a(u,"end")||i.NodeSelection.isSelectable(u))){if(t){var p=e.tr.deleteRange(r.before(),r.after());p.setSelection(a(u,"end")?i.Selection.findFrom(p.doc.resolve(p.mapping.map(s.pos,-1)),-1):i.NodeSelection.create(p.doc,s.pos-u.nodeSize)),t(p.scrollIntoView())}return!0}return!(!u.isAtom||s.depth!=r.depth-1)&&(t&&t(e.tr.delete(s.pos-u.nodeSize,s.pos).scrollIntoView()),!0)
}),c),y=g(s,(function(e,t,n){var o=e.selection.$cursor;if(!o||(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size))return!1;var r=d(o);if(!r)return!1;var s=r.nodeAfter;if(f(e,r,t))return!0;if(0==o.parent.content.size&&(a(s,"start")||i.NodeSelection.isSelectable(s))){if(t){var c=e.tr.deleteRange(o.before(),o.after());c.setSelection(a(s,"start")?i.Selection.findFrom(c.doc.resolve(c.mapping.map(r.pos)),1):i.NodeSelection.create(c.doc,c.mapping.map(r.pos))),t(c.scrollIntoView())}return!0}return!(!s.isAtom||r.depth!=o.depth-1)&&(t&&t(e.tr.delete(r.pos,r.pos+s.nodeSize).scrollIntoView()),!0)}),(function(e,t,n){var o=e.selection,r=o.$head,s=r;if(!o.empty)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;s=d(r)}var a=s&&s.nodeAfter;return!(!a||!i.NodeSelection.isSelectable(a))&&(t&&t(e.tr.setSelection(i.NodeSelection.create(e.doc,s.pos)).scrollIntoView()),!0)})),O={Enter:g((function(e,t){
var n=e.selection,o=n.$head,r=n.$anchor;return!(!o.parent.type.spec.code||!o.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}),p,(function(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(Object(o.k)(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}var i=n.blockRange(),s=i&&Object(o.p)(i);return null!=s&&(t&&t(e.tr.lift(i,s).scrollIntoView()),!0)}),h),"Mod-Enter":function(e,t){var n=e.selection,o=n.$head,r=n.$anchor;if(!o.parent.type.spec.code||!o.sameParent(r))return!1;var s=o.node(-1),a=o.indexAfter(-1),c=u(s.contentMatchAt(a));if(!s.canReplaceWith(a,a,c))return!1;if(t){var l=o.after(),d=e.tr.replaceWith(l,l,c.createAndFill());d.setSelection(i.Selection.near(d.doc.resolve(l),1)),t(d.scrollIntoView())}return!0},Backspace:v,"Mod-Backspace":v,"Shift-Backspace":v,Delete:y,"Mod-Delete":y,"Mod-a":function(e,t){return t&&t(e.tr.setSelection(new i.AllSelection(e.doc))),!0}},E={
"Ctrl-h":O.Backspace,"Alt-Backspace":O["Mod-Backspace"],"Ctrl-d":O.Delete,"Ctrl-Alt-Backspace":O["Mod-Delete"],"Alt-Delete":O["Mod-Delete"],"Alt-d":O["Mod-Delete"]};for(var w in O)E[w]=O[w];var S=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?E:O},ABYF:function(e,t,n){!function(t,n){e.exports=function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function o(e,t,n){b("listener called"),e.success=!0,t.forEach((function(t,o){n.clipboardData.setData(o,t),
o===O&&n.clipboardData.getData(o)!=t&&(b("setting text/plain failed"),e.success=!1)})),n.preventDefault()}function r(e){var t=new w,n=o.bind(this,t,e);document.addEventListener("copy",n);try{document.execCommand("copy")}finally{document.removeEventListener("copy",n)}return t.success}function i(e,t){c(e);var n=r(t);return l(),n}function s(e){var t=document.createElement("div");t.setAttribute("style","-webkit-user-select: text !important"),t.textContent="temporary element",document.body.appendChild(t);var n=i(t,e);return document.body.removeChild(t),n}function a(e){b("copyTextUsingDOM");var t=document.createElement("div");t.setAttribute("style","-webkit-user-select: text !important");var n=t;t.attachShadow&&(b("Using shadow DOM."),n=t.attachShadow({mode:"open"}));var o=document.createElement("span");o.innerText=e,n.appendChild(o),document.body.appendChild(t),c(o);var r=document.execCommand("copy");return l(),document.body.removeChild(t),r}function c(e){
var t=document.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}function l(){document.getSelection().removeAllRanges()}function d(e){var t=new m.DT;return t.setData(O,e),t}function u(){return"undefined"==typeof ClipboardEvent&&void 0!==window.clipboardData&&void 0!==window.clipboardData.setData}function p(e){var t=e.getData(O);if(void 0!==t)return window.clipboardData.setData("Text",t);throw"No `text/plain` value was specified."}function h(){return new f.Promise((function(e,t){var n=window.clipboardData.getData("Text");""===n?t(new Error("Empty clipboard or could not read plain text from clipboard")):e(n)}))}Object.defineProperty(t,"__esModule",{value:!0});var f=n(1),m=n(5),b=function(e){},g=!0,v=function(){(console.warn||console.log).call(arguments)},y=v.bind(console,"[clipboard-polyfill]"),O="text/plain",E=function(){function e(){}return e.setDebugLog=function(e){b=e},e.suppressWarnings=function(){g=!1,m.suppressDTWarnings()},
e.write=function(e){return g&&!e.getData(O)&&y("clipboard.write() was called without a `text/plain` data type. On some platforms, this may result in an empty clipboard. Call clipboard.suppressWarnings() to suppress this warning."),new f.Promise((function(t,n){if(u())p(e)?t():n(new Error("Copying failed, possibly because the user rejected it."));else{if(r(e))return b("regular execCopy worked"),void t();if(navigator.userAgent.indexOf("Edge")>-1)return b('UA "Edge" => assuming success'),void t();if(i(document.body,e))return b("copyUsingTempSelection worked"),void t();if(s(e))return b("copyUsingTempElem worked"),void t();var o=e.getData(O);if(void 0!==o&&a(o))return b("copyTextUsingDOM worked"),void t();n(new Error("Copy command failed."))}}))},e.writeText=function(e){if(navigator.clipboard&&navigator.clipboard.writeText)return navigator.clipboard.writeText(e);var t=new m.DT;return t.setData(O,e),this.write(t)},e.read=function(){return new f.Promise((function(e,t){
u()?h().then((function(t){return e(d(t))}),t):t("Read is not supported in your browser.")}))},e.readText=function(){return navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText():u()?h():new f.Promise((function(e,t){t("Read is not supported in your browser.")}))},e.DT=m.DT,e}();t.default=E;var w=function(){function e(){this.success=!1}return e}();e.exports=E},function(e,t,n){(function(t,o){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.1
 */
!function(t,n){e.exports=n()}(0,(function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function r(e){return"function"==typeof e}function i(e){K=e}function s(e){$=e}function a(){return void 0!==W?function(){W(l)}:c()}function c(){var e=setTimeout;return function(){return e(l,1)}}function l(){for(var e=0;e<U;e+=2)(0,Z[e])(Z[e+1]),Z[e]=void 0,Z[e+1]=void 0;U=0}function d(e,t){var n=arguments,o=this,r=new this.constructor(p);void 0===r[ee]&&I(r);var i=o._state;return i?function(){var e=n[i-1];$((function(){return j(i,r,e,o._result)}))}():k(o,r,e,t),r}function u(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(p);return O(n,e),n}function p(){}function h(){return new TypeError("You cannot resolve a promise with itself")}function f(){return new TypeError("A promises callback cannot return that same promise.")}function m(e){try{return e.then}catch(e){return re.error=e,re}}function b(e,t,n,o){try{e.call(t,n,o)
}catch(e){return e}}function g(e,t,n){$((function(e){var o=!1,r=b(n,t,(function(n){o||(o=!0,t!==n?O(e,n):w(e,n))}),(function(t){o||(o=!0,S(e,t))}),"Settle: "+(e._label||" unknown promise"));!o&&r&&(o=!0,S(e,r))}),e)}function v(e,t){t._state===ne?w(e,t._result):t._state===oe?S(e,t._result):k(t,void 0,(function(t){return O(e,t)}),(function(t){return S(e,t)}))}function y(e,t,n){t.constructor===e.constructor&&n===d&&t.constructor.resolve===u?v(e,t):n===re?(S(e,re.error),re.error=null):void 0===n?w(e,t):r(n)?g(e,t,n):w(e,t)}function O(t,n){t===n?S(t,h()):e(n)?y(t,n,m(n)):w(t,n)}function E(e){e._onerror&&e._onerror(e._result),x(e)}function w(e,t){e._state===te&&(e._result=t,e._state=ne,0!==e._subscribers.length&&$(x,e))}function S(e,t){e._state===te&&(e._state=oe,e._result=t,$(E,e))}function k(e,t,n,o){var r=e._subscribers,i=r.length;e._onerror=null,r[i]=t,r[i+ne]=n,r[i+oe]=o,0===i&&e._state&&$(x,e)}function x(e){var t=e._subscribers,n=e._state;if(0!==t.length){
for(var o=void 0,r=void 0,i=e._result,s=0;s<t.length;s+=3)o=t[s],r=t[s+n],o?j(n,o,r,i):r(i);e._subscribers.length=0}}function C(){this.error=null}function T(e,t){try{return e(t)}catch(e){return ie.error=e,ie}}function j(e,t,n,o){var i=r(n),s=void 0,a=void 0,c=void 0,l=void 0;if(i){if((s=T(n,o))===ie?(l=!0,a=s.error,s.error=null):c=!0,t===s)return void S(t,f())}else s=o,c=!0;t._state!==te||(i&&c?O(t,s):l?S(t,a):e===ne?w(t,s):e===oe&&S(t,s))}function A(e,t){try{t((function(t){O(e,t)}),(function(t){S(e,t)}))}catch(t){S(e,t)}}function N(){return se++}function I(e){e[ee]=se++,e._state=void 0,e._result=void 0,e._subscribers=[]}function P(e,t){this._instanceConstructor=e,this.promise=new e(p),this.promise[ee]||I(this.promise),H(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&w(this.promise,this._result))):S(this.promise,M())}function M(){
return new Error("Array Methods must be provided an Array")}function R(e){return new P(this,e).promise}function _(e){var t=this;return new t(H(e)?function(n,o){for(var r=e.length,i=0;i<r;i++)t.resolve(e[i]).then(n,o)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function L(e){var t=new this(p);return S(t,e),t}function D(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function B(e){this[ee]=N(),this._result=this._state=void 0,this._subscribers=[],p!==e&&("function"!=typeof e&&D(),this instanceof B?A(this,e):F())}function V(){var e=void 0;if(void 0!==o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise
;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=B}var z=void 0;z=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var H=z,U=0,W=void 0,K=void 0,$=function(e,t){Z[U]=e,Z[U+1]=t,2===(U+=2)&&(K?K(l):J())},q="undefined"!=typeof window?window:void 0,G=q||{},Y=G.MutationObserver||G.WebKitMutationObserver,Q="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),X="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Z=new Array(1e3),J=void 0;J=Q?function(){return function(){return t.nextTick(l)}}():Y?function(){var e=0,t=new Y(l),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():X?function(){var e=new MessageChannel;return e.port1.onmessage=l,function(){return e.port2.postMessage(0)}}():void 0===q?function(){try{var e=n(4)
;return W=e.runOnLoop||e.runOnContext,a()}catch(e){return c()}}():c();var ee=Math.random().toString(36).substring(16),te=void 0,ne=1,oe=2,re=new C,ie=new C,se=0;return P.prototype._enumerate=function(e){for(var t=0;this._state===te&&t<e.length;t++)this._eachEntry(e[t],t)},P.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,o=n.resolve;if(o===u){var r=m(e);if(r===d&&e._state!==te)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===B){var i=new n(p);y(i,e,r),this._willSettleAt(i,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(o(e),t)},P.prototype._settledAt=function(e,t,n){var o=this.promise;o._state===te&&(this._remaining--,e===oe?S(o,n):this._result[t]=n),0===this._remaining&&w(o,this._result)},P.prototype._willSettleAt=function(e,t){var n=this;k(e,void 0,(function(e){return n._settledAt(ne,t,e)}),(function(e){return n._settledAt(oe,t,e)}))},B.all=R,B.race=_,
B.resolve=u,B.reject=L,B._setScheduler=i,B._setAsap=s,B._asap=$,B.prototype={constructor:B,then:d,catch:function(e){return this.then(null,e)}},B.polyfill=V,B.Promise=B,B}))}).call(t,n(2),n(3))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(d===setTimeout)return setTimeout(e,0);if((d===n||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function i(e){if(u===clearTimeout)return clearTimeout(e);if((u===o||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function s(){m&&h&&(m=!1,h.length?f=h.concat(f):b=-1,f.length&&a())}function a(){if(!m){var e=r(s);m=!0;for(var t=f.length;t;){for(h=f,f=[];++b<t;)h&&h[b].run();b=-1,t=f.length}h=null,m=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}
function l(){}var d,u,p=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:n}catch(e){d=n}try{u="function"==typeof clearTimeout?clearTimeout:o}catch(e){u=o}}();var h,f=[],m=!1,b=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new c(e,t)),1!==f.length||m||r(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){
"object"==typeof window&&(n=window)}e.exports=n},function(e,t){},function(e,t,n){"use strict";function o(){a=!1}Object.defineProperty(t,"__esModule",{value:!0});var r=["text/plain","text/html"],i=function(){(console.warn||console.log).call(arguments)},s=i.bind(console,"[clipboard-polyfill]"),a=!0;t.suppressDTWarnings=o;var c=function(){function e(){this.m={}}return e.prototype.setData=function(e,t){a&&-1===r.indexOf(e)&&s("Unknown data type: "+e,"Call clipboard.suppressWarnings() to suppress this warning."),this.m[e]=t},e.prototype.getData=function(e){return this.m[e]},e.prototype.forEach=function(e){for(var t in this.m)e(this.m[t],t)},e}();t.DT=c}])}()}()},ACEg:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=Object(n("D6b/").defineMessages)({copyCodeToClipboard:{id:"fabric.editor.codeBlockCopyButton.copyToClipboard",defaultMessage:"Copy as text",description:"Copy the content of the code block as text to your clipboard"},copiedCodeToClipboard:{
id:"fabric.editor.codeBlockCopyButton.copiedToClipboard",defaultMessage:"Copied!",description:"Copied the content of the code block as text to clipboard"},wrapCode:{id:"fabric.editor.codeBlockWrapButton.wrapCodeBlock",defaultMessage:"Turn on wrap",description:"Wrap the content of the code block"},unwrapCode:{id:"fabric.editor.codeBlockWrapButton.unwrapCodeBlock",defaultMessage:"Turn off wrap",description:"Wrap the content of the code block"}})},ADCM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><rect fill="currentColor" x="5" y="11" width="14" height="2" rx="1" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorHorizontalRuleIcon";var s=i;t.default=s},AFvE:function(e,t,n){"use strict";n.d(t,"a",(function(){
return l})),n.d(t,"b",(function(){return d}));var o=n("lSNA"),r=n.n(o),i=n("UxO+"),s=n("V2qZ"),a=n("MEpN");class c{constructor(e){r()(this,"pos",void 0),r()(this,"visible",!1),this.pos=e}map(e){return new c(e.map(this.pos))}resolve(e){const t=e.resolve(this.pos);return i.Selection.near(t)}}class l extends i.Selection{constructor(e){super(e,e)}map(e,t){const n=e.resolve(t.map(this.$head.pos));return new l(n)}static content(){return a.Slice.empty}eq(e){return e instanceof l&&e.head===this.head}toJSON(){return{type:"Cursor",pos:this.head}}static fromJSON(e,t){return new l(e.resolve(t.pos))}getBookmark(){return new c(this.anchor)}}i.Selection.jsonID("fake-text-cursor",l);const d=e=>{if(!(e.selection instanceof l))return null;const t=document.createElement("div");return t.className="ProseMirror-fake-text-cursor",s.b.create(e.doc,[s.a.widget(e.selection.head,t,{key:"Cursor"})])}},AG9f:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("lSNA"),r=n.n(o);class i{
constructor(){r()(this,"handlerStorage",null)}captureMessage(e,t){this.handlerStorage&&this.handlerStorage.captureMessage(e,t)}captureException(e,t){this.handlerStorage&&this.handlerStorage.captureException(e,t)}set handler(e){this.handlerStorage=e}}},AGgm:function(e,t,n){"use strict";var o=Object.prototype.hasOwnProperty;function r(e,t){return o.call(e,t)}function i(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function s(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var a=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,c=new RegExp(a.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),l=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,d=n("vWgF");var u=/[&<>"]/,p=/[&<>"]/g,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function f(e){return h[e]}var m=/[.?*+^$[\]\\(){}|-]/g;var b=n("fKCf")
;t.lib={},t.lib.mdurl=n("2KYT"),t.lib.ucmicro=n("1dGX"),t.assign=function(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e},t.isString=function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},t.has=r,t.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(a,"$1")},t.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(c,(function(e,t,n){return t||function(e,t){var n=0;return r(d,t)?d[t]:35===t.charCodeAt(0)&&l.test(t)&&i(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?s(n):e}(e,n)}))},t.isValidEntityCode=i,t.fromCodePoint=s,t.escapeHtml=function(e){return u.test(e)?e.replace(p,f):e},t.arrayReplaceAt=function(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))},t.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},
t.isWhiteSpace=function(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},t.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},t.isPunctChar=function(e){return b.test(e)},t.escapeRE=function(e){return e.replace(m,"\\$&")},t.normalizeReference=function(e){return e=e.trim().replace(/\s+/g," "),"\u1e7e"==="\u1e9e".toLowerCase()&&(e=e.replace(/\u1e9e/g,"\xdf")),e.toLowerCase().toUpperCase()}},"AVf+":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("helpDialogPlugin")},AWMj:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),
n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s}));const o=()=>Object(n("zCFh").c)("editor.floating-toolbar-link-settings-button","false",["true","false","noChange"]),r=()=>Object(n("zCFh").a)("canned-response-template-variables-and-attachments",!1),i=()=>Object(n("zCFh").a)("disable-attachments-in-canned-responses",!1),s=()=>Object(n("zCFh").a)("fix-sentry-alerts",!1)},AXDw:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n("pVnL"),r=n.n(o),i=n("q1tI"),s=n.n(i);const a=({children:e,selectedRowIndex:t,selectedColumnIndex:n,isOpenedByKeyboard:o,isPopupPositioned:r,handleClose:a,closeOnTab:d})=>{const u=Object(i.useRef)(null),p=Object(i.useRef)(-1===n?0:n),h=Object(i.useRef)(-1===t?0:t),f=(e,t)=>{h.current===e.length-1?h.current=0:h.current=h.current+1},m=(e,t)=>{0===h.current?h.current=e.length-1:h.current=h.current-1};return Object(i.useLayoutEffect)((()=>{const e=()=>{var e;const t=l(c(null==u?void 0:u.current)[h.current])
;t&&0!==(null==t?void 0:t.length)&&(null===(e=t[p.current])||void 0===e||e.focus())},t=t=>{if("Tab"===t.key&&d)return void a(t);const n=c(null==u?void 0:u.current),o=l(n[h.current]);switch(t.key){case"ArrowDown":f(n),e(),t.preventDefault();break;case"ArrowUp":m(n),e(),t.preventDefault();break;case"ArrowLeft":((e,t)=>{0===p.current?(m(e),p.current=t.length-1):p.current=p.current-1})(n,o),e(),t.preventDefault();break;case"ArrowRight":((e,t)=>{p.current===t.length-1?(f(e),p.current=0):p.current=p.current+1})(n,o),e(),t.preventDefault();break;case"Escape":a(t);break;default:return}};return document.addEventListener("keydown",t),o&&r&&setTimeout((()=>{e()})),()=>{document.removeEventListener("keydown",t)}}),[p,o,r,u,a,d]),s.a.createElement("div",{className:"custom-key-handler-wrapper",ref:u},e)};function c(e){if(!e)return[];const t=e.querySelectorAll("div[role=radiogroup]")||[];return Array.from(t)}function l(e){if(!e)return[]
;const t=e.querySelectorAll("button[role=radio]:not([disabled])")||[];return Array.from(t)}const d=({children:e,handleClose:t,disableArrowKeyNavigation:n,keyDownHandlerContext:o,closeOnTab:r,onSelection:a})=>{const c=Object(i.useRef)(null),[l,d]=Object(i.useState)(-1),p=Object(i.useCallback)((e=>{const t=l;let n=(t+1)%e.length;for(;n!==t&&"true"===e[n].getAttribute("aria-disabled");)n=(n+1)%e.length;return d(n),n}),[l]),h=Object(i.useCallback)((e=>{const t=l;let n=(e.length+t-1)%e.length;for(;n!==t&&"true"===e[n].getAttribute("aria-disabled");)n=(e.length+n-1)%e.length;return d(n),n}),[l]);return Object(i.useEffect)((()=>{const e=l,t=u(null==c?void 0:c.current),n=t[e];if(n&&"true"===n.getAttribute("aria-disabled")){var o;null===(o=t[p(t)])||void 0===o||o.focus()}}),[l,a,p,h]),Object(i.useLayoutEffect)((()=>{if(n)return;const e=e=>{var n;const i=e.target;if("Tab"===e.key&&r)return t(e),void(null==o||o.handleTab());const s=u(null==c?void 0:c.current)
;if(s&&0!==(null==s?void 0:s.length))switch(null!==(n=c.current)&&void 0!==n&&n.contains(i)||d(-1),e.key){case"ArrowDown":var f;null===(f=s[p(s)])||void 0===f||f.focus(),e.preventDefault();break;case"ArrowUp":var m;null===(m=s[h(s)])||void 0===m||m.focus(),e.preventDefault();break;case"ArrowLeft":if(!i.closest(".custom-key-handler-wrapper"))return;t(e),i.closest('[data-testid="editor-floating-toolbar"]')||null==o||o.handleArrowLeft();break;case"ArrowRight":if(!i.closest(".custom-key-handler-wrapper"))return;t(e),i.closest('[data-testid="editor-floating-toolbar"]')||null==o||o.handleArrowRight();break;case"Escape":t(e);break;case"Enter":"function"==typeof a&&a(l);break;default:return}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[l,c,t,n,o,r,a,p,h]),s.a.createElement("div",{className:"menu-key-handler-wrapper custom-key-handler-wrapper",ref:c},e)};function u(e){if(!e)return[]
;const t=e.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, div[tabindex="-1"]')||[];return Array.from(t)}const p=e=>{const{children:t,type:o,...i}=e;return o===n("0ap2").a.COLOR?s.a.createElement(a,r()({selectedRowIndex:e.selectedRowIndex,selectedColumnIndex:e.selectedColumnIndex,isOpenedByKeyboard:e.isOpenedByKeyboard,isPopupPositioned:e.isPopupPositioned},i),t):s.a.createElement(d,i,t)}},AYiB:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("gapCursorPlugin")},Aece:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i}));const o=(e,t,o)=>{const{node:r,containerWidth:s,previousContainerWidth:a,prevNode:c,start:l,isBreakoutEnabled:d,layoutChanged:u}=t,p=Object(n("SdCE").b)(r.attrs.layout,s,{isBreakoutEnabled:d}),h=Object(n("r/3z").e)(c),f=Object(n("SdCE").b)(c.attrs.layout,a,{isBreakoutEnabled:d});let m=p;if(u&&h>f){if(h<p)m=p;else{
const e=h/f;m=Math.floor(m*e)}}r.attrs.isNumberColumnEnabled&&(m-=n("anI9").R);return i(Object(n("Vwtw").e)({minWidth:n("9ehW").d,maxSize:p,table:r,tableRef:e,start:l,domAtPos:o}),m)},r=(e,t,o,r,s)=>{const a=Object(n("Vwtw").e)({minWidth:n("9ehW").d,maxSize:t,table:o,tableRef:e,start:r,domAtPos:s});return o.attrs.isNumberColumnEnabled&&(t-=n("anI9").R),i(a,Math.floor(t))};function i(e,t){const o=t/Object(n("Vwtw").f)(e);let r={...e,maxSize:t,cols:e.cols.map((e=>{const{minWidth:t,width:n}=e;let r=Math.floor(n*o);return r<t&&(r=t),{...e,width:r}}))},i=Object(n("Vwtw").f)(r);return i>t&&(r=Object(n("9d+w").b)(r,i-t)),Object(n("Vwtw").a)(r,t)}},Am79:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return n("CPx4").a}))},AyUB:function(e,t,n){e.exports={default:n("vNbC"),__esModule:!0}},B1jb:function(e,t,n){"use strict";var o=n("AGgm").isSpace;e.exports=function(e,t,n,r){var i,s,a,c,l=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1
;if(35!==(i=e.src.charCodeAt(l))||l>=d)return!1;for(s=1,i=e.src.charCodeAt(++l);35===i&&l<d&&s<=6;)s++,i=e.src.charCodeAt(++l);return!(s>6||l<d&&!o(i))&&(r||(d=e.skipSpacesBack(d,l),(a=e.skipCharsBack(d,35,l))>l&&o(e.src.charCodeAt(a-1))&&(d=a),e.line=t+1,(c=e.push("heading_open","h"+String(s),1)).markup="########".slice(0,s),c.map=[t,e.line],(c=e.push("inline","",0)).content=e.src.slice(l,d).trim(),c.map=[t,e.line],c.children=[],(c=e.push("heading_close","h"+String(s),-1)).markup="########".slice(0,s)),!0)}},B9FP:function(e,t,n){"use strict";function o(e,t){const{day:o,month:r,year:i}=e,s=Object(n("mHze").a)(t),a=new Date(i,r-1,o);return s.formatDate(a)}function r(e){const{day:t,month:n,year:o}=e;return new Date(o,n-1,t)}function i(e){return{day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}}n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},BB7F:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}))
;var o=n("lSNA"),r=n.n(o),i=n("q1tI"),s=n.n(i),a=n("pVnL"),c=n.n(a);const l={[n("W304").b.SELF]:{background:Object(n("56zV").a)({light:"var(--ds-background-brand-bold, #0052CC)",dark:"var(--ds-background-brand-bold, #2684FF)"}),borderColor:"transparent",text:Object(n("56zV").a)({light:"var(--ds-text-inverse, #F4F5F7)",dark:"var(--ds-text-inverse, #1B2638)"}),hoveredBackground:Object(n("56zV").a)({light:"var(--ds-background-brand-bold-hovered, #0052CC)",dark:"var(--ds-background-brand-bold-hovered, #2684FF)"}),pressedBackground:Object(n("56zV").a)({light:"var(--ds-background-brand-bold-pressed, #0052CC)",dark:"var(--ds-background-brand-bold-pressed, #2684FF)"})},[n("W304").b.RESTRICTED]:{background:"transparent",borderColor:Object(n("56zV").a)({light:"var(--ds-border-bold, #42526E)",dark:"var(--ds-border-bold, #455166)"}),text:Object(n("56zV").a)({light:"var(--ds-text, #42526E)",dark:"var(--ds-text, #67758F)"}),hoveredBackground:"transparent",pressedBackground:"transparent"},
[n("W304").b.DEFAULT]:{background:Object(n("56zV").a)({light:"var(--ds-background-neutral, rgba(9, 30, 66, 0.08))",dark:"var(--ds-background-neutral, #455166)"}),borderColor:"transparent",text:Object(n("56zV").a)({light:"var(--ds-text-subtle, #42526E)",dark:"var(--ds-text-subtle, #DCE5F5)"}),hoveredBackground:Object(n("56zV").a)({light:"var(--ds-background-neutral-hovered, rgba(9, 30, 66, 0.08))",dark:"var(--ds-background-neutral-hovered, #455166)"}),pressedBackground:Object(n("56zV").a)({light:"var(--ds-background-neutral-pressed, rgba(9, 30, 66, 0.08))",dark:"var(--ds-background-neutral-pressed, #455166)"})}},d=({mentionType:e,theme:t},n)=>{const o=l[e][n];return"string"==typeof o?o:o({theme:t})};var u=Object(i.forwardRef)((({mentionType:e,...t},o)=>{const r=Object(n("1chJ").b)();return Object(n("AeFk").jsx)("span",c()({ref:o,css:Object(n("AeFk").css)("display:inline;border:1px solid ",d({theme:r,mentionType:e},"borderColor"),";background:",d({theme:r,mentionType:e
},"background"),";color:",d({theme:r,mentionType:e},"text"),";border-radius:20px;cursor:pointer;padding:0 0.3em 2px 0.23em;line-height:1.714;font-size:1em;font-weight:normal;word-break:break-word;&:hover{background:",d({theme:r,mentionType:e},"hoveredBackground"),";}&:active{background:",d({theme:r,mentionType:e},"pressedBackground"),";}")},t))}));const p={NOT_STARTED:{id:"NOT_STARTED",final:!0},STARTED:{id:"STARTED"},IN_PROGRESS:{id:"IN_PROGRESS"},BLOCKED:{id:"BLOCKED"},RECOVERED:{id:"RECOVERED"},SUCCEEDED:{id:"SUCCEEDED",final:!0,success:!0},SUCCEEDED_WAITING_FOR_DEPS:{id:"SUCCEEDED_WAITING_FOR_DEPS"},FAILED:{id:"FAILED",final:!0},ABORTED:{id:"ABORTED",final:!0}};class h{constructor(){r()(this,"enabled",!1)}log(...e){this.enabled&&console.log(h.UFOprefix,...e)}warn(...e){this.enabled&&console.warn(h.UFOprefix,...e)}enable(){this.enabled=!0}disable(){this.enabled=!1}}r()(h,"UFOprefix","[ufo\ud83d\udef8]");const f=new h,m=(...e)=>{f.log(...e)},b=(...e)=>{f.warn(...e)};var g=n("EcEN")
;let v=function(e){return e[e.EXPERIENCE_PAYLOAD=0]="EXPERIENCE_PAYLOAD",e[e.SUBSCRIBE=1]="SUBSCRIBE",e[e.UNSUBSCRIBE=2]="UNSUBSCRIBE",e}({}),y=function(e){return e.VISIBLE="visible",e.HIDDEN="hidden",e.MIXED="mixed",e}({});const O=()=>{if(!globalThis.__UFO_GLOBAL_EVENT_STREAM__){const e=(()=>{const e=[];return{__buffer_only__:!0,push:t=>{e.length<250&&e.push(t)},getStream:()=>e}})();globalThis.__UFO_GLOBAL_EVENT_STREAM__=e}return globalThis.__UFO_GLOBAL_EVENT_STREAM__},E=()=>"undefined"!=typeof window;const w=new class{constructor(){r()(this,"started",!1),r()(this,"observers",[]),r()(this,"broadcast",(()=>{this.observers.forEach((e=>e())),this.observers=[]}))}start(){this.started||(this.started=!0,document.addEventListener("visibilitychange",this.broadcast),E()&&window.addEventListener("pagehide",this.broadcast))}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter((t=>t!==e))}},S={[p.NOT_STARTED.id]:[p.STARTED.id],
[p.STARTED.id]:[p.IN_PROGRESS.id,p.BLOCKED.id,p.SUCCEEDED.id,p.SUCCEEDED_WAITING_FOR_DEPS.id,p.FAILED.id,p.ABORTED.id],[p.IN_PROGRESS.id]:[p.BLOCKED.id,p.SUCCEEDED.id,p.SUCCEEDED_WAITING_FOR_DEPS.id,p.FAILED.id,p.ABORTED.id],[p.BLOCKED.id]:[p.RECOVERED.id,p.ABORTED.id],[p.RECOVERED.id]:[p.STARTED.id,p.SUCCEEDED.id,p.SUCCEEDED_WAITING_FOR_DEPS.id,p.FAILED.id,p.ABORTED.id],[p.SUCCEEDED.id]:[p.STARTED.id],[p.SUCCEEDED_WAITING_FOR_DEPS.id]:[p.SUCCEEDED.id,p.FAILED.id,p.ABORTED.id],[p.FAILED.id]:[p.STARTED.id],[p.ABORTED.id]:[p.STARTED.id]};let k=function(e){return e.Load="load",e.Experience="experience",e.Operation="operation",e}({}),x=function(e){return e.PageLoad="page-load",e.PageSegmentLoad="page-segment-load",e.InlineResult="inline-result",e.Custom="custom",e}({});const C=()=>E()&&window.document&&"visible"!==window.document.visibilityState?y.HIDDEN:y.VISIBLE,T=e=>void 0!==e?~~e:(()=>~~performance.now())();class j extends class{constructor(e,t,n=null){r()(this,"state",p.NOT_STARTED),
r()(this,"instanceId",null),r()(this,"parent",null),r()(this,"category",null),r()(this,"metadata",{}),r()(this,"onDoneCallbacks",[]),r()(this,"childExperiences",[]),r()(this,"explicitTimings",{}),r()(this,"isSSROutputAsFMP",!1),r()(this,"uuid",null),r()(this,"_until",null),r()(this,"metrics",{startTime:null,endTime:null,marks:[]}),r()(this,"performanceConfig",{}),r()(this,"setPageVisibleStateToMixed",(()=>{this.pageVisibleState=y.MIXED,w.unsubscribe(this.setPageVisibleStateToMixed)})),this.id=e,this.category=(null==t?void 0:t.category)||null,this.until=(null==t?void 0:t.until)||null,this.instanceId=n,this.handleDoneBind=this._handleDoneExperience.bind(this),this.type=t.type,this.performanceType=t.performanceType,this.performanceConfig=t.performanceConfig||{},this.config=t,this.pageVisibleState=C(),this.featureFlags=t.featureFlags||[],this.timings=t.timings||[],t.performanceType!==x.PageLoad&&t.performanceType!==x.PageSegmentLoad||(this.isSSROutputAsFMP=t.isSSROutputAsFMP||!1)}
async transition(e,t){if(m("async transition",this.id,this.state.id,e.id),((e,t)=>S[e.id]&&S[e.id].includes(t.id))(this.state,e)){if(m(`TRANSITION: ${this.id} from ${this.state.id} to ${e.id} successful`,this.state.final,!e.final),e===p.STARTED&&this._reset(),this.state.final&&!e.final&&(this.metrics.startTime=T(t),this.uuid=Object(g.v4)()),this.state=e,e.final){this.metrics.endTime=T(t),this._isManualStateEnabled()||O().push(((e,t)=>({type:v.UNSUBSCRIBE,payload:{experienceId:e,callback:t}}))("__SUBSCRIBE_ALL__",this.handleDoneBind));const e=await this.exportData();m("this.parent",this.parent),O().push((e=>({type:v.EXPERIENCE_PAYLOAD,payload:e}))(e))}return!0}return m(`TRANSITION: ${this.id} from ${this.state.id} to ${e.id} unsuccessful`),b(`transition of ${this.id} from ${this.state} to ${e} is not possible`),!1}async start(e){await this.transition(p.STARTED,e)&&(this.pageVisibleState=C(),w.subscribe(this.setPageVisibleStateToMixed),
this._isManualStateEnabled()||(m("subscribed",this.id),O().push(((e,t)=>({type:v.SUBSCRIBE,payload:{experienceId:e,callback:t}}))("__SUBSCRIBE_ALL__",this.handleDoneBind))))}mark(e,t){"fmp"!==e&&"inline-response"!==e?this._mark(e,t):b("please use markFMP or markInlineResponse for specialised marks")}_mark(e,t){this.metrics.marks.push({name:e,time:T(t)}),this.transition(p.IN_PROGRESS)}markFMP(e){this._mark("fmp",e)}markInlineResponse(e){this._mark("inline-response",e)}_isManualStateEnabled(){return null===this.until}_validateManualState(){return!!this._isManualStateEnabled()||(b('manual change of state not allowed as "until" is defined'),!1)}switchToEndState(e,t){return null!=t&&t.force||this._validateManualState()?(null!=t&&t.metadata&&this.addMetadata(t.metadata),w.unsubscribe(this.setPageVisibleStateToMixed),this.transition(e)):null}async success(e){return this.switchToEndState(p.SUCCEEDED,e)}async failure(e){return this.switchToEndState(p.FAILED,e)}async abort(e){
return this.switchToEndState(p.ABORTED,e)}addMetadata(e){Object.assign(this.metadata,e)}_handleDoneExperience(e){if(m("_handleDoneExperience in",this.id,e.state,e,this._until),e.state.final&&null!==this._until){const{done:t,state:n}=this._until(e);t&&!this.state.final&&this.transition(n)}}async getId(){return this.id}async exportData(){return{id:await this.getId(),uuid:this.uuid,type:this.type,schemaVersion:"0.1.5",performanceType:this.performanceType,category:this.category,state:this.state,metadata:{...this.metadata},metrics:{...this.metrics},children:[...this.childExperiences],result:{success:!!this.state.success,startTime:this.metrics.startTime,duration:(this.metrics.endTime||0)-(this.metrics.startTime||0)},platform:this.config.platform||null,pageVisibleState:this.pageVisibleState,featureFlags:this.featureFlags,isSSROutputAsFMP:this.isSSROutputAsFMP,timings:this.timings,explicitTimings:this.explicitTimings,performanceConfig:this.performanceConfig}}_reset(){this.parent=null,
this.metadata={},this.onDoneCallbacks=[],this.childExperiences=[],this.metrics={startTime:null,endTime:null,marks:[]},this._until=this.until?this.until():null}}{}const A=new class{constructor(e,t){r()(this,"instances",{}),this.experienceId=e,this.config=t}getInstance(e){return this.instances[e]||(this.instances[e]=new j(this.experienceId,this.config,e)),this.instances[e]}release(e){m("instanceId",e),this.instances[e]&&this.instances[e].abort(),delete this.instances[e]}}("mention-rendered",{platform:{component:"mention"},type:k.Load,performanceType:x.PageSegmentLoad});class N extends s.a.Component{componentDidCatch(){A.getInstance(this.props.id).failure()}render(){return this.props.children}}N.displayName="UfoErrorBoundary";class I extends s.a.PureComponent{constructor(e){super(e),r()(this,"handleOnClick",(e=>{const{id:t,text:n,onClick:o}=this.props;o&&o(t,n,e)})),r()(this,"handleOnMouseEnter",(e=>{const{id:t,text:n,onMouseEnter:o,onHover:r}=this.props;o&&o(t,n,e),
this.hoverTimeout=window.setTimeout((()=>{r&&r(),this.hoverTimeout=void 0}),1e3)})),r()(this,"handleOnMouseLeave",(e=>{const{id:t,text:n,onMouseLeave:o}=this.props;o&&o(t,n,e),this.hoverTimeout&&clearTimeout(this.hoverTimeout)})),r()(this,"getMentionType",(()=>{const{accessLevel:e,isHighlighted:t}=this.props;return t?n("W304").b.SELF:Object(n("W304").g)(e)?n("W304").b.RESTRICTED:n("W304").b.DEFAULT})),A.getInstance(e.id).start()}componentDidMount(){A.getInstance(this.props.id).success()}componentWillUnmount(){this.hoverTimeout&&clearTimeout(this.hoverTimeout);const e=A.getInstance(this.props.id);[p.STARTED,p.IN_PROGRESS].includes(e.state)&&e.abort()}renderUnknownUserError(e){return s.a.createElement(n("Rwff").c,{values:{userId:e.slice(-5)}},(e=>s.a.createElement(s.a.Fragment,null,`@${e}`)))}render(){
const{handleOnClick:e,handleOnMouseEnter:t,handleOnMouseLeave:o,props:r}=this,{text:i,id:a,accessLevel:c}=r,l=this.getMentionType(),d="@_|unknown|_"===i,p=s.a.createElement(n("Q+8n").a,null,s.a.createElement(u,{mentionType:l,onClick:e,onMouseEnter:t,onMouseLeave:o,spellCheck:!1},d?this.renderUnknownUserError(a):i||"@..."));return s.a.createElement(N,{id:a},s.a.createElement("span",{"data-mention-id":a,"data-access-level":c,spellCheck:!1},s.a.createElement(n("R4az").a,null,l===n("W304").b.RESTRICTED?s.a.createElement(s.a.Suspense,{fallback:p},s.a.createElement(n("PeA7").a,{name:i},p)):p)))}}I.displayName="MentionInternal";var P=Object(n("VHV8").a)({onClick:(e,t)=>{const{id:o,text:r,accessLevel:i}=t;return Object(n("akd9").f)(e)("mention","selected",r,o,i)},onHover:(e,t)=>{const{id:o,text:r,accessLevel:i}=t;return Object(n("akd9").f)(e)("mention","hovered",r,o,i)}})(I);class M extends s.a.PureComponent{constructor(e){super(e),r()(this,"handleMentionProvider",(e=>{
const{id:t,mentionProvider:o,text:r}=e;o?o.then((e=>{const o={isHighlighted:e.shouldHighlightMention({id:t})};if(!r&&Object(n("kAIj").d)(e)){const r=e.resolveMentionName(t);Object(n("W304").f)(r)?r.then((e=>{this.setStateSafely({resolvedMentionName:this.processName(e)})})):o.resolvedMentionName=this.processName(r)}this.setStateSafely(o)})).catch((()=>{this.setStateSafely({isHighlighted:!1})})):this.setStateSafely({isHighlighted:!1})})),this._isMounted=!1,this.state={isHighlighted:!1}}componentDidMount(){this.handleMentionProvider(this.props),this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}UNSAFE_componentWillReceiveProps(e){const{props:t}=this;t.id===e.id&&t.mentionProvider===e.mentionProvider||this.handleMentionProvider(e)}setStateSafely(e){this._isMounted?this.setState(e):Object(n("EYN+").a)("[ResourcedMention]: cannot setState when component is unmounted.")}processName(e){let t;switch(e.status){case n("W304").a.OK:t=e.name||"";break;case n("W304").a.SERVICE_ERROR:
case n("W304").a.UNKNOWN:default:t="_|unknown|_"}return`@${t}`}render(){const{props:e,state:t}=this;return s.a.createElement(P,{id:e.id,text:e.text||t.resolvedMentionName||"",isHighlighted:t.isHighlighted,accessLevel:e.accessLevel,onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave})}}M.displayName="ResourcedMention"},BF2H:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o=new(n("UxO+").PluginKey)("selection");let r;!function(e){e[e.Before=-1]="Before",e[e.After=1]="After"}(r||(r={}))},BJ3o:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 11h10a1 1 0 010 2H7a1 1 0 010-2zm2.5 4h5a1 1 0 010 2h-5a1 1 0 010-2zm0-8h5a1 1 0 010 2h-5a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorAlignCenterIcon";var s=i;t.default=s},BRsN:function(e,t,n){var o=n("GhSp"),r=n("ENu8");e.exports=n("C61u")?function(e,t,n){return o.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},BS0G:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a}));var o=n("UxO+");const r=[];let i;n("50qd").a.forEach(((e,t)=>{r.push(((e,t)=>{const o=e.toLowerCase().replace(" ","-"),r=Object(n("cL9K").a)(n("5Svd").a,o);return{value:t,label:e,border:n("aYdX").a,message:r}})(e,t))})),function(e){e[e.RESET_COLOR=0]="RESET_COLOR",e[e.SET_COLOR=1]="SET_COLOR",e[e.DISABLE=2]="DISABLE"}(i||(i={}));const s=new o.PluginKey("textColorPlugin");function a(e,t){
return new(n("KkS8").a)({key:s,state:{init:(e,o)=>function(e,t){const o=(null==t?void 0:t.defaultColor)||n("Z9Bk").a,i=[{value:o.color,label:o.label,border:n("aYdX").a},...r];return{color:Object(n("Z9Bk").b)(e),disabled:Object(n("x2he").a)(e),palette:i,defaultColor:o.color}}(o,t),apply(t,o,r,a){const c=t.getMeta(s)||{};let l;switch(c.action){case i.RESET_COLOR:l={...o,color:o.defaultColor};break;case i.SET_COLOR:l={...o,color:c.color,disabled:!1};break;case i.DISABLE:l={...o,disabled:!0};break;default:l={...o,color:Object(n("Z9Bk").b)(a),disabled:Object(n("x2he").a)(a)}}return o&&o.color!==l.color||o&&o.disabled!==l.disabled?(e(s,l),l):o}}})}},BfU5:function(e,t,n){var o=n("ekG2"),r=n("7whZ").document,i=o(r)&&o(r.createElement);e.exports=function(e){return i?r.createElement(e):{}}},Bo8Z:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o=(e,t,o)=>r=>{const i=n("wYWE").b.get(t),s={}
;for(let o=0;o<i.width;o++)for(let a=0;a<i.height;a++){const{width:c}=e.cols[o],l=a*i.width+o,d=i.map[l],u=s[d]||{...t.nodeAt(d).attrs},p=u.colspan||1;if(u.colwidth&&u.colwidth.length>p&&(r=Object(n("3R0y").a)({type:"UPDATE_COLUMN_WIDTHS",problem:"COLWIDTHS_BEFORE_UPDATE",data:{colwidths:u.colwidth,colspan:p}})(r),u.colwidth=u.colwidth.slice(0,p)),a&&i.map[l]===i.map[l-i.width])continue;const h=1===p?0:o-i.colCount(d);if(u.colwidth&&u.colwidth[h]===c)continue;let f=u.colwidth?u.colwidth.slice():Array.from({length:p},(e=>0));f[h]=c,f.length>p&&(r=Object(n("3R0y").a)({type:"UPDATE_COLUMN_WIDTHS",problem:"COLWIDTHS_AFTER_UPDATE",data:{colwidths:f,colspan:p}})(r),f=f.slice(0,p)),s[d]={...u,colwidth:f.includes(0)?void 0:f}}const a=[],c={};for(let e=0;e<i.height;e++){const n=t.child(e),o=[];for(let r=0;r<i.width;r++){const n=e*i.width+r,a=i.map[n],l=t.nodeAt(a);!c[a]&&l&&(o.push(l.type.createChecked(s[a]||l.attrs,l.content,l.marks)),c[a]=!0)}a.push(n.type.createChecked(n.attrs,o,n.marks))}
const l=o-1,d=r.selection.getBookmark();return r.replaceWith(l,l+t.nodeSize,t.type.createChecked(t.attrs,a,t.marks)),r.setSelection(d.resolve(r.doc))},r=e=>(t,r)=>i=>{var s;if(!r)return i;const a=t.pos,c=i.doc.nodeAt(a),{state:l}=r,d=r.domAtPos.bind(r),u=d(t.start).node.closest("table");if(!u||!c)return i;const p=Object(n("Vwtw").g)(null==u?void 0:u.dataset.layout),h=Object(n("SdCE").c)({table:t.node,tableStart:t.start,state:l,layout:p,getEditorContainerWidth:e}),f=u.clientWidth||n("anI9").i;let m=(null==u||null===(s=u.parentElement)||void 0===s?void 0:s.clientWidth)||0;m-=n("xGNL").a;const b=n("wYWE").b.get(c).width;if(!b||b<=0)return i;const g=f/b;if(!Object(n("yu4X").b)(t.node)&&g>n("9ehW").d)return i;if(!Object(n("yu4X").b)(t.node)&&g<=n("9ehW").d||Object(n("yu4X").b)(t.node)&&Object(n("yu4X").d)(t.node)){const e=new Array(b).fill(n("9ehW").d),r=e.map(((e,t)=>({width:n("9ehW").d,minWidth:n("9ehW").d,index:t})));return o({cols:r,widths:e,maxSize:h,tableWidth:f,overflow:f>h
},t.node,t.start)(i)}let v=Object(n("Vwtw").e)({minWidth:n("9ehW").d,table:t.node,start:t.start,tableRef:u,domAtPos:d,maxSize:h});return v.tableWidth-n("9ehW").i<=Math.max(h,m)&&v.overflow&&(v=Object(n("Aece").b)(v,h)),o(v,t.node,t.start)(i)}},BuIm:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"i",(function(){return a})),n.d(t,"j",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"k",(function(){return h})),n.d(t,"o",(function(){return f})),n.d(t,"l",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return E})),n.d(t,"n",(function(){return w})),n.d(t,"m",(function(){return S}));var o=n("UxO+"),r=n("V2qZ"),i=n("mG1W");function s(e,t,o){return function(r,i,s,a,c,l){if(o.useLongPressSelection)return!1;if(l&&-1!==e.indexOf(s.type.name)&&c.target){const e=c.target;if(t(e)){
const e=o.getNodeSelectionPos?o.getNodeSelectionPos(r.state,a):a;return Object(n("+U5V").i)(e)(r.state,r.dispatch),!0}}return!1}}const a=e=>{if(e.selection instanceof o.NodeSelection)return r.b.create(e.doc,[r.a.node(e.selection.from,e.selection.to,{class:n("anI9").H})]);if(e.selection instanceof o.TextSelection||e.selection instanceof o.AllSelection){const t=p(e.selection,e.doc).map((({node:e,pos:t})=>r.a.node(t,t+e.nodeSize,{class:n("anI9").H})));return r.b.create(e.doc,t)}return r.b.empty};function c(e){if(e instanceof o.NodeSelection)return{action:n("+PNV").a.SELECTED,actionSubject:n("+PNV").b.DOCUMENT,actionSubjectId:n("+PNV").c.NODE,eventType:n("+PNV").e.TRACK,attributes:{node:e.node.type.name}}}function l(e){if(e instanceof o.AllSelection)return{action:n("+PNV").a.SELECTED,actionSubject:n("+PNV").b.DOCUMENT,actionSubjectId:n("+PNV").c.ALL,eventType:n("+PNV").e.TRACK}}function d(e){if(e.selection instanceof n("n1Ll").a){
const t=Object(n("gtpc").a)(e),o=t.map.cellsInRect(t).length,r=t.map.map.length;return{action:n("+PNV").a.SELECTED,actionSubject:n("+PNV").b.DOCUMENT,actionSubjectId:n("+PNV").c.CELL,eventType:n("+PNV").e.TRACK,attributes:{selectedCells:o,totalCells:r}}}}const u=["table","panel","expand","layoutSection","decisionList","decisionItem","codeBlock"],p=(e,t)=>{const n=[];if(e.from!==e.to){const{from:o,to:r}=e;t.nodesBetween(o,r,((e,t)=>{const i=o<=t&&t+e.nodeSize<=r,s=u.includes(e.type.name);return e&&i&&s?(n.push({node:e,pos:t}),!1):(e&&i&&!e.isText&&n.push({node:e,pos:t}),!0)}))}return n};function h(e,t){if(e instanceof o.TextSelection&&e.from!==e.to){const{from:o,to:r,anchor:i,head:s}=e,a=[];return t.nodesBetween(o,r,((e,t)=>{if(e.isText||t>=o&&t+e.nodeSize<=r)return a.push(e.type.name),!1})),{action:n("+PNV").a.SELECTED,actionSubject:n("+PNV").b.DOCUMENT,actionSubjectId:n("+PNV").c.RANGE,eventType:n("+PNV").e.TRACK,attributes:{from:i,to:s,nodes:a}}}}
function f({oldEditorState:e,newEditorState:t}){const r=e.selection,i=t.selection,s=n("BF2H").b.getState(e),a=n("BF2H").b.getState(t);if(!s||!a)return!1;if(r.eq(i)){if(r instanceof o.NodeSelection&&i instanceof o.NodeSelection){const e=s.decorationSet.find(),t=a.decorationSet.find();return e.length>0&&t.length>0?!e[0].eq(t[0]):!(0===e.length&&0===t.length)}return!1}return!(r instanceof o.TextSelection&&i instanceof o.TextSelection&&r.from===r.to&&i.from===i.to)}const m=e=>!(!e||e.isAtom||!o.NodeSelection.isSelectable(e)),b=e=>!(!e||!(e.isText||Object(n("x+VZ").h)(e)||o.NodeSelection.isSelectable(e))),g=e=>{let t=!1;const o=Object(i.findParentNode)((e=>{const o=m(e);return o||Object(n("acaU").a)(e)||(t=!0),o}))(e);if(!t)return o},v=(e,t)=>{e.parent.inlineContent&&m(e.parent)&&(e=t.resolve(e.start()-1));const r=o.Selection.findFrom(e,-1);if(r){const i=t.resolve(r.from);for(let t=e.depth+1;t<=i.depth;t++){const o=i.node(t);if(m(o))return{node:o,pos:i.start(t)-1}
;if(t>e.depth+1&&!Object(n("acaU").a)(o))return}if(r instanceof o.NodeSelection&&o.NodeSelection.isSelectable(r.node))return{node:r.node,pos:r.from}}},y=(e,t)=>{const r=o.Selection.findFrom(e,1);if(r){const o=t.resolve(r.from);for(let t=e.depth+1;t<=o.depth;t++){const r=o.node(t);if(m(r))return{node:r,pos:o.start(t)-1};if(t>e.depth+1&&!Object(n("acaU").a)(r))return}}},O=e=>Object(i.flatten)(e).find((e=>b(e.node)||!Object(n("acaU").a)(e.node))),E=e=>{let t;if(e.descendants(((e,o)=>{if(b(e)||!Object(n("acaU").a)(e))return t={node:e,pos:o},!1})),t)return t},w=(e,t)=>Object(n("RWB8").b)(e,g(t)),S=(e,t)=>Object(n("RWB8").a)(e,g(t))},By1P:function(e,t,n){"use strict";var o=n("C61u"),r=n("mHY4"),i=n("/tXR"),s=n("GRew"),a=n("CYMq"),c=n("n7vu"),l=Object.assign;e.exports=!l||n("S4vA")((function(){var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=o}))?function(e,t){
for(var n=a(e),l=arguments.length,d=1,u=i.f,p=s.f;l>d;)for(var h,f=c(arguments[d++]),m=u?r(f).concat(u(f)):r(f),b=m.length,g=0;b>g;)h=m[g++],o&&!p.call(f,h)||(n[h]=f[h]);return n}:l},C0PT:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c}));var o=n("MEpN");function r(e){return e.content}function i(e,t,n=null){const s=[];for(let a=0,c=e.childCount;a<c;a++){const c=e.child(a),l=c.isLeaf?t(c,n,a):t(c.copy(i(c.content,t,c)),n,a);l&&(l instanceof o.Fragment?s.push(...r(l)):Array.isArray(l)?s.push(...l):s.push(l))}return o.Fragment.fromArray(s)}function s(e,t){const n=i(e.content,t);return new o.Slice(n,e.openStart,e.openEnd)}function a(e,t){const n=[];for(let o=0;o<e.childCount;o++){const r=t(e.child(o),o,e);Array.isArray(r)?n.push(...r):n.push(r)}return o.Fragment.fromArray(n)}function c(e,t){const n=[]
;for(let r=0;r<e.childCount;r++)n.push(t(e.child(r),r,e instanceof o.Fragment?e:e.content));return n}},C4C2:function(t,n,o){"use strict";o.d(n,"b",(function(){return ug})),o.d(n,"a",(function(){return pg}));var r=()=>({name:"dataConsumerPlugin",marks:()=>[{name:"dataConsumer",mark:o("87RN").a}]}),i=o("lSNA"),s=o.n(i),a=o("q1tI"),c=o.n(a),l=o("mG1W"),d=o("UxO+");const u=["codeBlock","layoutSection","expand"];function p(e){return-1!==u.indexOf(e.type.name)}function h(e){if(e instanceof d.NodeSelection){if(p(e.node))return{pos:e.from,start:e.from,node:e.node,depth:e.$anchor.depth}}const t=Object(l.findParentNode)(p)(e);if(t&&0!==t.depth)return{node:t.node,start:t.start,pos:t.pos,depth:t.depth-1}}const f=new d.PluginKey("breakoutPlugin"),m=Object(o("AeFk").css)("&& button{background:","var(--ds-background-neutral, rgba(9, 30, 66, 0.04))",";color:","var(--ds-icon, #5E6C84)",";:hover{background:","var(--ds-background-neutral-hovered, #0065FF)",";color:var(--ds-icon, white)!important;}}"),b={
FULL_WIDTH:"full-width",CENTER:"center",WIDE:"wide"};class g extends c.a.Component{constructor(...e){super(...e),s()(this,"handleClick",(e=>()=>{const{state:t,dispatch:n}=this.props.editorView;-1!==[b.WIDE,b.FULL_WIDTH].indexOf(e)?function(e){return(t,n)=>{const o=h(t.selection);if(!o)return!1;const r=t.tr.setNodeMarkup(o.pos,o.node.type,o.node.attrs,[t.schema.marks.breakout.create({mode:e})]);return r.setMeta("scrollIntoView",!1),t.selection instanceof d.NodeSelection&&t.selection.$anchor.pos===o.pos&&r.setSelection(d.NodeSelection.create(r.doc,o.pos)),n&&n(r),!0}}(e)(t,n):function(){return(e,t)=>{const n=h(e.selection);if(!n)return!1;const o=n.node.marks.filter((e=>"breakout"!==e.type.name)),r=e.tr.setNodeMarkup(n.pos,n.node.type,n.node.attrs,o);return r.setMeta("scrollIntoView",!1),e.selection instanceof d.NodeSelection&&e.selection.$anchor.pos===n.pos&&r.setSelection(d.NodeSelection.create(r.doc,n.pos)),t&&t(r),!0}}()(t,n)}))}render(){
const{intl:{formatMessage:e},mountPoint:t,boundariesElement:n,scrollableElement:r,editorView:i,node:s}=this.props,{state:a}=i;if(!s||!function(e){if(!e.schema.marks.breakout)return!1;const t=h(e.selection);return!!t&&e.selection.$from.node(t.depth).type.allowsMarkType(e.schema.marks.breakout)}(a))return null;const c=function(e){const t=h(e.selection);if(!t)return;const n=t.node.marks.find((e=>"breakout"===e.type.name));return n?n.attrs.mode:void 0}(i.state),u=(e=>{switch(e){case b.FULL_WIDTH:return o("yYBl").a.layoutFixedWidth;case b.WIDE:return o("yYBl").a.layoutFullWidth;default:return o("yYBl").a.layoutWide}})(c),g=e(u),v=(e=>e===b.FULL_WIDTH?b.CENTER:e===b.WIDE?b.FULL_WIDTH:b.WIDE)(c),y=o("7w+A").layers.layer()-1;let O=(e=>f.getState(e))(a),E=function(e,t,n){return t instanceof d.NodeSelection&&p(t.node)?Object(l.findDomRefAtPos)(t.from,n.domAtPos.bind(n)):Object(l.findParentDomRefOfType)(e.breakoutNode.type,n.domAtPos.bind(n))(t)}(O,a.selection,i);if(!E)return null
;const w=E.querySelector(`.${o("eFkm").a.BREAKOUT_MARK_DOM}`);return w&&w.firstChild&&(E=w.firstChild),Object(o("AeFk").jsx)(o("poXX").a,{ariaLabel:g,target:E,offset:[5,0],alignY:"start",alignX:"end",mountTo:t,boundariesElement:n,scrollableElement:r,stick:!0,forcePlacement:!0,zIndex:y},Object(o("AeFk").jsx)("div",{css:m},Object(o("AeFk").jsx)(o("aEOQ").a,{title:g,testId:u.id,onClick:this.handleClick(v),iconBefore:c===b.FULL_WIDTH?Object(o("AeFk").jsx)(o.n(o("oR2R")).a,{label:g}):Object(o("AeFk").jsx)(o.n(o("fHir")).a,{label:g})})))}}g.displayName="LayoutButton",s()(g,"displayName","LayoutButton");var v=Object(o("o5hF").c)(g);class y{constructor(e,t,n){s()(this,"updateWidth",(e=>{if(0===e.width)return;let t="",n="",r=Object(o("xEd5").d)(this.mark.attrs.mode,e.width);e.lineLength?(r<e.lineLength&&(r=e.lineLength),t+="\n        transform: none;\n        display: flex;\n        justify-content: center;\n        ",
n+=`\n        min-width: ${r}px;\n        transition: min-width 0.5s ${o("anI9").M};\n      `):t+=`width: ${r}px; transform: translateX(-50%); margin-left: 50%;`;const i=this.view.domObserver;i&&this.view.dom&&(i.stop(),setTimeout((()=>{i.start()}),0)),void 0!==this.dom.style.cssText?(this.dom.style.cssText=t,this.contentDOM.style.cssText=n):(this.dom.setAttribute("style",t),this.contentDOM.setAttribute("style",n))}));const r=document.createElement("div");r.className=o("eFkm").a.BREAKOUT_MARK_DOM;const i=document.createElement("div");i.className=o("eFkm").a.BREAKOUT_MARK,i.setAttribute("data-layout",e.attrs.mode),i.appendChild(r),this.dom=i,this.mark=e,this.view=t,this.contentDOM=r,this.eventDispatcher=n,n.on(o("IXso").b.key,this.updateWidth),this.updateWidth(o("IXso").b.getState(this.view.state))}destroy(){this.eventDispatcher.off(o("IXso").b.key,this.updateWidth)}}function O({dispatch:e,eventDispatcher:t}){return new(o("KkS8").a)({state:{init:()=>({breakoutNode:null}),apply(t,n){
const o=h(t.selection),r=o?o.node:null;if(function(e,t){return e&&t?!e.eq(t):!(!e&&!t)}(r,n.breakoutNode)){const t={...n,breakoutNode:r};return e(f,t),t}return n}},key:f,props:{nodeViews:{breakout:(e,n)=>new y(e,n,t)}}})}var E=e=>({name:"breakout",pmPlugins:()=>[{name:"breakout",plugin:O}],marks:()=>[{name:"breakout",mark:o("fj5m").a}],contentComponent:({editorView:t,popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:i})=>e&&!e.allowBreakoutButton?null:c.a.createElement(o("fd7e").a,{plugins:{breakoutPluginState:f,widthPluginState:o("IXso").b},render:({breakoutPluginState:e})=>{var o;return c.a.createElement(v,{editorView:t,mountPoint:n,boundariesElement:r,scrollableElement:i,node:null!==(o=null==e?void 0:e.breakoutNode)&&void 0!==o?o:null})}})});const w=e=>(t,n)=>{const{nodes:{paragraph:r,heading:i},marks:{alignment:s}}=t.schema;return Object(o("soJG").b)([Object(o("t0jr").b)(e),Object(o("t0jr").i)(s,(()=>e?"start"!==e&&{align:e}:void 0),[r,i])])(t,n)},S=e=>{
if(e.selection instanceof o("n1Ll").a){const t=[];return e.selection.forEachCell((n=>{const o=n.firstChild.marks.filter((t=>t.type===e.schema.marks.alignment))[0];t.push(o?o.attrs.align:"start")})),t.every((e=>e===t[0]))?t[0]:"start"}const t=Object(l.findParentNodeOfType)([e.schema.nodes.paragraph,e.schema.nodes.heading])(e.selection),n=t&&t.node.marks.filter((t=>t.type===e.schema.marks.alignment))[0];return n&&n.attrs.align||"start"};const k=new d.PluginKey("alignmentPlugin");function x(e,t){return new(o("KkS8").a)({key:k,state:{init:(e,n)=>function(e,t){return{align:S(e)||t.align,isEnabled:!0}}(n,t),apply(t,n,r,i){const s=S(i),a=(e=>(t,n)=>{const{nodes:{paragraph:r,heading:i},marks:{alignment:s}}=t.schema;return Object(o("t0jr").i)(s,(()=>e?"start"!==e&&{align:e}:void 0),[r,i])(t,n)})(s)(i),c={...n,align:s,isEnabled:a};return s===n.align&&a===n.isEnabled||e(k,c),c}}})}const C=Object(o("D6b/").defineMessages)({alignment:{id:"fabric.editor.alignment",defaultMessage:"Text alignment",
description:"Opens drop down menu of options to configure text alignment"},alignLeft:{id:"fabric.editor.alignLeft",defaultMessage:"Align left",description:"label stating that text is aligned left"},alignRight:{id:"fabric.editor.alignRight",defaultMessage:"Align Right",description:"label stating that text is aligned right"},alignCenter:{id:"fabric.editor.alignCenter",defaultMessage:"Align Center",description:"label stating that text is aligned center"}}),T={start:{Component:o.n(o("7eIw")).a,label:C.alignLeft},end:{Component:o.n(o("DRvN")).a,label:C.alignRight},center:{Component:o.n(o("BJ3o")).a,label:C.alignCenter}},j=e=>{const{Component:t,label:n}=T[e.alignment],r=Object(o("3NU0").a)();return c.a.createElement(t,{label:r.formatMessage(n)})};class A extends a.PureComponent{constructor(...e){super(...e),s()(this,"onClick",(e=>{const{onClick:t,value:n}=this.props,o=e instanceof MouseEvent;e.preventDefault(),t(n,o)}))}render(){const{label:e,isSelected:t,content:n,shortcut:r}=this.props
;return c.a.createElement(o("aEOQ").a,{disabled:!1,selected:t,title:c.a.createElement(o("QNHL").a,{description:e,keymap:r}),"aria-label":r?Object(o("QNHL").ub)(r,e):e,"aria-pressed":t,"aria-keyshortcuts":Object(o("QNHL").z)(r),onClick:this.onClick,iconBefore:n})}}A.displayName="AlignmentButton";var N=A;const I=Object(o("AeFk").css)("padding:0 ",Object(o("7w+A").gridSize)(),"px;display:flex;flex-wrap:wrap;max-width:",96,"px;"),P=[{title:o("IpZz").a.alignLeft,shortcut:o("QNHL").i,value:"start"},{title:o("IpZz").a.alignCenter,value:"center"},{title:o("IpZz").a.alignRight,value:"end"}];class M extends a.PureComponent{render(){const{onClick:e,selectedAlignment:t,className:n,intl:r}=this.props;return Object(o("AeFk").jsx)("div",{css:I,className:n},P.map((n=>{const{value:i,title:s,shortcut:a}=n,c=r.formatMessage(s);return Object(o("AeFk").jsx)(N,{content:Object(o("AeFk").jsx)(j,{alignment:i}),key:i,value:i,label:c,shortcut:a,onClick:e,isSelected:i===t})})))}}M.displayName="Alignment"
;var R=Object(o("o5hF").c)(M);const _={name:"zjik7",styles:"display:flex"},L={name:"4e09ac",styles:"display:flex;align-items:center;div{display:flex;}"},D={name:"dlty3y",styles:"margin-left:-8px"};class F extends c.a.Component{constructor(...e){super(...e),s()(this,"toolbarItemRef",c.a.createRef()),s()(this,"state",{isOpen:!1,isOpenedByKeyboard:!1}),s()(this,"changeAlignment",((e,t)=>(t&&this.toggleOpen(),this.props.changeAlignment(e)))),s()(this,"toggleOpen",(()=>{this.setState({isOpen:!this.state.isOpen,isOpenedByKeyboard:!1})})),s()(this,"toggleOpenByKeyboard",(e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.setState({isOpen:!this.state.isOpen,isOpenedByKeyboard:!0}))})),s()(this,"hide",(e=>{var t,n;this.state.isOpen&&(this.setState({isOpen:!1}),(null==e?void 0:e.event)instanceof KeyboardEvent&&"Escape"===e.event.key&&(null===(t=this.toolbarItemRef)||void 0===t||null===(n=t.current)||void 0===n||n.focus()))})),s()(this,"hideOnEscape",(()=>{var e,t;this.hide(),
null===(e=this.toolbarItemRef)||void 0===e||null===(t=e.current)||void 0===t||t.focus()}))}render(){const{isOpen:e,isOpenedByKeyboard:t}=this.state,{popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:i,isReducedSpacing:s,pluginState:a,disabled:c,intl:l}=this.props,d=l.formatMessage(C.alignment);return Object(o("AeFk").jsx)("span",{css:L},Object(o("AeFk").jsx)(o("pYeG").a,{mountTo:n,boundariesElement:r,scrollableElement:i,isOpen:e,shouldFocusFirstItem:()=>(t&&this.setState({...this.state,isOpenedByKeyboard:!1}),t),onOpenChange:({isOpen:e})=>{this.setState({isOpen:e})},handleClickOutside:e=>{e instanceof MouseEvent&&this.hide({isOpen:!1,event:e})},handleEscapeKeydown:this.hideOnEscape,fitWidth:112,fitHeight:80,closeOnTab:!0,trigger:Object(o("AeFk").jsx)(o("aEOQ").a,{spacing:s?"none":"default",disabled:c,selected:e,title:d,className:"align-btn","aria-label":d,"aria-expanded":e,"aria-haspopup":!0,onClick:this.toggleOpen,onKeyDown:this.toggleOpenByKeyboard,
iconBefore:Object(o("AeFk").jsx)("div",{css:_},Object(o("AeFk").jsx)(j,{alignment:a.align}),Object(o("AeFk").jsx)("span",{css:D},Object(o("AeFk").jsx)(o.n(o("1YpF")).a,{label:""}))),ref:this.toolbarItemRef})},Object(o("AeFk").jsx)(R,{onClick:e=>this.changeAlignment(e,!1),selectedAlignment:a.align})),Object(o("AeFk").jsx)("span",{css:o("mw/U").g}))}componentDidUpdate(e){this.state.isOpen&&this.state.isOpenedByKeyboard&&setTimeout((()=>{var e;const t=new KeyboardEvent("keydown",{bubbles:!0,key:"ArrowDown"});null===(e=this.toolbarItemRef.current)||void 0===e||e.dispatchEvent(t)}),0)}}F.displayName="AlignmentToolbar",s()(F,"displayName","AlignmentToolbar");var B=Object(o("o5hF").c)(F),V=o("fwbU");const z={align:"start"};var H=()=>({name:"alignment",marks:()=>[{name:"alignment",mark:o("N/nG").a}],pmPlugins:()=>[{name:"alignmentPlugin",plugin:({dispatch:e})=>x(e,z)},{name:"annotationKeymap",plugin:()=>function(){const e={};return Object(o("QNHL").l)(o("QNHL").i.common,w("start"),e),
Object(V.b)(e)}()}],primaryToolbarComponent:({editorView:e,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:r,disabled:i,isToolbarReducedSpacing:s})=>c.a.createElement(o("fd7e").a,{plugins:{align:k},render:({align:o})=>c.a.createElement(B,{pluginState:o,isReducedSpacing:s,changeAlignment:t=>w(t)(e.state,e.dispatch),disabled:i||!o.isEnabled,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:r})})}),U=o("CsC6");const W=e=>Number(e[1]);function K({listType:e,expression:t,featureFlags:n}){let r=o("gu93").b.NO_JOIN;const i="bulletList"===e.name?o("+PNV").c.FORMAT_LIST_BULLET:o("+PNV").c.FORMAT_LIST_NUMBER;let s={};null!=n&&n.restartNumberedLists&&(s=e=>({order:W(e)}));const a=(({match:e,nodeType:t,getAttrs:n,joinPredicate:r,featureFlags:i})=>Object(o("9hcL").c)(e,((e,s,a,c)=>{const d=(n instanceof Function?n(s):n)||{},u=e.tr,p=Math.max(a,1);u.delete(p,c);const h=u.doc.resolve(p).blockRange(),f=h&&Object(U.m)(h,t,d);if(!f||!h)return null
;const m=u.mapping.map(h.start),b=u.doc.nodeAt(m),g=f[f.length-1];if(b&&g){const e=g.type.allowedMarks(b.marks)||[];u.setNodeMarkup(m,b.type,b.attrs,e)}if(u.wrap(h,f),null!=i&&i.restartNumberedLists&&t===e.schema.nodes.orderedList){const e=u.doc.resolve(u.mapping.map(c)),n=Object(l.findParentNodeOfTypeClosestToPos)(e,t);if(n){const e=n.pos+n.node.nodeSize,i=u.doc.resolve(e).nodeAfter;i&&i.type===t&&Object(U.j)(u.doc,e)&&(!r||r(s,i,o("gu93").b.JOINED_TO_LIST_BELOW))&&u.join(e)}}const v=u.doc.resolve(p-1).nodeBefore;return v&&v.type===t&&Object(U.j)(u.doc,p-1)&&(!r||r(s,v,o("gu93").b.JOINED_TO_LIST_ABOVE))&&u.join(p-1),u})))({featureFlags:n,match:t,nodeType:e,getAttrs:s,joinPredicate:(t,n,o)=>{const i=n.type===e;return i&&(r=o),i}});return Object(o("9hcL").e)(((t,s)=>{const a={action:o("+PNV").a.INSERTED,actionSubject:o("+PNV").b.LIST,actionSubjectId:i,eventType:o("+PNV").e.TRACK,attributes:{inputMethod:o("+PNV").f.FORMATTING}}
;return null!=n&&n.restartNumberedLists&&e===t.schema.nodes.orderedList&&a.attributes&&(a.attributes.listStartNumber=W(s),a.attributes.joinScenario=r,r=o("gu93").b.NO_JOIN),a}))(a)}var $=function(e){const t={};return o("QNHL").l(o("QNHL").x(o("QNHL").ob),Object(o("/r+8").e)(o("+PNV").f.KEYBOARD,"orderedList"),t),o("QNHL").l(o("QNHL").x(o("QNHL").fb),Object(o("/r+8").e)(o("+PNV").f.KEYBOARD,"bulletList"),t),o("QNHL").l(o("QNHL").B.common,Object(o("ShL/").a)(o("+PNV").f.KEYBOARD),t),o("QNHL").l(o("QNHL").P.common,Object(o("bIcM").a)(o("+PNV").f.KEYBOARD,e),t),o("QNHL").l(o("QNHL").r.common,Object(o("/r+8").c)(e),t),o("QNHL").l(o("QNHL").k.common,Object(o("/r+8").a)(e),t),o("QNHL").l(o("QNHL").q.common,o("/r+8").b,t),o("QNHL").l(o("QNHL").u(o("QNHL").y),o("/r+8").b,t),Object(V.b)(t)};var q=(e,t)=>{const n=(null==t?void 0:t.dependencies.featureFlags.sharedState.currentState())||{};return{name:"list",nodes:()=>[{name:"bulletList",node:o("nGa1").a},{name:"orderedList",
node:null!=e&&e.restartNumberedLists?o("OYbq").c:o("OYbq").a},{name:"listItem",node:o("cajS").a}],pmPlugins:()=>[{name:"list",plugin:({dispatch:e})=>Object(o("Hb9x").a)(e,n)},{name:"listInputRule",plugin:({schema:e,featureFlags:t})=>function(e,t){const{nodes:{bulletList:n,orderedList:r}}=e,i=[];n&&i.push(K({expression:/^\s*([\*\-\u2022]) $/,listType:n,featureFlags:t}));const s=null!=t&&t.restartNumberedLists?/((^[1-9]{1}[0-9]{0,2})|^(0))[\.\)] $/:/^(1)[\.\)] $/;if(r&&i.push(K({expression:s,listType:r,featureFlags:t})),0!==i.length)return Object(o("9hcL").b)("lists",i)}(e,t)},{name:"listKeymap",plugin:()=>$(n)}],pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"unorderedList",title:e(o("aebN").a.unorderedList),description:e(o("aebN").a.unorderedListDescription),keywords:["ul","unordered"],priority:1100,keyshortcut:Object(o("QNHL").ub)(o("QNHL").fb),icon:()=>c.a.createElement(o("Jzj3").m,null),action(e,t){
const n=e(t.schema.nodes.bulletList.createChecked({},t.schema.nodes.listItem.createChecked({},t.schema.nodes.paragraph.createChecked())));return Object(o("SVcB").a)(t,n,{action:o("+PNV").a.INSERTED,actionSubject:o("+PNV").b.LIST,actionSubjectId:o("+PNV").c.FORMAT_LIST_BULLET,eventType:o("+PNV").e.TRACK,attributes:{inputMethod:o("+PNV").f.QUICK_INSERT}})}},{id:"orderedList",title:e(o("aebN").a.orderedList),description:e(o("aebN").a.orderedListDescription),keywords:["ol","ordered"],priority:1200,keyshortcut:Object(o("QNHL").ub)(o("QNHL").ob),icon:()=>c.a.createElement(o("Jzj3").n,null),action(e,t){const n=e(t.schema.nodes.orderedList.createChecked({},t.schema.nodes.listItem.createChecked({},t.schema.nodes.paragraph.createChecked())));return Object(o("SVcB").a)(t,n,{action:o("+PNV").a.INSERTED,actionSubject:o("+PNV").b.LIST,actionSubjectId:o("+PNV").c.FORMAT_LIST_NUMBER,eventType:o("+PNV").e.TRACK,attributes:{inputMethod:o("+PNV").f.QUICK_INSERT}})}}]}}};var G=function(e){const t={}
;return o("QNHL").l(o("QNHL").D.common,Object(o("gbAj").a)(o("+PNV").f.SHORTCUT,e),t),o("QNHL").l(o("QNHL").s.common,(()=>!0),t),Object(V.b)(t)};var Y=(e,t)=>{var n,r;const i=(null==t||null===(n=t.dependencies)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r.sharedState.currentState())||{};return{name:"rule",nodes:()=>[{name:"rule",node:o("cba5").a}],pmPlugins:()=>[{name:"ruleInputRule",plugin:({schema:e})=>Object(o("rnvK").b)(e,i)},{name:"ruleKeymap",plugin:()=>G(i)}],pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"rule",title:e(o("ViDr").a.horizontalRule),description:e(o("ViDr").a.horizontalRuleDescription),keywords:["horizontal","rule","line","hr"],priority:1200,keyshortcut:"---",icon:()=>c.a.createElement(o("Jzj3").e,null),action(e,t){let n=e(t.schema.nodes.rule.createChecked());return Object(o("SVcB").a)(t,n,{action:o("+PNV").a.INSERTED,actionSubject:o("+PNV").b.DOCUMENT,actionSubjectId:o("+PNV").c.DIVIDER,attributes:{inputMethod:o("+PNV").f.QUICK_INSERT},
eventType:o("+PNV").e.TRACK})}}]}}},Q=o("wSSu"),X=o.n(Q),Z=o("pVnL"),J=o.n(Z);const ee=e=>{const{label:t,allowInteractiveExpand:n}=e,r=Object(a.useCallback)(((t,n)=>{const{buttonStyles:r,...i}=t(n);return{buttonStyles:{...r,height:"100%","& svg":{transform:e.expanded?"transform: rotate(90deg);":"transform: rotate(0deg);",transition:`transform 0.2s ${o("anI9").M};`}},...i}}),[e]);return Object(o("AeFk").jsx)(o("0+Gd").a,{appearance:"subtle",className:o("5I88").a.iconContainer,iconBefore:Object(o("AeFk").jsx)(o.n(o("thbo")).a,{label:t}),shouldFitContainer:!0,theme:r,isDisabled:!n})},te=(e=>class extends c.a.Component{constructor(e){super(e)}render(){const{label:t}=this.props;return Object(o("AeFk").jsx)(o("Yto1").a,{content:t,position:"top",tag:o("WwMu").b},Object(o("AeFk").jsx)(e,this.props))}})(ee),ne=ee,oe=e=>{
const{expanded:t,intl:n}=e,r=t?o("WwMu").d.collapseNode:o("WwMu").d.expandNode,i=n&&n.formatMessage(r)||r.defaultMessage,s=!(!!window.matchMedia&&window.matchMedia("(any-hover: hover)").matches!==window.matchMedia("(any-hover: none)").matches)||window.matchMedia("(any-hover: hover)").matches;return e.allowInteractiveExpand&&s?Object(o("AeFk").jsx)(te,J()({label:i},e)):Object(o("AeFk").jsx)("div",{css:o("WwMu").c},Object(o("AeFk").jsx)(ne,J()({label:i},e)))};var re=o("0f8l"),ie=o("MEpN");let se;!function(e){e.SET_DECORATIONS="SET_DECORATIONS",e.SET_RELATIVE_SELECTION="SET_RELATIVE_SELECTION"}(se||(se={}));var ae=o("V2qZ");const{createCommand:ce,getPluginState:le,createPluginState:de}=Object(o("pVB1").a)(o("BF2H").b,(function(e,t){switch(t.type){case se.SET_DECORATIONS:return{...e,decorationSet:t.decorationSet,selection:t.selection};case se.SET_RELATIVE_SELECTION:return{...e,selectionRelativeToNode:t.selectionRelativeToNode};default:return e}}),{onDocChanged:(e,t)=>{try{
if(0===t.decorationSet.find().length&&(!e.selectionSet||0===Object(o("BuIm").i)(e).find().length))return t;const n=t.decorationSet.map(e.mapping,e.doc);return{...t,decorationSet:n}}catch(n){return{...t,decorationSet:ae.b.empty}}},onSelectionChanged:(e,t)=>(e.selection instanceof d.NodeSelection&&Object(o("BuIm").l)(e.selection.node)||e.selection instanceof o("n1Ll").a)&&!e.getMeta(o("BF2H").b)?{...t,selectionRelativeToNode:void 0}:t}),ue=(e,t)=>ce({type:se.SET_RELATIVE_SELECTION,selectionRelativeToNode:e},(e=>t?e.setSelection(t):e)),pe=(e,t)=>{const{selection:n}=e;return n instanceof o("WE2A").a?fe(n)(e,t):n instanceof d.NodeSelection?be(n)(e,t):n instanceof d.TextSelection&&ve(n)(e,t)},he=(e,t)=>{const{selection:n}=e;return n instanceof o("WE2A").a?me(n)(e,t):n instanceof d.NodeSelection?ge(n)(e,t):n instanceof d.TextSelection&&ye(n)(e,t)},fe=e=>(t,n)=>{const{$from:r,$to:i,side:s}=e;if(s===o("WE2A").c.LEFT){const e=Object(o("BuIm").d)(i,t.doc)
;if(e)return ue(o("ujKG").a.Start,d.NodeSelection.create(t.doc,e.pos))(t,n)}else if(s===o("WE2A").c.RIGHT&&Object(o("BuIm").m)(r,e)){const r=Object(o("BuIm").f)(e);if(r)return ue(o("ujKG").a.End,d.NodeSelection.create(t.doc,r.pos))(t,n)}return!1},me=e=>(t,n)=>{const{$from:r,side:i}=e,{selectionRelativeToNode:s}=le(t);if(i===o("WE2A").c.RIGHT){const e=Object(o("BuIm").e)(r,t.doc);if(e)return ue(o("ujKG").a.End,d.NodeSelection.create(t.doc,e.pos))(t,n)}else if(i===o("WE2A").c.LEFT&&Object(o("BuIm").n)(r,e))if(s===o("ujKG").a.Before){const r=t.doc.resolve(e.$from.before(e.$from.depth));if(r){const e=Object(o("BuIm").e)(r,t.doc);if(e&&Object(o("acaU").a)(e.node))return ue(o("ujKG").a.End,d.NodeSelection.create(t.doc,e.pos))(t,n)}ue()(t,n)}else{const r=Object(o("BuIm").f)(e);if(r)return ue(o("ujKG").a.Start,d.NodeSelection.create(t.doc,r.pos))(t,n)}return!1},be=e=>(t,n)=>{const{node:r,from:i,$to:s}=e,{selectionRelativeToNode:a}=le(t)
;if(r.isAtom)return!!Object(o("BuIm").m)(s,e)&&Oe(o("ujKG").a.End,t.doc.resolve(i+1),o("BF2H").a.After)(t,n);if(a===o("ujKG").a.Start)return Ee(o("ujKG").a.Inside,r,i)(t,n);if(Object(o("acaU").a)(r)&&(!a||a===o("ujKG").a.End)){const e=Object(o("BuIm").d)(s,t.doc);if(e&&Object(o("acaU").a)(e.node))return ue(o("ujKG").a.Start,d.NodeSelection.create(t.doc,e.pos))(t,n)}return!1},ge=e=>(t,n)=>{const{node:r,from:i,to:s,$from:a}=e,{selectionRelativeToNode:c}=le(t);if(r.isAtom)return!!Object(o("BuIm").n)(a,e)&&Oe(o("ujKG").a.Start,t.doc.resolve(i),o("BF2H").a.Before)(t,n);if(c===o("ujKG").a.End)return we(o("ujKG").a.Inside,r,i,s)(t,n);if(!c||c===o("ujKG").a.Inside)return Ee(o("ujKG").a.Before,r,i)(t,n);if(Object(o("acaU").a)(r)&&c===o("ujKG").a.Start){const e=Object(o("BuIm").e)(a,t.doc);if(e&&Object(o("acaU").a)(e.node))return ue(o("ujKG").a.End,d.NodeSelection.create(t.doc,e.pos))(t,n)}return!1},ve=e=>(t,n)=>{if(Object(o("BuIm").m)(e.$to,e)){const r=Object(o("BuIm").f)(e)
;if(r)return ue(o("ujKG").a.End,d.NodeSelection.create(t.doc,r.pos))(t,n)}return!1},ye=e=>(t,n)=>{const{selectionRelativeToNode:r}=le(t);if(r===o("ujKG").a.Before){const r=Object(o("BuIm").e)(e.$from,t.doc);if(r&&Object(o("acaU").a)(r.node))return ue(o("ujKG").a.End,d.NodeSelection.create(t.doc,r.pos))(t,n);ue(void 0)(t,n)}else if(Object(o("BuIm").n)(e.$from,e)){const r=Object(o("BuIm").f)(e);if(r)return ue(o("ujKG").a.Start,d.NodeSelection.create(t.doc,r.pos))(t,n)}return!1},Oe=(e,t,n)=>(o,r)=>{const i=d.Selection.findFrom(t,n,!0);return!!i&&ue(e,i)(o,r)},Ee=(e,t,n)=>(r,i)=>{if(Object(o("x+VZ").j)(t))return Oe(e,r.doc.resolve(n),o("BF2H").a.After)(r,i);const s=Object(o("BuIm").b)(t);if(s){const{node:a,pos:c}=s,l=n+c+1;if(a.isText||a.isAtom)return Oe(e,r.doc.resolve(l),o("BF2H").a.Before)(r,i);if(Object(o("x+VZ").h)(a))return Oe(e,r.doc.resolve(l+1),o("BF2H").a.Before)(r,i);if(!Object(o("acaU").a)(t))return ue(e,new(o("WE2A").a)(r.doc.resolve(l),o("WE2A").c.LEFT))(r,i)
;if(Object(o("BuIm").l)(t))return ue(e,d.NodeSelection.create(r.doc,l))(r,i)}return!1},we=(e,t,n,r)=>(i,s)=>{if(Object(o("x+VZ").j)(t))return Oe(e,i.doc.resolve(r),o("BF2H").a.Before)(i,s);const a=Object(o("BuIm").c)(t);if(a){const{node:r,pos:c}=a,l=n+c+r.nodeSize;if(r.isText||r.isAtom)return Oe(e,i.doc.resolve(l+1),o("BF2H").a.After)(i,s);if(Object(o("x+VZ").h)(r))return Oe(e,i.doc.resolve(l),o("BF2H").a.After)(i,s);if(!Object(o("acaU").a)(t))return ue(e,new(o("WE2A").a)(i.doc.resolve(l+1),o("WE2A").c.RIGHT))(i,s);if(Object(o("BuIm").l)(t))return ue(e,d.NodeSelection.create(i.doc,l))(i,s)}return!1};function Se(e,t){return`${o("5I88").a.prefix} ${o("5I88").a.type(e)} ${t?o("5I88").a.expanded:""}`}class ke{constructor(e,t,n,r,i,a){s()(this,"allowInteractiveExpand",!0),s()(this,"isMobile",!1),s()(this,"focusTitle",(()=>{if(this.input){const{state:e,dispatch:t}=this.view;ue(o("ujKG").a.Start)(e,t),Object(o("vRhk").g)(e,t,this.view),this.input.focus()}})),s()(this,"handleIconKeyDown",(e=>{
switch(Object(re.keyName)(e)){case"Tab":e.preventDefault(),this.focusTitle();break;case"Enter":e.preventDefault(),this.handleClick(e)}})),s()(this,"isAllowInteractiveExpandEnabled",(()=>this.featureFlags&&!!this.featureFlags.interactiveExpand)),s()(this,"handleClick",(e=>{const t=e.target,{state:n,dispatch:r}=this.view;if(Object(o("uYq7").b)(t,`.${o("5I88").a.icon}`)){if(!this.isAllowInteractiveExpandEnabled())return;return e.stopPropagation(),this.view.dom instanceof HTMLElement&&this.view.dom.blur(),void Object(o("vRhk").h)(this.getPos(),this.node.type)(n,r)}if(t===this.input)return e.stopPropagation(),void this.focusTitle()})),s()(this,"handleInput",(e=>{const t=e.target;if(t===this.input){e.stopPropagation();const{state:n,dispatch:r}=this.view;Object(o("vRhk").i)(t.value,this.getPos(),this.node.type)(n,r)}})),s()(this,"handleFocus",(e=>{e.stopImmediatePropagation()})),s()(this,"handleTitleKeydown",(e=>{switch(Object(re.keyName)(e)){case"Enter":this.toggleExpand();break;case"Tab":
case"ArrowDown":this.moveToOutsideOfTitle(e);break;case"ArrowRight":this.handleArrowRightFromTitle(e);break;case"ArrowLeft":this.handleArrowLeftFromTitle(e);break;case"ArrowUp":this.setLeftGapCursor(e);break;case"Backspace":this.deleteExpand(e)}})),s()(this,"deleteExpand",(e=>{if(!this.input)return;const{selectionStart:t,selectionEnd:n}=this.input;if(t!==n||0!==t)return;const{state:r}=this.view,i=this.node;i&&Object(o("D4z0").j)(r.schema)(i)&&Object(o("vRhk").c)(this.getPos(),i)(r,this.view.dispatch)})),s()(this,"toggleExpand",(()=>{if(this.isAllowInteractiveExpandEnabled()){const{state:e,dispatch:t}=this.view;Object(o("vRhk").h)(this.getPos(),this.node.type)(e,t)}})),s()(this,"moveToOutsideOfTitle",(e=>{e.preventDefault();const{state:t,dispatch:n}=this.view,o=this.getPos();if("number"!=typeof o)return;let r=o;this.isCollapsed()&&(r=o+this.node.nodeSize);const i=t.doc.resolve(r);if(!i)return
;if(this.isCollapsed()&&i.nodeAfter&&["expand","nestedExpand"].indexOf(i.nodeAfter.type.name)>-1)return this.setRightGapCursor(e);const s=d.Selection.findFrom(i,1,!0);s&&(this.view.focus(),n(t.tr.setSelection(s)))})),s()(this,"isCollapsed",(()=>!this.node.attrs.__expanded)),s()(this,"setRightGapCursor",(e=>{if(!this.input)return;const{value:t,selectionStart:n,selectionEnd:r}=this.input;if(n===r&&n===t.length){const{state:t,dispatch:n}=this.view;e.preventDefault(),this.view.focus(),n(t.tr.setSelection(new(o("WE2A").a)(t.doc.resolve(this.node.nodeSize+this.getPos()),o("WE2A").c.RIGHT)))}})),s()(this,"setLeftGapCursor",(e=>{if(!this.input)return;const{selectionStart:t,selectionEnd:n}=this.input;if(t===n&&0===t){e.preventDefault();const{state:t,dispatch:n}=this.view;this.view.focus(),n(t.tr.setSelection(new(o("WE2A").a)(t.doc.resolve(this.getPos()),o("WE2A").c.LEFT)))}})),s()(this,"handleArrowRightFromTitle",(e=>{if(!this.input)return
;const{value:t,selectionStart:n,selectionEnd:r}=this.input;if(n===r&&n===t.length){e.preventDefault();const{state:t,dispatch:n}=this.view;this.view.focus(),ue(o("ujKG").a.End,d.NodeSelection.create(t.doc,this.getPos()))(t,n)}})),s()(this,"handleArrowLeftFromTitle",(e=>{if(!this.input)return;const{selectionStart:t,selectionEnd:n}=this.input;if(t===n&&0===t){e.preventDefault();const{state:t,dispatch:n}=this.view;this.view.focus(),void 0===le(t).selectionRelativeToNode?ue(void 0,new(o("WE2A").a)(t.doc.resolve(this.getPos()),o("WE2A").c.LEFT))(t,n):ue(o("ujKG").a.Start,d.NodeSelection.create(t.doc,this.getPos()))(t,n)}})),this.intl=r();const{dom:c,contentDOM:l}=ie.DOMSerializer.renderSpec(document,((e,t)=>["div",{class:Se(e.type.name,e.attrs.__expanded),"data-node-type":e.type.name,"data-title":e.attrs.title},["div",{class:o("5I88").a.titleContainer,contenteditable:"false",tabindex:"-1"},["div",{class:o("5I88").a.icon}],["div",{class:o("5I88").a.inputContainer},["input",{
class:o("5I88").a.titleInput,value:e.attrs.title,placeholder:t&&t.formatMessage(o("WwMu").d.expandPlaceholderText)||o("WwMu").d.expandPlaceholderText.defaultMessage,type:"text"}]]],["div",{class:o("5I88").a.content},0]])(e,this.intl));this.getPos=n,this.pos=n(),this.view=t,this.node=e,this.dom=c,this.contentDOM=l,this.isMobile=i,this.featureFlags=a,this.icon=this.dom.querySelector(`.${o("5I88").a.icon}`),this.input=this.dom.querySelector(`.${o("5I88").a.titleInput}`),this.titleContainer=this.dom.querySelector(`.${o("5I88").a.titleContainer}`),this.content=this.dom.querySelector(`.${o("5I88").a.content}`),this.renderIcon(this.intl),this.initHandlers()}initHandlers(){this.dom&&(this.dom.addEventListener("click",this.handleClick),this.dom.addEventListener("input",this.handleInput)),this.input&&this.input.addEventListener("keydown",this.handleTitleKeydown),this.titleContainer&&this.titleContainer.addEventListener("focus",this.handleFocus),
this.icon&&this.icon.addEventListener("keydown",this.handleIconKeyDown)}renderIcon(e,t){if(!this.icon)return;const{__expanded:n}=t&&t.attrs||this.node.attrs;X.a.render(c.a.createElement(oe,{intl:e,allowInteractiveExpand:this.isAllowInteractiveExpandEnabled(),expanded:n}),this.icon)}stopEvent(e){const t=e.target;return t===this.input||t===this.icon||!!Object(o("uYq7").b)(t,`.${o("5I88").a.icon}`)}ignoreMutation(e){return(!this.isMobile||"characterData"!==e.type&&"childList"!==e.type)&&"selection"!==e.type}update(e,t){return this.node.type===e.type&&(this.node.attrs.__expanded!==e.attrs.__expanded&&(this.dom&&(this.dom.classList.toggle(o("5I88").a.expanded),this.renderIcon(this&&this.intl,e)),this.content&&this.content.setAttribute("contenteditable",e.attrs.__expanded)),window.requestAnimationFrame((()=>{this.input&&this.node.attrs.title!==this.input.value&&(this.input.value=this.node.attrs.title)})),this.node=e,!0)}destroy(){
this.dom&&(this.dom.removeEventListener("click",this.handleClick),this.dom.removeEventListener("input",this.handleInput)),this.input&&this.input.removeEventListener("keydown",this.handleTitleKeydown),this.titleContainer&&this.titleContainer.removeEventListener("focus",this.handleFocus),this.icon&&(this.icon.removeEventListener("keydown",this.handleIconKeyDown),X.a.unmountComponentAtNode(this.icon)),this.dom=void 0,this.contentDOM=void 0,this.icon=void 0,this.input=void 0,this.titleContainer=void 0,this.content=void 0}}var xe=function({getIntl:e,isMobile:t,featureFlags:n}){return(o,r,i)=>new ke(o,r,i,e,t,n)};function Ce(e,t){var n;return Boolean(null==e||null===(n=e.classList)||void 0===n?void 0:n.contains(t))}const Te=e=>"expand"===(null==e?void 0:e.type.name)||"nestedExpand"===(null==e?void 0:e.type.name),je=e=>e instanceof d.NodeSelection&&Te(e.node);function Ae(){const e={};return o("QNHL").l(o("QNHL").I.common,((e,t,n)=>{if(!n)return!1
;const{selection:r}=e,{selectionRelativeToNode:i}=le(e);return!(!je(r)||i!==o("ujKG").a.Start)&&Object(o("vRhk").d)(r.from+1)(e,t,n)}),e),o("QNHL").l(o("QNHL").H.common,((e,t,n)=>{if(!n)return!1;const{selection:r}=e,{selectionRelativeToNode:i}=le(e);return!(!je(r)||void 0!==i&&i!==o("ujKG").a.End)&&Object(o("vRhk").d)(r.from+1)(e,t,n)}),e),o("QNHL").l(o("QNHL").cb.common,((e,t,n)=>{if(e.selection instanceof d.NodeSelection&&e.selection.node.type===e.schema.nodes.expand&&n&&n.dom instanceof HTMLElement){const{from:r}=e.selection,i=n.nodeDOM(r);if(!(i&&i instanceof HTMLElement))return!1;const s=i.querySelector(`.${o("5I88").a.iconContainer}`);if(s&&s.focus){const{tr:o}=e,r=e.selection.from;o.setSelection(new d.TextSelection(o.doc.resolve(r))),t&&t(o),n.dom.blur(),s.focus()}return!0}return!1}),e),o("QNHL").l(o("QNHL").J.common,((e,t,n)=>{if(!n)return!1;const{selection:r,schema:i}=e,{nodeBefore:s}=r.$from
;if(r instanceof o("WE2A").a&&r.side===o("WE2A").c.RIGHT&&s&&(s.type===i.nodes.expand||s.type===i.nodes.nestedExpand)&&!s.attrs.__expanded){const{$from:i}=r;return Object(o("vRhk").d)(Math.max(i.pos-1,0))(e,t,n)}const{$from:a}=e.selection;if(n.endOfTextblock("up")){const r=Object(o("beyY").a)(e);if(Object(o("wHIA").a)(a,i,"before")&&!r)return!1;const s=Math.max(a.pos-a.parentOffset-1,0);if(r&&r.start===s)return Object(o("vRhk").d)(r.start)(e,t,n);const c=d.Selection.findFrom(e.doc.resolve(s),-1),l=Object(o("beyY").a)(e,c);if(c&&l)return l.node.attrs.__expanded?(t&&t(e.tr.setSelection(c)),!0):Object(o("vRhk").d)(l.start)(e,t,n)}return!1}),e),o("QNHL").l(o("QNHL").G.common,((e,t,n)=>{if(!n)return!1;const{expand:r,nestedExpand:i}=e.schema.nodes,{selection:s}=e,{nodeAfter:a}=s.$from;if(s instanceof o("WE2A").a&&s.side===o("WE2A").c.LEFT&&a&&(a.type===r||a.type===i)&&!a.attrs.__expanded){const{$from:r}=s;return Object(o("vRhk").d)(r.pos+1)(e,t,n)}if(n.endOfTextblock("down")){
const{$from:s}=e.selection;if(0===s.depth)return!1;const a=e.doc.resolve(s.after());if(a.nodeAfter&&(a.nodeAfter.type===r||a.nodeAfter.type===i))return Object(o("vRhk").d)(a.pos+1)(e,t,n)}return!1}),e),o("QNHL").l(o("QNHL").k.common,((e,t,n)=>{const{selection:r}=e,{$from:i}=r;if(!n||!r.empty)return!1;const{expand:s,nestedExpand:a}=e.schema.nodes,c=Object(o("beyY").a)(e);if(!c){const i=d.Selection.findFrom(e.doc.resolve(Math.max(r.$from.pos-1,0)),-1),c=Object(o("beyY").a)(e,i);return!(!c||c.node.type!==s&&c.node.type!==a||c.node.attrs.__expanded)&&Object(o("vRhk").d)(c.start)(e,t,n)}const l=e.doc.nodeAt(i.before(Math.max(i.depth-1,1)));if(l&&!Te(l))return!1;const u=d.Selection.findFrom(e.doc.resolve(c.pos),1,!0);return!!(u&&r.$from.pos===u.$from.pos&&Object(o("D4z0").j)(e.schema)(c.node)&&t)&&Object(o("vRhk").b)()(e,t)}),e),Object(V.b)(e)}const Ne=(e,{formatMessage:t})=>{const{expandRef:n}=Object(o("n683").c)(e);if(n){const{nestedExpand:r,expand:i}=e.schema.nodes;return{
title:"Expand toolbar",getDomRef:()=>n,nodeType:[r,i],offset:[0,6],items:[{type:"copy-button",items:[{state:e,formatMessage:t,nodeType:[r,i]},{type:"separator"}]},{id:"editor.expand.delete",type:"button",appearance:"danger",focusEditoronEnter:!0,icon:o.n(o("Fn6O")).a,onClick:Object(o("vRhk").b)(),onMouseEnter:Object(o("lgPy").d)([r,i],!0),onMouseLeave:Object(o("lgPy").d)([r,i],!1),onFocus:Object(o("lgPy").d)([r,i],!0),onBlur:Object(o("lgPy").d)([r,i],!1),title:t(o("yYBl").a.remove),tabIndex:null}]}}};var Ie=(e={},t)=>{var n,r;const i=(null==t||null===(n=t.dependencies)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r.sharedState.currentState())||{};return{name:"expand",nodes:()=>[{name:"expand",node:o("FaEa").a},{name:"nestedExpand",node:o("YVSm").a}],pmPlugins:()=>[{name:"expand",plugin:({dispatch:t,getIntl:n})=>((e,t,n="full-page",r=!1,i)=>{const s=Object(o("n683").b)(e,{}),a="mobile"===n;return new(o("KkS8").a)({state:s,key:o("n683").d,props:{nodeViews:{expand:xe({
getIntl:t,isMobile:a,featureFlags:i}),nestedExpand:xe({getIntl:t,isMobile:a,featureFlags:i})},handleKeyDown:(e,t)=>Ce(t.target,o("5I88").a.titleContainer),handleKeyPress:(e,t)=>Ce(t.target,o("5I88").a.titleContainer),handleScrollToSelection:()=>Ce(document.activeElement,o("5I88").a.titleInput),handleClickOn:Object(o("BuIm").a)(["expand","nestedExpand"],(e=>e.classList.contains(o("5I88").a.prefix)),{useLongPressSelection:r})},filterTransaction:e=>!(Ce(document.activeElement,o("5I88").a.titleInput)&&e.selectionSet&&(!e.steps.length||e.isGeneric)),view:e=>{const t=e.domAtPos.bind(e);return{update:e=>{const{state:n,dispatch:r}=e,i=Object(o("beyY").a)(n);if(i){const e=Object(l.findDomRefAtPos)(i.pos,t);Object(o("n683").c)(n).expandRef!==e&&Object(o("vRhk").f)(e)(n,r)}}}}})})(t,n,e.appearance,e.useLongPressSelection,i)},{name:"expandKeymap",plugin:Ae}],pluginsOptions:{floatingToolbar:Ne,quickInsert:({formatMessage:t})=>e&&!0!==e.allowInsertion?[]:[{id:"expand",title:t(o("ViDr").a.expand),
description:t(o("ViDr").a.expandDescription),keywords:["accordion","collapse"],priority:600,icon:()=>c.a.createElement(o("Jzj3").g,null),action(e,t){const n=Object(o("vRhk").a)(t),r=e(n);return Object(o("SVcB").a)(t,r,{action:o("+PNV").a.INSERTED,actionSubject:o("+PNV").b.DOCUMENT,actionSubjectId:n.type===t.schema.nodes.nestedExpand?o("+PNV").c.NESTED_EXPAND:o("+PNV").c.EXPAND,attributes:{inputMethod:o("+PNV").f.QUICK_INSERT},eventType:o("+PNV").e.TRACK})}}]}}};function Pe({allowExpand:e}){return!(!e||"object"!=typeof e)&&!!e.allowInsertion}const Me=new d.PluginKey("caption");class Re extends o("HAbh").a{constructor(...e){super(...e),s()(this,"selected",this.insideSelection())}createDomRef(){const e=document.createElement("figcaption");return e.setAttribute("data-caption","true"),e}getContentDOM(){const e=document.createElement("div");return e.className="caption-wrapper",{dom:e}}render(e,t){return c.a.createElement(o("OJn0").a,{selected:this.insideSelection(),
hasContent:this.node.content.childCount>0},c.a.createElement("div",{ref:t}))}viewShouldUpdate(e){if(this.node.childCount!==e.childCount)return!0;const t=this.insideSelection(),n=this.selected!==t;return this.selected=t,n}}function _e(e,t){return(n,o,r)=>new Re(n,o,r,e,t,{},void 0,void 0,void 0,!0).init()}Re.displayName="CaptionNodeView";const Le=(e,t,n)=>{Object(o("SVcB").a)(e,t,{action:n,eventType:o("+PNV").e.TRACK,actionSubject:o("+PNV").b.MEDIA_SINGLE,actionSubjectId:o("+PNV").c.CAPTION})};function De(){const e={};return o("QNHL").l(o("QNHL").G.common,Fe,e),o("QNHL").l(o("QNHL").r.common,Fe,e),o("QNHL").l(o("QNHL").G.common,Be,e),o("QNHL").l(o("QNHL").r.common,Be,e),o("QNHL").l(o("QNHL").J.common,Ve,e),o("QNHL").l(o("QNHL").X.common,Ve,e),o("QNHL").l(o("QNHL").cb.common,Be,e),o("QNHL").l(o("QNHL").H.common,ze,e),Object(V.b)(e)}const Fe=(e,t)=>!!Object(l.findParentNodeOfType)(e.schema.nodes.caption)(e.selection)&&Object(o("t0jr").e)(e,t),Be=(e,t)=>{
const n=Object(l.findParentNodeOfType)(e.schema.nodes.caption)(e.selection);if(n){if(t){t(e.tr.setSelection(d.Selection.near(e.tr.doc.resolve(n.pos+n.node.nodeSize))))}return!0}return!1},Ve=(e,t)=>{if(Object(l.findParentNodeOfType)(e.schema.nodes.caption)(e.selection)){const n=Object(l.findParentNodeOfType)(e.schema.nodes.mediaSingle)(e.selection);if(n){if(t){t(e.tr.setSelection(d.Selection.near(e.tr.doc.resolve(n.pos))))}return!0}}return!1},ze=(e,t)=>{if(Object(l.findParentNodeOfType)(e.schema.nodes.caption)(e.selection)){const n=Object(l.findParentNodeOfType)(e.schema.nodes.mediaSingle)(e.selection);if(n&&e.selection.empty&&0===e.tr.doc.resolve(e.selection.from).parentOffset){const r=o("WE2A").a.findFrom(e.tr.doc.resolve(n.pos),0,!1);if(r){if(t){t(e.tr.setSelection(r))}return!0}}}return!1};var He=()=>({name:"caption",nodes:()=>[{name:"caption",node:o("tIxf").a}],pmPlugins:()=>[{name:"caption",
plugin:({portalProviderAPI:e,providerFactory:t,eventDispatcher:n,dispatch:r})=>((e,t,n,r)=>new(o("KkS8").a)({appendTransaction(e,t,n){if(!e.find((e=>e.selectionSet)))return;const r=!n.selection.eq(t.selection),i=Object(l.findParentNodeOfType)(t.schema.nodes.caption)(t.selection),{tr:s}=n;if(r&&i){if(0===i.node.childCount)return s.delete(i.start-1,i.start),s.setMeta("scrollIntoView",!1),Le(n,s,o("+PNV").a.DELETED),s;Le(n,s,o("+PNV").a.EDITED)}},key:Me,props:{nodeViews:{caption:_e(e,t)}}}))(e,n)},{name:"captionKeymap",plugin:De}]});let Ue;function We(e,t,n){if(e.nodes.emoji&&t){!function(e){const t=(e,t)=>{t&&t.then((e=>{e.getAsciiMap().then((t=>{Ue=new Qe(e,t)}))}))};e.subscribe("emojiProvider",t)}(t);const e=Object(o("9hcL").c)(Ye.REGEX,Ke);return Object(o("9hcL").b)("emoji",[e])}}function Ke(e,t,n,o){if(!Ue)return null;const r=Ue.match(t);if(r){return new Xe(e,r,n,o).create()}return null}const $e=(e,t=!0)=>e[1]+(t?e[2]:""),qe=(e,t=!1)=>(t?e[2]:"")+e[3].trim(),Ge=e=>e[4]||"";class Ye{
constructor(e){this.asciiToEmojiMap=e}match(e){return this.getAsciiEmojiMatch((e=>$e(e,!1))(e),(e=>qe(e,!0))(e),Ge(e))||this.getAsciiEmojiMatch($e(e),qe(e),Ge(e))}getAsciiEmojiMatch(e,t,n){const o=this.asciiToEmojiMap.get(t);return o?{emoji:o,leadingString:e,trailingString:n}:void 0}}s()(Ye,"REGEX",new RegExp(`((?:^|[\\s${o("N3sK").b}])(?:\\(*?))(\\(?)([^:\\s${o("N3sK").b}\\(]\\S{1,3}|:\\S{1,3}( ))$`));class Qe extends Ye{constructor(e,t){super(t),this.emojiProvider=e}match(e){const t=super.match(e);return t&&this.emojiProvider.recordSelection&&this.emojiProvider.recordSelection(t.emoji),t}}class Xe{constructor(e,t,n,o){this.state=e,this.match=t,this.start=n,this.end=o}create(){const e=this.state.tr.replaceWith(this.from,this.to,this.createNodes());return Object(o("SVcB").a)(this.state,e,{action:o("+PNV").a.INSERTED,actionSubject:o("+PNV").b.DOCUMENT,actionSubjectId:o("+PNV").c.EMOJI,attributes:{inputMethod:o("+PNV").f.ASCII},eventType:o("+PNV").e.TRACK})}get from(){
return this.start+this.match.leadingString.length}get to(){return this.end}createNodes(){const e=[this.createEmojiNode()];return this.trailingTextNodeRequired()&&e.push(this.createTrailingTextNode()),e}createEmojiNode(){const{emoji:e}=this.state.schema.nodes;return e.create(this.getEmojiNodeAttrs())}getEmojiNodeAttrs(){const e=this.match.emoji;return{id:e.id,shortName:e.shortName,text:e.fallback||e.shortName}}trailingTextNodeRequired(){return this.match.trailingString.length>0}createTrailingTextNode(){return this.state.schema.text(this.match.trailingString)}}new d.PluginKey("asciiEmojiPlugin");function Ze(e){return Object(o("AeFk").jsx)("span",{css:o("mw/U").e},Object(o("AeFk").jsx)(o("lYaY").a,e))}const Je=Object(o("D6b/").defineMessages)({emojiNodeLabel:{id:"fabric.emoji.label",defaultMessage:"Emoji",description:"Label to indicate emoji node to Screen reader users"}}),et=c.a.memo((({emojiShortName:e})=>{const t=Object(o("3NU0").a)();return c.a.createElement("span",{
className:"assistive"},`${t.formatMessage(Je.emojiNodeLabel)} ${e}`)}));function tt(e){const{shortName:t,id:n,text:o}=e.node.attrs;return c.a.createElement(c.a.Fragment,null,c.a.createElement(et,{emojiShortName:t}),c.a.createElement("span",{"aria-hidden":"true"},c.a.createElement(Ze,{providers:e.providerFactory,id:n,shortName:t,fallback:o})))}const nt=function(e){const t=new Map;return{call:function(n,o){const r=t.get(n.id||n.shortName);if(r)return r;const i=e(n,o);return t.set(n.id||n.shortName,i),i},clear:t.clear.bind(t)}}(((e,t)=>({title:e.shortName||"",key:e.id||e.shortName,render:({isSelected:n,onClick:r,onHover:i})=>c.a.createElement(o("xgJV").a,{emoji:e,selected:n,onMouseMove:i,onSelection:r,emojiProvider:t}),emoji:e})));var ot=e=>{const t={id:o("FOo9").b.EMOJI,trigger:":",customRegex:"\\(?(:)",headless:e?e.headless:void 0,getItems({query:e,editorState:t}){const n=function(e){return at.getState(e)||{}}(t).emojiProvider;return n?new Promise((t=>{const r={result(e){
if(e&&e.emojis){const o=e.emojis.map((e=>nt.call(e,n)));t(o)}else t([]);n.unsubscribe(r)}};n.subscribe(r),n.filter(":".concat(e),{limit:50,skinTone:n.getSelectedTone(),sort:e.length?o("DhJ/").b.Default:o("DhJ/").b.UsageFrequency})})):Promise.resolve([])},forceSelect({query:e,items:t,editorState:n}){const{asciiMap:o}=at.getState(n),r=":".concat(e);if(o&&r.length>=3&&r.endsWith(" ")&&o.has(r.trim())){const e=o.get(r.trim());return{title:e.name,emoji:e}}const i=(e=>e&&e.length>1&&":"===e.charAt(0)&&":"===e.charAt(e.length-1))(r)?t.find((e=>e.title.toLowerCase()===r)):void 0;return i},selectItem(t,n,r,{mode:i}){const{id:s="",fallback:a,shortName:c}=n.emoji,l=a||c,d=at.getState(t);d.emojiProvider&&d.emojiProvider.recordSelection&&n.emoji&&d.emojiProvider.recordSelection(n.emoji).then(Object(o("uVoC").m)(e)).catch(Object(o("uVoC").l)(e));const u=t.schema.nodes.emoji.createChecked({shortName:c,id:s,text:l}),p=t.schema.text(" ");return Object(o("SVcB").a)(t,r(ie.Fragment.from([u,p])),{
action:o("+PNV").a.INSERTED,actionSubject:o("+PNV").b.DOCUMENT,actionSubjectId:o("+PNV").c.EMOJI,attributes:{inputMethod:o("+PNV").f.TYPEAHEAD},eventType:o("+PNV").e.TRACK})}};return{name:"emoji",nodes:()=>[{name:"emoji",node:o("Zcjh").a}],pmPlugins:()=>[{name:"emoji",plugin:e=>function(e){return new(o("KkS8").a)({key:at,state:{init:()=>({}),apply(t,n){const{action:o,params:r}=t.getMeta(at)||{action:null,params:null};let i=n;switch(o){case rt:return i={...n,emojiProvider:r.provider},e.dispatch(at,i),i;case it:return i={...n,asciiMap:r.asciiMap},e.dispatch(at,i),i}return i}},props:{nodeViews:{emoji:Object(o("iwHK").a)({pmPluginFactoryParams:e,Component:tt,extraComponentProps:{providerFactory:e.providerFactory}})}},view(t){const n=(e,n)=>{if("emojiProvider"===e){if(!n)return st(void 0)(t.state,t.dispatch);n.then((e=>{st(e)(t.state,t.dispatch),e.getAsciiMap().then((e=>{(e=>(t,n)=>(n&&n(t.tr.setMeta(at,{action:it,params:{asciiMap:e}})),!0))(e)(t.state,t.dispatch)}))
})).catch((()=>st(void 0)(t.state,t.dispatch)))}};return e.providerFactory.subscribe("emojiProvider",n),{destroy(){e.providerFactory&&e.providerFactory.unsubscribe("emojiProvider",n)}}}})}(e)},{name:"emojiAsciiInputRule",plugin:({schema:e,providerFactory:t,featureFlags:n})=>We(e,t)}],pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"emoji",title:e(o("ViDr").a.emoji),description:e(o("ViDr").a.emojiDescription),priority:500,keyshortcut:":",icon:()=>c.a.createElement(o("Jzj3").f,null),action(e,n){const r=e(void 0);return Object(o("ifNk").b)({triggerHandler:t,inputMethod:o("+PNV").f.QUICK_INSERT})(r),Object(o("SVcB").a)(n,r,{action:o("+PNV").a.INVOKED,actionSubject:o("+PNV").b.TYPEAHEAD,actionSubjectId:o("+PNV").c.TYPEAHEAD_EMOJI,attributes:{inputMethod:o("+PNV").f.QUICK_INSERT},eventType:o("+PNV").e.UI})}}],typeAhead:t}}};const rt="SET_PROVIDER",it="SET_ASCII_MAP",st=e=>(t,n)=>(n&&n(t.tr.setMeta(at,{action:rt,params:{provider:e}})),!0),at=new d.PluginKey("emojiPlugin")
;const ct=(e,t)=>Object(o("9hcL").c)(e,((e,n,r,i)=>{const{paragraph:s}=e.schema.nodes,{list:a}=Object(o("aznN").b)(t,e.schema),c=e.doc.resolve(i),d=e.doc.resolve(c.after());if(c.parent.type!==s||!Object(l.canInsert)(d,a.createAndFill()))return null;return Object(o("aznN").c)(e,t,o("+PNV").f.FORMATTING,lt(r,i))})),lt=(e,t)=>({tr:n,state:r,list:i,item:s,listLocalId:a,itemLocalId:c})=>{const{selection:{$from:l},schema:u}=r,{hardBreak:p}=u.nodes,h=l.node(l.depth).content;let f=!1;if(h.forEach(((t,n)=>{t.type===p&&n<e&&(f=!0)})),f){const r=Object(o("aznN").a)(l,n.selection.$from);n.split(l.pos).setSelection(new d.NodeSelection(n.doc.resolve(l.pos+1))).replaceSelectionWith(i.create({localId:a},[s.create({localId:c},n.doc.nodeAt(l.pos+1).content)])).setSelection(new d.TextSelection(n.doc.resolve(l.pos+r))).delete(e,t+1)}else n.replaceRangeWith(l.before(),l.after(),i.create({localId:a},[s.create({localId:c},h)])).delete(e+1,t+1).setSelection(new d.TextSelection(n.doc.resolve(e+1)));return n}
;var dt=function(e,t){const n=[],{decisionList:r,decisionItem:i,taskList:s,taskItem:a}=e.nodes;return r&&i&&n.push(ct(new RegExp(`(^|${o("N3sK").b})\\<\\>\\s$`),"decisionList")),s&&a&&n.push(ct(new RegExp(`(^|${o("N3sK").b})\\[\\]\\s$`),"taskList")),Object(o("9hcL").b)("tasks-and-decisions",n,{isBlockNodeRule:!0})},ut=o("ABBN");const pt=e=>{const{decisionItem:t,taskItem:n}=e.schema.nodes;return Object(l.hasParentNodeOfType)([t,n])(e.selection)},ht=e=>{const{taskList:t,decisionList:n}=e.type.schema.nodes;return[t,n].indexOf(e.type)>-1},ft=e=>{const{taskItem:t,decisionItem:n}=e.type.schema.nodes;return[t,n].indexOf(e.type)>-1},mt=e=>{const{taskItem:t}=e.schema.nodes;return Object(l.hasParentNodeOfType)([t])(e.selection)},bt=(e,t)=>{const{taskList:n}=e.doc.type.schema.nodes;let o=t.end();const r=t.doc.resolve(o+1),i=r.nodeAfter;return i&&i.type===n&&r.depth===t.depth-1&&(o+=i.nodeSize),e.blockRange(t.doc.resolve(o))},gt=e=>{
const{$from:t}=e,{taskList:n}=t.doc.type.schema.nodes,r=Object(o("x+VZ").b)((e=>e.type===n))(t);return r?t.depth-r.depth:null},vt=e=>{const t=e.selection.$from,n=Object(l.findParentNodeClosestToPos)(t,(e=>"taskList"===(null==e?void 0:e.type.name)));return t.index(n?n.depth:void 0)},yt=e=>{let t=e;for(;t.pos<t.doc.nodeSize-2&&t.parentOffset>0;)t=t.doc.resolve(t.pos+1);return t},Ot=(e,t,n)=>{const o=bt(t,n);if(!o)return null;const r=Object(U.p)(o);return"number"!=typeof r?null:e.lift(o,r).scrollIntoView()},Et=(e,t)=>{const{$from:n,$to:o}=e.selection,r=Ot(e.tr,n,o);return t&&r&&t(r),!!r},wt=(e,t)=>{const{$from:n,$to:o}=e.selection,r=bt(n,o);if(!r)return!0;const i=Object(U.m)(r,e.schema.nodes.taskList);return!i||(t&&t(e.tr.wrap(r,i).scrollIntoView()),!0)},St=e=>(t,n)=>{const r=Object(o("+U5V").d)(e);if(!r)return!1;const{paragraph:i}=r.doc.type.schema.nodes;if(r.nodeBefore&&ht(r.nodeBefore)&&r.nodeAfter&&r.nodeAfter.type===i){let e=r.doc.resolve(r.pos-1)
;for(;!ft(e.parent);)e=t.doc.resolve(e.pos-1);const o=t.tr.doc.slice(e.pos,r.pos),i=t.tr.step(new U.d(e.pos,r.pos+r.nodeAfter.nodeSize,r.pos+1,r.pos+r.nodeAfter.nodeSize-1,o,0,!0));return n&&n(i),!0}return!1},kt=(e,t,n)=>({action:o("+PNV").a.FORMATTED,actionSubject:o("+PNV").b.TEXT,actionSubjectId:o("+PNV").c.FORMAT_INDENT,eventType:o("+PNV").e.TRACK,attributes:{inputMethod:n,previousIndentationLevel:e,newIndentLevel:t===o("+M+A").a.OUTDENT?e-1:e+1,direction:t,indentType:o("+M+A").b.TASK_LIST}}),xt=e=>{const t=(e=>e.doc.resolve(e.end()).nodeAfter)(e);return!t||ft(t)},Ct=(e=o("+PNV").f.KEYBOARD)=>Object(o("+U5V").c)(mt,((t,n)=>{const r=gt(t.selection);return!(!r||1===r)&&Object(o("SVcB").b)(kt(r,o("+M+A").a.OUTDENT,e))(Object(ut.a)(Et,["taskList"]))(t,n)})),Tt=e=>{const t=gt(e.selection),n=vt(e),{tableCell:o,tableHeader:r}=e.schema.nodes,i=Object(l.findParentNodeOfType)([o,r])(e.selection);return!(!(1===t&&0===n||(e=>{const{decisionItem:t}=e.schema.nodes
;return Object(l.hasParentNodeOfType)([t])(e.selection)})(e))||!i)},jt=(e=o("+PNV").f.KEYBOARD)=>Object(o("+U5V").c)(mt,((t,n)=>{const r=gt(t.selection);if(!r||r>=6)return!0;const{taskList:i,taskItem:s}=t.schema.nodes,{$from:a,$to:c}=t.selection,l=((e,t,n)=>{const r=Object(o("x+VZ").b)((e=>n.indexOf(e.type)>-1))(e);if(!r)return-1;const i=e.depth-r.depth,s=bt(e,t);if(!s)return-1;let a=e.depth;return e.doc.nodesBetween(s.start,s.end,((t,o,r)=>{if(a=Math.max(e.doc.resolve(o).depth,a),n.indexOf(t.type)>-1)return!0})),i+(a-e.depth)})(a,c,[i,s]);return l>=6||Object(o("SVcB").b)(kt(r,o("+M+A").a.INDENT,e))(Object(ut.a)(wt,["taskList"]))(t,n)})),At=Object(o("+U5V").c)(o("+U5V").g,Object(ut.a)(Object(ut.c)(((e,t)=>St(e.selection.$from)(e,t)),Object(o("+U5V").c)(pt,((e,t)=>(e=>(t,n)=>{const o=e.doc.resolve(e.before());if(o.nodeBefore&&ft(o.nodeBefore)&&2===o.nodeBefore.nodeSize)return!1;const{taskList:r,paragraph:i}=t.schema.nodes;if(e.node(e.depth-2).type===r)return Ct()(t,n);if(xt(e)){if(n){
const o=t.doc.slice(e.start(),e.end()).content,r=o.size?i.createChecked(void 0,o):i.createChecked();n(It(t.tr,r,e,!0))}return!0}return!1})(e.selection.$from)(e,t)))),["taskList","decisionList"])),Nt=Object(ut.a)(Object(ut.c)(Object(o("+U5V").b)(ht),((e,t)=>{if(!Object(o("+U5V").f)(e)||!pt(e)||!t)return!1;const n=yt(e.selection.$from),{taskList:r,taskItem:i,decisionList:s,decisionItem:a,paragraph:c,bulletList:d,orderedList:u,listItem:p}=e.schema.nodes;if(!Object(l.findParentNodeOfTypeClosestToPos)(n,[r,i,s,a])){if(n.parent.type===c)return St(n.doc.resolve(n.pos))(e,t);if((n.parent.type===d||n.parent.type===u)&&n.parent.firstChild&&n.parent.firstChild.type===p){const o=e.doc.resolve(n.pos+1),r=Ot(e.tr,o,o);return Object(ut.a)(((e,t)=>!!r&&(t&&t(r),!0)),["bulletList","orderedList"])(e,t)}}return!1}),((e,t)=>{const{selection:{$from:n},schema:{nodes:{taskList:r,doc:i,paragraph:s}},tr:a}=e;if(!Object(o("+U5V").f)(e)||!t)return!1;const c=yt(n);if(!c.parent||c.parent.type===i)return!1
;if(c.node(c.depth-2).type===r||c.node(c.depth-1).type===r&&c.parent.type===r)return Ot(a,c,c),t(a),!0;if(!(e=>{if(!e)return!1;const{table:t,tableHeader:n,tableCell:o,tableRow:r}=e.type.schema.nodes;return[t,n,o,r].includes(e.type)})(c.nodeAfter)&&ft(n.parent)&&xt(n)&&c.node().type.name===n.node().type.name){const n=e.doc.slice(c.start(),c.end()).content,o=n.size?s.createChecked(void 0,n):[];return t(It(a,o,c,!1)),!0}return!1})),["taskList","decisionList"]),It=(e,t,n,r)=>{const i=e.doc,s=n.node(n.depth-2),a=n.index(n.depth-1),c=!(!ht(s)&&0===a);c&&(e=e.split(n.pos,1,[{type:n.parent.type,attrs:{localId:o("klzq").b.generate()}}]));const l=ie.Fragment.from(t);e=e.replace(e.mapping.map(n.start()-2),e.mapping.map(n.end()+2),l.size?new ie.Slice(l,0,0):ie.Slice.empty),r&&(e=e.setSelection(new d.TextSelection(e.doc.resolve(n.pos+1-(c?0:2)))));const u=i.resolve(n.after());if(u.depth===n.depth-1&&u.nodeAfter&&ht(u.nodeAfter)){
const t=e.mapping.map(u.pos+2),n=e.doc.resolve(t),o=bt(n,e.doc.resolve(n.after(n.depth-1)-1));o&&(e=e.lift(o,o.depth-1).scrollIntoView()),e=e.deleteRange(t-3,t-1)}return e},Pt=Object(o("+U5V").c)(pt,Object(ut.c)(Object(o("+U5V").c)((e=>{const{selection:t,schema:n}=e,{$from:o}=t,r=o.node(o.depth);return r&&(r.type===n.nodes.taskItem||r.type===n.nodes.decisionItem)&&0===r.content.size}),Object(ut.c)(Ct(),((e,t)=>{let{tr:n,selection:{$from:o}}=e;const{schema:{nodes:{paragraph:r}}}=e;return!!xt(o)&&(t&&t(It(n,r.createChecked(),o,!0)),!0)}))),((e,t)=>{const{selection:n,schema:r}=e,{taskItem:i}=r.nodes,{$from:s,$to:a}=n,c=s.node(s.depth),l=c&&c.type,d=l===i?"taskList":"decisionList",u=Object(o("aznN").e)(e,d,o("+PNV").f.KEYBOARD,(({tr:e,itemLocalId:t})=>{if(s.pos===a.pos&&0===s.parentOffset){const n=l.createAndFill({localId:t});if(n)return e.insert(s.pos-1,n)}return e.split(s.pos,1,[{type:l,attrs:{localId:t}}])}));return u&&t&&(u.scrollIntoView(),t(u)),!0})));var Mt=function(e,t,n){const r={
"Shift-Tab":Object(o("+U5V").c)([pt,e=>!Tt(e)],((e,t)=>Ct(o("+PNV").f.KEYBOARD)(e,t)||!!n)),Tab:Object(o("+U5V").c)([pt,e=>!Tt(e)],((e,t)=>jt(o("+PNV").f.KEYBOARD)(e,t)||!!n))},i={Backspace:At,Delete:Nt,"Ctrl-d":Nt,Enter:Pt,...t?r:n?{"Shift-Tab":pt,Tab:pt}:{}};return Object(V.b)(i)};const Rt=Object(o("D6b/").defineMessages)({placeholder:{id:"fabric.editor.decisionPlaceholder",defaultMessage:"Add a decision\u2026",description:"Placeholder description for an empty decision in the editor"}});class _t extends c.a.Component{render(){const{contentRef:e,showPlaceholder:t,intl:{formatMessage:n}}=this.props,r=n(Rt.placeholder);return c.a.createElement(o("w4ej").a,{contentRef:e,placeholder:r,showPlaceholder:t})}}_t.displayName="Decision",s()(_t,"displayName","Decision");var Lt=Object(o("o5hF").c)(_t);class Dt extends o("gVP2").a{isContentEmpty(e){return 0===e.content.childCount}createDomRef(){const e=document.createElement("li");return e.style["list-style-type"]="none",e}getContentDOM(){
const e=document.createElement("div");return e.className="decision-item",{dom:e}}render(e,t){return c.a.createElement(Lt,{contentRef:t,showPlaceholder:this.isContentEmpty(this.node)&&!Object(o("Wd+7").i)(this.view.state)})}viewShouldUpdate(e){return this.isContentEmpty(this.node)&&!!e.content.childCount}update(e,t){return super.update(e,t,void 0,((e,t)=>!this.isContentEmpty(t)))}}Dt.displayName="Decision";const Ft=(e,t)=>(n,o,r)=>new Dt(n,o,r,e,t,{},void 0,void 0,void 0,!0).init();var Bt=o("OhBV");class Vt extends a.Component{constructor(...e){super(...e),s()(this,"state",{resolvedContextProvider:void 0}),s()(this,"mounted",!1)}UNSAFE_componentWillMount(){this.mounted=!0,this.updateContextIdentifierProvider(this.props)}componentWillUnmount(){this.mounted=!1}UNSAFE_componentWillReceiveProps(e){e.contextIdentifierProvider!==this.props.contextIdentifierProvider&&this.updateContextIdentifierProvider(e)}async updateContextIdentifierProvider(e){if(e.contextIdentifierProvider)try{
const t=await e.contextIdentifierProvider;this.mounted&&this.setState({resolvedContextProvider:t})}catch(t){this.mounted&&this.setState({resolvedContextProvider:void 0})}else this.setState({resolvedContextProvider:void 0})}render(){const{contextIdentifierProvider:e,...t}=this.props,{objectId:n}=this.state.resolvedContextProvider||{},r=n?"edit":"new";return c.a.createElement(Bt.f,{data:{userContext:r}},c.a.createElement(o("pRoW").a,J()({},t,{objectAri:n})))}}Vt.displayName="TaskItemWithProviders",s()(Vt,"displayName","TaskItemWithProviders");const zt=Object(o("D6b/").defineMessages)({placeholder:{id:"fabric.editor.taskPlaceholder",defaultMessage:"Type your action, use '@' to assign to someone.",description:"Placeholder description for an empty action/task in the editor"}});class Ht extends a.PureComponent{constructor(e){super(e),s()(this,"renderWithProvider",(e=>{
const{providers:t,intl:{formatMessage:n},...o}=this.props,{taskDecisionProvider:r,contextIdentifierProvider:i}=e,s=n(zt.placeholder);return c.a.createElement(Vt,J()({},o,{placeholder:s,taskDecisionProvider:r,contextIdentifierProvider:i}))})),this.providerFactory=e.providers||new(o("U7Mc").a)}componentWillUnmount(){this.props.providers||this.providerFactory.destroy()}render(){return c.a.createElement(o("D0us").a,{providers:["taskDecisionProvider","contextIdentifierProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}Ht.displayName="TaskItem",s()(Ht,"displayName","TaskItem");var Ut,Wt=Object(o("o5hF").c)(Ht);class Kt extends o("gVP2").a{constructor(...t){super(...t),s()(this,"handleOnChange",((e,t)=>{const{tr:n}=this.view.state,r=this.getPos();n.step(new(o("ml8T").a)(r,{state:t?"DONE":"TODO",localId:e})),n.setMeta("scrollIntoView",!1),this.view.dispatch(n)})),s()(this,"addListAnalyticsData",(t=>{try{
const e=this.view.state.doc.resolve(this.getPos()),n=e.index(),o=e.parent.childCount,r=e.parent.attrs.localId;t.update((e=>{const{attributes:t={},actionSubject:i}=e;return"action"!==i?e:{...e,attributes:{...t,position:n,listSize:o,listLocalId:r}}}))}catch(e){}}))}isContentEmpty(e){return 0===e.content.childCount}createDomRef(){const e=document.createElement("div");return e.style["list-style-type"]="none",e}getContentDOM(){const e=document.createElement("div");return e.className="task-item",{dom:e}}render(e,t){const{localId:n,state:r}=this.node.attrs;return c.a.createElement(o("w9FA").a,{channel:"fabric-elements",onEvent:this.addListAnalyticsData},c.a.createElement(o("fd7e").a,{plugins:{taskDecisionPlugin:o("qvPZ").a},render:()=>c.a.createElement(Wt,{taskId:n,contentRef:t,isDone:"DONE"===r,onChange:this.handleOnChange,showPlaceholder:this.isContentEmpty(this.node)&&!Object(o("Wd+7").i)(this.view.state),providers:e.providerFactory})}))}viewShouldUpdate(e){
return this.isContentEmpty(this.node)&&!!e.content.childCount}update(e,t){return super.update(e,t,void 0,((e,t)=>!(this.isContentEmpty(t)||e.attrs.state!==t.attrs.state)))}}function $t(e,t,n){return(o,r,i)=>new Kt(o,r,i,e,t,{providerFactory:n},void 0,void 0,void 0,!0).init()}Kt.displayName="Task",function(e){e[e.SET_CONTEXT_PROVIDER=0]="SET_CONTEXT_PROVIDER"}(Ut||(Ut={}));const qt=e=>(t,n)=>(n&&n(t.tr.setMeta(o("qvPZ").a,{action:Ut.SET_CONTEXT_PROVIDER,data:e})),!0);class Gt extends a.PureComponent{constructor(...e){super(...e),s()(this,"state",{disabled:!1}),s()(this,"handleInsertDecision",(()=>{const{editorView:e}=this.props;return!!e&&(Object(o("aznN").d)("decisionList")(e.state,e.dispatch),!0)}))}render(){const{disabled:e}=this.state,{isDisabled:t,isReducedSpacing:n,intl:{formatMessage:r}}=this.props,i=r(o("ViDr").a.decision);return c.a.createElement(o("aEOQ").a,{buttonId:o("Ssoj").a.DECISION_LIST,onClick:this.handleInsertDecision,disabled:e||t,spacing:n?"none":"default",
title:`${i} <>`,"aria-keyshortcuts":"Shift+, Shift+. space",iconBefore:c.a.createElement(o.n(o("efs6")).a,{label:i})})}}Gt.displayName="ToolbarDecision";var Yt=Object(o("o5hF").c)(Gt);class Qt extends a.PureComponent{constructor(...e){super(...e),s()(this,"state",{disabled:!1}),s()(this,"handleInsertTask",(()=>{const{editorView:e}=this.props;return!!e&&(Object(o("aznN").d)("taskList")(e.state,e.dispatch),!0)}))}render(){const{disabled:e}=this.state,{isDisabled:t,isReducedSpacing:n,intl:{formatMessage:r}}=this.props,i=r(o("ViDr").a.action);return c.a.createElement(o("aEOQ").a,{buttonId:o("Ssoj").a.TASK_LIST,onClick:this.handleInsertTask,disabled:e||t,spacing:n?"none":"default",title:`${i} []`,iconBefore:c.a.createElement(o.n(o("p3Tp")).a,{label:i})})}}Qt.displayName="ToolbarTask";var Xt=Object(o("o5hF").c)(Qt);const Zt={name:"zjik7",styles:"display:flex"},Jt=(e,t,n)=>({listLocalId:r,itemLocalId:i})=>{const{list:s,item:a}=Object(o("aznN").b)(t,n);return e(s.createChecked({localId:r
},a.createChecked({localId:i})))};var en=({allowNestedTasks:e,consumeTabs:t,useLongPressSelection:n}={})=>({name:"taskDecision",nodes:()=>[{name:"decisionList",node:o("Xrqx").a},{name:"decisionItem",node:o("8ygS").a},{name:"taskList",node:o("cfwZ").a},{name:"taskItem",node:o("sw7r").a}],pmPlugins:()=>[{name:"tasksAndDecisions",plugin:({portalProviderAPI:e,providerFactory:t,eventDispatcher:r,dispatch:i})=>function(e,t,n,r,i=!1){return new(o("KkS8").a)({props:{nodeViews:{taskItem:$t(e,t,n),decisionItem:Ft(e,t)},handleTextInput(e,t,n,o){const{state:r,dispatch:i}=e,{tr:s}=r;return r.selection instanceof d.NodeSelection&&r.selection.node.type===e.state.schema.nodes.decisionItem&&(r.selection.replace(s),s.insertText(o),i&&i(s),!0)},handleClickOn:Object(o("BuIm").a)(["decisionItem"],(e=>e.hasAttribute("data-decision-wrapper")||"Decision"===e.getAttribute("aria-label")),{useLongPressSelection:i})},state:{init:()=>({insideTaskDecisionItem:!1}),apply(e,t){
const{action:n,data:i}=e.getMeta(o("qvPZ").a)||{action:null,data:null};let s=t;return n===Ut.SET_CONTEXT_PROVIDER&&(s={...t,contextIdentifierProvider:i}),r(o("qvPZ").a,s),s}},view:e=>(n.subscribe("contextIdentifierProvider",((t,n)=>{"contextIdentifierProvider"===t&&(n?n.then((t=>{qt(t)(e.state,e.dispatch)})):qt(void 0)(e.state,e.dispatch))})),{}),key:o("qvPZ").a,appendTransaction:(e,t,n)=>{const r=n.tr;let i=!1;if(e.forEach((e=>{e.docChanged&&Object(o("x+VZ").l)(e,((e,t)=>{const{decisionList:s,decisionItem:a,taskList:c,taskItem:l}=n.schema.nodes;if(e.type&&(e.type===s||e.type===a||e.type===c||e.type===l)){const{localId:n,...s}=e.attrs;null!=n&&""!==n||(r.step(new(o("ml8T").a)(t,{localId:o("klzq").b.generate(),...s})),i=!0)}}))})),i)return r.setMeta("addToHistory",!1)}})}(e,r,t,i,n)},{name:"tasksAndDecisionsInputRule",plugin:({schema:e,featureFlags:t})=>dt(e,t)},{name:"tasksAndDecisionsKeyMap",plugin:({schema:n})=>Mt(n,e,t)}],
secondaryToolbarComponent:({editorView:e,disabled:t})=>Object(o("AeFk").jsx)("div",{css:Zt},Object(o("AeFk").jsx)(Yt,{editorView:e,isDisabled:t,isReducedSpacing:!0}),Object(o("AeFk").jsx)(Xt,{editorView:e,isDisabled:t,isReducedSpacing:!0})),pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"action",title:e(o("ViDr").a.action),description:e(o("ViDr").a.actionDescription),priority:100,keywords:["checkbox","task","todo"],keyshortcut:"[]",icon:()=>Object(o("AeFk").jsx)(o("Jzj3").a,null),action:(e,t)=>Object(o("aznN").c)(t,"taskList",o("+PNV").f.QUICK_INSERT,Jt(e,"taskList",t.schema))},{id:"decision",title:e(o("ViDr").a.decision),description:e(o("ViDr").a.decisionDescription),priority:900,keyshortcut:"<>",icon:()=>Object(o("AeFk").jsx)(o("Jzj3").d,null),action:(e,t)=>Object(o("aznN").c)(t,"decisionList",o("+PNV").f.QUICK_INSERT,Jt(e,"decisionList",t.schema))}]}}),tn=o("CnBM"),nn=o.n(tn);const on=nn()({
loader:()=>o.e("@atlaskit-internal_editor-core-helpdialog").then(o.bind(null,"UX/r")).then((e=>e.default)),loading:()=>null});const rn=()=>{const e={};return o("QNHL").l(o("QNHL").N.common,((e,t)=>{let{tr:n}=e;return n.getMeta(o("AVf+").a)||(n=Object(o("SVcB").a)(e,n,{action:o("+PNV").a.CLICKED,actionSubject:o("+PNV").b.BUTTON,actionSubjectId:o("+PNV").c.BUTTON_HELP,attributes:{inputMethod:o("+PNV").f.SHORTCUT},eventType:o("+PNV").e.UI}),Object(o("hlZK").b)(n,t)),!0}),e),Object(V.b)(e)};var sn=(e=!1)=>({name:"helpDialog",pmPlugins:()=>[{name:"helpDialog",plugin:({dispatch:t})=>function(e,t){return new(o("KkS8").a)({key:o("AVf+").a,state:{init:()=>({isVisible:!1,imageEnabled:t}),apply(t,n,r){const i=t.getMeta(o("AVf+").a),s=o("AVf+").a.getState(r);if(void 0!==i&&i!==s.isVisible){const t={...s,isVisible:i};return e(o("AVf+").a,t),t}return s}}})}(t,e)},{name:"helpDialogKeymap",plugin:()=>rn()}],pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"helpdialog",title:e(o("ViDr").a.help),
description:e(o("ViDr").a.helpDescription),keywords:["?"],priority:4e3,keyshortcut:Object(o("QNHL").ub)(o("QNHL").N),icon:()=>c.a.createElement(o.n(o("epF8")).a,{label:""}),action(e,t){const n=e("");return Object(o("hlZK").b)(n),Object(o("SVcB").a)(t,n,{action:o("+PNV").a.HELP_OPENED,actionSubject:o("+PNV").b.HELP,actionSubjectId:o("+PNV").c.HELP_QUICK_INSERT,attributes:{inputMethod:o("+PNV").f.QUICK_INSERT},eventType:o("+PNV").e.UI})}}]},contentComponent:({editorView:e})=>c.a.createElement(o("fd7e").a,{plugins:{helpDialog:o("AVf+").a,quickInsert:o("89Qp").a},render:({helpDialog:t={},quickInsert:n})=>c.a.createElement(on,{editorView:e,isVisible:t.isVisible,quickInsertEnabled:!!n,imageEnabled:t.imageEnabled})})});function an(e,t){if(t)return Object(V.b)({Enter:(n,r,i)=>!!function(e){const{$cursor:t}=e.state.selection,{decisionItem:n,paragraph:o,taskItem:r}=e.state.schema.nodes;return!t||t.parent.type===o&&1===t.depth||t.parent.type===n&&!cn(t)||t.parent.type===r&&!cn(t)
}(i)&&(e(o("+WSe").a,ln(n)),t(i),!0)})}function cn(e){const{content:t}=e.parent;return!(t&&t.size)}const ln=e=>({payload:{action:o("+PNV").a.STOPPED,actionSubject:o("+PNV").b.EDITOR,actionSubjectId:o("+PNV").c.SAVE,attributes:{inputMethod:o("+PNV").f.SHORTCUT,documentSize:e.doc.nodeSize},eventType:o("+PNV").e.UI}});var dn=e=>({name:"saveOnEnter",pmPlugins:()=>[{name:"saveOnEnter",plugin:({dispatch:t})=>an(t,e)}]});function un(e){const t=e;return!!t.dataTransfer&&-1!==Array.prototype.slice.call(t.dataTransfer.types).indexOf("Files")}const pn=e=>{const{mediaSingle:t}=e.schema.nodes,{$to:n}=e.selection;if(t)for(let o=n.depth;o>=0;o--){let e=n.index(o);if(n.node(o).canReplaceWith(e,e,t))return!0}return!1},hn=(e,t)=>{const{media:n,mediaSingle:o}=t.nodes;if(!n||!o)return null;const r=n.createChecked({type:"external",url:e});return o.createChecked({},r)},fn=new d.PluginKey("imageUploadPlugin"),mn=e=>t=>((e,t)=>e.setMeta(fn,t))(t,{name:"START_UPLOAD",event:e
}),bn=e=>(t,n)=>!!fn.getState(t).enabled&&(n&&n(mn(e)(t.tr)),!0),gn=e=>{const{clipboardData:t}=e;if(!t||1!==t.files.length)return!1;const n=!!t.getData("text/plain"),o=t.getData("text/html").includes("urn:schemas-microsoft-com:office:office"),r=t.files[0];return"image/png"===r.type&&"image.png"===r.name&&n&&o},vn=(e,t)=>(t,n)=>{if(!e(n))return!1;const o=!gn(n);return o&&(n.preventDefault(),n.stopPropagation(),bn(n)(t.state,t.dispatch)),o},yn=({dispatch:t,providerFactory:n})=>{let r;return new(o("KkS8").a)({state:{init:(e,t)=>({active:!1,enabled:pn(t),hidden:!t.schema.nodes.media||!t.schema.nodes.mediaSingle}),apply(e,n,o,r){const i=(e=>{const{media:t}=e.schema.nodes;return e.selection instanceof d.NodeSelection&&e.selection.node.type===t})(r),s=pn(r),a=((e,t)=>{const n=e.getMeta(fn);return n&&"START_UPLOAD"===n.name?{event:n.event}:t.activeUpload})(e,n);if(i!==n.active||s!==n.enabled||a!==n.activeUpload){const e={...n,active:i,enabled:s,activeUpload:a};return t(fn,e),e}return n}},
key:fn,view:()=>{const t=async(t,n)=>{if("imageUploadProvider"===t&&n)try{r=await n}catch(e){r=void 0}};return n.subscribe("imageUploadProvider",t),{update(e,t){const{state:n}=e,o=fn.getState(n),i=fn.getState(t);if(o.activeUpload!==i.activeUpload&&o.activeUpload&&r){const{event:t}=o.activeUpload;t&&gn(t)||r(t,(t=>(e=>(t,n)=>{if(!fn.getState(t).enabled||!e.src)return!1;const o=hn(e.src,t.schema);return!!o&&(n&&n(Object(l.safeInsert)(o,t.selection.$to.pos)(t.tr).scrollIntoView()),!0)})(t)(e.state,e.dispatch)))}},destroy(){n.unsubscribe("imageUploadProvider",t)}}},props:{handleDOMEvents:{drop:vn(un),paste:vn(o("xNKs").c)}}})};var On=function(e,t){if(!e.nodes.media||!e.nodes.mediaSingle)return;const n=Object(o("9hcL").c)(/!\[(.*)\]\((\S+)\)$/,((e,t,n,o)=>{const{schema:r}=e,i={src:t[2],alt:t[1]},s=hn(i.src,r);return s?e.tr.replaceWith(n,o,s):null}));return Object(o("9hcL").b)("image-upload",[n])};var En=()=>({name:"imageUpload",pmPlugins:()=>[{name:"imageUpload",plugin:yn},{
name:"imageUploadInputRule",plugin:({schema:e,featureFlags:t})=>On(e,t)}]});var wn=(e,t)=>{var n,r;const i=(null==t||null===(n=t.dependencies)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r.sharedState.currentState())||{};let s=()=>{};const a=new Promise((e=>{s=e})),c=(e=>async(t,n)=>{try{const n=await e;if(n)return t(n)}catch(o){n?n(o):console.error(o)}})(a);return{name:"collabEdit",pmPlugins(){const{useNativePlugin:t=!1,userId:n=null}=e||{};return[...t?[{name:"pmCollab",plugin:()=>Object(o("OqVw").a)({clientID:n})},{name:"nativeCollabProviderPlugin",plugin:()=>Object(o("9ZfD").b)({providerPromise:a})}]:[],{name:"collab",plugin:({dispatch:t,providerFactory:n})=>(n&&n.subscribe("collabEditProvider",((e,t)=>{t&&t.then((e=>s(e)))})),Object(o("VHIC").a)(t,n,c,e,i))}]},onEditorViewStateUpdated(t){const n=Object(o("mY1j").b)(t.newEditorState,t.newEditorState.tr,i);c((({originalTransaction:e,transactions:t,oldEditorState:n,newEditorState:r,useNativePlugin:i})=>s=>{
const a=t.find((e=>e.docChanged)),c=o("uOGI").a.getState(r);if(!c.isReady)return;const l=!e.getMeta("isRemote")&&!e.getMeta("scaleTable")&&a;(i||l)&&s.send(a,n,r);const d=o("uOGI").a.getState(n),{activeParticipants:u}=d,{activeParticipants:p,sessionId:h}=c,f=!n.selection.eq(r.selection),m=!u.eq(p);if(h&&f&&!a||h&&m){const e={type:"telepointer",selection:Object(o("7OFl").b)(r.selection),sessionId:h};s.sendMessage(e)}})({originalTransaction:t.originalTransaction,transactions:t.transactions,oldEditorState:t.oldEditorState,newEditorState:t.newEditorState,useNativePlugin:e&&e.useNativePlugin}),n)}}}
;const Sn=Object(o("AeFk").css)("align-items:center;background:","var(--ds-background-neutral, #EBECF0)",";border:1px solid ","var(--ds-border, #C1C7D0)",";border-radius:",Object(o("7w+A").borderRadius)(),"px;box-sizing:border-box;cursor:default;display:inline-flex;font-size:",Object(o("anI9").fb)(13),";margin:0 2px;min-height:24px;padding:0 4px;user-select:none;vertical-align:middle;white-space:nowrap;.ProseMirror-selectednode &{background:","var(--ds-background-selected, #C1C7D0)",";outline:none;}"),kn={name:"pssgux",styles:"display:inline-block;color:var(--ds-text-subtlest, #707070);line-height:24px;vertical-align:top;&::before{color:var(--ds-text, black);content:'JIRA | ';}"},xn={name:"36khb5",styles:"display:inline-block;height:24px;vertical-align:top;width:24px;&>div{height:24px;width:24px;}"};function Cn(e){const{node:{attrs:{issueKey:t}}}=e;return Object(o("AeFk").jsx)("span",{css:Sn,"data-testid":"jira-issue-node"},Object(o("AeFk").jsx)("span",{css:xn
},Object(o("AeFk").jsx)(o("WntY").JiraIcon,{size:"small"})),Object(o("AeFk").jsx)("span",{css:kn},t))}const Tn=new d.PluginKey("jiraIssuePlugin"),jn=({portalProviderAPI:e,eventDispatcher:t})=>new(o("KkS8").a)({key:Tn,props:{nodeViews:{confluenceJiraIssue:o("gVP2").a.fromComponent(Cn,e,t)}}});var An=()=>({name:"confluenceJiraIssue",nodes:()=>[{name:"confluenceJiraIssue",node:o("TL4l").a}],pmPlugins:()=>[{name:"jiraIssue",plugin:jn}]});const Nn=(e,t)=>{const{panel:n}=e.schema.nodes;return Object(l.findSelectedNodeOfType)(n)(t||e.selection)||Object(l.findParentNodeOfType)(n)(t||e.selection)},In={info:o("6DEX").a,success:o("uERC").a,note:o("eogT").a,tip:o.n(o("MWUb")).a,warning:o("SU7v").a,error:o("DoLF").a,custom:o("6DEX").a},Pn=e=>{const{allowCustomPanel:t,providerFactory:n,panelAttributes:{panelType:r,panelIcon:i,panelIconId:s,panelIconText:a}}=e;if(t&&i&&r===o("XN8Y").a.CUSTOM)return c.a.createElement(o("lYaY").a,{providers:n,shortName:i,id:s,fallback:a,showTooltip:!1,
allowTextFallback:!1,fitToHeight:o("anI9").h});const l=In[r];return c.a.createElement(l,{label:`Panel ${r}`})};class Mn{constructor(e,t,n,r,i){this.providerFactory=i,this.pluginOptions=r,this.view=t,this.node=e;const{dom:s,contentDOM:a}=ie.DOMSerializer.renderSpec(document,((e,t)=>{const{panelColor:n,panelType:r,panelIcon:i,panelIconId:s,panelIconText:a}=e,c=r===o("XN8Y").a.CUSTOM&&t,l=!c||!!i||!!s,d=n&&Object(o("UK/+").a)(n),u=[n&&c?`background-color: ${d||n};`:"",l?"":"padding-left: 12px;"].join("");let p={class:o("7csE").a.prefix,"data-panel-type":r||o("XN8Y").a.INFO,style:u};n&&c&&(p={...p,"data-panel-color":n,"data-panel-icon-id":s,"data-panel-icon-text":a});const h=["div",{class:o("7csE").a.icon}],f=["div",{class:o("7csE").a.content},0];return l?["div",p,h,f]:["div",p,f]})(e.attrs,r.allowCustomPanel||!1));this.getPos=n,this.dom=s,this.contentDOM=a,this.icon=this.dom.querySelector(`.${o("7csE").a.icon}`),this.icon&&(this.icon.contentEditable="false",
X.a.render(c.a.createElement(Pn,{allowCustomPanel:r.allowCustomPanel,panelAttributes:e.attrs,providerFactory:this.providerFactory}),this.icon))}ignoreMutation(e){const t=e.target===this.icon||e.target.parentNode===this.icon,n=this.icon.contains(e.target);return t||n}}const Rn=(e,t)=>(n,o,r)=>new Mn(n,o,r,e,t),_n=new d.PluginKey("panelPlugin"),Ln=()=>(e,t)=>{const{schema:{nodes:n},tr:r}=e,i={action:o("+PNV").a.DELETED,actionSubject:o("+PNV").b.PANEL,attributes:{inputMethod:o("+PNV").f.TOOLBAR},eventType:o("+PNV").e.TRACK};let s=r;return Object(l.findSelectedNodeOfType)(n.panel)(r.selection)?s=Object(l.removeSelectedNode)(r):Object(l.findParentNodeOfType)(n.panel)(r.selection)&&(s=Object(l.removeParentNodeOfType)(n.panel)(r)),!!s&&(t&&t(Object(o("SVcB").a)(e,s,i)),!0)},Dn=(e,t={},n=!1)=>(r,i)=>{const{schema:{nodes:s},tr:a}=r,c=Nn(r);if(void 0===c)return!1;let l,u=e,p=c.node.attrs.panelType;if(n){let n={
color:"custom"===c.node.attrs.panelType?c.node.attrs.panelColor||"none":Object(o("7csE").d)(p),emoji:c.node.attrs.panelIcon,emojiId:c.node.attrs.panelIconId,emojiText:c.node.attrs.panelIconText,...t};l=a.setNodeMarkup(c.pos,s.panel,{panelIcon:n.emoji,panelIconId:n.emojiId,panelIconText:n.emojiText,panelColor:n.color,panelType:e})}else l=a.setNodeMarkup(c.pos,s.panel,{panelType:e});const h={action:o("+PNV").a.CHANGED_TYPE,actionSubject:o("+PNV").b.PANEL,attributes:{newType:u,previousType:p},eventType:o("+PNV").e.TRACK},f=r.selection instanceof d.NodeSelection&&"panel"===r.selection.node.type.name?l.setSelection(new d.NodeSelection(a.doc.resolve(c.pos))):l,m=Object(o("SVcB").a)(r,f,h);return m.setMeta("scrollIntoView",!1),i&&i(m),!0},Fn=[{label:"White",value:o("5kDX").a.N0},{label:"Light blue",value:o("5kDX").a.B50},{label:"Light teal",value:o("5kDX").a.T50},{label:"Light green",value:o("5kDX").a.G50},{label:"Light yellow",value:o("5kDX").a.Y50},{label:"Light red",value:o("5kDX").a.R50
},{label:"Light purple",value:o("5kDX").a.P50},{label:"Light gray",value:o("5kDX").a.N20},{label:"Blue",value:o("5kDX").a.B75},{label:"Teal",value:o("5kDX").a.T75},{label:"Green",value:o("5kDX").a.G75},{label:"Yellow",value:o("5kDX").a.Y75},{label:"Red",value:o("5kDX").a.R75},{label:"Purple",value:o("5kDX").a.P75},{label:"Gray",value:o("5kDX").a.N60},{label:"Dark blue",value:o("5kDX").a.B100},{label:"Dark teal",value:o("5kDX").a.T100},{label:"Dark green",value:o("5kDX").a.G200},{label:"Dark yellow",value:o("5kDX").a.Y200},{label:"Dark red",value:o("5kDX").a.R100},{label:"Dark purple",value:o("5kDX").a.P100}].map((e=>({...e,border:`var(--ds-border, ${o("aYdX").a})`}))),Bn=([{label:"Dark gray",value:o("7csE").b.DarkGray},{label:"Dark blue",value:o("7csE").b.B1200S},{label:"Dark teal",value:o("7csE").b.T1200S},{label:"Dark green",value:o("7csE").b.G1200S},{label:"Dark yellow",value:o("7csE").b.Y1200S},{label:"Dark red",value:o("7csE").b.R1200S},{label:"Dark purple",
value:o("7csE").b.P1200S},{label:"Gray",value:o("7csE").b.Gray},{label:"blue",value:o("7csE").b.B900},{label:"teal",value:o("7csE").b.T900},{label:"green",value:o("7csE").b.G900},{label:"yellow",value:o("7csE").b.Y900},{label:"red",value:o("7csE").b.R900},{label:"purple",value:o("7csE").b.P900},{label:"Light gray",value:o("7csE").b.LightGray},{label:"Light blue",value:o("7csE").b.B800S},{label:"Light teal",value:o("7csE").b.T900S},{label:"Light green",value:o("7csE").b.G900S},{label:"Light yellow",value:o("7csE").b.Y800S},{label:"Light red",value:o("7csE").b.R800S},{label:"Light purple",value:o("7csE").b.P800S}].map((e=>({...e,border:o("aYdX").a}))),Object(o("D6b/").defineMessages)({info:{id:"fabric.editor.info",defaultMessage:"Info",description:"Panels provide a way to highlight text. The info panel has a blue background."},note:{id:"fabric.editor.note",defaultMessage:"Note",description:"Panels provide a way to highlight text. The note panel has a purple background."},success:{
id:"fabric.editor.success",defaultMessage:"Success",description:"Panels provide a way to highlight text. The success panel has a green background."},warning:{id:"fabric.editor.warning",defaultMessage:"Warning",description:"Panels provide a way to highlight text. The warning panel has a yellow background."},error:{id:"fabric.editor.error",defaultMessage:"Error",description:"Panels provide a way to highlight text. The error panel has a red background."},emoji:{id:"fabric.editor.panel.emoji",defaultMessage:"Add emoji",description:"Select the panel icon"},backgroundColor:{id:"fabric.editor.panel.backgroundColor",defaultMessage:"Background color",description:"Select the panel background color."}})),Vn={[o("XN8Y").a.INFO]:{shortName:":info:",id:"atlassian-info"},[o("XN8Y").a.NOTE]:{shortName:":note:",id:"atlassian-note"},[o("XN8Y").a.WARNING]:{shortName:":warning:",id:"atlassian-warning"},[o("XN8Y").a.ERROR]:{shortName:":cross_mark:",id:"atlassian-cross_mark"},[o("XN8Y").a.SUCCESS]:{
shortName:":check_mark:",id:"atlassian-check_mark"},[o("XN8Y").a.TIP]:{shortName:":tip:",id:"atlassian-tip"}},zn=(e,t,n={},r)=>{const{formatMessage:i}=t,s=Nn(e);if(s){const t=e.schema.nodes.panel,{panelType:r,panelColor:a,panelIcon:c}=s.node.attrs,d=e=>e!==o("XN8Y").a.CUSTOM?e:void 0,u=((e,t,n,r,i,s,a,c,l)=>{const d=[{id:"editor.panel.info",type:"button",icon:o.n(o("hL5s")).a,onClick:Dn(o("XN8Y").a.INFO),selected:s===o("XN8Y").a.INFO,title:e(Bn.info),tabIndex:null},{id:"editor.panel.note",type:"button",icon:o.n(o("lcwu")).a,onClick:Dn(o("XN8Y").a.NOTE),selected:s===o("XN8Y").a.NOTE,title:e(Bn.note),tabIndex:null},{id:"editor.panel.success",type:"button",icon:o.n(o("2MZH")).a,onClick:Dn(o("XN8Y").a.SUCCESS),selected:s===o("XN8Y").a.SUCCESS,title:e(Bn.success),tabIndex:null},{id:"editor.panel.warning",type:"button",icon:o.n(o("mLKr")).a,onClick:Dn(o("XN8Y").a.WARNING),selected:s===o("XN8Y").a.WARNING,title:e(Bn.warning),tabIndex:null},{id:"editor.panel.error",type:"button",
icon:o.n(o("Gnel")).a,onClick:Dn(o("XN8Y").a.ERROR),selected:s===o("XN8Y").a.ERROR,title:e(Bn.error),tabIndex:null}];if(n){const t=e=>(t,r)=>{const i=Nn(t);if(void 0===i)return!1;let s="custom"===i.node.attrs.panelType?i.node.attrs.panelColor||"none":Object(o("7csE").d)(i.node.attrs.panelType);const a=i.node.attrs.panelType,c=Vn[a],l=c?{emoji:c.shortName,emojiId:c.id}:{};if(s===e)return Dn(o("XN8Y").a.CUSTOM,{color:e,...l},n)(t,r),!1;const d={action:o("+PNV").a.CHANGED_BACKGROUND_COLOR,actionSubject:o("+PNV").b.PANEL,actionSubjectId:o("+PNV").c.PANEL,attributes:{newColor:e,previousColor:s},eventType:o("+PNV").e.TRACK};return Object(o("SVcB").b)(d)(Dn(o("XN8Y").a.CUSTOM,{color:e,...l},n))(t,r),!1},i=e=>(t,n)=>{const r=Nn(t);if(void 0===r)return!1;let i=r.node.attrs.panelIcon||"";if(i===e.shortName)return Dn(o("XN8Y").a.CUSTOM,{emoji:e.shortName,emojiId:e.id,emojiText:e.fallback},!0)(t,n),!1;const s={action:o("+PNV").a.CHANGED_ICON,actionSubject:o("+PNV").b.PANEL,
actionSubjectId:o("+PNV").c.PANEL,attributes:{newIcon:e.shortName,previousIcon:i},eventType:o("+PNV").e.TRACK};return Object(o("SVcB").b)(s)(Dn(o("XN8Y").a.CUSTOM,{emoji:e.shortName,emojiId:e.id,emojiText:e.fallback},!0))(t,n),!1},l=()=>(e,t)=>{const r=Nn(e);if(s===o("XN8Y").a.CUSTOM&&!c)return!1;if(void 0===r)return!1;const i={action:o("+PNV").a.REMOVE_ICON,actionSubject:o("+PNV").b.PANEL,actionSubjectId:o("+PNV").c.PANEL,attributes:{icon:r.node.attrs.panelIcon},eventType:o("+PNV").e.TRACK};return Object(o("SVcB").b)(i)(Dn(o("XN8Y").a.CUSTOM,{emoji:void 0,emojiId:void 0,emojiText:void 0},n))(e,t),!1},u=s===o("XN8Y").a.CUSTOM?a||Object(o("7csE").d)(o("XN8Y").a.INFO):Object(o("7csE").d)(s),p=Fn.find((e=>e.value===u))||{label:"Custom",value:u,border:o("aYdX").a};if(r){const n={id:"editor.panel.colorPicker",title:e(Bn.backgroundColor),type:"select",selectType:"color",defaultValue:p,options:Fn,onChange:e=>t(e.value)},r={id:"editor.panel.emojiPicker",title:e(Bn.emoji),type:"select",
selectType:"emoji",options:[],selected:s===o("XN8Y").a.CUSTOM&&!!c,onChange:e=>i(e)},a={id:"editor.panel.removeEmoji",type:"button",icon:o.n(o("N9Fx")).a,onClick:l(),title:e(o("yYBl").a.removeEmoji),disabled:!c};d.push(r,a,{type:"separator"},n)}}return l&&d.push({type:"copy-button",items:[{type:"separator"},{state:l,formatMessage:e,nodeType:t}]}),d.push({type:"separator"},{id:"editor.panel.delete",type:"button",appearance:"danger",focusEditoronEnter:!0,icon:o.n(o("Fn6O")).a,onClick:Ln(),onMouseEnter:Object(o("lgPy").d)(t,!0),onMouseLeave:Object(o("lgPy").d)(t,!1),onFocus:Object(o("lgPy").d)(t,!0),onBlur:Object(o("lgPy").d)(t,!1),title:e(o("yYBl").a.remove),tabIndex:null}),d})(i,t,n.allowCustomPanel||!1,n.allowCustomPanel&&n.allowCustomPanelEdit||!1,0,r,n.allowCustomPanel?a:void 0,n.allowCustomPanel?c||d(r):void 0,e);return{title:"Panel floating controls",getDomRef:e=>{const t=e.domAtPos.bind(e);return Object(l.findDomRefAtPos)(s.pos,t)},nodeType:t,items:u,scrollable:!0}}}
;function Hn(e,t,n){const r=function(e,t){const n=Object(l.findParentNodeOfType)(t)(e);return n?n.node:null}(e,t);return r&&Object(o("D4z0").j)(n)(r)}var Un=function(){const e={Backspace:(e,t)=>{const{selection:n,schema:{nodes:o},tr:r}=e,{panel:i,blockquote:s}=o,{$from:a,$to:c}=n;if(a.pos!==c.pos)return!1;if(0!==a.parentOffset)return!1;const d=r.doc.resolve(Math.max(0,a.before(a.depth)-1)),u=d.pos>0&&d.parent&&d.parent.type,p=a.parent.type;if(u===i&&!(p===i)||Hn(n,i,e.schema)||Object(l.hasParentNodeOfType)(s)(n)){const e=a.node(a.depth).content,n=d.pos;return((e,t)=>t.delete(e.before(e.depth)-1,e.end(e.depth)+1))(a,r).insert(n,e),t&&t(Object(l.setTextSelection)(n)(r).scrollIntoView()),!0}return a.node().type===i}};return Object(V.b)(e)};function Wn(){return c.a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",focusable:"false","aria-hidden":!0},c.a.createElement("rect",{width:"40",height:"40",fill:"white"}),c.a.createElement("path",{
d:"M8 13C8 12.4477 8.44772 12 9 12H40V28H9C8.44772 28 8 27.5523 8 27V13Z",fill:"#E6FCFF"}),c.a.createElement("g",{clipPath:"url(#clip0)"},c.a.createElement("path",{d:"M19.9999 16.2222C15.5817 16.2222 12.2222 19.5818 12.2222 24H16.0093C16.0093 21.7962 17.7964 20.0093 19.9999 20.0093V16.2222Z",fill:"#8767AC"}),c.a.createElement("path",{d:"M12 23.9998H12.676C12.676 19.9578 15.9502 16.6809 19.9909 16.676V16C15.5767 16.0051 12 19.5847 12 23.9998Z",fill:"#EB2027"}),c.a.createElement("path",{d:"M12.6851 24H13.3517C13.3517 20.3262 16.3273 17.3478 19.9999 17.3429V16.6762C15.9593 16.6811 12.6851 19.958 12.6851 24Z",fill:"#F19020"}),c.a.createElement("path",{d:"M13.3518 24H14.0185C14.0185 20.6945 16.6956 18.0145 20 18.0096V17.3429C16.3274 17.3478 13.3518 20.3262 13.3518 24Z",fill:"#FFCB4C"}),c.a.createElement("path",{d:"M14.0184 24H14.6851C14.6851 21.0629 17.064 18.6811 20 18.6762V18.0096C16.6955 18.0144 14.0184 20.6944 14.0184 24Z",fill:"#5C903F"}),c.a.createElement("path",{
d:"M14.6851 24H15.3517C15.3517 21.4311 17.4322 19.348 19.9999 19.3431V18.6762C17.0639 18.6811 14.6851 21.0629 14.6851 24Z",fill:"#226798"})),c.a.createElement("defs",null,c.a.createElement("clipPath",{id:"clip0"},c.a.createElement("rect",{width:"8",height:"8",fill:"white",transform:"translate(12 16)"}))))}const Kn=(e,t,n)=>{const r=n($n(e,t));return r&&Object(o("SVcB").a)(t,r,{action:o("+PNV").a.INSERTED,actionSubject:o("+PNV").b.DOCUMENT,actionSubjectId:o("+PNV").c.PANEL,attributes:{inputMethod:o("+PNV").f.QUICK_INSERT,panelType:e.panelType},eventType:o("+PNV").e.TRACK}),r},$n=(e,t)=>t.schema.nodes.panel.createChecked(e,t.schema.nodes.paragraph.createChecked());var qn=(e={})=>({name:"panel",nodes:()=>[{name:"panel",node:Object(o("XN8Y").b)(!!e.allowCustomPanel)}],pmPlugins:()=>[{name:"panel",plugin:({providerFactory:t,dispatch:n})=>((e,t,n)=>{const{useLongPressSelection:r=!1}=n;return new(o("KkS8").a)({key:_n,props:{nodeViews:{panel:Rn(n,t)},
handleClickOn:Object(o("BuIm").a)(["panel"],(e=>!!e.closest(`.${o("7csE").a.prefix}`)),{useLongPressSelection:r})}})})(0,t,e)},{name:"panelKeyMap",plugin:()=>Un()}],pluginsOptions:{quickInsert:({formatMessage:t})=>{let n=[{id:"infopanel",title:t(o("RJFP").a.infoPanel),keywords:["panel"],description:t(o("RJFP").a.infoPanelDescription),priority:800,icon:()=>c.a.createElement(o("Jzj3").p,null),action:(e,t)=>Kn({panelType:o("XN8Y").a.INFO},t,e)},{id:"notepanel",title:t(o("RJFP").a.notePanel),description:t(o("RJFP").a.notePanelDescription),priority:1e3,icon:()=>c.a.createElement(o("Jzj3").r,null),action:(e,t)=>Kn({panelType:o("XN8Y").a.NOTE},t,e)},{id:"successpanel",title:t(o("RJFP").a.successPanel),description:t(o("RJFP").a.successPanelDescription),keywords:["tip"],priority:1e3,icon:()=>c.a.createElement(o("Jzj3").s,null),action:(e,t)=>Kn({panelType:o("XN8Y").a.SUCCESS},t,e)},{id:"warningpanel",title:t(o("RJFP").a.warningPanel),description:t(o("RJFP").a.warningPanelDescription),
priority:1e3,icon:()=>c.a.createElement(o("Jzj3").t,null),action:(e,t)=>Kn({panelType:o("XN8Y").a.WARNING},t,e)},{id:"errorpanel",title:t(o("RJFP").a.errorPanel),description:t(o("RJFP").a.errorPanelDescription),priority:1e3,icon:()=>c.a.createElement(o("Jzj3").q,null),action:(e,t)=>Kn({panelType:o("XN8Y").a.ERROR},t,e)}];return e.allowCustomPanel&&e.allowCustomPanelEdit&&n.push({id:"custompanel",title:t(o("RJFP").a.customPanel),description:t(o("RJFP").a.customPanelDescription),priority:1e3,icon:()=>c.a.createElement(Wn,null),action:(e,t)=>Kn({panelType:o("XN8Y").a.CUSTOM,panelIcon:":rainbow:",panelIconId:"1f308",panelIconText:"\ud83c\udf08",panelColor:"#E6FCFF"},t,e)}),n},floatingToolbar:(t,n,o)=>zn(t,n,e)}});const Gn=e=>Object(o("AeFk").css)("background:",Object(o("56zV").a)({light:"var(--ds-background-neutral, #F4F5F7)",dark:"var(--ds-background-neutral, #283447)"})(e),";border-radius:",Object(o("7w+A").borderRadius)(),"px;color:",Object(o("56zV").a)({dark:"var(--ds-text, #CED9EB)"
})(e),";position:relative;vertical-align:middle;.ProseMirror-selectednode>span>&>.extension-overlay{box-shadow:inset 0px 0px 0px 2px ","var(--ds-border-selected, #2684FF)",";opacity:1;}&.with-overlay{.extension-overlay{background:","var(--ds-background-neutral-hovered, rgba(9, 30, 66, 0.04))",";color:transparent;}&:hover .extension-overlay{opacity:1;}}"),Yn=Object(o("AeFk").css)("border-radius:",Object(o("7w+A").borderRadius)(),"px;position:absolute;width:100%;height:100%;opacity:0;pointer-events:none;transition:opacity 0.3s;"),Qn={name:"1g4hjbm-placeholder-fallback",styles:"display:inline-flex;align-items:center;&>img{margin:0 4px;}label:placeholder-fallback"},Xn=Object(o("AeFk").css)("display:inline-block;max-width:200px;margin-left:5px;color:","var(--ds-text-subtlest, #A5ADBA)",";text-overflow:ellipsis;white-space:nowrap;overflow:hidden;"),Zn={name:"1ib9bih-lozenge-image",styles:"max-height:16px;max-width:16px;label:lozenge-image"
},Jn=e=>Object(o("AeFk").css)(Gn(e)," &.without-frame{background:transparent;}cursor:pointer;width:100%;.extension-overflow-wrapper:not(.with-body){overflow-x:auto;}"),eo=Object(o("AeFk").css)("padding:",o("lobk").b/2,"px ",o("lobk").b/2,"px 0px;vertical-align:middle;&.with-children:not(.without-frame){padding:4px 8px 8px;}&.without-frame{padding:0;}"),to=e=>Object(o("AeFk").css)("padding:",o("lobk").b,"px;background:",Object(o("56zV").a)({light:"var(--ds-surface, white)",dark:"var(--ds-surface, #1B2638)"})(e),";color:",Object(o("56zV").a)({dark:"var(--ds-text, #E6EDFA)"})(e),";border:1px solid ","var(--ds-border, #EBECF0)",";border-radius:",Object(o("7w+A").borderRadius)(),"px;cursor:initial;width:100%;"),no=Object(o("AeFk").css)("padding:0 ",o("lobk").b,"px ",o("lobk").b,"px;display:flex;justify-content:center;"),oo=({node:e,type:t})=>{if(!e.attrs.parameters)return;const{macroMetadata:n}=e.attrs.parameters;if(n&&n.placeholder){let e;return n.placeholder.forEach((n=>{
n.type===t&&n.data&&n.data.url&&(e=n.data)})),e}};class ro extends a.Component{render(){const{node:e}=this.props,t=oo({node:e,type:"image"});if(t&&"extension"!==e.type.name)return this.renderImage(t);const n=oo({node:e,type:"icon"});return this.renderFallback(n)}renderImage(e){const{extensionKey:t}=this.props.node.attrs,{url:n,...r}=e;return Object(o("AeFk").jsx)("img",J()({css:Zn,src:n},r,{alt:t}))}renderFallback(e){const{parameters:t,extensionKey:n}=this.props.node.attrs,{name:r}=this.props.node.type,i=t&&t.macroParams,s=t&&t.extensionTitle||t&&t.macroMetadata&&t.macroMetadata.title||n,a="extension"===r;return Object(o("AeFk").jsx)("div",{"data-testid":"lozenge-fallback",css:Qn},e&&!a?this.renderImage({height:24,width:24,...e}):Object(o("AeFk").jsx)(o.n(o("4Nwc")).a,{label:s}),Object(o("AeFk").jsx)("span",{className:"extension-title"},(e=>e.charAt(0).toUpperCase()+e.slice(1))(s)),i&&!a&&Object(o("AeFk").jsx)("span",{css:Xn},Object.keys(i).map((e=>e&&` | ${e} = ${i[e].value}`))))}}
ro.displayName="ExtensionLozenge";var io=o("TSYQ"),so=o.n(io);function ao(e){const{node:t,handleContentDOMRef:n,children:r,widthState:i={width:0},handleRef:s,shadowClassNames:a,hideFrame:c,editorAppearance:l}=e,d="bodiedExtension"===t.type.name,u=!!r,p=c&&!("mobile"===l)&&!d||!1,h=e.getPos&&!isNaN(e.getPos())&&0===e.view.state.doc.resolve(e.getPos()).depth,f=["full-width","wide"].includes(t.attrs.layout)&&h&&"full-width"!==l,m=so()("extension-container","block",a,{"with-overlay":!d,"without-frame":p,"wider-layout":f}),b=so()({"with-children":u,"without-frame":p});let g={width:"100%"},v={};if(f){const{type:e,...n}=Object(o("xEd5").f)({mode:t.attrs.layout,widthStateWidth:i.width,widthStateLineLength:i.lineLength});v={...n},g=n}return v={...v,...no},Object(o("AeFk").jsx)("div",{ref:s,"data-layout":t.attrs.layout,className:m,css:Jn,style:g},Object(o("AeFk").jsx)("div",{className:"extension-overflow-wrapper "+(d?"with-body":"")},Object(o("AeFk").jsx)("div",{css:Yn,
className:"extension-overlay"}),Object(o("AeFk").jsx)("div",{css:eo,contentEditable:!1,className:b},!p&&Object(o("AeFk").jsx)(ro,{node:t}),r),d&&Object(o("AeFk").jsx)("div",{css:v},Object(o("AeFk").jsx)("div",{css:to,ref:n,className:"extension-content block"}))))}var co=Object(o("MysJ").a)((e=>Object(o("AeFk").jsx)(o("fd7e").a,{editorView:e.view,plugins:{widthState:o("IXso").b},render:({widthState:t})=>Object(o("AeFk").jsx)(ao,J()({widthState:t},e))})),{overflowSelector:".extension-overflow-wrapper"});const lo=e=>Object(o("AeFk").css)(Gn(e)," cursor:pointer;display:inline-flex;margin:1px 1px 4px;>img{border-radius:",Object(o("7w+A").borderRadius)(),"px;}&::after,&::before{vertical-align:text-top;display:inline-block;width:1px;content:'';}&.with-children{padding:0;background:var(--ds-background-neutral-subtle, white);}");class uo extends a.Component{render(){const{node:e,children:t}=this.props,n=!!t?"with-overlay with-children":"with-overlay";return Object(o("AeFk").jsx)("div",{css:lo,
className:`extension-container inline ${n}`},Object(o("AeFk").jsx)("div",{css:Yn,className:"extension-overlay"}),t||Object(o("AeFk").jsx)(ro,{node:e}))}}uo.displayName="InlineExtension";class po extends a.Component{constructor(...t){super(...t),s()(this,"privatePropsParsed",!1),s()(this,"state",{}),s()(this,"mounted",!1),s()(this,"getNodeRenderer",Object(o("Wwog").a)(o("P4PC").c)),s()(this,"getExtensionModuleNodePrivateProps",Object(o("Wwog").a)(o("P4PC").b)),s()(this,"setStateFromPromise",((e,t)=>{t&&t.then((t=>{this.mounted&&this.setState({[e]:t})}))})),s()(this,"parsePrivateNodePropsIfNeeded",(async()=>{if(this.privatePropsParsed||!this.state.extensionProvider)return;this.privatePropsParsed=!0;const{extensionType:t,extensionKey:n}=this.props.node.attrs;try{const e=await this.getExtensionModuleNodePrivateProps(this.state.extensionProvider,t,n);this.setState({_privateProps:e})}catch(e){console.error("Provided extension handler has thrown an error\n",e)}})),
s()(this,"handleExtension",(e=>{var t,n,r;const{extensionHandlers:i,editorView:s}=this.props,{extensionType:a,extensionKey:l,parameters:d,text:u}=e.attrs;if("bodiedExtension"===e.type.name)return;const p=null==e||null===(t=e.marks)||void 0===t||null===(n=t.find((e=>"fragment"===e.type.name)))||void 0===n||null===(r=n.attrs)||void 0===r?void 0:r.localId,h={type:e.type.name,extensionType:a,extensionKey:l,parameters:d,content:u,localId:e.attrs.localId,fragmentLocalId:p};let f;if(i&&i[a]){f=Object(o("QedE").a)(i[a])(h,s.state.doc)}if(!f){const e=this.state.extensionProvider&&this.getNodeRenderer(this.state.extensionProvider,a,l);if(e){const t=e;return c.a.createElement(t,{node:h,references:this.props.references})}}return f}))}UNSAFE_componentWillMount(){this.mounted=!0}componentDidMount(){const{extensionProvider:e}=this.props;e&&this.setStateFromPromise("extensionProvider",e)}componentDidUpdate(){this.parsePrivateNodePropsIfNeeded()}componentWillUnmount(){this.mounted=!1}
UNSAFE_componentWillReceiveProps(e){const{extensionProvider:t}=e;t&&this.props.extensionProvider!==t&&this.setStateFromPromise("extensionProvider",t)}render(){var e;const{node:t,handleContentDOMRef:n,editorView:o,references:r,editorAppearance:i}=this.props,s=this.tryExtensionHandler();switch(t.type.name){case"extension":case"bodiedExtension":return c.a.createElement(co,{node:t,getPos:this.props.getPos,references:r,extensionProvider:this.state.extensionProvider,handleContentDOMRef:n,view:o,editorAppearance:i,hideFrame:null===(e=this.state._privateProps)||void 0===e?void 0:e.__hideFrame},s);case"inlineExtension":return c.a.createElement(uo,{node:t},s);default:return null}}tryExtensionHandler(){const{node:t}=this.props;try{const e=this.handleExtension(t);if(e&&c.a.isValidElement(e))return e}catch(e){console.error("Provided extension handler has thrown an error\n",e)}return null}}po.displayName="ExtensionComponent";class ho extends a.Component{constructor(e){super(e),
s()(this,"renderWithProvider",(({extensionProvider:e})=>{const{node:t,getPos:n,editorView:o,handleContentDOMRef:r,extensionHandlers:i,references:s,editorAppearance:a}=this.props;return c.a.createElement(po,{editorView:o,node:t,getPos:n,references:s,extensionProvider:e,handleContentDOMRef:r,extensionHandlers:i,editorAppearance:a})})),this.providerFactory=e.providerFactory||new(o("U7Mc").a)}componentWillUnmount(){this.props.providerFactory||this.providerFactory.destroy()}render(){return c.a.createElement(o("D0us").a,{providers:["extensionProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}ho.displayName="Extension",s()(ho,"displayName","Extension");var fo=({children:e,nodeType:t})=>c.a.createElement("span",null,e,"inlineExtension"===t&&o("vNjH").b);class mo extends o("gVP2").a{ignoreMutation(e){return this.node.type.isAtom||"selection"!==e.type&&"data-layout"!==e.attributeName}getContentDOM(){if(this.node.isInline)return
;const e=document.createElement("div");return e.className=`${this.node.type.name}-content-dom-wrapper`,{dom:e}}render(e,t){var n;return c.a.createElement(fo,{nodeType:this.node.type.name},c.a.createElement(ho,{editorView:this.view,node:this.node,getPos:this.getPos,providerFactory:e.providerFactory,handleContentDOMRef:t,extensionHandlers:e.extensionHandlers,editorAppearance:null===(n=e.extensionNodeViewOptions)||void 0===n?void 0:n.appearance}))}}function bo(e,t,n,o,r){return(i,s,a)=>new mo(i,s,a,e,t,{providerFactory:n,extensionHandlers:o,extensionNodeViewOptions:r},void 0,void 0,void 0,!0).init()}mo.displayName="ExtensionNode";const go=async(e,t)=>{try{const n=await(async(e,t)=>{const n=Object(o("wqCz").f)(e.state,!0);if(!n)throw new Error("There is no selection");const{extensionType:r,extensionKey:i}=n.node.attrs,s=await Object(o("P4PC").a)(t,r,i),a=Object(o("wqCz").f)(e.state,!0);if(a&&a.node.attrs.extensionType===r&&a.node.attrs.extensionKey===i&&a.pos===n.pos&&s)return s.update
})(e,t);return Object(o("raAN").g)({showEditButton:!!n,updateExtension:n&&Promise.resolve(n)||void 0})(e.state,e.dispatch),n}catch{}},vo=({view:e,prevState:t,domAtPos:n,extensionHandlers:r})=>{const{state:i,dispatch:s}=e,{element:a,localId:c,extensionProvider:l,showContextPanel:d,showEditButton:u}=Object(o("eFSV").c)(i),p=Object(o("wqCz").f)(i,!0);if(!p)return void(d&&Object(o("raAN").a)(i,s));const{node:h}=p,f=Object(o("wqCz").e)(i.schema,n,p),m=!u&&l&&a===f&&!Object(o("wqCz").f)(t,!0);if((h.attrs.localId?c!==h.attrs.localId:a!==f)||m){if(d)return void Object(o("raAN").a)(i,s);const{extensionType:t}=h.attrs,n=r[t],a=((e,t)=>{const n=!e&&!t||"function"==typeof e,o="object"==typeof e&&"function"==typeof e.update;return!(!n&&!o)})(n,l),c=(async(e,t,n)=>{if(t&&"object"==typeof t)return t.update;if(n){const t=await go(e,n);if(t)return t}throw new Error("No update method available")})(e,n,l).catch((()=>{}));Object(o("raAN").g)({localId:h.attrs.localId,showContextPanel:!1,element:f,
showEditButton:a,updateExtension:c})(i,s)}else a!==f&&Object(o("raAN").g)({element:f})(i,s);return!0},yo=(e,t,n,r,i,s=!1,a={})=>{const c=Object(o("eFSV").b)(e,{showEditButton:!1,showContextPanel:!1}),l={appearance:a.appearance};return new(o("KkS8").a)({state:c,view:e=>{const r=e.domAtPos.bind(e),i=(e=>async(t,n)=>{if("extensionProvider"===t&&n)try{const t=await n;Object(o("raAN").g)({extensionProvider:t})(e.state,e.dispatch),await go(e,t)}catch{Object(o("raAN").g)({extensionProvider:void 0})(e.state,e.dispatch)}})(e),s=(e=>async(t,n)=>{if("contextIdentifierProvider"===t&&n)try{const t=await n;Object(o("raAN").g)({contextIdentifierProvider:t})(e.state,e.dispatch)}catch{Object(o("raAN").g)({contextIdentifierProvider:void 0})(e.state,e.dispatch)}})(e);return t.subscribe("extensionProvider",i),t.subscribe("contextIdentificationProvider",s),{update:(e,t)=>{vo({view:e,prevState:t,domAtPos:r,extensionHandlers:n})},destroy:()=>{t.unsubscribe("extensionProvider",i),
t.unsubscribe("contextIdentificationProvider",s)}}},key:o("JE3G").a,props:{nodeViews:{extension:bo(r,i,t,n,l),bodiedExtension:bo(r,i,t,n,l),inlineExtension:bo(r,i,t,n,l)},handleClickOn:Object(o("BuIm").a)(["extension","bodiedExtension"],(e=>!e.closest(".extension-content")),{useLongPressSelection:s})}})};function Oo(){const e={};return o("QNHL").l(o("QNHL").s.common,((e,t)=>!!Object(o("eFSV").c)(e).showContextPanel&&Object(o("raAN").a)(e,t)),e),Object(V.b)(e)}const Eo=new d.PluginKey("extensionUniqueIdPlugin"),wo=(e,t,n,o,r)=>{switch(e){case"extension":return t.nodes.extension.createChecked(n,o,r);case"inlineExtension":return t.nodes.inlineExtension.createChecked(n,o,r);case"bodiedExtension":return t.nodes.bodiedExtension.create(n,o,r)}},So=(e,t,n)=>async(r,i,s)=>{const{attrs:a,type:c,content:u,marks:p}=t.node;if(!r.schema.nodes[c.name])return!1;const{parameters:h}=a;try{const t=await e(h,n);if(t){const e={...a,parameters:{...h,...t}};return((e,t,n,r,i)=>(s,a,c)=>{
if(!c)throw Error("EditorView is required to perform node update!");const{state:u,dispatch:p}=c,h=wo(e,u.schema,t,n,r);if(!h)return!1;const{selection:f,schema:m}=u,{extension:b,inlineExtension:g,bodiedExtension:v}=m.nodes,y=!!Object(l.findSelectedNodeOfType)([v])(f),O=Object(o("eFSV").c)(u);let E=o("P90U").a.CURRENT_SELECTION,w=o("+PNV").a.UPDATED,{tr:S}=u;if(h.type!==v||y){if(Object(l.findSelectedNodeOfType)([b,v,g])(f))S=Object(l.replaceSelectedNode)(h)(S),S.setSelection(d.NodeSelection.create(S.doc,S.mapping.map(u.selection.anchor)));else if(O.element){const e=c.posAtDOM(O.element,-1);e>-1?(S=S.replaceWith(e,e+(n.size||0)+1,h),S.setSelection(d.Selection.near(S.doc.resolve(e))),E=o("P90U").a.HTML_ELEMENT):w=o("+PNV").a.ERRORED}}else S=Object(l.replaceParentNodeOfType)(u.schema.nodes.bodiedExtension,h)(S),S.setSelection(d.TextSelection.create(S.doc,u.selection.anchor));if(p&&S.docChanged){const{extensionType:e,extensionKey:t,layout:n,localId:r}=h.attrs;Object(o("SVcB").a)(u,S,{
action:w,actionSubject:o("+PNV").b.EXTENSION,actionSubjectId:h.type.name,eventType:o("+PNV").e.TRACK,attributes:{inputMethod:o("+PNV").f.CONFIG_PANEL,extensionType:e,extensionKey:t,layout:n,localId:r,selection:S.selection.toJSON(),targetSelectionSource:E}}),p(i?S.scrollIntoView():S)}return!0})(c.name,e,u,p,!0)(r,i,s)}}catch{}return!0},ko=(e,t)=>(n,r,i)=>{if(!i)return!1;const{localId:s}=Object(o("eFSV").c)(n),a=Object(o("wqCz").a)(n,s);if(!a)return!1;const c=Object(o("9bjj").b)({view:i,macroProvider:e||void 0});if(t)t.then((t=>{if(t&&i){const e=Object(o("9bjj").a)({editorView:i,editInLegacyMacroBrowser:c});So(t,a,e)(n,r,i)}else t||!e||c()}));else{if(!e)return!1;c()}return!0},xo=Object(o("D6b/").defineMessages)({edit:{id:"fabric.editor.edit",defaultMessage:"Edit",description:"Edit the properties for this extension."},deleteElementTitle:{id:"fabric.editor.extension.deleteElementTitle",defaultMessage:"Delete element",
description:"Title text for confirm modal when deleting an extension linked to a data consumer."},unnamedSource:{id:"fabric.editor.extension.sourceNoTitledName",defaultMessage:"this element",description:"The current element without preset name been selected"},confirmDeleteLinkedModalOKButton:{id:"fabric.editor.extension.confirmDeleteLinkedModalOKButton",defaultMessage:"Delete",description:"Action button label for confirm modal when deleting an extension linked to a data consumer."},confirmDeleteLinkedModalMessage:{id:"fabric.editor.extension.confirmDeleteLinkedModalMessage",defaultMessage:"Deleting {nodeName} will break anything connected to it.",description:"Message for confirm modal when deleting a extension linked to an data consumer."},confirmModalCheckboxLabel:{id:"fabric.editor.floatingToolbar.confirmModalCheckboxLabel",defaultMessage:"Also delete connected elements",description:"checkbox label text"}}),Co=(e,t,n,r)=>{const i=Object(o("wqCz").f)(e,!0);if(i&&r&&((e,t)=>{
const{schema:{nodes:{bodiedExtension:n,extension:o,layoutSection:r,table:i,expand:s}},selection:a}=e;return!!t&&!(t.node.type!==n&&(t.node.type!==o||Object(l.hasParentNodeOfType)([n,i,s].filter(Boolean))(a))||Object(l.hasParentNodeOfType)([r])(a))})(e,i)){const{layout:e}=i.node.attrs;return[{type:"button",icon:o.n(o("xN1B")).a,onClick:Object(o("raAN").f)("default"),selected:"default"===e,title:t(o("yYBl").a.layoutFixedWidth),tabIndex:null},{type:"button",icon:o.n(o("krE2")).a,onClick:Object(o("raAN").f)("wide"),selected:"wide"===e,title:t(o("yYBl").a.layoutWide),tabIndex:null},{type:"button",icon:o.n(o("1rMa")).a,onClick:Object(o("raAN").f)("full-width"),selected:"full-width"===e,title:t(o("yYBl").a.layoutFullWidth),tabIndex:null}]}return[]},To=(e=!0)=>(t,n)=>{const{formatMessage:r}=n,i=Object(o("eFSV").c)(t);if(i&&!i.showContextPanel&&i.element){const s=[t.schema.nodes.extension,t.schema.nodes.inlineExtension,t.schema.nodes.bodiedExtension],a=((e,t)=>t.showEditButton?[{
id:"editor.extension.edit",type:"button",icon:o.n(o("ubpr")).a,testId:"extension-toolbar-edit-button",onClick:(e,t,n)=>{const r=o("YAmM").a.getState(e),{updateExtension:i}=Object(o("eFSV").c)(e);return ko(r&&r.macroProvider,i)(e,t,n),!0},title:e(xo.edit),tabIndex:null,focusEditoronEnter:!0}]:[])(r,i),c=Co(t,r,0,e),l=Object(o("wqCz").f)(t,!0);let d;return Object(o("dqkW").c)(t,null==l?void 0:l.node)&&(d=()=>{const e=r(xo.unnamedSource);return{title:r(xo.deleteElementTitle),okButtonLabel:r(xo.confirmDeleteLinkedModalOKButton),message:r(xo.confirmDeleteLinkedModalMessage,{nodeName:Object(o("dqkW").b)(t,null==l?void 0:l.node)||e}),isReferentialityDialog:!0,getChildrenInfo:()=>Object(o("dqkW").a)(t,null==l?void 0:l.node),checkboxLabel:r(xo.confirmModalCheckboxLabel),onConfirm:(e=!1)=>jo(e,null==l?void 0:l.node)}}),{title:"Extension floating controls",getDomRef:()=>i.element.parentElement||void 0,nodeType:s,items:[...a,...c,{type:"separator",hidden:0===a.length&&0===c.length},{
type:"extensions-placeholder",separator:"end"},{type:"copy-button",items:[{state:t,formatMessage:n.formatMessage,nodeType:s},{type:"separator"}]},{id:"editor.extension.delete",type:"button",icon:o.n(o("Fn6O")).a,appearance:"danger",onClick:Object(o("raAN").d)(),onMouseEnter:Object(o("lgPy").d)(s,!0),onMouseLeave:Object(o("lgPy").d)(s,!1),onFocus:Object(o("lgPy").d)(s,!0),onBlur:Object(o("lgPy").d)(s,!1),focusEditoronEnter:!0,title:r(o("yYBl").a.remove),tabIndex:null,confirmDialog:d}],scrollable:!0}}},jo=(e,t)=>(n,r)=>!!t&&(e?Object(o("raAN").c)(t)(n,r):Object(o("raAN").d)()(n,r),!0);var Ao=nn()({loader:()=>o.e("@atlaskit-internal_editor-core-config-panel").then(o.bind(null,"50GQ")).then((e=>e.default)),loading:o("FaP8").a});const No=Object(o("D6b/").defineMessages)({saveIndicator:{id:"fabric.editor.extensions.config-panel.save-indicator",defaultMessage:"All changes are always autosaved",description:"Message shown to the user to notify to them that we save the changes automatically."}})
;const Io=()=>{},Po={name:"zl1inp",styles:"display:flex;justify-content:center"},Mo=Object(o("AeFk").css)("position:fixed;width:256px;bottom:20px;display:flex;flex-direction:row;align-items:center;padding:6px 12px;background:","var(--ds-surface-overlay, #FFFFFF)",";box-shadow:","var(--ds-shadow-overlay, 0px 8px 12px rgba(9, 30, 66, 0.15), 0px 0px 1px rgba(9, 30, 66, 0.31))",";border-radius:16px;"),Ro={name:"1o6wc9k",styles:"padding-left:6px"},_o=({children:e,duration:t,visible:n=!0})=>{const[r,i]=Object(a.useState)(!1),s=Object(a.useRef)(!1),c=Object(a.useCallback)((()=>{s.current||(i(!0),s.current=!0)}),[]);return Object(a.useEffect)((()=>{if(r){const e=setTimeout((()=>{i(!1)}),t);return()=>clearTimeout(e)}}),[r,t]),Object(o("AeFk").jsx)(a.Fragment,null,Object(o("AeFk").jsx)("div",null,e({onSaveStarted:c,onSaveEnded:Io})),n&&r&&Object(o("AeFk").jsx)("div",{css:Po},Object(o("AeFk").jsx)("div",{css:Mo,"data-testid":"save-indicator-content"},Object(o("AeFk").jsx)(o.n(o("Ld6T")).a,{
label:"Saving",primaryColor:"var(--ds-icon-success, #36B37E)",size:"small"}),Object(o("AeFk").jsx)("span",{css:Ro},Object(o("AeFk").jsx)(o("3e7Q").a,No.saveIndicator)))))},Lo=(t,n)=>r=>{const i=Object(o("wqCz").f)(r,!0);if(!i)return;const s=Object(o("eFSV").c)(r),{autoSaveResolve:a,autoSaveReject:l,showContextPanel:d,extensionProvider:u,processParametersBefore:p,processParametersAfter:h}=s;if(s&&d&&u&&h){const{extensionType:r,extensionKey:s,parameters:d}=i.node.attrs,[h,f]=Object(o("4XCL").b)(s,r),m=p?p(d||{}):d;return c.a.createElement(_o,{duration:5e3,visible:t},(({onSaveStarted:s,onSaveEnded:p})=>c.a.createElement(o("WdXo").a,{render:b=>{const g=b._privateGetEditorView();return g?c.a.createElement(Ao,{showHeader:!0,closeOnEsc:!0,extensionType:r,extensionKey:h,nodeKey:f,extensionParameters:d,parameters:m,extensionProvider:u,autoSave:t,autoSaveTrigger:a,autoSaveReject:l,onChange:async e=>{await async function(e,t={},n={},r,i){
const{processParametersAfter:s,processParametersBefore:a}=Object(o("eFSV").c)(e.state);if(!s)return;const c=a?a(n):n;if(((e,t)=>{if("object"==typeof e&&"object"==typeof t&&null!==e&&null!==t){const n=Object.keys(e),o=Object.keys(t);return n.length===o.length&&n.every((n=>e[n]===t[n]))}return e===t})(c,t))return;i&&i();const l=Date.now(),{positions:d}=Object(o("eFSV").c)(e.state);await Object(o("raAN").g)({positions:{...d,[l]:r.pos}})(e.state,e.dispatch);const u=await s(t),{positions:p}=Object(o("eFSV").c)(e.state);if(!p)return;if(!(l in p))return;const{node:h}=r,f=wo(r.node.toJSON().type,e.state.schema,{...h.attrs,parameters:{...n,...u}},h.content,h.marks);if(!f)return;const m=p[l],b=e.state.tr.replaceWith(m,m+f.nodeSize,f),{selection:g}=e.state;if(!g.eq(b.selection)){const e=Object(o("Gbq5").a)(g,b.doc);e&&b.setSelection(e)}const v={...Object(o("eFSV").c)(e.state).positions};delete v[l],await Object(o("raAN").g)({positions:v})(e.state,e.dispatch),e.dispatch(b)}(g,e,d,i,s),p(),a&&a(),
t||Object(o("raAN").a)(g.state,g.dispatch)},onCancel:async()=>{if(t)try{await new Promise(((e,t)=>{Object(o("raAN").b)(e,t)(g.state,g.dispatch)}))}catch(e){console.error("Autosave failed with error",e)}Object(o("raAN").a)(g.state,g.dispatch)},featureFlags:n}):null}})))}};var Do=(e={},t)=>{var n,r;const i=(null==t||null===(n=t.dependencies)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r.sharedState.currentState())||{};return{name:"extension",nodes:()=>[{name:"extension",node:o("WjiB").a},{name:"bodiedExtension",node:o("3jnN").a},{name:"inlineExtension",node:o("IAX4").a}],pmPlugins:()=>[{name:"extension",plugin:({dispatch:t,providerFactory:n,portalProviderAPI:o,eventDispatcher:r})=>{const i=e.extensionHandlers||{};return yo(t,n,i,o,r,e.useLongPressSelection,{appearance:e.appearance})}},{name:"extensionKeymap",plugin:Oo},{name:"extensionUniqueId",plugin:()=>(()=>new(o("KkS8").a)({appendTransaction:(e,t,n)=>{const r=n.tr,i=r.selection.getBookmark();let s=!1
;const{extension:a,bodiedExtension:c,inlineExtension:l}=n.schema.nodes,d=new Set([a,c,l]),u=new Set;if(e.forEach((e=>{e.docChanged&&e.steps.some((e=>Object(o("XyUv").i)(e,d)))&&n.doc.descendants(((e,t)=>{const n=e.attrs.localId;return!e.type||!d.has(e.type)||(n&&!u.has(n)?u.add(n):n&&!u.has(n)||(s=!0,r.setNodeMarkup(t,void 0,{...e.attrs,localId:o("klzq").b.generate()})),e.type===c)}))})),s)return r.setSelection(i.resolve(r.doc))},key:Eo}))()}],pluginsOptions:{floatingToolbar:To(e.breakoutEnabled),contextPanel:Lo(e.allowAutoSave,i)}}};const Fo=e=>{const t=Object(o("1chJ").b)();let n=Object(o("56zV").a)((e=>{switch(e){case"red":{const e=["var(--ds-background-accent-red-subtlest, #FFEBE6)","var(--ds-text-accent-red, #BF2600)","var(--ds-background-accent-red-subtler, #FFBDAD)"];return{light:e,dark:e}}case"yellow":{const e=["var(--ds-background-accent-yellow-subtlest, #FFFAE6)","var(--ds-text-accent-yellow, #FF8B00)","var(--ds-background-accent-yellow-subtler, #FFF0B3)"];return{light:e,
dark:e}}case"blue":{const e=["var(--ds-background-accent-blue-subtlest, #DEEBFF)","var(--ds-text-accent-blue, #0747A6)","var(--ds-background-accent-blue-subtler, #B3D4FF)"];return{light:e,dark:e}}case"green":{const e=["var(--ds-background-accent-green-subtlest, #E3FCEF)","var(--ds-text-accent-green, #006644)","var(--ds-background-accent-green-subtler, #ABF5D1)"];return{light:e,dark:e}}case"purple":{const e=["var(--ds-background-accent-purple-subtlest, #EAE6FF)","var(--ds-text-accent-purple, #403294)","var(--ds-background-accent-purple-subtler, #C0B6F2)"];return{light:e,dark:e}}default:return{light:["var(--ds-background-neutral, rgba(9, 30, 66, 0.08))","var(--ds-text, #172B4D)","var(--ds-background-neutral-hovered, #DFE1E6)"],dark:["var(--ds-background-neutral, #3B475C)","var(--ds-text, #DCE5F5)","var(--ds-background-neutral-hovered, #313D52)"]}}})(e.color))({theme:t});""===n&&(n=["","",""]);const[r,i,s]=n;return Object(o("AeFk").jsx)("span",{css:{
borderRadius:Object(o("7w+A").borderRadius)(),padding:"2px 4px",margin:"0 1px",position:"relative",transition:"background 0.3s",whiteSpace:"nowrap",cursor:e.onClick?"pointer":"unset",background:r,color:i,"&:hover":{background:s}}},e.children)},Bo=e=>!!e.onClick;class Vo extends c.a.Component{constructor(...e){super(...e),s()(this,"handleOnClick",(e=>{Bo(this.props)&&this.props.onClick(this.props.value,e)})),s()(this,"renderContent",(()=>this.props.children?"function"==typeof this.props.children?this.props.children(this.props):this.props.children:Object(o("sWYD").a)(this.props.value,this.props.format||"")))}render(){return c.a.createElement(Fo,{className:this.props.className,onClick:Bo(this.props)?this.handleOnClick:void 0,color:this.props.color},this.renderContent())}}function zo(e){
const{node:{attrs:{timestamp:t}},view:{state:{doc:n,schema:r,selection:i}},getPos:s}=e,a=Object(o("3NU0").a)(),l=("function"==typeof s?n.resolve(s()):i.$from).parent,d=l.type===r.nodes.taskItem&&"DONE"!==l.attrs.state,u=d&&Object(o("Jvvb").a)(t)?"red":void 0;return c.a.createElement("span",{className:o("SmJf").a.DATE_WRAPPER,onClick:function(t){t.nativeEvent.stopImmediatePropagation();const{state:n,dispatch:r}=e.view;Object(o("bcXr").h)(n.selection.from)(n,r)}},c.a.createElement(Vo,{color:u,value:t},d?Object(o("Jvvb").d)(t,a):Object(o("Jvvb").c)(t,a)))}Vo.displayName="Date",s()(Vo,"displayName","Date"),s()(Vo,"defaultProps",{format:"dd/MM/yyyy",color:"grey"});const Ho=e=>{if(e instanceof d.NodeSelection){return"date"===e.node.type.name}return!1},{createPluginState:Uo,getPluginState:Wo}=Object(o("pVB1").a)(o("VpzP").a,(function(e,t){if(t.showDatePickerAt===e.showDatePickerAt)return{...e,showDatePickerAt:null};const{showDatePickerAt:n,isNew:o}=e,{showDatePickerAt:r}=t
;return n&&r&&n!==r&&o?{...e,...t,isNew:!1}:{...e,...t}}),{mapping:function(e,t){if(!t.showDatePickerAt)return t;const{pos:n}=e.mapping.mapResult(t.showDatePickerAt);return{showDatePickerAt:n,isNew:t.isNew,isDateEmpty:t.isDateEmpty,focusDateInput:t.focusDateInput}},onSelectionChanged:function(e,t){return e.docChanged&&Ho(e.selection)?{...t,isQuickInsertAction:!1,showDatePickerAt:e.selection.from}:Ho(e.selection)||t.isQuickInsertAction?t:t.showDatePickerAt?{showDatePickerAt:null,isNew:!1,isDateEmpty:!1,focusDateInput:!1}:t}});var Ko=e=>new(o("KkS8").a)({state:Uo(e.dispatch,{showDatePickerAt:null,isNew:!1,isDateEmpty:!1,focusDateInput:!1}),key:o("VpzP").a,props:{nodeViews:{date:Object(o("iwHK").a)({pmPluginFactoryParams:e,Component:zo})}}});var $o=function(){const e={};return o("QNHL").l(o("QNHL").r.common,((e,t)=>{const n=Wo(e);return e.selection instanceof d.NodeSelection&&e.selection.node.type===e.schema.nodes.date&&(n.showDatePickerAt?(Object(o("bcXr").a)()(e,t),
!0):(Object(o("bcXr").g)()(e,t),!0))}),e),o("QNHL").l(o("QNHL").cb.common,((e,t)=>{const n=Wo(e);return!!(e.selection instanceof d.NodeSelection&&e.selection.node.type===e.schema.nodes.date)&&(!!n.showDatePickerAt&&(Object(o("bcXr").e)()(e,t),!0))}),e),Object(V.b)(e)};function qo(e,t){return function(e){const[t,n]=Object(a.useState)(function(e,t){return Object.entries(e).reduce(((e,[n,o])=>({...e,[n]:t(o)})),{})}(e,(e=>null==e?void 0:e.sharedState.currentState())));return Object(a.useEffect)((()=>{const t=Object.entries(e).map((([e,t])=>null==t?void 0:t.sharedState.onChange((({nextSharedState:t,prevSharedState:o})=>{o!==t&&n((n=>({...n,[e]:t})))}))));return()=>{t.forEach((e=>null==e?void 0:e()))}}),[e]),t}(Object(a.useMemo)((()=>t.reduce(((t,n)=>({...t,[`${n}State`]:null==e?void 0:e.dependencies[n]})),{})),[null==e?void 0:e.dependencies,t]))}const Go=nn()({loader:()=>o.e("@atlaskit-internal_editor-datepicker").then(o.bind(null,"FVyO")).then((e=>e.default)),loading:()=>null})
;function Yo({editorView:e,dispatchAnalyticsEvent:t,popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:i,dependencyApi:s}){const{dispatch:a}=e,d=e.domAtPos.bind(e),{editorDisabledState:u,dateState:p}=qo(s,["date","editorDisabled"]);if(null==p||!p.showDatePickerAt||null!=u&&u.editorDisabled)return null;const{showDatePickerAt:h,isNew:f,focusDateInput:m}=p,b=Object(l.findDomRefAtPos)(h,d);return c.a.createElement(Go,{mountTo:n,boundariesElement:r,scrollableElement:i,key:h,element:b,isNew:f,autoFocus:m,onDelete:()=>{Object(o("bcXr").d)()(e.state,a),e.focus()},onSelect:(t,n)=>{null!=t&&(Object(o("bcXr").f)(t,void 0,n)(e.state,a),e.focus())},onTextChanged:t=>{Object(o("bcXr").f)(t,void 0,void 0,!1)(e.state,a)},closeDatePicker:()=>{Object(o("bcXr").a)()(e.state,a),e.focus()},closeDatePickerWithAnalytics:({date:t})=>{Object(o("bcXr").b)({date:t})(e.state,a),e.focus()},dispatchAnalyticsEvent:t})}var Qo=(e,t)=>({name:"date",getSharedState(e){if(!e)return{showDatePickerAt:null,
isNew:!1,focusDateInput:!1};const{showDatePickerAt:t,isNew:n,focusDateInput:r}=o("VpzP").a.getState(e);return{showDatePickerAt:t,isNew:n,focusDateInput:r}},nodes:()=>[{name:"date",node:o("rAl/").a}],pmPlugins:()=>[{name:"date",plugin:e=>(Go.preload(),Ko(e))},{name:"dateKeymap",plugin:()=>(Go.preload(),$o())}],contentComponent:({editorView:e,dispatchAnalyticsEvent:n,popupsMountPoint:o,popupsBoundariesElement:r,popupsScrollableElement:i})=>c.a.createElement(Yo,{dependencyApi:t,editorView:e,dispatchAnalyticsEvent:n,popupsMountPoint:o,popupsBoundariesElement:r,popupsScrollableElement:i}),pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"date",title:e(o("ViDr").a.date),description:e(o("ViDr").a.dateDescription),priority:800,keywords:["calendar","day","time","today","/"],keyshortcut:"//",icon:()=>c.a.createElement(o("Jzj3").c,null),action(e,t){const n=Object(o("bcXr").c)(!0)(e,t);return Object(o("SVcB").a)(t,n,{action:o("+PNV").a.INSERTED,actionSubject:o("+PNV").b.DOCUMENT,
actionSubjectId:o("+PNV").c.DATE,eventType:o("+PNV").e.TRACK,attributes:{inputMethod:o("+PNV").f.QUICK_INSERT}}),n}}]}});const Xo=e=>e.nodeType===Node.TEXT_NODE?e.parentNode:e,Zo=(e,t,n)=>o=>{if(!e)return o;const r=(e=>parseFloat(window.getComputedStyle(e,void 0).lineHeight||""))(Xo(t)),i=((e,t,n)=>{const{left:o,top:r,height:i}=t.getBoundingClientRect();return{left:e.left-o,right:e.right-o,top:e.top-(r-n)+t.scrollTop,bottom:i-(e.top-(r-n)-t.scrollTop)}})(n(),e,r);return{left:o.left?i.left:void 0,right:o.right?i.right:void 0,top:o.top?i.top:void 0,bottom:o.bottom?i.bottom:void 0}},Jo=e=>Object(o("AeFk").css)("border-radius:",Object(o("7w+A").borderRadius)(),"px;box-shadow:","var(--ds-shadow-overlay, 0 12px 24px -6px rgba(9, 30, 66, 0.25), 0 0 1px rgba(9, 30, 66, 0.31))",";display:flex;align-items:center;box-sizing:border-box;padding:4px 8px;background-color:","var(--ds-background-input, #FFFFFF)",";",e?Object(o("AeFk").css)("height:",e,"px;"):"",";");class er extends a.PureComponent{
render(){const{children:e,target:t,offset:n,fitWidth:r,fitHeight:i=40,onPositionCalculated:s,popupsMountPoint:a,popupsBoundariesElement:c,className:l,alignX:d,alignY:u,zIndex:p}=this.props;return t?Object(o("AeFk").jsx)(o("poXX").a,{alignX:d,alignY:u,target:t,zIndex:p,mountTo:a,boundariesElement:c,offset:n,fitWidth:r,fitHeight:i,onPositionCalculated:s},Object(o("AeFk").jsx)("div",{css:Jo(i),"data-testid":"popup-container",className:l},e)):null}}er.displayName="FloatingToolbar";const tr=Object(o("D6b/").defineMessages)({placeholderTextPlaceholder:{id:"fabric.editor.placeholderTextPlaceholder",defaultMessage:"Add placeholder text",description:""}});class nr extends c.a.Component{constructor(...e){super(...e),s()(this,"handleSubmit",(e=>{e?(this.props.insertPlaceholder(e),this.props.setFocusInEditor()):this.props.hidePlaceholderFloatingToolbar()})),s()(this,"handleBlur",(()=>{this.props.hidePlaceholderFloatingToolbar()}))}render(){
const{getNodeFromPos:e,showInsertPanelAt:t,editorViewDOM:n,popupsMountPoint:r,getFixedCoordinatesFromPos:i,popupsBoundariesElement:s,intl:{formatMessage:a}}=this.props,l=e(t),d=((e,t)=>t?t.offsetParent:e.offsetParent)(n,r),u=Zo(d,l,(()=>i(t)));return c.a.createElement(er,{target:Xo(l),onPositionCalculated:u,popupsMountPoint:r,popupsBoundariesElement:s,fitHeight:32,offset:[0,12]},c.a.createElement(o("pG8m").a,{placeholder:a(tr.placeholderTextPlaceholder),onSubmit:this.handleSubmit,onBlur:this.handleBlur,autoFocus:!0,width:300}))}}nr.displayName="PlaceholderFloatingToolbar";var or=Object(o("o5hF").c)(nr);const rr=new d.PluginKey("placeholderTextPlugin");class ir{constructor(e,t,n){this.node=e,this.view=t,this.getPos=n,this.dom=(e=>{const t=document.createElement("span");t.classList.add("pm-placeholder"),t.classList.add("placeholderView-content-wrap"),o("j5wO").a.gecko&&t.setAttribute("contenteditable","true"),t.innerText=o("vNjH").b;const n=document.createElement("span")
;return n.classList.add("pm-placeholder__text"),n.dataset.placeholder=e.attrs.text,n.setAttribute("contenteditable","false"),t.appendChild(n),o("j5wO").a.safari?t.appendChild(document.createTextNode(o("vNjH").b)):t.appendChild(document.createElement("wbr")),t})(this.node),this.getPos=n}stopEvent(e){if("mousedown"===e.type&&"function"==typeof this.getPos){e.preventDefault();const{view:t}=this,n=this.getPos(),o=t.state.tr;return o.setSelection(d.Selection.near(o.doc.resolve(n))),t.dispatch(o),!0}return!1}ignoreMutation(e){if("function"!=typeof this.getPos||"selection"!==e.type)return!0;const{view:t,node:n}=this,o=this.getPos(),r=this.getPos()+n.nodeSize,i=t.state.selection;if(i.from===r)return!1;const s=i.from===o,a=i.from>r;if(s||a){const e=t.state.tr;return e.setSelection(d.Selection.near(e.doc.resolve(r))),t.dispatch(e),!0}return!0}}function sr(e,t){const n=!!t.allowInserting;return new(o("KkS8").a)({key:rr,state:{init:()=>({showInsertPanelAt:null,allowInserting:n}),apply:(t,o)=>{
const r=t.getMeta(rr);if(r&&void 0!==r.showInsertPanelAt){const t={showInsertPanelAt:r.showInsertPanelAt,allowInserting:n};return e(rr,t),t}if(o.showInsertPanelAt){const r={showInsertPanelAt:t.mapping.map(o.showInsertPanelAt),allowInserting:n};return e(rr,r),r}return o}},appendTransaction(e,t,n){if(e.some((e=>e.docChanged))){const e=t.selection.$head.nodeAfter===n.selection.$head.nodeAfter,i=n.selection.$head.nodeAfter,s=n.selection.$head.pos,a=n.schema.nodes.placeholder;if(i&&i.type===a&&e){var r;const{$head:e}=n.selection,{$head:i}=t.selection,a=i.pos<e.pos,c=!Object(o("x+VZ").j)(e.nodeBefore),l=null===(r=e.nodeBefore)||void 0===r?void 0:r.type.isInline;if(a&&(c||l)){const{$from:e,$to:t}=d.NodeSelection.create(n.doc,s);return n.tr.deleteRange(e.pos,t.pos)}}}
return!rr.getState(t).showInsertPanelAt&&rr.getState(n).showInsertPanelAt?n.tr.setSelection(new(o("AFvE").a)(n.selection.$from)):rr.getState(t).showInsertPanelAt&&!rr.getState(n).showInsertPanelAt&&n.selection instanceof o("AFvE").a?n.tr.setSelection(new d.TextSelection(n.selection.$from)):void 0},props:{handleDOMEvents:{beforeinput:(e,t)=>{const{state:n}=e;if(t instanceof InputEvent&&!t.isComposing&&"insertText"===t.inputType&&(e=>{if(!(e instanceof d.TextSelection&&e.$cursor))return!1;const t=e.$cursor.doc.nodeAt(e.$cursor.pos);return"placeholder"===(null==t?void 0:t.type.name)})(e.state.selection)){t.stopPropagation(),t.preventDefault();const r=n.selection.from,i=t.data||"",s=e.state.tr;s.delete(r,r+1);const a=((e,t)=>{const n=Object(o("+OuI").a)(e),r=n.findTypeAheadHandler(t);return r&&r.id?n.openTypeAheadHandler({triggerHandler:r,inputMethod:o("+PNV").f.KEYBOARD}):null})(e,i);return a?a(s):s.insertText(i),e.dispatch(s),!0}return!1}},nodeViews:{placeholder:(e,t,n)=>new ir(e,t,n)}}
})}const ar=e=>({name:"placeholderText",nodes:()=>[{name:"placeholder",node:o("F5wB").a}],pmPlugins:()=>[{name:"placeholderText",plugin:({dispatch:t})=>sr(t,e)}],contentComponent({editorView:e,popupsMountPoint:t,popupsBoundariesElement:n}){const r=t=>(e=>(t,n)=>(n(t.tr.replaceSelectionWith(t.schema.nodes.placeholder.createChecked({text:e})).setMeta(rr,{showInsertPanelAt:null}).scrollIntoView()),!0))(t)(e.state,e.dispatch),i=()=>((e,t)=>(t(e.tr.setMeta(rr,{showInsertPanelAt:null})),!0))(e.state,e.dispatch),s=t=>e.domAtPos(t).node,a=t=>e.coordsAtPos(t),l=()=>e.focus();return c.a.createElement(o("fd7e").a,{plugins:{placeholderTextState:rr},render:({placeholderTextState:o={}})=>o.showInsertPanelAt?c.a.createElement(or,{editorViewDOM:e.dom,popupsMountPoint:t,popupsBoundariesElement:n,getFixedCoordinatesFromPos:a,getNodeFromPos:s,hidePlaceholderFloatingToolbar:i,showInsertPanelAt:o.showInsertPanelAt,insertPlaceholder:r,setFocusInEditor:l}):null})}})
;var cr=(e,t)=>((e,t)=>t.allowInserting?(e.pluginsOptions={quickInsert:({formatMessage:e})=>[{id:"placeholderText",title:e(o("ViDr").a.placeholderText),description:e(o("ViDr").a.placeholderTextDescription),priority:1400,keywords:["placeholder"],icon:()=>c.a.createElement(o.n(o("bwse")).a,{label:""}),action(e,t){const n=t.tr;return n.setMeta(rr,{showInsertPanelAt:n.selection.anchor}),Object(o("SVcB").a)(t,n,{action:o("+PNV").a.INSERTED,actionSubject:o("+PNV").b.DOCUMENT,actionSubjectId:o("+PNV").c.PLACEHOLDER_TEXT,attributes:{inputMethod:o("+PNV").f.QUICK_INSERT},eventType:o("+PNV").e.TRACK})}}]},e):e)(ar(e),e);const lr=new d.PluginKey("layout"),dr=["single"],ur=["two_equal","two_left_sidebar","two_right_sidebar"],pr=["three_equal","three_with_sidebars"],hr=e=>{switch(e){case"single":return[100];case"two_equal":return[50,50];case"three_equal":return[33.33,33.33,33.33];case"two_left_sidebar":return[33.33,66.66];case"two_right_sidebar":return[66.66,33.33];case"three_with_sidebars":
return[25,50,25]}},fr=e=>{switch(Object(o("C0PT").c)(e,(e=>e.attrs.width)).join(",")){case"100":return"single";case"33.33,33.33,33.33":return"three_equal";case"25,50,25":return"three_with_sidebars";case"50,50":return"two_equal";case"33.33,66.66":return"two_left_sidebar";case"66.66,33.33":return"two_right_sidebar"}},mr=(e,t)=>e&&fr(e)&&fr(e)||t,br=e=>{const{layoutSection:t,layoutColumn:n}=e.schema.nodes,o=ie.Fragment.fromArray([n.createAndFill({width:50}),n.createAndFill({width:50})]);return t.createAndFill(void 0,o)},gr=(e,t)=>(t&&t(Object(l.safeInsert)(br(e))(e.tr)),!0);function vr(e,t){return n=>{n.replaceWith(n.mapping.map(t),n.mapping.map(t),e.nodes.layoutColumn.createAndFill())}}function yr(e,t,n){return r=>{Object(o("x+VZ").g)(e)?r.replaceRange(r.mapping.map(t-1),r.mapping.map(n),ie.Slice.empty):r.replaceRange(r.mapping.map(t-1),r.mapping.map(t+1),ie.Slice.empty)}}const Or=vr,Er=vr,wr=yr,Sr=yr;function kr(e,t,n,o){const r=e.tr,i=n+t.nodeSize-1,s=t.childCount
;if(ur.indexOf(o)>=0&&3===s){const e=t.content.child(2),n=i-e.nodeSize;Sr(e,n,i)(r)}else if(pr.indexOf(o)>=0&&2===s)Or(e.schema,i)(r);else if(dr.indexOf(o)>=0&&2===s){const e=t.content.child(1),n=i-e.nodeSize;wr(e,n,i)(r)}else dr.indexOf(o)>=0&&3===s?((e,t,n)=>{const o=e.content.child(2);Sr(o,n-o.nodeSize,n)(t);const r=e.content.child(1);wr(r,n-o.nodeSize-r.nodeSize,n)(t)})(t,r,i):ur.indexOf(o)>=0&&1===s?Er(e.schema,i)(r):pr.indexOf(o)>=0&&1===s&&((e,t)=>n=>{vr(e,t)(n),vr(e,t)(n)})(e.schema,i)(r);return r}function xr(e,t,n){const{layoutColumn:r}=t.nodes,i=n.map((e=>Number(e.toFixed(2))));return Object(o("C0PT").a)(e.content,((e,t)=>e.type===r?r.create({...e.attrs,width:i[t]},e.content,e.marks):e))}function Cr(e,t,n,o){let r=kr(e,t,n,o);const i=r.selection;r=function(e,t,n,o){const r=t.doc.nodeAt(n);return r?t.replaceWith(n+1,n+r.nodeSize-1,xr(r,e.schema,hr(o))):t}(e,r,n,o);const s=r.doc.resolve(i.$from.pos)
;return r.setSelection(e.selection instanceof d.NodeSelection?new d.NodeSelection(s):new d.TextSelection(s))}const Tr=e=>(t,n)=>{const{pos:r,selectedLayout:i}=lr.getState(t);if(i===e||null===r)return!1;const s=t.doc.nodeAt(r);if(!s)return!1;let a=Cr(t,s,r,e);return!!a&&(a=Object(o("SVcB").a)(t,a,{action:o("+PNV").a.CHANGED_LAYOUT,actionSubject:o("+PNV").b.LAYOUT,attributes:{previousLayout:Ir(i),newLayout:Ir(e)},eventType:o("+PNV").e.TRACK}),a.setMeta("scrollIntoView",!1),n&&n(a),!0)};function jr(e){return!fr(e)}function Ar(e,t,n){if(e.type===n.nodes.layoutSection){if(!jr(e))return;const o=2===e.childCount?"two_equal":3===e.childCount?"three_equal":"single",r=xr(e,n,hr(o));return{from:t+1,to:t+e.nodeSize-1,slice:new ie.Slice(r,0,0)}}}const Nr=(e,t)=>{const{pos:n,selectedLayout:r}=lr.getState(e);if(null!==n){const i=e.doc.nodeAt(n);if(t){let s=e.tr.delete(n,n+i.nodeSize);s=Object(o("SVcB").a)(e,s,{action:o("+PNV").a.DELETED,actionSubject:o("+PNV").b.LAYOUT,attributes:{layout:Ir(r)},
eventType:o("+PNV").e.TRACK}),t(s)}return!0}return!1},Ir=e=>{switch(e){case"single":return o("on6v").a.SINGLE_COL;case"two_equal":return o("on6v").a.TWO_COLS_EQUAL;case"three_equal":return o("on6v").a.THREE_COLS_EQUAL;case"two_left_sidebar":return o("on6v").a.LEFT_SIDEBAR;case"two_right_sidebar":return o("on6v").a.RIGHT_SIDEBAR;case"three_with_sidebars":return o("on6v").a.THREE_WITH_SIDEBARS}},Pr=e=>{const t=Object(l.findParentNodeOfType)(e.schema.nodes.layoutColumn)(e.selection);if(t){return e.selection.from<t.pos+t.node.nodeSize}return!1},Mr=(e,t)=>{const{selection:n}=e,{schema:{nodes:{layoutColumn:o,layoutSection:r}}}=e,i=Object(l.findParentNodeOfType)(r)(n),s=Object(l.findParentNodeOfType)(o)(n);if(s.node!==i.node.lastChild){const n=e.doc.resolve(s.pos+s.node.nodeSize),o=d.TextSelection.findFrom(n,1);t&&t(e.tr.setSelection(o))}return!0};var Rr=e=>new(o("KkS8").a)({key:lr,state:{init:(t,n)=>((e,t)=>{
const n=Object(l.findParentNodeOfType)(t.schema.nodes.layoutSection)(t.selection),o=e.allowBreakout||!1,r=e.UNSAFE_addSidebarLayouts||!1,i=e.UNSAFE_allowSingleColumnLayout||!1;return{pos:n?n.pos:null,allowBreakout:o,addSidebarLayouts:r,selectedLayout:mr(n&&n.node,"two_equal"),allowSingleColumnLayout:i}})(e,n),apply:(e,t,n,o)=>{if(e.docChanged||e.selectionSet){const{schema:{nodes:{layoutSection:e}},selection:n}=o,r=Object(l.findParentNodeOfType)(e)(n)||Object(l.findSelectedNodeOfType)([e])(n);return{...t,pos:r?r.pos:null,selectedLayout:mr(r&&r.node,t.selectedLayout)}}return t}},props:{decorations(e){const t=lr.getState(e);if(null!==t.pos)return ae.b.create(e.doc,((e,t)=>[ae.a.node(e,e+t.nodeSize,{class:"selected"})])(t.pos,e.doc.nodeAt(t.pos)))},handleKeyDown:Object(V.a)({Tab:Object(o("+U5V").c)(Pr,Mr)}),handleClickOn:Object(o("BuIm").a)(["layoutColumn"],(e=>e.hasAttribute("data-layout-section")||e.hasAttribute("data-layout-column")),{useLongPressSelection:e.useLongPressSelection||!1,
getNodeSelectionPos:(e,t)=>e.doc.resolve(t).before()})},appendTransaction:(e,t,n)=>{let r=[];if(e.forEach((e=>{if(r.forEach((t=>({from:e.mapping.map(t.from),to:e.mapping.map(t.to),slice:t.slice}))),!e.docChanged)return;const t=((e,t)=>{const{layoutSection:n}=t.schema.nodes;let r;const i=Object(o("x+VZ").e)(e);if(!i)return;e.doc.nodesBetween(i.from,i.to,((e,o)=>e.type!==n||(jr(e)&&(r=Ar(e,o,t.schema)),!1)));const s=e.doc.resolve(i.to);if(s.depth>0){const o=s.after(),i=e.doc.nodeAt(o);i&&i.type===n&&jr(i)&&(r=Ar(i,o,t.schema))}return r})(e,n);t&&r.push(t)})),r.length){let e=n.tr;const t=n.selection.toJSON();if(r.forEach((t=>{e.replaceRange(t.from,t.to,t.slice)})),e=(e=>{const{pos:t,selectedLayout:n}=lr.getState(e);if(null!==t&&n){const o=e.doc.nodeAt(t);if(o&&o.childCount!==hr(n).length)return Cr(e,o,t,n)}})(n)||e,e.docChanged)return e.setSelection(d.Selection.fromJSON(e.doc,t)),e.setMeta("addToHistory",!1),e}}});const _r=Object(o("D6b/").defineMessages)({singleColumn:{
id:"fabric.editor.single",defaultMessage:"Single column",description:"Layout with one single column"},twoColumns:{id:"fabric.editor.twoColumns",defaultMessage:"Two columns",description:"Layout with two columns of equal width"},threeColumns:{id:"fabric.editor.threeColumns",defaultMessage:"Three columns",description:"Layout with three columns of equal width"},rightSidebar:{id:"fabric.editor.rightSidebar",defaultMessage:"Right sidebar",description:"Layout with two columns, left column is 2/3 and right is 1/3 of page"},leftSidebar:{id:"fabric.editor.leftSidebar",defaultMessage:"Left sidebar",description:"Layout with two columns, left column is 1/3 and right is 2/3 of page"},threeColumnsWithSidebars:{id:"fabric.editor.threeColumnsWithSidebars",defaultMessage:"Three columns with sidebars",description:"Layout with 3 columns laid out as 25% - 50% - 25%"}}),Lr=[{id:"editor.layout.twoEquals",type:"two_equal",title:_r.twoColumns,icon:o.n(o("N+rM")).a},{id:"editor.layout.threeEquals",
type:"three_equal",title:_r.threeColumns,icon:o.n(o("banK")).a}],Dr=[{id:"editor.layout.singeLayout",type:"single",title:_r.singleColumn,icon:o.n(o("rM0u")).a},...Lr],Fr=[{id:"editor.layout.twoRightSidebar",type:"two_right_sidebar",title:_r.rightSidebar,icon:o.n(o("g02o")).a},{id:"editor.layout.twoLeftSidebar",type:"two_left_sidebar",title:_r.leftSidebar,icon:o.n(o("cQff")).a},{id:"editor.layout.threeWithSidebars",type:"three_with_sidebars",title:_r.threeColumnsWithSidebars,icon:o.n(o("hrq7")).a}],Br=(e,t,n)=>({id:t.id,type:"button",icon:t.icon,testId:t.title.id,title:e.formatMessage(t.title),onClick:Tr(t.type),selected:!!n&&n===t.type,tabIndex:null});var Vr=(e={})=>({name:"layout",nodes:()=>[{name:"layoutSection",node:o("gwnN").a},{name:"layoutColumn",node:o("il4+").a}],pmPlugins:()=>[{name:"layout",plugin:()=>Rr(e)}],pluginsOptions:{floatingToolbar(e,t){const{pos:n,allowBreakout:r,addSidebarLayouts:i,allowSingleColumnLayout:s}=lr.getState(e);if(null!==n)return((e,t,n,r,i,s)=>{
const a=e.doc.nodeAt(n);if(a){const r=fr(a),c={type:"separator"},d=e.schema.nodes.layoutSection,u={id:"editor.layout.delete",type:"button",appearance:"danger",focusEditoronEnter:!0,icon:o.n(o("Fn6O")).a,testId:o("yYBl").a.remove.id,title:t.formatMessage(o("yYBl").a.remove),onClick:Nr,onMouseEnter:Object(o("lgPy").d)(d,!0),onMouseLeave:Object(o("lgPy").d)(d,!1),onFocus:Object(o("lgPy").d)(d,!0),onBlur:Object(o("lgPy").d)(d,!1),tabIndex:null};return{title:"Layout floating controls",getDomRef:e=>Object(l.findDomRefAtPos)(n,e.domAtPos.bind(e)),nodeType:d,items:[...(s?Dr:Lr).map((e=>Br(t,e,r))),...i?Fr.map((e=>Br(t,e,r))):[],{type:"copy-button",items:[c,{state:e,formatMessage:t.formatMessage,nodeType:d}]},c,u],scrollable:!0}}})(e,t,n,0,i,s)},quickInsert:({formatMessage:e})=>[{id:"layout",title:e(o("ViDr").a.columns),description:e(o("ViDr").a.columnsDescription),keywords:["column","section"],priority:1100,icon:()=>c.a.createElement(o("Jzj3").k,null),action(e,t){const n=e(br(t))
;return Object(o("SVcB").a)(t,n,{action:o("+PNV").a.INSERTED,actionSubject:o("+PNV").b.DOCUMENT,actionSubjectId:o("+PNV").c.LAYOUT,attributes:{inputMethod:o("+PNV").f.QUICK_INSERT},eventType:o("+PNV").e.TRACK})}}]}}),zr=o("17x9"),Hr=o.n(zr);const Ur=e=>o("O8Sv").a.getState(e),Wr=(e,t)=>e.url===t.url&&e.pos===t.pos;function Kr(e,t){var n;return n=class extends c.a.Component{constructor(...e){super(...e),s()(this,"state",{isError:!1})}render(){var n;const{url:r}=Object(o("osj6").e)(this.props.node);if(r&&!Object(o("Z7Qe").c)(r))return c.a.createElement(t,null);if(this.state.isError)return r?c.a.createElement("a",{href:r,onClick:e=>{e.preventDefault()}},r):c.a.createElement(t,null);const i=this.context.contextAdapter?this.context.contextAdapter.card:void 0,s=null===(n=Ur(this.props.view.state))||void 0===n?void 0:n.editorAppearance,a=Object(o("rJZJ").d)(s);return c.a.createElement(o("APFK").a,{data:{attributes:{location:a},location:a}},c.a.createElement(e,J()({key:r,cardContext:i
},this.props)))}componentDidCatch(e){const t=e;if(t.kind&&"fatal"===t.kind){this.setState({isError:!0});const{view:e,node:t,getPos:n}=this.props,{url:r}=Object(o("osj6").e)(t);if(!n||"boolean"==typeof n)return;return Object(o("X6Aa").b)(void 0,r,!0,t,n())(e.state,e.dispatch),null}this.setState({isError:!0})}},s()(n,"contextTypes",{contextAdapter:Hr.a.object}),n}class $r extends c.a.PureComponent{constructor(...e){super(...e),s()(this,"onClick",(()=>{})),s()(this,"onResolve",(e=>{const{getPos:t,view:n}=this.props;if(!t||"boolean"==typeof t)return;const{title:r,url:i}=e;Object(o("w95p").a)((()=>n.dispatch(Object(o("ost5").c)({title:r,url:i,pos:t()})(n.state.tr))))()})),s()(this,"gapCursorSpan",(()=>{if(!(o("j5wO").a.ie&&o("j5wO").a.ie_version<79))return c.a.createElement("span",{contentEditable:!0})}))}UNSAFE_componentWillMount(){const{view:e}=this.props,t=Object(o("fuko").c)(e.dom);this.scrollContainer=t||void 0}render(){
const{node:e,cardContext:t,platform:n,showServerActions:r}=this.props,{url:i,data:s}=e.attrs,a=c.a.createElement(c.a.Fragment,null,c.a.createElement(o("RxM9").a,{key:i,url:i,data:s,container:this.scrollContainer,appearance:"block",onClick:this.onClick,onResolve:this.onResolve,showActions:"web"===n,platform:n,showServerActions:r}),this.gapCursorSpan());return c.a.createElement("div",null,t&&t.value?c.a.createElement(t.Provider,{value:t.value},a):s?a:null)}}$r.displayName="BlockCardComponent",s()($r,"contextTypes",{contextAdapter:Hr.a.object});const qr=Kr($r,o("TZ02").a);class Gr extends o("gVP2").a{createDomRef(){const e=document.createElement("div");return"mobile"!==this.reactComponentProps.platform&&(e.contentEditable="true",e.setAttribute("spellcheck","false")),e}render(){const{platform:e,showServerActions:t}=this.reactComponentProps;return c.a.createElement(qr,{node:this.node,view:this.view,getPos:this.getPos,platform:e,showServerActions:t})}}Gr.displayName="BlockCard"
;const Yr=e=>Object(o("AeFk").css)("&>div{",Object(o("zux5").a)(e),";position:relative;clear:both;>div{position:absolute;height:100%;width:100%;}}");class Qr extends c.a.Component{constructor(...e){super(...e),s()(this,"state",{offsetLeft:this.calcOffsetLeft()}),s()(this,"calcNewSize",((e,t)=>{const{layout:n,view:{state:r}}=this.props,i=100*Object(o("Qvlh").b)(e,this.props.lineLength);this.setState({resizedPctWidth:i});let s=Object(l.hasParentNodeOfType)(r.schema.nodes.table)(r.selection)?n:this.calcUnwrappedLayout(i,e);return i<=100?(!this.wrappedLayout||t&&100===i||(s=n),{width:i,layout:s}):{width:this.props.pctWidth||null,layout:s}})),s()(this,"calcUnwrappedLayout",((e,t)=>e<=100?"center":t<=this.wideLayoutWidth?"wide":"full-width")),s()(this,"calcColumnLeftOffset",(()=>{const{offsetLeft:e}=this.state;return this.insideInlineLike?Object(o("Qvlh").a)(e,this.props.lineLength,this.props.gridSize):0})),s()(this,"calcPxWidth",(e=>{
const{layout:t,pctWidth:n,lineLength:r,containerWidth:i,fullWidthMode:s,getPos:a,view:{state:c}}=this.props,{resizedPctWidth:l}=this.state,d="function"==typeof a?a():void 0;return Object(o("ZPHY").a)({origWidth:o("anI9").c,origHeight:o("anI9").b,pctWidth:n,state:c,containerWidth:{width:i,lineLength:r},isFullWidthModeEnabled:s,layout:e||t,pos:d,resizedPctWidth:l})})),s()(this,"highlights",((e,t)=>{const n=Object(o("GD2S").c)(e,t),{layoutColumn:r,table:i,expand:s,nestedExpand:a}=this.props.view.state.schema.nodes;if(this.$pos&&Object(l.findParentNodeOfTypeClosestToPos)(this.$pos,[r,i,s,a].filter(Boolean)))return[];if(n>this.wideLayoutWidth)return["full-width"];const{layout:c,lineLength:d,gridSize:u}=this.props,p=Object(o("Qvlh").a)(n,d,u),h=Math.round(p),f=[];return"wrap-left"===c||"align-start"===c?f.push(0,h):"wrap-right"===c||"align-end"===c?f.push(u,u-h):this.insideInlineLike?f.push(Math.round(p+this.calcColumnLeftOffset())):f.push(Math.floor((u-h)/2),Math.ceil((u+h)/2)),f}))}
componentDidUpdate(){const e=this.calcOffsetLeft();e!==this.state.offsetLeft&&e>=0&&this.setState({offsetLeft:e})}get wrappedLayout(){return o("zaYB").e.indexOf(this.props.layout)>-1}UNSAFE_componentWillReceiveProps(e){this.props.layout!==e.layout&&this.checkLayout(this.props.layout,e.layout)}checkLayout(e,t){const{resizedPctWidth:n}=this.state;if(o("zaYB").e.indexOf(e)>-1&&"center"===t&&n){const e=this.calcUnwrappedLayout(n,this.calcPxWidth(t));this.props.updateSize(n,e)}}get $pos(){if("function"!=typeof this.props.getPos)return null;const e=this.props.getPos();return Number.isNaN(e)||"number"!=typeof e?null:this.props.view.state.doc.resolve(e)}get gridWidth(){const{gridSize:e}=this.props;return this.wrappedLayout||this.insideInlineLike?e:e/2}calcOffsetLeft(){let e=0;if(this.wrapper&&this.insideInlineLike){const t=this.wrapper.getBoundingClientRect(),n=this.props.view.dom.getBoundingClientRect();e=t.left-n.left}return e}get wideLayoutWidth(){const{lineLength:e}=this.props
;return e?Math.ceil(e*o("anI9").bb):o("anI9").X}calcSnapPoints(){const{offsetLeft:e}=this.state,{containerWidth:t,lineLength:n}=this.props,r=[];for(let c=0;c<this.gridWidth;c++)r.push(Object(o("Qvlh").c)(c,n,this.gridWidth)-e);r.push(n-e);const i=Object(o("Qvlh").c)(this.wrappedLayout||this.insideInlineLike?1:2,n,this.props.gridSize);let s=r.filter((e=>e>=i));const a=this.$pos;if(!a)return s;if("doc"===a.parent.type.name){s.push(this.wideLayoutWidth);const e=t-o("anI9").e;e>this.wideLayoutWidth&&s.push(e)}return s}get insideInlineLike(){const e=this.$pos;if(!e)return!1;const{listItem:t}=this.props.view.state.schema.nodes;return!!Object(l.findParentNodeOfTypeClosestToPos)(e,[t])}getHeightDefiningComponent(){const{height:e,aspectRatio:t}=this.props;let n;return n=e?{height:`${e}px`}:{paddingBottom:`calc(${(1/t*100).toFixed(3)}% + ${o("b91/").h}px)`},Object(o("AeFk").jsx)("span",{"data-testid":"resizable-embed-card-height-definer",style:{display:"block",fontSize:0,lineHeight:0,...n}})}
render(){const{layout:e,pctWidth:t,containerWidth:n,fullWidthMode:r,children:i}=this.props,s=this.calcPxWidth()-o("anI9").x,a={};return o("GD2S").a.forEach((t=>{const n="left"===t?"right":"left";a[t]=["full-width","wide","center"].concat(`wrap-${n}`).concat(`align-${o("GD2S").b[n]}`).indexOf(e)>-1,"left"===t&&this.insideInlineLike&&(a[t]=!1)})),Object(o("AeFk").jsx)("div",{css:o("miHH").b,"data-testid":"resizable-embed-card-spacing"},Object(o("AeFk").jsx)("div",{css:Yr({layout:e,isResized:!!t,containerWidth:n||o("anI9").c,fullWidthMode:r})},Object(o("AeFk").jsx)(o("j3Is").a,J()({},this.props,{width:s,enable:a,calcNewSize:this.calcNewSize,snapPoints:this.calcSnapPoints(),scaleFactor:this.wrappedLayout||this.insideInlineLike?1:2,highlights:this.highlights,innerPadding:o("anI9").x,nodeType:"embed"}),i,this.getHeightDefiningComponent())))}}Qr.displayName="ResizableEmbedCard",s()(Qr,"defaultProps",{aspectRatio:o("anI9").c/o("anI9").b});class Xr extends c.a.PureComponent{constructor(...t){
super(...t),s()(this,"embedIframeRef",c.a.createRef()),s()(this,"onClick",(()=>{})),s()(this,"state",{hasPreview:!0}),s()(this,"getPosSafely",(()=>{const{getPos:t}=this.props;if(t&&"boolean"!=typeof t)try{return t()}catch(e){}})),s()(this,"onResolve",(t=>{const{view:n}=this.props,{title:r,url:i,aspectRatio:s}=t,{originalHeight:a,originalWidth:c}=this.props.node.attrs;!s||a||c||(this.setState({initialAspectRatio:s}),this.saveOriginalDimensionsAttributes(o("anI9").b,o("anI9").b*s)),Object(o("w95p").a)((()=>{const e=this.getPosSafely();if(void 0!==e)return n.dispatch(Object(o("ost5").c)({title:r,url:i,pos:e})(n.state.tr))}))();try{const e=this.context.contextAdapter?this.context.contextAdapter.card:void 0;e&&e.value.extractors.getPreview(i,this.props.platform)||this.setState({hasPreview:!1})}catch(e){}})),s()(this,"updateSize",((e,t)=>{const{state:n,dispatch:o}=this.props.view,r=this.getPosSafely();if(void 0===r)return;const i=n.tr.setNodeMarkup(r,void 0,{...this.props.node.attrs,width:e,
layout:t});return i.setMeta("scrollIntoView",!1),o(i),!0})),s()(this,"getLineLength",((e,t,n)=>{if("number"==typeof t&&Object(o("j0F9").d)(e,t)){const n=e.state.doc.resolve(t),r=e.nodeDOM(n.pos);if(n.nodeAfter&&o("j0F9").c.indexOf(n.nodeAfter.attrs.layout)>-1&&r&&r.parentElement)return r.parentElement.offsetWidth;if(r instanceof HTMLElement)return r.offsetWidth}return n})),s()(this,"saveOriginalDimensionsAttributes",((e,t)=>{const{view:n}=this.props,r=(e=>e.tableFlexiColumnResizing$)(n.state);null!=r&&r.dragging||Object(o("w95p").a)((()=>{const r=this.getPosSafely();void 0!==r&&n.dispatch(n.state.tr.step(new(o("ml8T").a)(r,{originalHeight:e,originalWidth:t})).setMeta("addToHistory",!1))}))()})),s()(this,"onHeightUpdate",(e=>{this.setState({liveHeight:e}),this.saveOriginalDimensionsAttributes(e,void 0)}))}UNSAFE_componentWillMount(){const{view:e}=this.props,t=Object(o("fuko").c)(e.dom);this.scrollContainer=t||void 0}render(){
const{node:e,cardContext:t,platform:n,allowResizing:r,fullWidthMode:i,view:s,dispatchAnalyticsEvent:a,getPos:l}=this.props;let{url:d,width:u,layout:p,originalHeight:h,originalWidth:f}=e.attrs;const{hasPreview:m,liveHeight:b,initialAspectRatio:g}=this.state;let v=null!=b?b:!f&&h||void 0;const y=!v&&(g||h&&f&&f/h)||void 0,O={layout:p,pctWidth:u,fullWidthMode:i},E=c.a.createElement(o("+LLc").a,{embedIframeRef:this.embedIframeRef,onHeightUpdate:this.onHeightUpdate},c.a.createElement(o("fd7e").a,{editorView:s,plugins:{widthState:o("IXso").b},render:({widthState:e})=>{const t=(null==e?void 0:e.lineLength)||0,i=(null==e?void 0:e.width)||0,u=this.getPosSafely();if(void 0===u)return null;const p=this.getLineLength(s,u,t),h=Object(o("j0F9").d)(s,u)?p:i,f=c.a.createElement(o("RxM9").a,{key:d,url:d,appearance:"embed",onClick:this.onClick,onResolve:this.onResolve,showActions:"web"===n,isFrameVisible:!0,inheritDimensions:!0,platform:n,container:this.scrollContainer,embedIframeRef:this.embedIframeRef
});if(!r||!m){const e=o("anI9").c/o("anI9").b;let t=1,n=y||e;return v&&(t=v,n=void 0),c.a.createElement(o("zaYB").c,J()({},O,{height:t,width:n,nodeType:"embedCard",hasFallbackContainer:m,lineLength:p,containerWidth:h}),f)}return c.a.createElement(Qr,J()({},O,{height:v,aspectRatio:y,view:this.props.view,getPos:l,lineLength:p,gridSize:12,containerWidth:h,displayGrid:Object(o("/OWP").a)(this.props.eventDispatcher),updateSize:this.updateSize,dispatchAnalyticsEvent:a}),f)}}));return c.a.createElement(c.a.Fragment,null,t&&t.value?c.a.createElement(t.Provider,{value:t.value},E):null)}}Xr.displayName="EmbedCardComponent",s()(Xr,"contextTypes",{contextAdapter:Hr.a.object});const Zr=Kr(Xr,o("TZ02").a);class Jr extends o("HAbh").a{viewShouldUpdate(e){return this.node.attrs!==e.attrs||super.viewShouldUpdate(e)}createDomRef(){const e=document.createElement("div");return"mobile"!==this.reactComponentProps.platform&&(e.contentEditable="true",e.setAttribute("spellcheck","false")),e}render(){
const{eventDispatcher:e,allowResizing:t,platform:n,fullWidthMode:o,dispatchAnalyticsEvent:r}=this.reactComponentProps;return c.a.createElement(Zr,{node:this.node,view:this.view,eventDispatcher:e,getPos:this.getPos,allowResizing:t,platform:n,fullWidthMode:o,dispatchAnalyticsEvent:r})}}Jr.displayName="EmbedCard";class ei extends c.a.PureComponent{constructor(...e){super(...e),s()(this,"onClick",(()=>{})),s()(this,"onResolve",(e=>{const{getPos:t,view:n}=this.props;if(!t||"boolean"==typeof t)return;const{title:r,url:i}=e;Object(o("w95p").a)((()=>n.dispatch(Object(o("ost5").c)({title:r,url:i,pos:t()})(n.state.tr))))()})),s()(this,"onError",(e=>{const{url:t}=e;this.onResolve({url:t})}))}UNSAFE_componentWillMount(){const{view:e}=this.props,t=Object(o("fuko").c)(e.dom);this.scrollContainer=t||void 0}render(){const{node:e,cardContext:t,showServerActions:n,useAlternativePreloader:r}=this.props,{url:i,data:s}=e.attrs,a=c.a.createElement("span",{className:"card"},c.a.createElement(o("RxM9").a,{
key:i,url:i,data:s,appearance:"inline",onClick:this.onClick,container:this.scrollContainer,onResolve:this.onResolve,onError:this.onError,inlinePreloaderStyle:r?"on-right-without-skeleton":void 0,showServerActions:n}));return t&&t.value?c.a.createElement(t.Provider,{value:t.value},a):s?a:null}}ei.displayName="InlineCardComponent",s()(ei,"contextTypes",{contextAdapter:Hr.a.object});const ti=Kr(ei,o("kbU5").a);function ni(e){const{useAlternativePreloader:t,node:n,view:o,getPos:r,showServerActions:i}=e;return c.a.createElement(ti,{node:n,view:o,getPos:r,showServerActions:i,useAlternativePreloader:t})}const oi=(e,t,n)=>r=>(((e,t)=>{("blockCard"===(null==e?void 0:e.type)&&!t.allowBlockCards||"embedCard"===(null==e?void 0:e.type)&&!t.allowEmbeds)&&("embedCard"===e.type&&delete e.attrs.layout,e.type="inlineCard")})(r,n),Object(o("X6Aa").f)(t.url,r,t.analyticsAction)(e.state,e.dispatch),r),ri=(e,t)=>()=>{Object(o("X6Aa").d)(t)(e.state,e.dispatch)};function ii(e){
return!!Object(o("osj6").a)(e.type)}function si(e){if("node"===e.type){const t=Object(o("osj6").a)(e.node.type);if(t)return t}return"url"}const ai=(e,t)=>!!ii(t)||((e,t)=>{if(t.marks)for(let n=0;n<t.marks.length;n++){const r=t.marks[n];if(Object(o("ceYy").c)(r,e))return!0}return!1})(e,t);function ci(e){var t,n;return"node"===e.type?null===(n=e.node.attrs)||void 0===n?void 0:n.url:null===(t=e.mark.attrs)||void 0===t?void 0:t.href}const li=(e,t,n)=>{if(ii(t))return{type:"node",pos:n,node:t};if(t.marks)for(let r=0;r<t.marks.length;r++){const i=t.marks[r];if(Object(o("ceYy").c)(i,e))return{type:"mark",pos:n,mark:i}}},di=(e,t,n,o)=>{const r=[];return e.nodesBetween(n,o,((e,i)=>{if(ai(t,e)){if(i>=n&&i+e.nodeSize<=o){const n=li(t,e,i);n&&r.push(n)}}})),r},ui=(e,t)=>{const n=e.doc.type.schema,r=[],i=[],s=[],a=mi(e),c=bi(e),l=e.getMeta("history$"),d=gi(l)&&!1===l.redo,u=gi(l)&&!0===l.redo,p=hi(e,d||u);for(let h=0;h<e.steps.length;h++){const t=e.steps[h],s=t.getMap(),l=[],d=[]
;if(t instanceof U.a){const e=t;Object(o("ceYy").c)(e.mark,n)&&d.push({type:"mark",pos:e.from,mark:e.mark})}if(t instanceof U.c){const e=t;Object(o("ceYy").c)(e.mark,n)&&l.push({type:"mark",pos:e.from,mark:e.mark})}s.forEach(((t,o,r,i)=>{var s;const a=e.docs[h],c=null!==(s=e.docs[h+1])&&void 0!==s?s:e.doc,u=[],p=[];u.push(...di(a,n,t,o)),p.push(...di(c,n,r,i)),l.push(...u),d.push(...p)}));const u=t=>{if(!a)return t;const n=vi(e);return t.filter((e=>!n.includes(e.pos)))};c||r.push(...l),i.push(...u(d))}if(0===i.length&&c){const n=yi(e,t);i.push(...((e,t)=>{const n=e.doc.type.schema,o=[];for(let r=0;r<t.length;r++){const i=t[r],s=e.doc.nodeAt(i);if(!s)continue;const a=li(n,s,i);a&&o.push(a)}return o})(e,n))}if(!p)return{removed:r,inserted:i,updated:s};for(let o=0;o<i.length;o++)if(c){const n=i[o],r=e.mapping.map(n.pos,-1),a=Oi(t,r);s.push({inserted:i[o],previous:{display:a}})}else i.length===r.length&&s.push({removed:r[o],inserted:i[o]});return{inserted:[],removed:[],updated:s}
},pi=[o("+PNV").a.CHANGED_TYPE,o("+PNV").a.UPDATED],hi=(e,t)=>!!e.steps.find((e=>{if(!(e instanceof o("NaFe").a))return!1;const{action:n,cardAction:r}=e.getMetadata();return!("RESOLVE"!==r||!t)||!!n&&pi.includes(n)})),fi=e=>"object"==typeof e&&null!==e&&"type"in e,mi=e=>{const t=e.getMeta(o("O8Sv").a);return fi(t)&&"QUEUE"===t.type},bi=e=>{const t=e.getMeta(o("O8Sv").a);return fi(t)&&"RESOLVE"===t.type},gi=e=>"object"==typeof e&&null!==e&&"redo"in e,vi=e=>{const t=e.getMeta(o("O8Sv").a);return mi(e)?t.requests.map((({pos:e})=>e)):[]},yi=(e,t)=>{const n=Ur(t);if(!n)return[];const r=e.getMeta(o("O8Sv").a);return bi(e)?n.requests.filter((e=>e.url===r.url)).map((e=>e.pos)):[]},Oi=(e,t)=>{var n;const o=Ur(e);if(o)return null===(n=o.requests.find((e=>e.pos===t)))||void 0===n?void 0:n.previousAppearance};const Ei=e=>t=>{const{lpAnalyticsEventsNext:n}=t.featureFlags,r=((e=!0)=>{const t=[],n={current:null};return{push:(...o)=>{const r=n.current;e&&r&&t.push(...o)},flush:()=>{const o=n.current
;if(e&&o)for(;t.length;){const e=t.pop();e&&o[e.type](e.data)}},setCallbacks:e=>{n.current=e},getSize:()=>t.length}})(!!n),{editorAppearance:i,platform:s,allowResizing:a,useAlternativePreloader:c,fullWidthMode:l,createAnalyticsEvent:d,showServerActions:u}=e;return new(o("KkS8").a)({state:{init:()=>({requests:[],provider:null,cards:[],showLinkingToolbar:!1,smartLinkEvents:void 0,smartLinkEventsNext:void 0,createAnalyticsEvent:d,editorAppearance:i}),apply(e,t,n){const i=((e,t)=>({...e,requests:e.requests.map((e=>({...e,pos:t.mapping.map(e.pos)}))),cards:e.cards.map((e=>({...e,pos:t.mapping.map(e.pos)})))}))(t,e),s=e.getMeta(o("O8Sv").a),a=function(e,t){const n=[];try{const i=e.getMeta("isRemote"),s=e.getMeta("replaceDocument");if(i||s)return n;const a=e.getMeta("history$"),c=gi(a)&&!1===a.redo,l=gi(a)&&!0===a.redo,{action:d,inputMethod:u,sourceEvent:p}=Object(o("LofH").c)(e),h={action:d,inputMethod:u,sourceEvent:p,isUndo:c,isRedo:l},{removed:f,inserted:m,updated:b}=ui(e,t),g=10
;if([f,m,b].some((e=>e.length>g)))return[];for(let e=0;e<b.length;e++){var r;const t=b[e],{inserted:o}=t,i=ci(o),s=si(o),a="removed"in t?si(t.removed):null!==(r=t.previous.display)&&void 0!==r?r:"unknown";i&&n.push({type:"updated",data:{...h,url:i,display:s,previousDisplay:a}})}const v=(e,t)=>{for(let o=0;o<e.length;o++){const r=e[o],i=ci(r),s=si(r);i&&n.push({type:t,data:{...h,url:i,display:s}})}};return v(f,"deleted"),v(m,"created"),n}catch(i){return n}}(e,n);if(r.push(...a),s){const e=((e,t)=>{switch(t.type){case"QUEUE":return((e,t)=>({...e,requests:e.requests.concat(t.requests)}))(e,t);case"SET_PROVIDER":return((e,t)=>({...e,provider:t.provider}))(e,t);case"RESOLVE":return((e,t)=>{const n=e.requests.reduce(((e,n)=>(n.url!==t.url&&e.push(n),e)),[]);return{...e,requests:n}})(e,t);case"REGISTER":return((e,t)=>({...e,cards:e.cards.filter((e=>e.pos!==t.info.pos)).concat(t.info)}))(e,t);case"REGISTER_EVENTS":return((e,t)=>({...e,smartLinkEvents:t.smartLinkEvents}))(e,t)
;case"REGISTER_EVENTS_NEXT":return((e,t)=>({...e,smartLinkEventsNext:t.smartLinkEvents}))(e,t);case"SHOW_LINK_TOOLBAR":case"HIDE_LINK_TOOLBAR":return((e,t)=>({...e,showLinkingToolbar:"SHOW_LINK_TOOLBAR"===t.type}))(e,t)}})(i,s);return!t.smartLinkEventsNext&&e.smartLinkEventsNext&&r.setCallbacks(e.smartLinkEventsNext),e}return i}},view(n){const i=(e,t)=>((e,t,n)=>{t&&t.then((e=>{const{state:t,dispatch:r}=n;r(Object(o("ost5").g)(e)(t.tr))}))})(0,t,n),s=[];return t.providerFactory.subscribe("cardProvider",i),{update(t,n){const i=Ur(t.state),a=Ur(n);if(i&&i.provider){const n=((e,t)=>e?t.requests.filter((t=>!e.requests.find((e=>Wr(e,t))))):t.requests)(a,i),{provider:r}=i;n.forEach((n=>{const i=Object(o("w95p").a)((()=>((e,t,n,o)=>{let r=!!n.shouldReplaceLink;return t.resolve(n.url,n.appearance,r).then(oi(e,n,o),ri(e,n))})(t,r,n,e)));s.push(i.cancel),i()}))}r.flush()},destroy(){s.forEach((e=>e())),t.providerFactory.unsubscribe("cardProvider",i)}}},props:{nodeViews:{
inlineCard:Object(o("iwHK").a)({pmPluginFactoryParams:t,Component:ni,extraComponentProps:{useAlternativePreloader:c,showServerActions:u}}),blockCard:(e,n,o)=>{const{portalProviderAPI:r,eventDispatcher:i}=t;return new Gr(e,n,o,r,i,{platform:s,showServerActions:u},void 0,!0,void 0,!0).init()},embedCard:(e,n,o)=>{const{portalProviderAPI:r,eventDispatcher:i,dispatchAnalyticsEvent:c}=t;return new Jr(e,n,o,r,i,{eventDispatcher:i,allowResizing:a,platform:s,fullWidthMode:l,dispatchAnalyticsEvent:c},void 0,!0,void 0,!0).init()}}},key:o("O8Sv").a})};var wi=o("sEfC"),Si=o.n(wi),ki=o("c4+4"),xi=o.n(ki);const Ci=Object(o("D6b/").defineMessages)({hyperlinkIconIssueLabel:{id:"fabric.editor.headingLink.hyperlinkIconIssueLabel",defaultMessage:"Issue",description:"icon label for a jira issue"},hyperlinkIconBugLabel:{id:"fabric.editor.headingLink.hyperlinkIconBugLabel",defaultMessage:"Bug",description:"icon label for a jira bug"},hyperlinkIconStoryLabel:{
id:"fabric.editor.headingLink.hyperlinkIconStoryLabel",defaultMessage:"Story",description:"icon label for a jira story"},hyperlinkIconTaskLabel:{id:"fabric.editor.headingLink.hyperlinkIconTaskLabel",defaultMessage:"Task",description:"icon label for a jira task"},hyperlinkIconPageLabel:{id:"fabric.editor.headingLink.hyperlinkIconPageLabel",defaultMessage:"Page",description:"icon label for a confluence page"},hyperlinkIconBlogLabel:{id:"fabric.editor.headingLink.hyperlinkIconBlogLabel",defaultMessage:"Blog",description:"icon label for a confluence blog"}}),Ti=Object(o("o5hF").c)((e=>{const{intl:t}=e;return c.a.createElement(o.n(o("fZEY")).a,{label:t.formatMessage(Ci.hyperlinkIconIssueLabel)})})),ji=Object(o("o5hF").c)((e=>{const{intl:t}=e;return c.a.createElement(o.n(o("wjJn")).a,{label:t.formatMessage(Ci.hyperlinkIconBugLabel)})})),Ai=Object(o("o5hF").c)((e=>{const{intl:t}=e;return c.a.createElement(o.n(o("Z+2l")).a,{label:t.formatMessage(Ci.hyperlinkIconStoryLabel)})
})),Ni=Object(o("o5hF").c)((e=>{const{intl:t}=e;return c.a.createElement(o.n(o("Qcls")).a,{label:t.formatMessage(Ci.hyperlinkIconTaskLabel)})})),Ii=Object(o("o5hF").c)((e=>{const{intl:t}=e;return c.a.createElement(o.n(o("CI1p")).a,{label:t.formatMessage(Ci.hyperlinkIconPageLabel)})})),Pi=Object(o("o5hF").c)((e=>{const{intl:t}=e;return c.a.createElement(o.n(o("dw6k")).a,{label:t.formatMessage(Ci.hyperlinkIconBlogLabel)})})),Mi={"jira.issue":c.a.createElement(Ti,null),"jira.issue.bug":c.a.createElement(ji,null),"jira.issue.story":c.a.createElement(Ai,null),"jira.issue.task":c.a.createElement(Ni,null),"confluence.page":c.a.createElement(Ii,null),"confluence.blogpost":c.a.createElement(Pi,null)
},Ri=e=>xi.a.createHash().update(e).digest("hex"),_i=e=>e.split(" ").length,Li=Object(o("AeFk").css)("cursor:pointer;padding:0;margin-right:8px;color:","var(--ds-icon-subtle, #8993A4)",";background:transparent;border:none;"),Di=Object(o("AeFk").css)(o("0dhB").c,";border-top:1px solid ","var(--ds-border, #EBECF0)",";border-bottom:1px solid ","var(--ds-border, #EBECF0)",";"),Fi=Object(o("AeFk").css)("color:","var(--ds-icon-subtle, #97A0AF)",";padding:4px 8px;width:18px;"),Bi=Object(o("D6b/").defineMessages)({displayText:{id:"fabric.editor.displayText",defaultMessage:"Text to display",description:"Text to display"},clearText:{id:"fabric.editor.clearLinkText",defaultMessage:"Clear text",description:"Clears text on the link toolbar"},clearLink:{id:"fabric.editor.clearLink",defaultMessage:"Clear link",description:"Clears link in the link toolbar"},searchLinkAriaDescription:{id:"fabric.editor.hyperlink.searchLinkAriaDescription",
defaultMessage:"Suggestions will appear below as you type into the field",description:"Describes what the search field does for screen reader users."},searchLinkResults:{id:"fabric.editor.hyperlink.searchLinkResults",defaultMessage:"{count, plural, =0 {no results} one {# result} other {# results}} found",description:"Announce search results for screen-reader users."},linkAriaLabel:{id:"fabric.editor.hyperlink.linkAriaLabel",defaultMessage:"Link label",description:"aria label for a link"}}),Vi=Object(o("AeFk").jsx)(o.n(o("CI1p")).a,{label:"page"}),zi=({name:e,container:t,iconUrl:n,objectId:o,url:r,viewedTimestamp:i})=>({objectId:o,name:e,container:t,iconUrl:n,url:r,lastViewedDate:i?new Date(i):void 0,prefetch:!0}),Hi=({objectId:e,container:t,title:n,contentType:o,url:r,updatedTimestamp:i})=>({objectId:e,container:t,name:n,url:r,lastUpdatedDate:i?new Date(i):void 0,icon:o&&Mi[o]||Vi,prefetch:!1});class Ui extends a.PureComponent{constructor(e){super(e),s()(this,"submitted",!1),
s()(this,"urlInputContainer",null),s()(this,"displayTextInputContainer",null),s()(this,"wrapperRef",c.a.createRef()),s()(this,"quickSearchQueryVersion",0),s()(this,"analyticSource","createLinkInlineDialog"),s()(this,"quickSearch",(async(e,t,n)=>{var r;const{searchProvider:i,displayUrl:s}=this.state,{pluginState:a}=this.props;if(!i)return;const c=++this.quickSearchQueryVersion;this.fireAnalytics({action:o("+PNV").a.ENTERED,actionSubject:o("+PNV").b.TEXT,actionSubjectId:o("+PNV").c.LINK_SEARCH_INPUT,attributes:{queryLength:e.length,queryVersion:c,queryHash:Ri(e),searchSessionId:null!==(r=a.searchSessionId)&&void 0!==r?r:"",wordCount:_i(e),source:this.analyticSource},nonPrivacySafeAttributes:{query:e},eventType:o("+PNV").e.UI});const l=performance.now();try{var d;const r=await i.quickSearch(e,n),u=Ki(Object(o("iBAD").a)([...t,...r.map(Hi)],((e,t)=>e.objectId===t.objectId)));s===e&&c===this.quickSearchQueryVersion&&this.setState({items:u,isLoading:!1});const p=performance.now()-l
;this.fireAnalytics({action:o("+PNV").a.INVOKED,actionSubject:o("+PNV").b.SEARCH_RESULT,actionSubjectId:o("+PNV").c.QUICK_SEARCH,attributes:{duration:p,count:r.length},eventType:o("+PNV").e.OPERATIONAL}),this.fireAnalytics({action:o("+PNV").a.SHOWN,actionSubject:o("+PNV").b.SEARCH_RESULT,actionSubjectId:o("+PNV").c.POST_QUERY_SEARCH_RESULTS,attributes:{source:this.analyticSource,postQueryRequestDurationMs:p,searchSessionId:null!==(d=a.searchSessionId)&&void 0!==d?d:"",resultCount:r.length,results:r.map((e=>({resultContentId:e.objectId,resultType:e.contentType})))},eventType:o("+PNV").e.UI})}catch(u){const e=performance.now()-l;this.fireAnalytics({action:o("+PNV").a.INVOKED,actionSubject:o("+PNV").b.SEARCH_RESULT,actionSubjectId:o("+PNV").c.QUICK_SEARCH,attributes:{duration:e,count:-1,errorCode:u.status},nonPrivacySafeAttributes:{error:u.message},eventType:o("+PNV").e.OPERATIONAL})}})),s()(this,"updateInput",(async e=>{const{activityProvider:t,searchProvider:n}=this.state
;if(this.setState({displayUrl:e}),t)if(0===e.length)this.setState({items:await this.getRecentItems(t),selectedIndex:-1});else if(Object(o("Z7Qe").c)(e))this.setState({items:[],selectedIndex:-1,isLoading:!1});else{const o=await this.getRecentItems(t,e),r=o.length<5&&!!n;this.setState({items:o,isLoading:r}),r&&this.debouncedQuickSearch(e,o,5)}})),s()(this,"createClearHandler",(e=>async()=>{const{activityProvider:t}=this.state;switch(e){case"displayUrl":this.setState({[e]:"",items:t?Ki(await t.getRecentItems()):[]}),this.urlInputContainer&&this.urlInputContainer.focus();break;case"displayText":this.setState({[e]:""}),this.displayTextInputContainer&&this.displayTextInputContainer.focus()}})),s()(this,"handleClickOutside",(e=>{if(e.target instanceof Element&&this.wrapperRef.current&&!this.wrapperRef.current.contains(e.target)){const{view:e}=this.props;Object(o("Qi0S").b)()(e.state,e.dispatch)}})),s()(this,"getScreenReaderText",(()=>{
const{intl:e}=this.props,{items:t,selectedIndex:n}=this.state;if(t.length&&n>-1){const{name:r,container:i,lastUpdatedDate:s,lastViewedDate:a}=t[n],c=Object(o("S1WX").a)(e,a,s);return`${r}, ${i}, ${null==c?void 0:c.pageAction} ${null==c?void 0:c.dateString} ${(null==c?void 0:c.timeSince)||""}`}})),s()(this,"isUrlPopulatedWithSelectedItem",(()=>{const{items:e,selectedIndex:t,displayUrl:n}=this.state,o=e[t];return!(!o||o.url!==n)})),s()(this,"handleSelected",((e,t)=>{this.handleInsert(e,t,o("+PNV").f.TYPEAHEAD,"click")})),s()(this,"handleInsert",((e,t,n,r)=>{const{pluginState:i,onSubmit:s}=this.props,{items:a,selectedIndex:c,displayText:l}=this.state;if(s&&(this.submitted=!0,s(e,t,l,n)),"click"===r||this.isUrlPopulatedWithSelectedItem()){var d,u;const e=a[c];this.fireAnalytics({action:o("+PNV").a.SELECTED,actionSubject:o("+PNV").b.SEARCH_RESULT,attributes:{source:this.analyticSource,searchSessionId:null!==(d=i.searchSessionId)&&void 0!==d?d:"",trigger:r,resultCount:a.length,
selectedResultId:e.objectId,selectedRelativePosition:c,prefetch:null!==(u=e.prefetch)&&void 0!==u&&u},eventType:o("+PNV").e.UI})}})),s()(this,"handleMouseEnterResultItem",(e=>{const{items:t}=this.state,n=Wi(t,(t=>t.objectId===e));this.setState({selectedIndex:n})})),s()(this,"handleMouseLeaveResultItem",(e=>{const{items:t,selectedIndex:n}=this.state;n===Wi(t,(t=>t.objectId===e))&&this.setState({selectedIndex:-1})})),s()(this,"handleSubmit",(()=>{const{displayUrl:e,selectedIndex:t,items:n}=this.state,r=n[t];if(this.isUrlPopulatedWithSelectedItem())this.handleInsert(Object(o("CHQz").g)(r.url),r.name,o("+PNV").f.TYPEAHEAD,"keyboard");else if(e&&e.length>0){const t=Object(o("CHQz").g)(e);t&&this.handleInsert(t,e,o("+PNV").f.MANUAL,"notselected")}})),s()(this,"handleClearTextKeyDown",(e=>{const{keyCode:t}=e;if(9!==t);else{if(!this.submitted){const{displayUrl:e,displayText:t}=this.state,n=Object(o("CHQz").g)(e);this.handleInsert(n,t||e,o("+PNV").f.MANUAL,"notselected")}e.preventDefault()}})),
s()(this,"handleKeyDown",(e=>{const{items:t,selectedIndex:n}=this.state,{pluginState:r,view:i}=this.props,{keyCode:s}=e,a=40,c=38;if(27===s)return e.preventDefault(),Object(o("Qi0S").b)()(i.state,i.dispatch),void i.dispatch(Object(o("ost5").a)(i.state.tr));if(!t||!t.length)return;let l=n;var d;(s===a?(e.preventDefault(),l=(n+1)%t.length):s===c&&(e.preventDefault(),l=n>0?n-1:t.length-1),[a,c].includes(s)&&t[l])&&(this.setState({selectedIndex:l,displayUrl:t[l].url}),this.fireAnalytics({action:o("+PNV").a.HIGHLIGHTED,actionSubject:o("+PNV").b.SEARCH_RESULT,attributes:{source:this.analyticSource,searchSessionId:null!==(d=r.searchSessionId)&&void 0!==d?d:"",selectedResultId:t[l].objectId,selectedRelativePosition:l},eventType:o("+PNV").e.UI}))})),s()(this,"updateTextInput",(e=>{this.setState({displayText:e})})),s()(this,"handleCancel",(e=>{const{view:t}=this.props;e.preventDefault(),Object(o("Qi0S").b)()(t.state,t.dispatch)})),this.state={selectedIndex:-1,isLoading:!1,
displayUrl:Object(o("CHQz").g)(e.displayUrl),displayText:e.displayText,items:[]},this.handleClearText=this.createClearHandler("displayUrl"),this.handleClearDisplayText=this.createClearHandler("displayText"),this.debouncedQuickSearch=Si()(this.quickSearch,400),this.fireCustomAnalytics=Object(o("ViYe").a)(e.createAnalyticsEvent)}async componentDidMount(){var e,t;const{pluginState:n}=this.props;document.addEventListener("mousedown",this.handleClickOutside),this.fireAnalytics({action:o("+PNV").a.VIEWED,actionSubject:o("+PNV").b.CREATE_LINK_INLINE_DIALOG,attributes:{timesViewed:n.timesViewed,searchSessionId:null!==(e=n.searchSessionId)&&void 0!==e?e:"",trigger:null!==(t=n.inputMethod)&&void 0!==t?t:""},eventType:o("+PNV").e.SCREEN});const[r,i]=await Promise.all([this.props.activityProvider,this.props.searchProvider]);this.setState({activityProvider:r,searchProvider:i}),await this.loadInitialLinkSearchResult()}componentWillUnmount(){const{pluginState:e}=this.props;var t
;(document.removeEventListener("mousedown",this.handleClickOutside),this.submitted)||this.fireAnalytics({action:o("+PNV").a.DISMISSED,actionSubject:o("+PNV").b.CREATE_LINK_INLINE_DIALOG,attributes:{source:this.analyticSource,searchSessionId:null!==(t=e.searchSessionId)&&void 0!==t?t:"",trigger:"blur"},eventType:o("+PNV").e.UI})}async getRecentItems(e,t){const{pluginState:n}=this.props,r=performance.now();try{var i;const s=Ki(t?await e.searchRecent(t):await e.getRecentItems()),a=s.map(zi),c=performance.now()-r;return this.fireAnalytics({action:o("+PNV").a.INVOKED,actionSubject:o("+PNV").b.SEARCH_RESULT,actionSubjectId:o("+PNV").c.RECENT_ACTIVITIES,attributes:{duration:c,count:a.length},eventType:o("+PNV").e.OPERATIONAL}),this.fireAnalytics({action:o("+PNV").a.SHOWN,actionSubject:o("+PNV").b.SEARCH_RESULT,actionSubjectId:o("+PNV").c.PRE_QUERY_SEARCH_RESULTS,attributes:{source:this.analyticSource,preQueryRequestDurationMs:c,searchSessionId:null!==(i=n.searchSessionId)&&void 0!==i?i:"",
resultCount:a.length,results:s.map((e=>{var t;return{resultContentId:e.objectId,resultType:null!==(t=e.type)&&void 0!==t?t:""}}))},eventType:o("+PNV").e.UI}),a}catch(s){const e=performance.now()-r;return this.fireAnalytics({action:o("+PNV").a.INVOKED,actionSubject:o("+PNV").b.SEARCH_RESULT,actionSubjectId:o("+PNV").c.RECENT_ACTIVITIES,attributes:{duration:e,count:-1,errorCode:s.status},nonPrivacySafeAttributes:{error:s.message},eventType:o("+PNV").e.OPERATIONAL}),[]}}fireAnalytics(e){this.props.createAnalyticsEvent&&this.fireCustomAnalytics&&this.fireCustomAnalytics({payload:e})}async loadInitialLinkSearchResult(){const{displayUrl:e,activityProvider:t}=this.state;try{if(!e&&t){this.setState({isLoading:!0});const e=await this.getRecentItems(t);this.setState({items:e})}}finally{this.setState({isLoading:!1})}}render(){
const{items:e,isLoading:t,selectedIndex:n,displayUrl:r,displayText:i}=this.state,{intl:{formatMessage:s},activityProvider:a}=this.props,c=s(a?o("yYBl").b.placeholder:o("yYBl").b.linkPlaceholder),l=s(o("yYBl").b.linkAddress),d=s(Bi.clearLink),u=s(Bi.displayText),p="search-recent-links-field-description",h="hyperlink-search-list",f=n>-1?`link-search-list-item-${n}`:"",m=o("j5wO").a.safari&&this.getScreenReaderText();return Object(o("AeFk").jsx)("div",{className:"recent-list"},Object(o("AeFk").jsx)("div",{css:[o("0dhB").a,!!a&&o("0dhB").b],ref:this.wrapperRef},Object(o("AeFk").jsx)("div",{css:o("0dhB").c},Object(o("AeFk").jsx)("span",{css:Fi},Object(o("AeFk").jsx)(o("Yto1").a,{content:l},Object(o("AeFk").jsx)(o.n(o("Ydou")).a,{label:l}))),m&&Object(o("AeFk").jsx)(o("90ml").a,{ariaLive:"assertive",text:m,ariaRelevant:"additions",delay:250}),Object(o("AeFk").jsx)("div",{css:o("j28F").b,"aria-hidden":"true",id:p},s(Bi.searchLinkAriaDescription)),Object(o("AeFk").jsx)(o("pG8m").a,{
role:"combobox",ariaExpanded:!0,ariaActiveDescendant:f,ariaControls:h,ariaAutoComplete:!0,describedById:p,ref:e=>this.urlInputContainer=e,placeholder:c,testId:"link-url",onSubmit:this.handleSubmit,onChange:this.updateInput,autoFocus:{preventScroll:!0},onCancel:this.handleCancel,defaultValue:r,onKeyDown:this.handleKeyDown}),r&&Object(o("AeFk").jsx)(o("Yto1").a,{content:d},Object(o("AeFk").jsx)("button",{type:"button",css:Li,onClick:this.handleClearText},Object(o("AeFk").jsx)(o.n(o("SEpd")).a,{label:d})))),Object(o("AeFk").jsx)("div",{css:Di},Object(o("AeFk").jsx)("span",{css:Fi},Object(o("AeFk").jsx)(o("Yto1").a,{content:u},Object(o("AeFk").jsx)(o.n(o("7eIw")).a,{label:u}))),Object(o("AeFk").jsx)(o("pG8m").a,{ref:e=>this.displayTextInputContainer=e,placeholder:u,ariaLabel:s(Bi.linkAriaLabel),testId:"link-label",onChange:this.updateTextInput,onCancel:this.handleCancel,defaultValue:i,onSubmit:this.handleSubmit,onKeyDown:this.handleKeyDown}),i&&Object(o("AeFk").jsx)(o("Yto1").a,{
content:s(Bi.clearText)},Object(o("AeFk").jsx)("button",{type:"button",css:Li,onClick:this.handleClearDisplayText,onKeyDown:this.handleClearTextKeyDown},Object(o("AeFk").jsx)(o.n(o("SEpd")).a,{label:s(Bi.clearText)})))),Object(o("AeFk").jsx)("div",{css:o("j28F").b,"aria-live":"polite","aria-atomic":"true",id:"fabric.editor.hyperlink.suggested.results"},r&&s(Bi.searchLinkResults,{count:e.length})),Object(o("AeFk").jsx)(o("OqP8").a,{ariaControls:"fabric.editor.hyperlink.suggested.results",id:h,role:"listbox",items:e,isLoading:t,selectedIndex:n,onSelect:this.handleSelected,onMouseEnter:this.handleMouseEnterResultItem,onMouseLeave:this.handleMouseLeaveResultItem})))}}function Wi(e,t){let n=-1;return e.some(((e,o)=>!!t(e)&&(n=o,!0))),n}function Ki(e){return e.slice(0,5)}Ui.displayName="HyperlinkLinkAddToolbar";const $i=Object(o("o5hF").c)(Ui);var qi=Object(o("VHV8").a)()($i);const Gi=({view:e,onCancel:t,invokeMethod:n="_unknown",editorAppearance:r,...i})=>{
const s=Object(a.useCallback)((()=>{Object(o("Qi0S").b)()(e.state,e.dispatch),e.dispatch(Object(o("ost5").a)(e.state.tr)),null==t||t()}),[e,t]),l=((e,t)=>{const n=Object(a.useRef)(null);return Object(a.useEffect)((()=>{const o=e=>{const o=n.current;e.target instanceof Element&&o&&!o.contains(e.target)&&t()},r=t=>{"Escape"===t.key&&(t.preventDefault(),e())};return document.addEventListener("mousedown",o),document.addEventListener("keydown",r),()=>{document.removeEventListener("mousedown",o),document.removeEventListener("keydown",r)}}),[t,e]),n})(s,Object(a.useCallback)((()=>{Object(o("Qi0S").b)()(e.state,e.dispatch),null==t||t()}),[e,t])),d=Object(o("rJZJ").d)(r),u=Object(a.useMemo)((()=>({attributes:{invokeMethod:n,location:d},location:d})),[n,d]);return c.a.createElement("div",{ref:l},c.a.createElement(o("APFK").a,{data:u},c.a.createElement(o("sriu").a,J()({},i,{onCancel:s}))))},Yi=e=>({url:t,title:n,displayText:r,rawUrl:i,meta:s},a)=>{
e(t,null!=n?n:i,r||void 0,"manual"===s.inputMethod?o("+PNV").f.MANUAL:o("+PNV").f.TYPEAHEAD,a)};class Qi extends c.a.PureComponent{render(){const{linkPickerOptions:e={},onSubmit:t,displayText:n,displayUrl:r,providerFactory:i,view:s,onCancel:a,invokeMethod:l,featureFlags:d}=this.props;return c.a.createElement(o("D0us").a,{providers:["activityProvider","searchProvider"],providerFactory:i,renderNode:({activityProvider:i,searchProvider:u})=>c.a.createElement(o("fd7e").a,{editorView:s,plugins:{hyperlinkPluginState:o("E3sl").e},render:({hyperlinkPluginState:o})=>{const{lpLinkPicker:p}=d;return p?c.a.createElement(Gi,J()({view:s,invokeMethod:null!=l?l:null==o?void 0:o.inputMethod,editorAppearance:null==o?void 0:o.editorAppearance},e,{url:r,displayText:n,onSubmit:Yi(t),onCancel:a})):c.a.createElement(qi,{activityProvider:i,searchProvider:u,onSubmit:t,displayText:n,displayUrl:r,pluginState:o,view:s})}})})}}Qi.displayName="HyperlinkAddToolbar";const Xi=Object(o("PAtx").a)(Qi)
;class Zi extends c.a.Component{constructor(...e){super(...e),s()(this,"handleEsc",(e=>{Object(o("EHlN").c)(`[aria-label="${o("yYBl").b.editLink.defaultMessage}"]`,this.props.view)}))}componentDidUpdate(e){e.node!==this.props.node&&this.hideLinkToolbar()}componentWillUnmount(){this.hideLinkToolbar()}hideLinkToolbar(){const{view:e}=this.props;e.dispatch(Object(o("ost5").a)(e.state.tr))}render(){const{linkPickerOptions:e,providerFactory:t,url:n,text:r,view:i,featureFlags:s,onSubmit:a}=this.props;return c.a.createElement(Xi,{view:i,linkPickerOptions:e,providerFactory:t,displayUrl:n,displayText:r,handleEscapeKeydown:this.handleEsc,invokeMethod:o("+PNV").f.FLOATING_TB,featureFlags:s,onSubmit:(e,t,n,o,r)=>{this.hideLinkToolbar(),a&&a(e,n||t,r)}})}}Zi.displayName="EditLinkToolbar";const Ji=(e,t)=>{let n="hyperlink";return e.selection instanceof d.NodeSelection&&(n=e.selection.node.type.name),!!t&&(t(Object(o("SVcB").a)(e,Object(o("ost5").h)(e.tr),Object(o("WzQf").a)(n))),!0)
},es=({providerFactory:e,node:t,linkPicker:n,featureFlags:r})=>({type:"custom",disableArrowNavigation:!0,fallback:[],render:(i,s)=>{if(!i||!e)return null;const a=Object(o("osj6").b)(t,Object(o("osj6").c)(i.state));return c.a.createElement(Zi,{key:s,view:i,linkPickerOptions:n,providerFactory:e,url:a.url,text:a.title||"",node:t,featureFlags:r,onSubmit:(e,t,n)=>{const r=e!==a.url;return t!==a.title?Object(o("LofH").b)(Object(o("X6Aa").a)(t,e),{action:o("+PNV").a.UPDATED,sourceEvent:n})(i.state,i.dispatch):r?Object(o("X6Aa").h)(e,n)(i.state,i.dispatch):void 0}})}}),ts=(e,t)=>e?{height:t?570:360,width:420,forcePlacement:!0}:{},ns=e=>c.a.createElement("svg",J()({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M8 9c-1.10457 0-2 .89543-2 2v10c0 1.1046.89543 2 2 2h16c1.1046 0 2-.8954 2-2V11c0-1.10457-.8954-2-2-2H8Zm0 3c0-.5523.44772-1 1-1h2c.5523 0 1 .4477 1 1v2c0 .5523-.4477 1-1 1H9c-.55228 0-1-.4477-1-1v-2Zm5 1c0-.2761.2239-.5.5-.5h10c.2761 0 .5.2239.5.5s-.2239.5-.5.5h-10c-.2761 0-.5-.2239-.5-.5Zm-4 3c-.55228 0-1 .4477-1 1s.44772 1 1 1h14c.5523 0 1-.4477 1-1s-.4477-1-1-1H9Zm-1 4c0-.5523.44772-1 1-1h6c.5523 0 1 .4477 1 1s-.4477 1-1 1H9c-.55228 0-1-.4477-1-1Z",fill:"currentColor"})),os=e=>c.a.createElement("svg",J()({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M8 6c-1.10457 0-2 .89543-2 2v16c0 1.1046.89543 2 2 2h16c1.1046 0 2-.8954 2-2V8c0-1.10457-.8954-2-2-2H8Zm1 2c-.55228 0-1 .44772-1 1v2c0 .5523.44772 1 1 1h2c.5523 0 1-.4477 1-1V9c0-.55228-.4477-1-1-1H9Zm4.5 1.5c-.2761 0-.5.22386-.5.5 0 .2761.2239.5.5.5h10c.2761 0 .5-.2239.5-.5 0-.27614-.2239-.5-.5-.5h-10ZM9 14c-.55228 0-1 .4477-1 1v8c0 .5523.44772 1 1 1h14c.5523 0 1-.4477 1-1v-8c0-.5523-.4477-1-1-1H9Zm6 2.5c0 .8284-.6716 1.5-1.5 1.5s-1.5-.6716-1.5-1.5.6716-1.5 1.5-1.5 1.5.6716 1.5 1.5Zm0 5.5-1-1-2 2h8v-1.8L18 19l-3 3Z",fill:"currentColor"})),rs=e=>c.a.createElement("svg",J()({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M8 12c-1.10457 0-2 .8954-2 2v4c0 1.1046.89543 2 2 2h16c1.1046 0 2-.8954 2-2v-4c0-1.1046-.8954-2-2-2H8Zm0 3c0-.5523.44772-1 1-1h2c.5523 0 1 .4477 1 1v2c0 .5523-.4477 1-1 1H9c-.55228 0-1-.4477-1-1v-2Zm5 1c0-.2761.2239-.5.5-.5h10c.2761 0 .5.2239.5.5s-.2239.5-.5.5h-10c-.2761 0-.5-.2239-.5-.5Z",fill:"currentColor"})),is=e=>c.a.createElement("svg",J()({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),c.a.createElement("rect",{x:"6",y:"15",width:"20",height:"2",rx:"1",fill:"currentColor"})),ss={url:{title:o("y4yO").a.urlTitle,icon:e=>c.a.createElement(o("UnwW").b,J()({glyph:is},e))},inline:{title:o("y4yO").a.inlineTitle,icon:e=>c.a.createElement(o("UnwW").b,J()({glyph:rs},e))},block:{title:o("y4yO").a.blockTitle,icon:e=>c.a.createElement(o("UnwW").b,J()({glyph:ns},e))},embed:{title:o("y4yO").a.embedTitle,icon:e=>c.a.createElement(o("UnwW").b,J()({glyph:os},e))}};const as={name:"1quw0ni",styles:"pointer-events:auto"},cs={name:"je8g23",
styles:"pointer-events:none"},ls=({disabled:e,...t})=>Object(o("AeFk").jsx)("div",t),ds={name:"e0dnmk",styles:"cursor:pointer"},us={name:"1sfig4b",styles:"cursor:not-allowed"},ps=({options:e})=>Object(o("AeFk").jsx)(o("/HJ0").a,null,e.map((({onClick:e,selected:t,disabled:n,testId:r,tooltipContent:i,title:s,icon:a})=>Object(o("AeFk").jsx)(ls,{css:n?us:ds,key:r,disabled:n},Object(o("AeFk").jsx)(o("1vCU").a,{css:n?cs:as,title:s,icon:Object(o("AeFk").jsx)(a,{size:"medium",label:s}),selected:t,onClick:e,testId:r,disabled:n,tooltipContent:i})))));class hs extends c.a.Component{constructor(...e){super(...e),s()(this,"renderDropdown",((e,t)=>{const{url:n,intl:r,currentAppearance:i,editorState:s,allowEmbeds:a,allowBlockCards:l=!0,platform:d}=this.props,u=a&&t&&n&&t.extractors.getPreview(n,d);if(n){var p,h;const e=null==t||null===(p=t.store)||void 0===p?void 0:p.getState()[n];if("fatal"===(null==e||null===(h=e.error)||void 0===h?void 0:h.kind))return null}
const f=!!l&&Object(o("ceYy").h)(s,ie.Fragment.from(s.schema.nodes.blockCard.createChecked({})),i),m=!!a&&Object(o("ceYy").h)(s,ie.Fragment.from(s.schema.nodes.embedCard.createChecked({})),i),b=a&&u&&{appearance:"embed",title:r.formatMessage(o("y4yO").a.embed),onClick:Object(o("X6Aa").g)("embed"),selected:"embed"===i,hidden:!1,testId:"embed-appearance",disabled:!m,tooltip:m?void 0:fs(s,r)},g=l&&{appearance:"block",title:r.formatMessage(o("y4yO").a.block),onClick:Object(o("X6Aa").g)("block"),selected:"block"===i,testId:"block-appearance",disabled:!f,tooltip:f?void 0:fs(s,r)},v=[{title:r.formatMessage(o("y4yO").a.url),onClick:Object(o("LofH").b)(Object(o("X6Aa").a)(n,n,!0),{action:o("+PNV").a.CHANGED_TYPE}),selected:!i,testId:"url-appearance"},{appearance:"inline",title:r.formatMessage(o("y4yO").a.inline),onClick:Object(o("X6Aa").g)("inline"),selected:"inline"===i,testId:"inline-appearance"}],y=t=>{t&&t(s,e&&e.dispatch),e&&!e.hasFocus()&&e.focus()};return g&&v.push(g),b&&v.push(b),
c.a.createElement(ps,{key:"link-toolbar-button-group",options:v.map((e=>((e,t,{disabled:n,onClick:o,selected:r,appearance:i,testId:s,tooltip:a})=>{const{title:c,icon:l}=ss[null!=i?i:"url"];return{title:e.formatMessage(c),icon:l,onClick:()=>t(o),disabled:Boolean(n),tooltipContent:a||null,testId:s,selected:r}})(r,y,{...e,onClick:Object(o("LofH").b)(e.onClick,{inputMethod:o("+PNV").f.FLOATING_TB})})))})}))}render(){const e=this.context.contextAdapter?this.context.contextAdapter.card:void 0,{editorView:t}=this.props;return this.renderDropdown(t,e&&e.value)}}hs.displayName="LinkToolbarAppearance",s()(hs,"contextTypes",{contextAdapter:Hr.a.object});const fs=(t,n)=>{try{const e=t.selection.$from.node(1),r=n.formatMessage(o("yYBl").a[e.type.name]);return n.formatMessage(o("y4yO").a.displayOptionUnavailableInParentNode,{node:r})}catch(e){return n.formatMessage(o("y4yO").a.displayOptionUnavailableInParentNode,{node:n.formatMessage(o("yYBl").a.defaultBlockNode)})}
},ms=Object(o("LofH").b)(((e,t)=>{if(!(e.selection instanceof d.NodeSelection))return!1;const n=e.selection.node.type.name,r={action:o("+PNV").a.DELETED,actionSubject:o("+PNV").b.SMART_LINK,actionSubjectId:n,attributes:{inputMethod:o("+PNV").f.TOOLBAR,displayMode:n},eventType:o("+PNV").e.TRACK};return t&&t(Object(o("SVcB").a)(e,Object(l.removeSelectedNode)(e.tr),r)),!0}),{action:o("+PNV").a.DELETED}),bs=(e,t)=>{if(!(e.selection instanceof d.NodeSelection))return!1;const{type:n}=e.selection.node,{url:r}=Object(o("osj6").e)(e.selection.node);return window.open(r),t&&t(Object(o("SVcB").a)(e,e.tr,Object(o("WzQf").c)(n.name))),!0},gs=(e,t)=>{if(!(e.selection instanceof d.NodeSelection))return!1;if(window.open("https://id.atlassian.com/manage-profile/link-preferences"),t){const{type:n}=e.selection.node;t(Object(o("SVcB").a)(e,e.tr,Object(o("WzQf").b)(n.name)))}return!0},vs=(e,t,n,r)=>(i,s,a)=>{const{inlineCard:c,blockCard:u,embedCard:p}=i.schema.nodes,h=[c,u,p],f=o("O8Sv").a.getState(i)
;if(!(i.selection instanceof d.NodeSelection))return;const m=i.selection.node;if(!m)return;const b="embed"===Object(o("osj6").a)(m.type),g=b?{offset:[0,24]}:{},v=f.showLinkingToolbar?"card-floating-toolbar--link-picker":void 0,{lpLinkPicker:y,lpLinkPickerFocusTrap:O,preventPopupOverflow:E}=t,w=y&&O,S=!!y;return{title:s.formatMessage(o("y4yO").a.card),className:v,nodeType:h,preventPopupOverflow:E,...g,getDomRef:e=>{const t=Object(l.findDomRefAtPos)(e.state.selection.from,e.domAtPos.bind(e));if(t)return b?t.querySelector(`.${o("EcU6").b}`):t},items:Es(i,t,s,a,e,n,r),scrollable:!f.showLinkingToolbar,focusTrap:w&&f.showLinkingToolbar,...ts(f.showLinkingToolbar,S)}},ys=(e,t)=>{const n=Object(o("osj6").b)(e,Object(o("osj6").c)(t)),r=n.title||n.url;return r?Object(o("LofH").b)(Object(o("X6Aa").c)(r),{action:o("+PNV").a.UNLINK}):()=>!1},Os=e=>Object(o("LofH").b)(e,{inputMethod:o("+PNV").f.FLOATING_TB}),Es=(e,t,n,r,i,s,a)=>l=>{const{url:d}=Object(o("osj6").e)(l);let u={}
;if(d&&!Object(o("Z7Qe").c)(d))return[];{const{title:t}=Object(o("osj6").b)(l,Object(o("osj6").c)(e));u={url:d,title:t}}const p=o("O8Sv").a.getState(e),h=Object(o("osj6").a)(l.type);if(p.showLinkingToolbar&&"mobile"!==s)return[es({providerFactory:r,linkPicker:a,node:l,featureFlags:t})];{const{inlineCard:r}=e.schema.nodes,a=[{id:"editor.link.edit",type:"button",selected:!1,metadata:u,title:n.formatMessage(o("yYBl").b.editLink),showTitle:!0,testId:"link-toolbar-edit-link-button",onClick:Ji},{type:"separator"},{id:"editor.link.openLink",type:"button",icon:o.n(o("WhJf")).a,metadata:u,className:"hyperlink-open-link",title:n.formatMessage(o("kALn").a.openLink),onClick:bs},{type:"separator"},...ws(e,n,l,r),{type:"copy-button",items:[{state:e,formatMessage:n.formatMessage,nodeType:l.type},{type:"separator"}]},...Ss(e,t,n),{id:"editor.link.delete",focusEditoronEnter:!0,type:"button",appearance:"danger",icon:o.n(o("Fn6O")).a,onMouseEnter:Object(o("lgPy").d)(l.type,!0),
onMouseLeave:Object(o("lgPy").d)(l.type,!1),onFocus:Object(o("lgPy").d)(l.type,!0),onBlur:Object(o("lgPy").d)(l.type,!1),title:n.formatMessage(o("yYBl").a.remove),onClick:Os(ms)}];if("embed"===h){const t=((e,t,n)=>Object(o("VV44").a)(e,t,e.schema.nodes.embedCard,!0,!0,null==n?void 0:n.allowWrapping,null==n?void 0:n.allowAlignment))(e,n,i);t.length&&t.push({type:"separator"}),a.unshift(...t)}const{allowBlockCards:p,allowEmbeds:f}=i;return h&&a.unshift({type:"custom",fallback:[],render:t=>c.a.createElement(hs,{key:"link-appearance",url:d,intl:n,currentAppearance:h,editorView:t,editorState:e,allowEmbeds:f,allowBlockCards:p,platform:s})},{type:"separator"}),a}},ws=(e,t,n,r)=>n.type===r?[{id:"editor.link.unlink",focusEditoronEnter:!0,type:"button",title:t.formatMessage(o("yYBl").b.unlink),icon:o.n(o("VAOK")).a,onClick:Os(ys(n,e))},{type:"separator"}]:[],Ss=(e,t,n)=>{const{floatingToolbarLinkSettingsButton:r}=t;return"true"===r?[{id:"editor.link.settings",type:"button",icon:o.n(o("QzQ+")).a,
title:n.formatMessage(o("yYBl").b.settingsLink),onClick:gs},{type:"separator"}]:[]};const ks=({editorView:e})=>{const t=function(){return Object(a.useMemo)((()=>new(o("Yto3").b)),[])}();return Object(a.useEffect)((()=>{t&&e.dispatch(Object(o("ost5").d)(t)(e.state.tr))}),[t,e]),null},xs=e=>(t,n,o)=>{if(!o||!n)return!1;const r=((e,t,n)=>{var o;const{selection:r}=e,{parent:i}=r.$from,s=e.schema.nodes.inlineCard;if(!Object(l.flatten)(i,!1).some((({node:e})=>e.type===s)))return null;const a=t.coordsAtPos(r.$anchor.pos),c=null===(o=t.posAtCoords({left:a.left,top:"up"===n?a.top-10:a.bottom+10}))||void 0===o?void 0:o.pos;if(c){const t=e.doc.nodeAt(c);if(t)return t.type!==s||0===Object(l.findChildren)(i,(e=>e===t),!1).length||t===r.node?null:c}return null})(t,o,e);return!!r&&(n(t.tr.setSelection(new d.NodeSelection(t.doc.resolve(r)))),!0)};const Cs=e=>window.requestIdleCallback?window.requestIdleCallback(e,{timeout:5e3}):window.requestAnimationFrame(e),Ts=e=>t=>{const{isUndo:n,isRedo:o}=t
;return n?"undo":o?"redo":e(t)},js=Ts((({inputMethod:e,sourceEvent:t})=>{if(!t)switch(e){case o("+PNV").f.CLIPBOARD:return"editor_paste";case o("+PNV").f.FLOATING_TB:return"editor_floatingToolbar";case o("+PNV").f.AUTO_DETECT:return"editor_type";default:return"unknown"}})),As=Ts((({action:e,sourceEvent:t})=>{if(!t)switch(e){case o("+PNV").a.CHANGED_TYPE:return"display_update";case o("+PNV").a.UPDATED:return"link_update";default:return"unknown"}})),Ns=Ts((({action:e})=>e===o("+PNV").a.UNLINK?"unlink":"delete")),Is=e=>e.sourceEvent instanceof o("JgbH").a?e.sourceEvent:null,Ps=e=>{if("url"===e)return"link"},Ms=({editorView:e})=>{const{linkCreated:t,linkUpdated:n,linkDeleted:r}=(()=>{const{createAnalyticsEvent:e}=Object(o("rZ/p").a)(),{store:t,connections:{client:n}}=Object(o("qxR6").b)(),r=!!Object(o("/qbO").a)("enableResolveMetadataForLinkAnalytics");return Object(a.useMemo)((()=>{const i=i=>(...s)=>{try{Cs((()=>{
Object(o("qgDP").a)("media")(Object(o("RHST").a)("operational.fireAnalyticEvent.commenced",{action:i}))(e)})),Cs((async()=>{const{default:a}=await o.e("@atlaskit-internal_@atlaskit/link-analytics/fire-event").then(o.bind(null,"+e4r"));a(i,e,n,t,{enableResolveMetadataForLinkAnalytics:r})(...s)}))}catch(a){Object(o("qgDP").a)("media")(Object(o("RHST").a)("operational.fireAnalyticEvent.failed",{error:a instanceof Error?a.toString():"",action:i}))(e)}};return{linkCreated:i("created"),linkUpdated:i("updated"),linkDeleted:i("deleted")}}),[n,t,e,r])})(),i=Object(a.useMemo)((()=>({created:({url:e,display:n,...o})=>{t({url:e,displayCategory:Ps(n)},Is(o),{display:n,creationMethod:js(o)})},updated:({url:e,display:t,previousDisplay:o,...r})=>{n({url:e,displayCategory:Ps(t)},Is(r),{display:t,previousDisplay:o,updateMethod:js(r),updateType:As(r)})},deleted:({url:e,display:t,...n})=>{r({url:e,displayCategory:Ps(t)},Is(n),{display:t,deleteMethod:js(n),deleteType:Ns(n)})}})),[t,n,r])
;return Object(a.useEffect)((()=>{e.dispatch(Object(o("ost5").e)(i)(e.state.tr))}),[i,e]),null};class Rs extends c.a.PureComponent{render(){const e=this.context.contextAdapter.card;return e?c.a.createElement(e.Provider,{value:e.value},c.a.createElement(Ms,this.props)):null}}Rs.displayName="EditorSmartCardEventsNext",s()(Rs,"contextTypes",{contextAdapter:Hr.a.object});var _s=(e,t)=>{var n,r;const i=(null==t||null===(n=t.dependencies)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r.sharedState.currentState())||{};return{name:"card",nodes(){const t=[{name:"inlineCard",node:o("b7I9").a},{name:"blockCard",node:o("daZh").a}];return e.allowEmbeds&&t.push({name:"embedCard",node:o("nuPT").a}),t},pmPlugins(){var t,n,r,i,s;const a=null===(t=e.allowBlockCards)||void 0===t||t,c=null===(n=e.allowResizing)||void 0===n||n,l=null===(r=e.useAlternativePreloader)||void 0===r||r,d=null===(i=e.allowWrapping)||void 0===i||i,u=null===(s=e.allowAlignment)||void 0===s||s,p=[{name:"card",plugin:Ei({
...e,allowBlockCards:a,allowResizing:c,useAlternativePreloader:l,allowWrapping:d,allowAlignment:u})}];return p.push({name:"cardKeymap",plugin:({featureFlags:e})=>function(e){const t={};return o("j5wO").a.chrome&&o("j5wO").a.chrome_version>90&&e.chromeCursorHandlerFixedVersion&&o("j5wO").a.chrome_version<e.chromeCursorHandlerFixedVersion&&(o("QNHL").l(o("QNHL").J.common,xs("up"),t),o("QNHL").l(o("QNHL").G.common,xs("down"),t)),Object(V.b)(t)}(e)}),p},contentComponent({editorView:e}){const{lpAnalyticsEventsNext:t}=i;return c.a.createElement(a.Fragment,null,c.a.createElement(ks,{editorView:e}),t&&c.a.createElement(Rs,{editorView:e}))},pluginsOptions:{floatingToolbar:vs(e,i,e.platform,e.linkPicker)}}};var Ls=(e,t)=>{switch(t.action){case"matched":return((e,t)=>({...e,resolving:[...e.resolving,{start:t.start,end:t.end,match:t.match}]}))(e,t);case"resolved":return((e,t)=>({...e,matches:[...e.matches,{replacement:t.replacement,matchString:t.matchString}]}))(e,t);case"finish":return((e,t)=>({
...e,resolving:e.resolving.filter((e=>e.match[0]!==t.matchString)),matches:e.matches.filter((e=>e.matchString!==t.matchString))}))(e,t);default:return e}};const Ds=(e,t,n,o,r)=>{const{state:i}=e,s=i.doc.resolve(n);if(s.parent.type.spec.code)return!1;let a=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,void 0,"\ufffc")+r;for(let c=0;c<t.length;c++){let i;if(i=r.length?t[c].matchTyping.exec(a):t[c].matchEnter.exec(a),i){const s=n-(i[0].length-r.length);return t[c].handler(e,i,s,o),!0}}return!1};var Fs=o("hyZr");const Bs=new d.PluginKey("customAutoformatPlugin"),Vs=(e,t)=>e.setMeta(Bs,t),zs=(e,t)=>async(e,n,r,i)=>{const s=t(n.slice(1,n.length-1));e.dispatch(Vs(e.state.tr,{action:"matched",match:n,start:r,end:i}));const a=await s,c=Object(o("x+VZ").n)(e.state.schema,a);return e.dispatch(Vs(e.state.tr,{action:"resolved",matchString:n[0],replacement:c})),a},Hs=({providerFactory:e})=>{const t=[];return new(o("KkS8").a)({state:{init:()=>({resolving:[],matches:[]}),
apply(e,t){if(!t)return t;const n={...t,resolving:t.resolving.map((t=>({...t,start:e.mapping.map(t.start),end:e.mapping.map(t.end,-1)})))},o=e.getMeta(Bs);return o?Ls(n,o):n}},props:{handleTextInput:(e,n,o,r)=>(Ds(e,t,n,o,r),!1),handleKeyDown:Object(V.a)({Enter:(e,n,o)=>(Ds(o,t,o.state.selection.from,o.state.selection.to,""),!1)})},view(){const n=(e,n)=>{"autoformattingProvider"===e&&n&&n.then((async e=>{const n=await e.getRules();Object.keys(n).forEach((e=>{const o={matchTyping:new RegExp("(\\s+|^)"+e+"(\\s|,|\\.)$"),matchEnter:new RegExp("(\\s+|^)"+e+"()$"),handler:zs(0,n[e])};t.push(o)}))}))};return e.subscribe("autoformattingProvider",n),{update(e){const t=(e=>Bs.getState(e))(e.state);t&&t.matches&&((e,t)=>{const{inlineCard:n}=e.state.schema.nodes;t.matches.forEach((o=>{const r=t.resolving.filter((e=>e.match[0]===o.matchString));let i=e.state.tr;r.forEach((t=>{const{match:r,start:s,end:a}=t,{replacement:c}=o,l=r[1],d=a+r[r.length-1].length
;c&&(c.type===n||c.isText)&&e.state.doc.textBetween(s,d,"#","|")===r[0]&&(i=i.replaceWith(i.mapping.map(s+l.length),i.mapping.map(a,-1),c))})),i=Vs(i,{action:"finish",matchString:o.matchString}),e.dispatch(Object(Fs.a)(i))}))})(e,t)},destroy(){e.unsubscribe("autoformattingProvider",n)}}},key:Bs})};var Us=()=>({name:"customAutoformat",pmPlugins:()=>[{name:"customAutoformat",plugin:Hs}]});function Ws(){const e={};return o("QNHL").l(o("QNHL").r.common,Ks,e),o("QNHL").l(o("QNHL").cb.common,Ks,e),Object(V.b)(e)}const Ks=(e,t)=>!!Object(o("GZmM").b)(e.tr.selection);const $s=Object(o("D6b/").defineMessages)({neutralColor:{id:"fabric.status.color.grey",defaultMessage:"Grey",description:"Tooltip for the grey color in color palette"},purpleColor:{id:"fabric.status.color.purple",defaultMessage:"Purple",description:"Tooltip for the purple color in color palette"},blueColor:{id:"fabric.status.color.blue",defaultMessage:"Blue",description:"Tooltip for the blue color in color palette"},redColor:{
id:"fabric.status.color.red",defaultMessage:"Red",description:"Tooltip for the red color in color palette"},yellowColor:{id:"fabric.status.color.yellow",defaultMessage:"Yellow",description:"Tooltip for the yellow color in color palette"},greenColor:{id:"fabric.status.color.green",defaultMessage:"Green",description:"Tooltip for the green color in color palette"},statusInputLabel:{id:"fabric.status.input.label",defaultMessage:"Set a status",description:"Aria label text for the status input field"}}),qs=Object(o("AeFk").css)("height:24px;width:24px;background:","var(--ds-background-neutral, #091E42)",";padding:0;border-radius:4px;border:1px solid ","var(--ds-border, #FFFFFF)",";cursor:pointer;display:block;box-sizing:border-box;overflow:hidden;"),Gs=Object(o("AeFk").css)("border:1px solid transparent;margin:0 2px;font-size:0;display:flex;align-items:center;padding:1px;border-radius:6px;&:hover{border:1px solid ","var(--ds-border, #C1C7D0)",";}");class Ys extends a.PureComponent{
constructor(...e){super(...e),s()(this,"hoverStartTime",0),s()(this,"onMouseEnter",(()=>{this.hoverStartTime=Date.now()})),s()(this,"onMouseLeave",(()=>{const{onHover:e}=this.props;Date.now()-this.hoverStartTime>=1e3&&e&&e(this.props.value),this.hoverStartTime=0})),s()(this,"onMouseDown",(e=>{e.preventDefault()})),s()(this,"onClick",(e=>{const{onClick:t,value:n}=this.props;e.preventDefault(),t(n)}))}render(){const{tabIndex:e,backgroundColor:t,isSelected:n,borderColor:r,iconColor:i,value:s,setRef:a}=this.props;return Object(o("AeFk").jsx)("span",{css:Gs},Object(o("AeFk").jsx)(o("3e7Q").a,$s[`${s}Color`],(s=>Object(o("AeFk").jsx)("button",{css:qs,onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseDown:this.onMouseDown,tabIndex:e,className:""+(n?"selected":""),title:s[0],"aria-pressed":n,style:{backgroundColor:t||"transparent",borderColor:r},ref:a},n&&Object(o("AeFk").jsx)(o.n(o("q3rX")).a,{primaryColor:i,label:s[0]})))))}componentWillUnmount(){
this.hoverStartTime=0}}Ys.displayName="Color";const Qs=[["neutral","var(--ds-background-neutral, #DFE1E6)","var(--ds-border-bold, #505F79)","var(--ds-icon, #505F79)"],["purple","var(--ds-background-discovery, #EAE6FF)","var(--ds-border-discovery, #5243AA)","var(--ds-icon-discovery, #5243AA)"],["blue","var(--ds-background-information, #DEEBFF)","var(--ds-border-information, #0052CC)","var(--ds-icon-information, #0052CC)"],["red","var(--ds-background-danger, #FFEBE6)","var(--ds-border-danger, #DE350B)","var(--ds-icon-danger, #DE350B)"],["yellow","var(--ds-background-warning, #FFFAE6)","var(--ds-border-warning, #FF991F)","var(--ds-icon-warning, #FF991F)"],["green","var(--ds-background-success, #E3FCEF)","var(--ds-border-success, #00875A)","var(--ds-icon-success, #00875A)"]],Xs={name:"uzj0p0",styles:"margin:var(--ds-space-100, 8px) var(--ds-space-100, 8px) 0 var(--ds-space-100, 8px);display:flex;flex-wrap:wrap"};var Zs=({cols:e=7,onClick:t,selectedColor:n,className:r,onHover:i})=>{
const s=Object(a.useRef)([]);Object(a.useEffect)((()=>{s.current=s.current.slice(0,Qs.length)}),[]);const c=Object(a.useCallback)((e=>{const o=Qs.findIndex((([e])=>e===n));let r=null;const i=()=>o+1>Qs.length-1?0:o+1,a=()=>o-1<0?Qs.length-1:o-1;switch(e.keyCode){case 39:case 40:e.preventDefault(),r=i();break;case 37:case 38:e.preventDefault(),r=a();break;case 9:e.preventDefault(),r=e.shiftKey?a():i()}if(null===r)return;const c=Qs[r][0],l=s.current[r];null==l||l.focus(),t(c)}),[n,t,s]);return Object(o("AeFk").jsx)("div",{css:Xs,className:r,role:"radiogroup",style:{maxWidth:32*e},onKeyDown:c},Qs.map((([e,r,a,c],l)=>Object(o("AeFk").jsx)(Ys,{key:e,value:e,backgroundColor:r,borderColor:a,iconColor:c,onClick:t,onHover:i,isSelected:e===n,tabIndex:e===n?0:-1,setRef:e=>s.current[l]=e}))))};const Js={name:"ri7ri9",styles:"margin:0 var(--ds-space-100, 8px)"};class ea extends a.PureComponent{constructor(...e){super(...e),s()(this,"fieldTextWrapperKey",Math.random().toString()),
s()(this,"colorPaletteKey",Math.random().toString()),s()(this,"onChange",(e=>{this.props.onTextChanged(e.target.value)})),s()(this,"onKeyPress",(e=>{"Enter"===e.key&&this.props.onEnter()})),s()(this,"handleInputRef",(e=>{e&&this.props.autoFocus&&setTimeout((()=>{e.focus()}),50)}))}render(){const{text:e,selectedColor:t,onColorClick:n,onColorHover:r,intl:i}=this.props;return Object(o("AeFk").jsx)(c.a.Fragment,null,Object(o("AeFk").jsx)("div",{css:Js,key:this.fieldTextWrapperKey},Object(o("AeFk").jsx)(o("I4Rc").a,{value:e,isCompact:!0,ref:this.handleInputRef,onChange:this.onChange,onKeyPress:this.onKeyPress,spellCheck:!1,autoComplete:"off","aria-label":i.formatMessage($s.statusInputLabel)})),Object(o("AeFk").jsx)(Zs,{key:this.colorPaletteKey,onClick:n,onHover:r,selectedColor:t}))}}ea.displayName="Picker",s()(ea,"defaultProps",{autoFocus:!0});const ta=Object(o("o5hF").c)(ea),na=e=>e?"new":"update",oa=Object(o("HoxM").a)(o("poXX").a);let ra;!function(e){e.blur="blur",e.escKey="escKey",
e.enterKey="enterKey"}(ra||(ra={}));const ia=Object(o("AeFk").css)("background:","var(--ds-surface-overlay, #FFFFFF)",";padding:",Object(o("7w+A").gridSize)(),"px 0;border-radius:",Object(o("7w+A").borderRadius)(),"px;box-shadow:var(--ds-shadow-overlay, 0 0 1px rgba(9, 30, 66, 0.31), 0 4px 8px -2px rgba(9, 30, 66, 0.25));input{text-transform:uppercase;}");class sa extends c.a.Component{constructor(e){super(e),s()(this,"handleClickOutside",(e=>{e.preventDefault(),this.inputMethod=ra.blur;window.getSelection()||this.props.closeStatusPicker()})),s()(this,"handleEscapeKeydown",(e=>{e.preventDefault(),this.inputMethod=ra.escKey,this.props.onEnter(this.state)})),s()(this,"onColorHover",(e=>{this.createStatusAnalyticsAndFireFunc({action:"hovered",actionSubject:"statusColorPicker",attributes:{color:e,localId:this.state.localId,state:na(this.props.isNew)}})})),s()(this,"onColorClick",(e=>{const{text:t,localId:n}=this.state;e===this.state.color?(this.createStatusAnalyticsAndFireFunc({
action:"clicked",actionSubject:"statusColorPicker",attributes:{color:e,localId:n,state:na(this.props.isNew)}}),this.onEnter()):(this.setState({color:e}),this.props.onSelect({text:t,color:e,localId:n}))})),s()(this,"onTextChanged",(e=>{const{color:t,localId:n}=this.state;this.setState({text:e}),this.props.onTextChanged({text:e,color:t,localId:n},!!this.props.isNew)})),s()(this,"onEnter",(()=>{this.inputMethod=ra.enterKey,this.props.onEnter(this.state)})),s()(this,"handlePopupClick",(e=>e.nativeEvent.stopImmediatePropagation())),this.state=this.extractStateFromProps(e),this.createStatusAnalyticsAndFireFunc=(e=>t=>{if(e&&t){const n={...t,eventType:"ui"};n.attributes||(n.attributes={}),n.attributes.packageName="@atlaskit/editor-core",n.attributes.packageVersion="182.1.0",n.attributes.componentName="status",e(n).fire("fabric-elements")}})(e.createAnalyticsEvent)}fireStatusPopupOpenedAnalytics(e){const{color:t,text:n,localId:o,isNew:r}=e;this.startTime=Date.now(),
this.createStatusAnalyticsAndFireFunc({action:"opened",actionSubject:"statusPopup",attributes:{textLength:n?n.length:0,selectedColor:t,localId:o,state:na(r)}})}fireStatusPopupClosedAnalytics(e){const{color:t,text:n,localId:o,isNew:r}=e;this.createStatusAnalyticsAndFireFunc({action:"closed",actionSubject:"statusPopup",attributes:{inputMethod:this.inputMethod,duration:Date.now()-this.startTime,textLength:n?n.length:0,selectedColor:t,localId:o,state:na(r)}})}reset(){this.startTime=Date.now(),this.inputMethod=ra.blur}componentDidMount(){this.reset(),this.fireStatusPopupOpenedAnalytics(this.state)}componentWillUnmount(){this.fireStatusPopupClosedAnalytics(this.state),this.startTime=0}componentDidUpdate(e,t,n){const o=this.props.target;if(e.target!==o){const e=this.extractStateFromProps(this.props);this.setState(e),this.fireStatusPopupClosedAnalytics(t),this.reset(),this.fireStatusPopupOpenedAnalytics(e)}}extractStateFromProps(e){const{defaultColor:t,defaultText:n,defaultLocalId:r,isNew:i}=e
;return{color:t||o("tkcb").a.color,text:n||o("tkcb").a.text,localId:r,isNew:i}}render(){const{isNew:e,target:t,mountTo:n,boundariesElement:r,scrollableElement:i}=this.props,{color:s,text:a}=this.state;return t&&Object(o("AeFk").jsx)(oa,{target:t,offset:[0,8],handleClickOutside:this.handleClickOutside,handleEscapeKeydown:this.handleEscapeKeydown,zIndex:o("anI9").n,fitHeight:40,mountTo:n,boundariesElement:r,scrollableElement:i},Object(o("AeFk").jsx)("div",{css:ia,onClick:this.handlePopupClick},Object(o("AeFk").jsx)(ta,{autoFocus:e,selectedColor:s,text:a,onColorClick:this.onColorClick,onColorHover:this.onColorHover,onTextChanged:this.onTextChanged,onEnter:this.onEnter})))}}sa.displayName="StatusPickerWithoutAnalytcs";var aa=Object(o("VHV8").a)()(sa);var ca=(e,t)=>((e,t)=>(!0===t.menuDisabled||(e.pluginsOptions={quickInsert:({formatMessage:e})=>[{id:"status",title:e(o("ViDr").a.status),description:e(o("ViDr").a.statusDescription),priority:700,keywords:["lozenge"],
icon:()=>c.a.createElement(o("Jzj3").v,null),action:(e,t)=>Object(o("SVcB").a)(t,Object(o("tkcb").c)()(e,t),{action:o("+PNV").a.INSERTED,actionSubject:o("+PNV").b.DOCUMENT,actionSubjectId:o("+PNV").c.STATUS,attributes:{inputMethod:o("+PNV").f.QUICK_INSERT},eventType:o("+PNV").e.TRACK})}]}),e))((e=>({name:"status",nodes:()=>[{name:"status",node:o("NAZv").a}],pmPlugins:()=>[{name:"status",plugin:t=>Object(o("OdEI").a)(t,e)},{name:"statusKeymap",plugin:Ws}],contentComponent({editorView:e,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:r}){const i=e.domAtPos.bind(e);return c.a.createElement(o("fd7e").a,{plugins:{statusState:o("KwUl").a},render:({statusState:s={}})=>{const{showStatusPickerAt:a}=s;if("number"!=typeof a)return null;const d=Object(l.findDomRefAtPos)(a,i),u=e.state.doc.nodeAt(a);if(!u||"status"!==u.type.name)return null;const{text:p,color:h,localId:f}=u.attrs;return c.a.createElement(aa,{isNew:s.isNew,target:d,defaultText:p,defaultColor:h,defaultLocalId:f,
mountTo:t,boundariesElement:n,scrollableElement:r,onSelect:t=>{Object(o("tkcb").f)(t)(e.state,e.dispatch)},onTextChanged:t=>{Object(o("tkcb").f)(t)(e.state,e.dispatch)},closeStatusPicker:()=>{Object(o("tkcb").b)()(e)},onEnter:()=>{Object(o("tkcb").b)()(e)}})}})}}))(e),e);const la={paragraph:o("+M+A").b.PARAGRAPH,heading:o("+M+A").b.HEADING};function da(e,t){return void 0===t?ua(e):!1===t?0:t.level}function ua(e){return void 0===e?0:e.level}const pa=(e,t)=>{const{nodes:{paragraph:n,heading:o},marks:{alignment:r}}=e;if([n,o].indexOf(t.type)>-1){if(r){return!t.marks.filter((e=>e.type===r))[0]}return!0}return!1};function ha({getNewIndentationAttrs:e,direction:t,inputMethod:n}){const{getAttrs:r,getAndResetAttrsChanges:i}=function(e,t){let n=[];return{getAttrs:function(o,r){const i=e(o,r);return n.push({node:r,prevAttrs:o,newAttrs:i,options:t}),i},getAndResetAttrsChanges(){const e=n;return n=[],e}}}(e,{direction:t}),s=function(e){return(t,n)=>{const{indentation:r}=t.schema.marks
;return Object(o("t0jr").i)(r,e,pa)(t,n)}}(r);return(e,t)=>s(e,function({getAttrsChanges:e,inputMethod:t,state:n,dispatch:r}){return i=>{let s=i;e().forEach((({node:e,prevAttrs:r,newAttrs:i,options:{direction:a}})=>{const c=la[e.type.name];c&&(s=Object(o("SVcB").a)(n,s,{action:o("+PNV").a.FORMATTED,actionSubject:o("+PNV").b.TEXT,actionSubjectId:o("+PNV").c.FORMAT_INDENT,eventType:o("+PNV").e.TRACK,attributes:{inputMethod:t,previousIndentationLevel:ua(r),newIndentLevel:da(r,i),direction:a,indentType:c}}))})),r&&r(i)}}({getAttrsChanges:i,inputMethod:n,state:e,dispatch:t}))}const fa=e=>{if(!e)return{level:1};const{level:t}=e;return t>=6?void 0:{level:t+1}},ma=(e=o("+PNV").f.KEYBOARD)=>ha({getNewIndentationAttrs:fa,direction:o("+M+A").a.INDENT,inputMethod:e}),ba=e=>{if(!e)return;const{level:t}=e;return!(t<=1)&&{level:t-1}},ga=(e=o("+PNV").f.KEYBOARD)=>ha({getNewIndentationAttrs:ba,direction:o("+M+A").a.OUTDENT,inputMethod:e});function va(){const e={}
;return o("QNHL").l(o("QNHL").x(o("QNHL").A),ma(o("+PNV").f.KEYBOARD),e),o("QNHL").l(o("QNHL").x(o("QNHL").O),ga(o("+PNV").f.KEYBOARD),e),o("QNHL").l(o("QNHL").x(o("QNHL").k),((e,t)=>{const{selection:n}=e;return!(!Object(o("XyUv").d)(n)||!n.$cursor||0!==n.$cursor.parentOffset)&&(!!t&&ga(o("+PNV").f.KEYBOARD)(e,t))}),e),Object(V.b)(e)}var ya=()=>({name:"indentation",marks:()=>[{name:"indentation",mark:o("ZUFI").a}],pmPlugins:()=>[{name:"indentationKeymap",plugin:()=>va()}]});const Oa=new d.PluginKey("scrollIntoViewPlugin");var Ea=()=>({name:"scrollIntoView",pmPlugins:()=>[{name:"scrollIntoView",plugin:()=>(()=>new(o("KkS8").a)({key:Oa,appendTransaction:(e,t,n)=>{if(!e.length)return;const r=e[0];return!r.docChanged&&!r.storedMarksSet||r.scrolledIntoView||!1===r.getMeta("scrollIntoView")||!1===r.getMeta("addToHistory")||r.getMeta("isRemote")||r.getMeta(o("N3sK").a)?void 0:n.tr.scrollIntoView()}}))()}]});const wa=()=>({keyboardHeight:-1,mobilePaddingTop:0,windowHeight:window.innerHeight,
isExpanded:!1});var Sa=()=>({name:"mobileDimensions",pmPlugins:()=>[{name:"mobileDimensions",plugin:({dispatch:e})=>(e=>{let t;return new(o("KkS8").a)({state:Object(o("RB5l").b)(e,wa),key:o("RB5l").c,props:{scrollThreshold:{top:12,left:0,right:0,bottom:12},scrollMargin:{top:12,bottom:12,left:0,right:0}},view(e){const n=()=>{t&&window.cancelAnimationFrame(t);let n=window.innerHeight,r=0;const i=()=>{window.innerHeight===n?(r++,r>=5?(t=void 0,Object(o("bJo2").d)(window.innerHeight)(e.state,e.dispatch)):t=requestAnimationFrame(i)):t=requestAnimationFrame(i),n=window.innerHeight};t=requestAnimationFrame(i)};return window.addEventListener("resize",n),{destroy(){window.removeEventListener("resize",n),t&&window.cancelAnimationFrame(t)}}}})})(e)}]});const ka=new d.PluginKey("indentationButtonsPlugin");function xa(e,t){const{selection:n}=e,r=n.$from.node();if(Object(o("DQ6B").d)(e)){const{indentLevel:e,itemIndex:t}=Object(o("DQ6B").c)(n.$head);return{indentDisabled:0===t||e>=5,
outdentDisabled:!1,node:"list"}}if(mt(e)){const t=gt(n)||0;return{indentDisabled:0===vt(e)||t>=6,outdentDisabled:t<=1,node:"taskList"}}const i=1===n.$from.depth,s=Object(l.hasParentNodeOfType)(e.schema.nodes.layoutColumn)(n)&&3===n.$from.depth;if(t&&pa(e.schema,r)&&(i||s)){const t=r.marks.find((t=>t.type===e.schema.marks.indentation));return t?{indentDisabled:t.attrs.level>=6,outdentDisabled:!1,node:"paragraph_heading"}:{outdentDisabled:!0,indentDisabled:!1,node:"paragraph_heading"}}return{indentDisabled:!0,outdentDisabled:!0,node:null}}function Ca({buttonName:e,editorView:t,featureFlags:n}){switch(e){case"bullet_list":Object(o("/r+8").d)(t,o("+PNV").f.TOOLBAR);break;case"ordered_list":Object(o("/r+8").f)(t,o("+PNV").f.TOOLBAR);break;case"indent":{const e=ka.getState(t.state).node;"paragraph_heading"===e&&ma(o("+PNV").f.TOOLBAR)(t.state,t.dispatch),"list"===e&&Object(o("ShL/").a)(o("+PNV").f.TOOLBAR)(t.state,t.dispatch),"taskList"===e&&jt(o("+PNV").f.TOOLBAR)(t.state,t.dispatch);break}
case"outdent":{const e=ka.getState(t.state).node;"paragraph_heading"===e&&ga(o("+PNV").f.TOOLBAR)(t.state,t.dispatch),"list"===e&&Object(o("bIcM").a)(o("+PNV").f.TOOLBAR,n)(t.state,t.dispatch),"taskList"===e&&Ct(o("+PNV").f.TOOLBAR)(t.state,t.dispatch);break}}}var Ta=c.a.memo((({...e})=>{const t=Object(a.useContext)(o("gGVL").a);return c.a.createElement(o("L92d").a,J()({arrowKeyNavigationProviderOptions:{...e.arrowKeyNavigationProviderOptions,keyDownHandlerContext:t}},e))}));const ja=Object(o("D6b/").defineMessages)({indent:{id:"fabric.editor.indent",defaultMessage:"Indent",description:"Indent a list item, paragraph or heading"},outdent:{id:"fabric.editor.outdent",defaultMessage:"Outdent",description:"Outdent a list item, paragraph or heading"}});function Aa(e){
const{formatMessage:t}=Object(o("3NU0").a)(),{disabled:n,isReducedSpacing:r,bulletListActive:i,orderedListActive:s,popupsMountPoint:a,popupsBoundariesElement:l,popupsScrollableElement:d,onItemActivated:u}=e,[p,h]=c.a.useState(!1),[f,m]=c.a.useState(!1),b=t(o("aebN").a.lists),g=e=>{h(e.isDropdownOpen)},v=function(e){const{formatMessage:t}=Object(o("3NU0").a)(),n=t(o("aebN").a.unorderedList),r=t(o("aebN").a.orderedList);let i=[{key:"unorderedList",content:n,value:{name:"bullet_list"},isDisabled:e.bulletListDisabled,isActive:Boolean(e.bulletListActive),elemAfter:Object(o("AeFk").jsx)("div",{css:o("ZQ9N").a},Object(o("QNHL").ub)(o("QNHL").fb))},{key:"orderedList",content:r,value:{name:"ordered_list"},isDisabled:e.orderedListDisabled,isActive:Boolean(e.orderedListActive),elemAfter:Object(o("AeFk").jsx)("div",{css:o("ZQ9N").a},Object(o("QNHL").ub)(o("QNHL").ob))}];if(e.showIndentationButtons){const n=t(ja.indent),r=t(ja.outdent);i.push({key:"outdent",content:r,value:{name:"outdent"},
isDisabled:e.outdentDisabled,isActive:!1,elemAfter:Object(o("AeFk").jsx)("div",{css:o("ZQ9N").a},Object(o("QNHL").ub)(o("QNHL").O))},{key:"indent",content:n,value:{name:"indent"},isDisabled:e.indentDisabled,isActive:!1,elemAfter:Object(o("AeFk").jsx)("div",{css:o("ZQ9N").a},Object(o("QNHL").ub)(o("QNHL").A))})}return[{items:i}]}(e);return Object(o("AeFk").jsx)("span",{css:o("mw/U").j},Object(o("AeFk").jsx)(Ta,{items:v,onItemActivated:({item:t,shouldCloseMenu:n=!0})=>(h(!n),u({editorView:e.editorView,buttonName:t.value.name,featureFlags:e.featureFlags})),mountTo:a,boundariesElement:l,scrollableElement:d,isOpen:p,onOpenChange:g,fitHeight:188,fitWidth:175,shouldUseDefaultRole:!0,shouldFocusFirstItem:()=>(f&&m(!1),f)},Object(o("AeFk").jsx)(o("aEOQ").a,{spacing:r?"none":"default",selected:i||s,"aria-expanded":p,"aria-haspopup":!0,"aria-label":b,disabled:n,onClick:()=>{g({isDropdownOpen:!p})},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),h(!p),m(!0))},title:b,
iconBefore:Object(o("AeFk").jsx)("span",{css:o("mw/U").j},Object(o("AeFk").jsx)(o.n(o("ZfOZ")).a,{label:b}),Object(o("AeFk").jsx)("span",{css:o("mw/U").f},Object(o("AeFk").jsx)(o.n(o("1YpF")).a,{label:""})))})),Object(o("AeFk").jsx)("span",{css:o("mw/U").g}))}function Na(e){const{formatMessage:t}=Object(o("3NU0").a)(),n=Object(a.useRef)(null),r=Object(a.useRef)(null),{disabled:i,isReducedSpacing:s,bulletListActive:c,bulletListDisabled:l,orderedListActive:d,orderedListDisabled:u,showIndentationButtons:p,indentDisabled:h,outdentDisabled:f,onItemActivated:m}=e,b=t(o("aebN").a.unorderedList),g=t(o("aebN").a.orderedList),v=t(ja.indent),y=t(ja.outdent),O=document.activeElement===n.current,E=document.activeElement===r.current,w=t=>n=>m({editorView:e.editorView,buttonName:t,featureFlags:e.featureFlags});return Object(a.useEffect)((()=>{O&&h&&r.current&&r.current.focus()}),[n,h,O]),Object(a.useEffect)((()=>{E&&f&&n.current&&n.current.focus()}),[r,f,E]),Object(o("AeFk").jsx)("span",{
css:o("mw/U").c},Object(o("AeFk").jsx)(o("aEOQ").a,{buttonId:o("Ssoj").a.BULLET_LIST,testId:b,spacing:s?"none":"default",onClick:w("bullet_list"),selected:c,"aria-pressed":c,"aria-label":Object(o("QNHL").ub)(o("QNHL").fb,b),"aria-keyshortcuts":Object(o("QNHL").z)(o("QNHL").fb),disabled:l||i,title:Object(o("AeFk").jsx)(o("QNHL").a,{description:b,keymap:o("QNHL").fb}),iconBefore:Object(o("AeFk").jsx)(o.n(o("ZfOZ")).a,{label:""})}),Object(o("AeFk").jsx)(o("aEOQ").a,{buttonId:o("Ssoj").a.ORDERED_LIST,testId:g,spacing:s?"none":"default",onClick:w("ordered_list"),selected:d,"aria-pressed":d,"aria-label":Object(o("QNHL").ub)(o("QNHL").ob,g),"aria-keyshortcuts":Object(o("QNHL").z)(o("QNHL").ob),disabled:u||i,title:Object(o("AeFk").jsx)(o("QNHL").a,{description:g,keymap:o("QNHL").ob}),iconBefore:Object(o("AeFk").jsx)(o.n(o("lyAC")).a,{label:""})}),p&&Object(o("AeFk").jsx)(o("aEOQ").a,{buttonId:o("Ssoj").a.OUTDENT,testId:o("Ssoj").a.OUTDENT,ref:r,spacing:s?"none":"default",onClick:w("outdent"),
iconBefore:Object(o("AeFk").jsx)(o.n(o("IIUe")).a,{label:""}),disabled:f||i,"aria-label":Object(o("QNHL").ub)(o("QNHL").O,y),"aria-keyshortcuts":Object(o("QNHL").z)(o("QNHL").O),title:Object(o("AeFk").jsx)(o("QNHL").a,{description:y,keymap:o("QNHL").O})}),p&&Object(o("AeFk").jsx)(o("aEOQ").a,{buttonId:o("Ssoj").a.INDENT,testId:o("Ssoj").a.INDENT,ref:n,spacing:s?"none":"default",onClick:w("indent"),iconBefore:Object(o("AeFk").jsx)(o.n(o("dejn")).a,{label:""}),disabled:h||i,"aria-label":Object(o("QNHL").ub)(o("QNHL").A,v),"aria-keyshortcuts":Object(o("QNHL").z)(o("QNHL").A),title:Object(o("AeFk").jsx)(o("QNHL").a,{description:v,keymap:o("QNHL").A})}),Object(o("AeFk").jsx)("span",{css:o("mw/U").g}))}function Ia(e){const{disabled:t,isSmall:n,isReducedSpacing:r,bulletListActive:i,bulletListDisabled:s,orderedListActive:a,orderedListDisabled:c,showIndentationButtons:l,popupsMountPoint:d,popupsBoundariesElement:u,popupsScrollableElement:p,indentDisabled:h,outdentDisabled:f,featureFlags:m}=e
;return n?Object(o("AeFk").jsx)(Aa,{editorView:e.editorView,isReducedSpacing:r,popupsMountPoint:d,popupsBoundariesElement:u,popupsScrollableElement:p,bulletListActive:i,bulletListDisabled:s,showIndentationButtons:l,orderedListActive:a,orderedListDisabled:c,indentDisabled:h,outdentDisabled:f,disabled:t,onItemActivated:Ca,featureFlags:m}):Object(o("AeFk").jsx)(Na,{editorView:e.editorView,isReducedSpacing:r,bulletListActive:i,bulletListDisabled:s,showIndentationButtons:l,orderedListActive:a,orderedListDisabled:c,indentDisabled:h,outdentDisabled:f,disabled:t,onItemActivated:Ca,featureFlags:m})}var Pa=({showIndentationButtons:e,allowHeadingAndParagraphIndentation:t},n)=>{const r=(null==n?void 0:n.dependencies.featureFlags.sharedState.currentState())||{};return{name:"toolbarListsIndentation",pmPlugins:()=>[{name:"indentationButtons",plugin:({dispatch:n})=>(({dispatch:e,showIndentationButtons:t,allowHeadingAndParagraphIndentation:n})=>new(o("KkS8").a)({state:{init:(e,o)=>t?xa(o,n):{
indentDisabled:!0,outdentDisabled:!0,node:null},apply(r,i,s,a){if(t){const t=xa(a,n);if(!Object(o("D4z0").r)(i,t))return e(ka,t),t}return i}},key:ka}))({dispatch:n,showIndentationButtons:e,allowHeadingAndParagraphIndentation:t})}],primaryToolbarComponent({editorView:t,popupsMountPoint:n,popupsBoundariesElement:i,popupsScrollableElement:s,toolbarSize:a,disabled:l,isToolbarReducedSpacing:d}){const u=a<o("qABM").a.L;return c.a.createElement(o("fd7e").a,{plugins:{listState:o("Hb9x").b,indentationState:ka},render:({listState:o,indentationState:a})=>o?c.a.createElement(Ia,{featureFlags:r,isSmall:u,isReducedSpacing:d,disabled:l,editorView:t,popupsMountPoint:n,popupsBoundariesElement:i,popupsScrollableElement:s,bulletListActive:o.bulletListActive,bulletListDisabled:o.bulletListDisabled,orderedListActive:o.orderedListActive,orderedListDisabled:o.orderedListDisabled,showIndentationButtons:!!e,indentDisabled:a.indentDisabled,outdentDisabled:a.outdentDisabled}):null})}}}
;var Ma=o("44Ds"),Ra=o.n(Ma);const _a=["macro-browser","slash-onboarding"],La=e=>"string"==typeof e.content&&e.content.includes("macro"),Da=([e],[t])=>{const n=e,o=t;return!Object.keys(n).some((e=>{const t=e;return n[t]!==o[t]}))},Fa=e=>({content:e.content,tooltipDescription:e.tooltipDescription,value:{name:e.name},elemBefore:Object(o("AeFk").jsx)(e.Icon,{label:e.content}),elemAfter:e.shortcut?Object(o("AeFk").jsx)("div",{css:o("ZQ9N").a},e.shortcut):void 0,"aria-label":e.shortcut?e.content+" "+e.shortcut:e.content,"aria-haspopup":e["aria-haspopup"],"aria-keyshortcuts":e["aria-keyshortcuts"],shortcut:e.shortcut,isDisabled:e.disabled}),Ba=e=>Object(o("Wwog").a)(e,Da),Va=Ba((e=>Fa({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"action",shortcut:"[]",Icon:o.n(o("p3Tp")).a,"aria-keyshortcuts":"[ ] Space"}))),za=Ba((e=>Fa({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"link",shortcut:Object(o("QNHL").ub)(o("QNHL").f),
Icon:o.n(o("01nc")).a,"aria-haspopup":e["aria-haspopup"],"aria-keyshortcuts":Object(o("QNHL").z)(o("QNHL").f)}))),Ha=Ba((e=>Fa({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"media",Icon:o.n(o("MLD/")).a}))),Ua=Ba((e=>Fa({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"image upload",Icon:o.n(o("MLD/")).a}))),Wa=Ba((e=>Fa({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"mention",Icon:o.n(o("WfRv")).a,shortcut:"@","aria-haspopup":e["aria-haspopup"],"aria-keyshortcuts":"Shift+2 Space"}))),Ka=Ba((e=>Fa({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"emoji",Icon:o.n(o("pSCn")).a,shortcut:":","aria-haspopup":e["aria-haspopup"],"aria-keyshortcuts":"Shift+;"}))),$a=Ba((e=>Fa({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"table",Icon:o.n(o("kl+u")).a,shortcut:Object(o("QNHL").ub)(o("QNHL").sb),
"aria-keyshortcuts":Object(o("QNHL").z)(o("QNHL").sb)}))),qa=Ba((e=>Fa({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"layout",Icon:o.n(o("N+rM")).a}))),Ga=Ba((e=>Fa({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"codeblock",Icon:o.n(o("iCnE")).a,shortcut:e.shortcut,"aria-keyshortcuts":Object(o("QNHL").z)(e.shortcut)}))),Ya=Ba((e=>Fa({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"panel",Icon:o.n(o("hL5s")).a,shortcut:e.shortcut,"aria-keyshortcuts":Object(o("QNHL").z)(e.shortcut)}))),Qa=Ba((e=>Fa({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"blockquote",Icon:o.n(o("cObF")).a,shortcut:e.shortcut,"aria-keyshortcuts":"Shift+. Space"}))),Xa=Ba((e=>Fa({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"decision",Icon:o.n(o("efs6")).a,shortcut:"<>","aria-keyshortcuts":"Shift+, Shift+. Space"}))),Za=Ba((e=>Fa({
content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"horizontalrule",Icon:o.n(o("ADCM")).a,shortcut:"---","aria-keyshortcuts":"- - -"}))),Ja=Ba((e=>Fa({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"expand",Icon:o.n(o("+TPg")).a}))),ec=Ba((e=>Fa({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"date",Icon:o.n(o("xuwc")).a,shortcut:"//","aria-keyshortcuts":"/ / Enter"}))),tc=Ba((e=>Fa({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"placeholder text",Icon:()=>Object(o("AeFk").jsx)(o.n(o("bwse")).a,{label:""})}))),nc=Ba((e=>Fa({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"status",Icon:o.n(o("MMpk")).a}))),oc=Ba((e=>Fa({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"macro",Icon:()=>Object(o("AeFk").jsx)(o.n(o("MSKp")).a,{label:""})}))),rc=Ra()((e=>({...e,
title:c.a.createElement(o("QNHL").a,{description:e.content,shortcutOverride:e.shortcut})}))),ic=Object(o("Wwog").a)((e=>Ra()((t=>({...t,title:c.a.createElement(o("QNHL").a,{description:e,shortcutOverride:"/"})}))))),sc=Object(o("Wwog").a)((e=>{const{isTypeAheadAllowed:t,tableSupported:n,mediaUploadsEnabled:r,mediaSupported:i,imageUploadSupported:s,imageUploadEnabled:a,mentionsSupported:c,availableWrapperBlockTypes:l,actionSupported:d,decisionSupported:u,showElementBrowserLink:p,linkSupported:h,linkDisabled:f,emojiDisabled:m,emojiProvider:b,nativeStatusSupported:g,insertMenuItems:v,dateEnabled:y,placeholderTextEnabled:O,horizontalRuleEnabled:E,layoutSectionEnabled:w,expandEnabled:S,numberOfButtons:k,schema:x,formatMessage:C,isNewMenuEnabled:T}=e,j=[];if(d&&j.push(Va({content:C(o("ViDr").a.action),tooltipDescription:C(o("ViDr").a.actionDescription),disabled:!1})),h&&j.push(za({content:C(o("ViDr").a.link),tooltipDescription:C(o("ViDr").a.linkDescription),disabled:!!f,
"aria-haspopup":"dialog"})),i&&r&&j.push(Ha({content:C(o("ViDr").a.addMediaFiles),tooltipDescription:C(o("ViDr").a.mediaFilesDescription),disabled:!1})),s&&j.push(Ua({content:C(o("ViDr").a.image),disabled:!a})),c&&j.push(Wa({content:C(o("ViDr").a.mention),tooltipDescription:C(o("ViDr").a.mentionDescription),disabled:!t,"aria-haspopup":"listbox"})),b&&j.push(Ka({content:C(o("ViDr").a.emoji),tooltipDescription:C(o("ViDr").a.emojiDescription),disabled:m||!t,"aria-haspopup":"dialog"})),n&&j.push($a({content:C(o("ViDr").a.table),tooltipDescription:C(o("ViDr").a.tableDescription),disabled:!1})),w){const e=C(o("ViDr").a.columns);j.push(qa({content:e,tooltipDescription:C(o("ViDr").a.columnsDescription),disabled:!1}))}const A=l||[],N=A.find((e=>"codeblock"===e.name)),I=A.find((e=>"panel"===e.name)),P=A.find((e=>"blockquote"===e.name));if(N&&j.push(Ga({content:C(N.title),tooltipDescription:C(o("RJFP").a.codeblockDescription),disabled:!1,shortcut:"```"})),I&&j.push(Ya({content:C(I.title),
tooltipDescription:C(o("RJFP").a.infoPanelDescription),disabled:!1})),P&&j.push(Qa({content:C(P.title),tooltipDescription:C(o("RJFP").a.blockquoteDescription),disabled:!1,shortcut:">"})),u&&j.push(Xa({content:C(o("ViDr").a.decision),tooltipDescription:C(o("ViDr").a.decisionDescription),disabled:!1})),E&&x.nodes.rule&&j.push(Za({content:C(o("ViDr").a.horizontalRule),tooltipDescription:C(o("ViDr").a.horizontalRuleDescription),disabled:!1})),S&&x.nodes.expand&&j.push(Ja({content:C(o("ViDr").a.expand),tooltipDescription:C(o("ViDr").a.expandDescription),disabled:!1})),y){const e=C(o("ViDr").a.date);j.push(ec({content:e,tooltipDescription:C(o("ViDr").a.dateDescription),disabled:!1}))}if(O&&j.push(tc({content:C(o("ViDr").a.placeholderText),disabled:!1})),g){const e=C(o("ViDr").a.status);j.push(nc({content:e,tooltipDescription:C(o("ViDr").a.statusDescription),disabled:!1}))}v&&j.push(...v),p&&j.push(oc({content:C(o("ViDr").a.viewMore),disabled:!1}))
;const M=j.slice(0,k).map(rc),R=j.slice(k),_=(T?R:(e=>e.sort(((e,t)=>_a.includes(e.value.name)&&_a.includes(t.value.name)?_a.indexOf(e.value.name)-_a.indexOf(t.value.name):_a.includes(t.value.name)?-1:_a.includes(e.value.name)||La(e)&&!La(t)?1:La(t)&&!La(e)||e.content<t.content?-1:1)))(R)).map(ic(C(o("ViDr").a.insertMenu)));return[M,_]}),Da);var ac={name:"1ozvql9",styles:"padding:0px 12px"};const cc=({item:e})=>Object(o("AeFk").jsx)(o("jgRs").a,{hasSeparator:!0},Object(o("AeFk").jsx)(o("IS3e").a,{onClick:e.action,iconBefore:Object(o("AeFk").jsx)("div",{css:uc},e.icon()),"aria-describedby":e.title,"data-testid":"view-more-elements-item",css:ac},e.title)),lc=({name:e})=>{const t={codeblock:o("Jzj3").b,panel:o("Jzj3").p,blockquote:o("Jzj3").u,decision:o("Jzj3").d,horizontalrule:o("Jzj3").e,expand:o("Jzj3").g,date:o("Jzj3").c,status:o("Jzj3").v}[e];return t?Object(o("AeFk").jsx)(t,{label:""}):void 0
},dc=(e,t)=>Object(o("AeFk").css)("display:flex;flex-direction:column;width:320px;height:",(({itemCount:e})=>e>0&&e<6?75*e+112:560)({itemCount:t}),"px;background-color:",Object(o("56zV").a)({light:"var(--ds-surface-overlay, #FFFFFF)",dark:"var(--ds-surface-overlay, #283447)"})(e),";border-radius:",Object(o("7w+A").borderRadius)(),"px;box-shadow:","var(--ds-shadow-overlay, 0 0 0 1px rgba(9, 30, 66, 0.08),\n    0 2px 1px rgba(9, 30, 66, 0.08),\n    0 0 20px -6px rgba(9, 30, 66, 0.31))",";"),uc=Object(o("AeFk").css)("width:40px;height:40px;box-sizing:border-box;display:flex;justify-content:center;align-items:center;margin-right:",Object(o("7w+A").gridSize)()/2,"px;"),pc={name:"1wlc510",styles:"display:flex;flex:1;box-sizing:border-box;overflow:hidden"},hc=Object(o("HoxM").a)((e=>{const{children:t,...n}=e;return Object(o("AeFk").jsx)("div",J()({css:pc},n),t)}));var fc=({editorView:e,dropdownItems:t,showElementBrowserLink:n,onInsert:r,toggleVisiblity:i})=>{
const[s,c]=Object(a.useState)(0),l=Object(a.useCallback)((e=>({title:e.content,description:e.tooltipDescription,keyshortcut:e.shortcut,icon:()=>lc({name:e.value.name})||e.elemBefore,action:()=>r({item:e}),onClick:e.onClick,value:e.value})),[r]),d=t.map(l),u=n&&d.pop(),p=Object(a.useCallback)((t=>{i(),e.hasFocus()||e.focus(),Object(o("QDVM").b)(t)(e.state,e.dispatch)}),[e,i]),h=Object(a.useCallback)((e=>(t,n)=>{let r;return r=t?Object(o("dbDw").b)(e,{})(t,n):d.concat(Object(o("dbDw").a)(e,{})()),c(r.length),r}),[d]),f=Object(a.useCallback)((({quickInsertState:e})=>Object(o("AeFk").jsx)(hc,{handleClickOutside:i,handleEscapeKeydown:i},Object(o("AeFk").jsx)(o("Wi02").a,{mode:"inline",getItems:h(e),emptyStateHandler:null==e?void 0:e.emptyStateHandler,onInsertItem:p,showSearch:!0,showCategories:!1,key:d.length}))),[h,p,d.length,i]);return Object(o("AeFk").jsx)("div",{css:e=>dc(e,s)},Object(o("AeFk").jsx)(o("fd7e").a,{plugins:{quickInsertState:o("89Qp").a},render:f
}),s>0&&u&&Object(o("AeFk").jsx)(cc,{item:u}))};const mc={name:"11nr1xd",styles:"width:42px;display:flex;align-items:center;>div,>span{display:flex;}>div>div{display:flex;}"},bc=c.a.memo((e=>Object(o("AeFk").jsx)("span",{css:mc},Object(o("AeFk").jsx)(o.n(o("umwh")).a,{label:e.label}),Object(o("AeFk").jsx)("span",{css:o("mw/U").f},Object(o("AeFk").jsx)(o.n(o("1YpF")).a,{label:""}))))),gc=c.a.memo((e=>Object(o("AeFk").jsx)(o("aEOQ").a,{ref:e.handleRef,selected:e.selected,disabled:e.disabled,onClick:e.onClick,onKeyDown:e.onKeyDown,spacing:e.spacing,"aria-expanded":e["aria-expanded"],"aria-haspopup":e["aria-haspopup"],"aria-keyshortcuts":e["aria-keyshortcuts"],"aria-label":`${e.label} /`,iconBefore:Object(o("AeFk").jsx)(bc,{label:""}),title:Object(o("AeFk").jsx)(o("QNHL").a,{description:e.label,shortcutOverride:"/"})}))),vc=e=>c.a.createElement(c.a.Fragment,null,e.open&&c.a.createElement(o("poXX").a,{target:e.plusButtonRef,fitHeight:500,fitWidth:350,offset:[0,3],mountTo:e.popupsMountPoint,
boundariesElement:e.popupsBoundariesElement,scrollableElement:e.popupsScrollableElement,preventOverflow:!0,alignX:"right"},c.a.createElement(fc,{editorView:e.editorView,dropdownItems:e.items,onInsert:e.onInsert,toggleVisiblity:e.togglePlusMenuVisibility,showElementBrowserLink:e.showElementBrowserLink})),c.a.createElement(gc,{"aria-expanded":e.open,"aria-haspopup":!0,handleRef:e.onRef,selected:e.open,disabled:e.disabled,onClick:e.onClick,onKeyDown:e.onKeyDown,spacing:e.spacing,label:e.label,"aria-keyshortcuts":"/"})),yc=e=>{const{items:t}=e,n=c.a.useMemo((()=>[{items:t}]),[t]);return c.a.createElement(Ta,{items:n,onItemActivated:e.onItemActivated,onOpenChange:e.onOpenChange,mountTo:e.popupsMountPoint,boundariesElement:e.popupsBoundariesElement,scrollableElement:e.popupsScrollableElement,isOpen:e.open,fitHeight:188,fitWidth:175,zIndex:o("anI9").y},c.a.createElement(gc,{"aria-expanded":e.open,"aria-haspopup":!0,handleRef:e.onRef,selected:e.open,disabled:e.disabled,onClick:e.onClick,
onKeyDown:e.onKeyDown,spacing:e.spacing,label:e.label,"aria-keyshortcuts":"/"}))},Oc=e=>0===e.items.length?null:e.disabled?c.a.createElement("div",null,c.a.createElement(gc,{"aria-expanded":e.open,"aria-haspopup":!0,handleRef:e.onRef,selected:e.open,disabled:e.disabled,onClick:e.onClick,onKeyDown:e.onKeyDown,spacing:e.spacing,label:e.label,"aria-keyshortcuts":"/"})):e.replacePlusMenuWithElementBrowser?c.a.createElement(vc,{disabled:e.disabled,editorView:e.editorView,items:e.items,label:e.label,onClick:e.onClick,onKeyDown:e.onKeyDown,onInsert:e.onInsert,onRef:e.onPlusButtonRef,open:e.open,plusButtonRef:e.plusButtonRef,popupsBoundariesElement:e.popupsBoundariesElement,popupsMountPoint:e.popupsMountPoint,popupsScrollableElement:e.popupsScrollableElement,spacing:e.spacing,togglePlusMenuVisibility:e.togglePlusMenuVisibility,showElementBrowserLink:e.showElementBrowserLink}):c.a.createElement(yc,{disabled:e.disabled,items:e.items,label:e.label,onClick:e.onClick,onKeyDown:e.onKeyDown,
onItemActivated:e.onItemActivated,onOpenChange:e.onOpenChange,onRef:e.onRef,open:e.open,popupsBoundariesElement:e.popupsBoundariesElement,popupsMountPoint:e.popupsMountPoint,popupsScrollableElement:e.popupsScrollableElement,spacing:e.spacing}),Ec=()=>{},wc=Object(o("HoxM").a)(o("+IWU").a);class Sc extends c.a.PureComponent{constructor(...e){super(...e),s()(this,"state",{isPlusMenuOpen:!1,emojiPickerOpen:!1,isOpenedByKeyboard:!1,buttons:[],dropdownItems:[]}),s()(this,"onOpenChange",(e=>{const t={isPlusMenuOpen:e.isPlusMenuOpen,emojiPickerOpen:this.state.emojiPickerOpen};this.state.emojiPickerOpen&&!e.open&&(t.emojiPickerOpen=!1),this.setState(t,(()=>{const{dispatchAnalyticsEvent:e}=this.props;if(!e)return;const{isPlusMenuOpen:t}=this.state;return e(t?{action:o("+PNV").a.OPENED,actionSubject:o("+PNV").b.PLUS_MENU,eventType:o("+PNV").e.UI}:{action:o("+PNV").a.CLOSED,actionSubject:o("+PNV").b.PLUS_MENU,eventType:o("+PNV").e.UI})}))})),s()(this,"togglePlusMenuVisibility",(e=>{
const{isPlusMenuOpen:t}=this.state;var n;(this.onOpenChange({isPlusMenuOpen:!t}),"Escape"===(null==e?void 0:e.key))&&(null===(n=this.plusButtonRef||this.dropdownButtonRef)||void 0===n||n.focus())})),s()(this,"toggleEmojiPicker",((e=o("+PNV").f.TOOLBAR)=>{this.setState((e=>({emojiPickerOpen:!e.emojiPickerOpen})),(()=>{if(this.state.emojiPickerOpen){const{dispatchAnalyticsEvent:t}=this.props;t&&t({action:o("+PNV").a.OPENED,actionSubject:o("+PNV").b.PICKER,actionSubjectId:o("+PNV").c.PICKER_EMOJI,attributes:{inputMethod:e},eventType:o("+PNV").e.UI})}}))})),s()(this,"handleEmojiPressEscape",(()=>{var e;this.toggleEmojiPicker(o("+PNV").f.KEYBOARD),null===(e=this.emojiButtonRef)||void 0===e||e.focus()})),s()(this,"handleEmojiClickOutside",(e=>{e.target&&!(e=>!document.body.contains(e))(e.target)&&this.toggleEmojiPicker(o("+PNV").f.TOOLBAR)})),s()(this,"handleEmojiButtonRef",(e=>{const t=X.a.findDOMNode(e);t&&(this.emojiButtonRef=t)})),s()(this,"handlePlusButtonRef",(e=>{
const t=X.a.findDOMNode(e);t&&(this.plusButtonRef=t)})),s()(this,"handleDropDownButtonRef",(e=>{const t=X.a.findDOMNode(e);t&&(this.dropdownButtonRef=t)})),s()(this,"handleClick",(()=>{this.togglePlusMenuVisibility()})),s()(this,"handleOpenByKeyboard",(e=>{"Enter"!==e.key&&" "!==e.key||(this.setState({...this.state,isOpenedByKeyboard:!0}),e.preventDefault(),this.togglePlusMenuVisibility())})),s()(this,"toggleLinkPanel",(e=>{const{editorView:t}=this.props;return Object(o("Qi0S").i)(e)(t.state,t.dispatch),!0})),s()(this,"insertMention",(e=>{const{editorView:t}=this.props;return!t||(Object(o("+OuI").b)(t).openMention(e),!0)})),s()(this,"insertTable",(e=>{const{insertNodeAPI:t}=this.props;return!!t&&t.insert({node:"table",options:{selectNodeInserted:!1,analyticsPayload:{action:o("+PNV").a.INSERTED,actionSubject:o("+PNV").b.DOCUMENT,actionSubjectId:o("+PNV").c.TABLE,attributes:{inputMethod:e},eventType:o("+PNV").e.TRACK}}})})),s()(this,"createDate",(e=>{const{editorView:t}=this.props
;return Object(o("bcXr").f)(void 0,e)(t.state,t.dispatch),!0})),s()(this,"createPlaceholderText",(()=>{const{editorView:e}=this.props;return((e,t)=>{const n=e.tr;e.selection.empty||n.deleteSelection(),n.setMeta(rr,{showInsertPanelAt:n.selection.anchor}),n.scrollIntoView(),t(n)})(e.state,e.dispatch),!0})),s()(this,"insertLayoutColumns",(e=>{const{editorView:t}=this.props;return(e=>Object(o("SVcB").b)({action:o("+PNV").a.INSERTED,actionSubject:o("+PNV").b.DOCUMENT,actionSubjectId:o("+PNV").c.LAYOUT,attributes:{inputMethod:e},eventType:o("+PNV").e.TRACK})(gr))(e)(t.state,t.dispatch),!0})),s()(this,"createStatus",(e=>{const{editorView:t}=this.props;return Object(o("tkcb").g)(e)(t.state,t.dispatch),!0})),s()(this,"openMediaPicker",(e=>{const{onShowMediaPicker:t,dispatchAnalyticsEvent:n}=this.props;return t&&(t(),n&&n({action:o("+PNV").a.OPENED,actionSubject:o("+PNV").b.PICKER,actionSubjectId:o("+PNV").c.PICKER_CLOUD,attributes:{inputMethod:e},eventType:o("+PNV").e.UI})),!0})),
s()(this,"insertTaskDecision",((e,t)=>()=>{const{editorView:{state:n,dispatch:r}}=this.props,i="action"===e?"taskList":"decisionList";return Object(o("aznN").d)(i,t)(n,r)})),s()(this,"insertHorizontalRule",(e=>{const{editorView:{state:t,dispatch:n},featureFlags:r}=this.props;return Object(o("gbAj").a)(e,r)(t,n)})),s()(this,"insertExpand",(()=>{const{state:e,dispatch:t}=this.props.editorView;return Object(o("vRhk").e)(e,t)})),s()(this,"insertBlockType",(e=>()=>{const{editorView:t,onInsertBlockType:n}=this.props,{state:o,dispatch:r}=t;return n(e)(o,r),!0})),s()(this,"handleSelectedEmoji",(e=>(this.props.editorView.focus(),function(e,t){return(n,r)=>{const{emoji:i}=n.schema.nodes;if(i&&e){const s=i.createChecked({...e,text:e.fallback||e.shortName}),a=n.schema.text(" ");if(r){const e=ie.Fragment.fromArray([s,a]),i=Object(l.safeInsert)(e)(n.tr);t&&Object(o("SVcB").a)(n,i,{action:o("+PNV").a.INSERTED,actionSubject:o("+PNV").b.DOCUMENT,actionSubjectId:o("+PNV").c.EMOJI,attributes:{
inputMethod:t},eventType:o("+PNV").e.TRACK}),r(i.setSelection(d.Selection.near(i.doc.resolve(n.selection.$from.pos+e.size))))}return!0}return!1}}(e,o("+PNV").f.PICKER)(this.props.editorView.state,this.props.editorView.dispatch),this.toggleEmojiPicker(),!0))),s()(this,"openElementBrowser",(()=>{Object(o("QDVM").c)()(this.props.editorView.state,this.props.editorView.dispatch)})),s()(this,"onItemActivated",(({item:e,inputMethod:t})=>{const{editorView:n,editorActions:o,handleImageUpload:r,expandEnabled:i}=this.props;switch(n.hasFocus()||n.focus(),e.value.name){case"link":this.toggleLinkPanel(t);break;case"table":this.insertTable(t);break;case"image upload":if(r){const{state:e,dispatch:t}=n;r()(e,t)}break;case"media":this.openMediaPicker(t);break;case"mention":this.insertMention(t);break;case"emoji":this.toggleEmojiPicker(t);break;case"codeblock":case"blockquote":case"panel":this.insertBlockType(e.value.name)();break;case"action":case"decision":this.insertTaskDecision(e.value.name,t)()
;break;case"horizontalrule":this.insertHorizontalRule(t);break;case"macro":this.openElementBrowser();break;case"date":this.createDate(t);break;case"placeholder text":this.createPlaceholderText();break;case"layout":this.insertLayoutColumns(t);break;case"status":this.createStatus(t);break;case"expand":if(i){this.insertExpand();break}default:if(e&&e.onClick){e.onClick(o);break}}this.setState({isPlusMenuOpen:!1})})),s()(this,"insertToolbarMenuItem",(e=>this.onItemActivated({item:e,inputMethod:o("+PNV").f.TOOLBAR}))),s()(this,"insertInsertMenuItem",(({item:e})=>this.onItemActivated({item:e,inputMethod:o("+PNV").f.INSERT_MENU})))}static getDerivedStateFromProps(e,t){const[n,o]=sc({isTypeAheadAllowed:e.isTypeAheadAllowed,tableSupported:e.tableSupported,mediaUploadsEnabled:e.mediaUploadsEnabled,mediaSupported:e.mediaSupported,imageUploadSupported:e.imageUploadSupported,imageUploadEnabled:e.imageUploadEnabled,mentionsSupported:e.mentionsSupported,actionSupported:e.actionSupported,
decisionSupported:e.decisionSupported,linkSupported:e.linkSupported,linkDisabled:e.linkDisabled,emojiDisabled:e.emojiDisabled,nativeStatusSupported:e.nativeStatusSupported,dateEnabled:e.dateEnabled,placeholderTextEnabled:e.placeholderTextEnabled,horizontalRuleEnabled:e.horizontalRuleEnabled,layoutSectionEnabled:e.layoutSectionEnabled,expandEnabled:e.expandEnabled,macroProvider:e.macroProvider,showElementBrowserLink:e.showElementBrowserLink,emojiProvider:e.emojiProvider,availableWrapperBlockTypes:e.availableWrapperBlockTypes,insertMenuItems:e.insertMenuItems,schema:e.editorView.state.schema,numberOfButtons:e.buttons,formatMessage:e.intl.formatMessage,isNewMenuEnabled:e.replacePlusMenuWithElementBrowser});return{...t,buttons:n,dropdownItems:o}}componentDidUpdate(e){if(e.buttons!==this.props.buttons&&this.setState({emojiPickerOpen:!1}),this.state.isOpenedByKeyboard){var t;const e=new KeyboardEvent("keydown",{bubbles:!0,key:"ArrowDown"})
;null===(t=this.dropdownButtonRef)||void 0===t||t.dispatchEvent(e),this.setState({...this.state,isOpenedByKeyboard:!1})}}renderPopup(){const{emojiPickerOpen:e}=this.state,{popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:r,emojiProvider:i,replacePlusMenuWithElementBrowser:s}=this.props,a=this.state.dropdownItems.some((({value:{name:e}})=>"emoji"===e)),c=s?this.plusButtonRef:this.dropdownButtonRef,l=a?c:this.emojiButtonRef;return e&&l&&i?Object(o("AeFk").jsx)(o("poXX").a,{target:l,fitHeight:350,fitWidth:350,offset:[0,3],mountTo:t,boundariesElement:n,scrollableElement:r,focusTrap:!0},Object(o("AeFk").jsx)(wc,{emojiProvider:i,onSelection:this.handleSelectedEmoji,handleClickOutside:this.handleEmojiClickOutside,handleEscapeKeydown:this.handleEmojiPressEscape})):null}render(){var e,t;const{buttons:n,dropdownItems:r,emojiPickerOpen:i}=this.state,{isDisabled:s,isReducedSpacing:a}=this.props;return 0===n.length&&0===r.length?null:Object(o("AeFk").jsx)("span",{css:o("mw/U").c
},n.map((e=>Object(o("AeFk").jsx)(o("aEOQ").a,{item:e,testId:String(e.content),ref:"emoji"===e.value.name?this.handleEmojiButtonRef:Ec,key:e.value.name,spacing:a?"none":"default",disabled:s||e.isDisabled,iconBefore:e.elemBefore,selected:"emoji"===e.value.name&&i||e.isActive,title:e.title,"aria-label":e["aria-label"],"aria-haspopup":e["aria-haspopup"],"aria-keyshortcuts":e["aria-keyshortcuts"],onItemClick:this.insertToolbarMenuItem}))),Object(o("AeFk").jsx)("span",{css:o("mw/U").j},this.renderPopup(),Object(o("AeFk").jsx)(Oc,{popupsMountPoint:this.props.popupsMountPoint,popupsBoundariesElement:this.props.popupsBoundariesElement,popupsScrollableElement:this.props.popupsScrollableElement,disabled:null!==(e=this.props.isDisabled)&&void 0!==e&&e,editorView:this.props.editorView,spacing:this.props.isReducedSpacing?"none":"default",label:this.props.intl.formatMessage(o("ViDr").a.insertMenu),open:this.state.isPlusMenuOpen,plusButtonRef:this.plusButtonRef,items:this.state.dropdownItems,
onRef:this.handleDropDownButtonRef,onPlusButtonRef:this.handlePlusButtonRef,onClick:this.handleClick,onKeyDown:this.handleOpenByKeyboard,onItemActivated:this.insertInsertMenuItem,onInsert:this.insertInsertMenuItem,onOpenChange:this.onOpenChange,togglePlusMenuVisibility:this.togglePlusMenuVisibility,replacePlusMenuWithElementBrowser:null!==(t=this.props.replacePlusMenuWithElementBrowser)&&void 0!==t&&t,showElementBrowserLink:this.props.showElementBrowserLink||!1})),this.props.showSeparator&&Object(o("AeFk").jsx)("span",{css:o("mw/U").g}))}}Sc.displayName="ToolbarInsertBlock";var kc=Object(o("o5hF").c)(Sc);function xc(e){return Object(o("XJbs").c)(e,o("+PNV").f.TOOLBAR)}var Cc=(e={},t)=>{var n,r;const i=(null==t||null===(n=t.dependencies)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r.sharedState.currentState())||{};return{name:"insertBlock",
primaryToolbarComponent({editorView:t,editorActions:n,dispatchAnalyticsEvent:r,providerFactory:s,popupsMountPoint:a,popupsBoundariesElement:l,popupsScrollableElement:d,toolbarSize:u,disabled:p,isToolbarReducedSpacing:h,isLastItem:f}){const m=(e=>{switch(e){case o("qABM").a.XXL:case o("qABM").a.XL:case o("qABM").a.L:case o("qABM").a.M:return 7;case o("qABM").a.S:return 2;default:return 0}})(u);return c.a.createElement(o("D0us").a,{providerFactory:s,providers:["emojiProvider"],renderNode:s=>c.a.createElement(o("fd7e").a,{plugins:{typeAheadState:o("yUK8").a,blockTypeState:o("t+JJ").b,mediaState:o("wBzk").a,mentionState:o("UgDi").a,macroState:o("YAmM").a,hyperlinkState:o("E3sl").e,emojiState:at,dateState:o("VpzP").a,imageUpload:fn,placeholderTextState:rr,layoutState:lr},render:({mentionState:b,blockTypeState:g,mediaState:v,macroState:y={},hyperlinkState:O,emojiState:E,dateState:w,imageUpload:S,placeholderTextState:k,layoutState:x})=>c.a.createElement(kc,{insertNodeAPI:e.insertNodeAPI,
buttons:m,isReducedSpacing:h,isDisabled:p,isTypeAheadAllowed:Object(o("Wd+7").g)(t.state),editorView:t,tableSupported:!!t.state.schema.nodes.table,actionSupported:!!t.state.schema.nodes.taskItem,mentionsSupported:!(!b||!b.mentionProvider),decisionSupported:!!t.state.schema.nodes.decisionItem,dateEnabled:!!w,placeholderTextEnabled:k&&k.allowInserting,layoutSectionEnabled:!!x,expandEnabled:!!e.allowExpand,mediaUploadsEnabled:v&&v.allowsUploads,onShowMediaPicker:v&&v.showMediaPicker,mediaSupported:!!v,imageUploadSupported:!!S,imageUploadEnabled:S&&S.enabled,handleImageUpload:bn,availableWrapperBlockTypes:g&&g.availableWrapperBlockTypes,linkSupported:!!O,linkDisabled:!O||!O.canInsertLink||!!O.activeLinkMark,emojiDisabled:!E||!E.emojiProvider,emojiProvider:s.emojiProvider,nativeStatusSupported:e.nativeStatusSupported,horizontalRuleEnabled:e.horizontalRuleEnabled,onInsertBlockType:xc,onInsertMacroFromMacroBrowser:o("JkFw").a,macroProvider:y.macroProvider,popupsMountPoint:a,
popupsBoundariesElement:l,popupsScrollableElement:d,insertMenuItems:e.insertMenuItems,editorActions:n,dispatchAnalyticsEvent:r,replacePlusMenuWithElementBrowser:e.replacePlusMenuWithElementBrowser,showElementBrowserLink:e.showElementBrowserLink,showSeparator:!f&&u<=o("qABM").a.S,featureFlags:i})})})}}};var Tc=e=>({name:"beforePrimaryToolbar",primaryToolbarComponent:()=>c.a.createElement(o("M5S8").a,{beforePrimaryToolbarComponents:e.beforePrimaryToolbarComponents})});const jc=Object(o("D6b/").defineMessages)({editors:{id:"fabric.editor.editors",defaultMessage:"Editors",description:"classifying the people that are currently editing the document"}});const Ac={name:"ce9xqy",styles:"display:flex;justify-content:flex-end;flex-grow:0;align-items:center;&>div{margin-right:0;}"},Nc=Object(o("AeFk").css)(Ac," flex-grow:1;");var Ic=e=>{const{dispatchAnalyticsEvent:t,featureFlags:n}=e,r=Object(o("3NU0").a)();return Object(a.useEffect)((()=>{t&&t({action:o("+PNV").a.VIEWED,
actionSubject:o("+PNV").b.BUTTON,actionSubjectId:o("+PNV").c.AVATAR_GROUP_PLUGIN,eventType:o("+PNV").e.UI})}),[t]),Object(o("AeFk").jsx)("div",{"aria-label":r.formatMessage(jc.editors),"data-testid":"avatar-group-in-plugin",css:e.takeFullWidth?Nc:Ac},Object(o("AeFk").jsx)(o("HRS3").a,{editorView:e.editorView,eventDispatcher:e.eventDispatcher,inviteToEditComponent:e.collabEdit&&e.collabEdit.inviteToEditComponent,inviteToEditHandler:e.collabEdit&&e.collabEdit.inviteToEditHandler,isInviteToEditButtonSelected:e.collabEdit&&e.collabEdit.isInviteToEditButtonSelected,featureFlags:n}))};var Pc=(e,t)=>{var n,o;const r=(null==t||null===(n=t.dependencies)||void 0===n||null===(o=n.featureFlags)||void 0===o?void 0:o.sharedState.currentState())||{};return{name:"avatarGroup",primaryToolbarComponent:({editorView:t,popupsMountPoint:n,popupsBoundariesElement:o,popupsScrollableElement:i,disabled:s,isToolbarReducedSpacing:a,eventDispatcher:l,dispatchAnalyticsEvent:d})=>c.a.createElement(Ic,{
dispatchAnalyticsEvent:d,editorView:t,eventDispatcher:l,collabEdit:e.collabEdit,takeFullWidth:e.takeFullWidth,featureFlags:r})}};var Mc=()=>{const e={};return Object(o("QNHL").l)(o("QNHL").t.common,(()=>(e,t)=>(Object(o("f2CN").a)({triggerMethod:o("+PNV").g.SHORTCUT})(e,t),!0))(),e),Object(V.b)(e)};var Rc=(e,t)=>{var n,r;const i=(null==t||null===(n=t.dependencies)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r.sharedState.currentState())||{};return{name:"findReplace",pmPlugins:()=>[{name:"findReplace",plugin:({dispatch:e})=>Object(o("vkwj").b)(e)},{name:"findReplaceKeymap",plugin:()=>Mc()}],primaryToolbarComponent:({popupsBoundariesElement:t,popupsMountPoint:n,popupsScrollableElement:r,isToolbarReducedSpacing:s,editorView:a,containerElement:l,dispatchAnalyticsEvent:d})=>e.twoLineEditorToolbar?null:c.a.createElement(o("NjQP").a,{popupsBoundariesElement:t,popupsMountPoint:n,popupsScrollableElement:r,isToolbarReducedSpacing:s,editorView:a,containerElement:l,
dispatchAnalyticsEvent:d,takeFullWidth:e.takeFullWidth,featureFlags:i})}};var _c=()=>({name:"border",marks:()=>[{name:"border",mark:o("JmPa").a}]});const Lc=new d.PluginKey("fragmentMarkConsistencyPlugin"),Dc=e=>{const{table:t,extension:n,bodiedExtension:o,inlineExtension:r}=e.nodes;return[t,n,o,r]},Fc=e=>new(o("KkS8").a)({key:Lc,appendTransaction:(e,t,n)=>{let r=!1;const i=n.tr;if(e.forEach((e=>{const t=new Set;if(!e.docChanged)return;if("cut"===e.getMeta("uiEvent"))return;const s=((e,t)=>{const n=Dc(e);return t.steps.some((e=>n.some((t=>Object(o("XyUv").i)(e,new Set([t]))))))})(n.schema,e);if(!s)return;const{transactionChanged:a}=(({transaction:e,schema:t,doc:n,shouldRegenerateLocalId:r})=>{const{fragment:i}=t.marks,s=Dc(t);let a=!1;return n.descendants(((t,n)=>{if(!s.some((e=>t.type===e)))return!0;const c=t.marks.find((e=>e.type===i));return!c||(r(c.attrs.localId)&&(a=!0,e.setNodeMarkup(n,void 0,t.attrs,t.marks.map((e=>(e.type===i&&(e.attrs.localId=o("klzq").b.generate(),
e.attrs.name=null),e))))),!0)})),{transactionChanged:a}})({doc:n.doc,schema:n.schema,transaction:i,shouldRegenerateLocalId:e=>!!t.has(e)||(t.add(e),!1)});a&&(r=!0)})),r)return i}});var Bc=()=>({name:"fragmentPlugin",marks:()=>[{name:"fragment",mark:o("ruyZ").a}],pmPlugins:()=>[{name:"fragmentMarkConsistency",plugin:({dispatch:e})=>Fc()}]});const Vc=new d.PluginKey("codeBidiWarningPlugin");const{createPluginState:zc,getPluginState:Hc}=Object(o("pVB1").a)(Vc,((e,t)=>e),{onDocChanged:(e,t)=>{if(!e.steps.find(o("XyUv").j))return t;const n=Uc({doc:e.doc,codeBidiWarningLabel:t.codeBidiWarningLabel,tooltipEnabled:t.tooltipEnabled});return{...t,decorationSet:n}}});function Uc({doc:e,codeBidiWarningLabel:t,tooltipEnabled:n}){const r=[];if(e.descendants(((e,t)=>{if("text"===e.type.name&&e.marks&&e.marks.some((e=>"code"===e.type.name)))return Object(o("Q+q7").a)(e.textContent,(({bidiCharacter:e,index:n})=>{r.push({position:t+n,bidiCharacter:e})})),!1
;"codeBlock"===e.type.name&&Object(o("Q+q7").a)(e.textContent,(({bidiCharacter:e,index:n})=>{r.push({position:t+n+1,bidiCharacter:e})}))})),0===r.length)return ae.b.empty;const i=ae.b.create(e,r.map((({position:e,bidiCharacter:r})=>ae.a.widget(e,(()=>function({bidiCharacter:e,codeBidiWarningLabel:t,tooltipEnabled:n}){const r=document.createElement("span");return X.a.render(c.a.createElement(o("HDAP").a,{bidiCharacter:e,skipChildren:!0,label:t,tooltipEnabled:n}),r),r}({bidiCharacter:r,codeBidiWarningLabel:t,tooltipEnabled:n}))))));return i}var Wc=({appearance:e})=>({name:"codeBidiWarning",pmPlugins:()=>[{name:"codeBidiWarning",plugin:t=>(({dispatch:e,getIntl:t},{appearance:n})=>{const r=t().formatMessage(o("XXJR").a.label);return new(o("KkS8").a)({key:Vc,state:zc(e,(e=>{const t="mobile"!==n;return{decorationSet:Uc({doc:e.doc,codeBidiWarningLabel:r,tooltipEnabled:t}),codeBidiWarningLabel:r,tooltipEnabled:t}})),props:{decorations:e=>{const{decorationSet:t}=Hc(e);return t}}})})(t,{
appearance:e})}]});function Kc({markType:e,transaction:t}){const n=t.selection.$head,o=t.selection.$head.index(),r=n.parent.maybeChild(o);let i=0;n.parent.forEach(((e,t,n)=>{n===o&&(i=t)}));const s=n.start(n.depth)+i;return{start:s,end:s+r.text.length,markType:e}}var $c=function(){return new(o("KkS8").a)({key:o("W4JY").a,state:{init:()=>({copied:!1,markSelection:void 0}),apply(e,t){const n=e.getMeta(o("W4JY").a);return void 0!==(null==n?void 0:n.copied)?{copied:n.copied,markSelection:void 0}:null!=n&&n.showSelection?{copied:t.copied,markSelection:Kc({markType:n.markType,transaction:e})}:null!=n&&n.removeSelection?{copied:t.copied,markSelection:void 0}:t.markSelection?{copied:t.copied,markSelection:Kc({markType:t.markSelection.markType,transaction:e})}:t}},props:{decorations:e=>ae.b.empty}})};var qc=()=>({name:"copyButton",pmPlugins:()=>[{name:"copyButton",plugin:()=>$c()}]});function Gc(e,t,n){const o=t.map.cellsInRect({left:0,top:0,right:"row"===e?t.map.width:1,
bottom:"column"===e?t.map.height:1});for(let r=0;r<o.length;r++){const e=t.table.nodeAt(o[r]);if(e&&e.type!==n.header_cell)return!1}return!0}function Yc(e){return function(t,n){if(!Object(o("OC6D").b)(t))return!1;if(n){let r=Object(o("p81E").a)(t.schema),i=Object(o("gtpc").a)(t),s=t.tr,a=Gc("row",i,r),c=Gc("column",i,r),l=("column"===e?a:"row"===e&&c)?1:0;const d="column"===e?new(o("wYWE").a)(0,l,1,i.map.height):"row"===e?new(o("wYWE").a)(l,0,i.map.width,1):i;let u;u="column"===e?c?r.cell:r.header_cell:"row"===e?a?r.cell:r.header_cell:r.cell,i.map.cellsInRect(d).forEach((e=>{const t=e+i.tableStart,n=s.doc.nodeAt(t);n&&s.setNodeMarkup(t,u,n.attrs)})),n(s)}return!0}}function Qc(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;if(!t.firstChild)throw new Error("pastedCells: no firstChild defined for content");for(;1===t.childCount&&(n>0&&r>0||"table"===t.firstChild.type.spec.tableRole);)if(n--,r--,t=t.firstChild.content,
!t.firstChild)throw new Error("pastedCells: no firstChild defined for content");const i=t.firstChild,s=i.type.spec.tableRole,{schema:a}=i.type,c=[];if("row"===s)for(let d=0;d<t.childCount;d++){let e=t.child(d).content;const i=d?0:Math.max(0,n-1),s=d<t.childCount-1?0:Math.max(0,r-1);(i||s)&&(e=Xc(Object(o("p81E").a)(a).row,new ie.Slice(e,i,s)).content),c.push(e)}else{if("cell"!==s&&"header_cell"!==s)return null;c.push(n||r?Xc(Object(o("p81E").a)(a).row,new ie.Slice(t,n,r)).content:t)}const l=c.map((e=>function(e,t){const n=[];return t.forEach((t=>{var r;const i=Object(o("p81E").a)(e).cell,s=t.type===i?t:null!==(r=i.createAndFill(t.attrs,t.content,t.marks))&&void 0!==r?r:t;n.push(s)})),ie.Fragment.from(n)}(a,e)));return function(e,t){const n=t,r=[];for(let o=0;o<n.length;o++){const e=n[o];for(let t=e.childCount-1;t>=0;t--){const{rowspan:n,colspan:i}=e.child(t).attrs;for(let e=o;e<o+n;e++)r[e]=(r[e]||0)+i}}let i=0;for(let o=0;o<r.length;o++)i=Math.max(i,r[o])
;for(let s=0;s<r.length;s++)if(s>=n.length&&n.push(ie.Fragment.empty),r[s]<i){const t=Object(o("p81E").a)(e).cell.createAndFill(),a=[];for(let e=r[s];e<i;e++)a.push(t);n[s]=n[s].append(ie.Fragment.from(a))}return{height:n.length,width:i,rows:n}}(a,l)}function Xc(e,t){const n=e.createAndFill();if(!n)throw new Error("fitSlice: unable to create node");return new U.i(n).replace(0,n.content.size,t).doc}function Zc(e,t,n,o,r,i,s,a){if(0===s||s===t.height)return!1;let c=!1;for(let l=r;l<i;l++){const r=s*t.width+l,i=t.map[r];if(t.map[r-t.width]===i){c=!0;const r=n.nodeAt(i);if(!r)throw new Error(`isolateHorizontal: no cell found at pos ${i}`);const{top:d,left:u}=t.findCell(i);e.setNodeMarkup(e.mapping.slice(a).map(i+o),void 0,{...r.attrs,rowspan:s-d});const p=r.type.createAndFill({...r.attrs,rowspan:d+r.attrs.rowspan-s});if(!p)throw new Error("isolateHorizontal: failed to create cell");e.insert(e.mapping.slice(a).map(t.positionAt(s,u,n)),p),l+=r.attrs.colspan-1}}return c}
function Jc(e,t,n,r,i,s,a,c){if(0===a||a===t.width)return!1;let l=!1;for(let d=i;d<s;d++){const i=d*t.width+a,s=t.map[i];if(t.map[i-1]===s){l=!0;const i=n.nodeAt(s);if(!i)throw new Error(`isolateVertical: could not find cell at pos ${s}`);const u=t.colCount(s),p=e.mapping.slice(c).map(s+r);e.setNodeMarkup(p,void 0,Object(o("11sg").c)(i.attrs,a-u,i.attrs.colspan-(a-u)));const h=i.type.createAndFill(Object(o("11sg").c)(i.attrs,0,a-u));if(!h)throw new Error("isolateVertical: failed to create cell");e.insert(p+i.nodeSize,h),d+=i.attrs.rowspan-1}}return l}function el(e,t,n,r,i){let s=e.doc;const a=Object(o("gtpc").a)(e),c=Object(o("p81E").a)(e.schema),l=Gc("row",a,c),d=Gc("column",a,c);if(n&&(s=e.doc.nodeAt(n-1),!s))throw new Error("insertCells: could not find table at pos "+(n-1));let u=o("wYWE").b.get(s);const{top:p,left:h}=r,f=h+i.width,m=p+i.height,{tr:b}=e;let g=0;function v(){s=n?b.doc.nodeAt(n-1):b.doc,u=o("wYWE").b.get(s),g=b.mapping.maps.length}(function(e,t,n,r,i,s,a){
const{schema:c}=e.doc.type,l=Object(o("p81E").a)(c);let d,u;if(i>t.width)for(let o=0,p=0;o<t.height;o++){const s=n.child(o);p+=s.nodeSize;const c=[];let h;h=null==s.lastChild||s.lastChild.type===l.cell?d||(d=l.cell.createAndFill()):u||(u=l.header_cell.createAndFill());for(let e=t.width;e<i;e++)c.push(h);e.insert(e.mapping.slice(a).map(p-1+r),c)}if(s>t.height){const o=[];for(let e=0,r=(t.height-1)*t.width;e<Math.max(t.width,i);e++){let i;if(e>=t.width)i=!1;else{const o=t.map[r+e],s=n.nodeAt(o);if(!s)throw new Error(`growTable: no node found at pos ${o}`);i=s.type===l.header_cell}o.push(i?u||(u=l.header_cell.createAndFill()):d||(d=l.cell.createAndFill()))}const c=l.row.create(null,ie.Fragment.from(o)),p=[];for(let e=t.height;e<s;e++)p.push(c);e.insert(e.mapping.slice(a).map(r+n.nodeSize-2),p)}return!(!d&&!u)})(b,u,s,n,f,m,g)&&v(),Zc(b,u,s,n,h,f,p,g)&&v(),Zc(b,u,s,n,h,f,m,g)&&v(),Jc(b,u,s,n,p,m,h,g)&&v(),Jc(b,u,s,n,p,m,f,g)&&v();for(let o=p;o<m;o++){
const e=u.positionAt(o,h,s),t=u.positionAt(o,f,s);b.replace(b.mapping.slice(g).map(e+n),b.mapping.slice(g).map(t+n),new ie.Slice(i.rows[o-p],0,0))}v(),function(e,t,n,o,r,i,s){const{schema:a}=n,c=(e,n,i,s)=>{const c=o+t.positionAt(n,i,r),l=e.doc.nodeAt(c),d=s?a.nodes.tableHeader:a.nodes.tableCell,u=d!==(null==l?void 0:l.type),p=[a.nodes.tableCell,a.nodes.tableHeader].includes(null==l?void 0:l.type);u&&p&&e.setNodeMarkup(c,d,null==l?void 0:l.attrs,null==l?void 0:l.marks)};c(e,0,0,s||i);for(let l=1;l<t.width;l++)c(e,0,l,i);for(let l=1;l<t.height;l++)c(e,l,0,s)}(b,u,e,n,s,l,d),b.setSelection(new(o("n1Ll").a)(b.doc.resolve(n+u.positionAt(p,h,s)),b.doc.resolve(n+u.positionAt(m-1,f-1,s)))),t(b)}function tl(e,t,n){if(!Object(o("OC6D").b)(e.state))return!1;let r=Qc(n);const i=e.state.selection;if(i instanceof o("n1Ll").a){r||(r={width:1,height:1,rows:[ie.Fragment.from(Xc(Object(o("p81E").a)(e.state.schema).cell,n))]})
;const t=i.$anchorCell.node(-1),s=i.$anchorCell.start(-1),a=o("wYWE").b.get(t),c=a.rectBetween(i.$anchorCell.pos-s,i.$headCell.pos-s);return r=function({width:e,height:t,rows:n},r,i){let s=n,a=e,c=t;if(a!==r){const e=[],t=[];for(let n=0;n<s.length;n++){const i=s[n],a=[];for(let t=e[n]||0,s=0;t<r;s++){let c=i.child(s%i.childCount);t+c.attrs.colspan>r&&(c=c.type.create(Object(o("11sg").c)(c.attrs,c.attrs.colspan,t+c.attrs.colspan-r),c.content)),a.push(c),t+=c.attrs.colspan;for(let t=1;t<c.attrs.rowspan;t++)e[n+t]=(e[n+t]||0)+c.attrs.colspan}t.push(ie.Fragment.from(a))}s=t,a=r}if(c!==i){const e=[];for(let t=0,n=0;t<i;t++,n++){const o=[],r=s[n%c];for(let e=0;e<r.childCount;e++){let n=r.child(e);t+n.attrs.rowspan>i&&(n=n.type.create({...n.attrs,rowspan:Math.max(1,i-n.attrs.rowspan)},n.content)),o.push(n)}e.push(ie.Fragment.from(o))}s=e,c=i}return{width:a,height:c,rows:s}}(r,c.right-c.left,c.bottom-c.top),el(e.state,e.dispatch,s,c,nl(r,c,a)),!0}if(r){const t=Object(o("b+wK").a)(i)
;if(!t)throw new Error("handlePaste: no cell found");const n=t.start(-1),s=o("wYWE").b.get(t.node(-1)).findCell(t.pos-n),a=o("wYWE").b.get(t.node(-1));return el(e.state,e.dispatch,n,s,nl(r,s,a)),!0}return!1}const nl=(e,t,n)=>{const o=[];for(const r of e.rows){let e=t.left;for(let t=0;t<r.childCount;t++){const i=r.child(t);if(!(e+i.attrs.colspan<=n.width))break;o.push(i),e+=i.attrs.colspan}}for(const r of o)r.attrs.colwidth=null;return e};function ol(e){if(!(e.selection instanceof o("n1Ll").a))return null;const t=[];return e.selection.forEachCell(((e,n)=>{t.push(ae.a.node(n,n+e.nodeSize,{class:"selectedCell"}))})),ae.b.create(e.doc,t)}const rl=new d.PluginKey("selectingCells"),il=new d.PluginKey("fix-tables");function sl(e,t,n,o){let r=n;const i=e.childCount,s=t.childCount;e:for(let a=0,c=0;a<s;a++){const n=t.child(a);for(let t=c,o=Math.min(i,a+3);t<o;t++)if(e.child(t)===n){c=t+1,r+=n.nodeSize;continue e}o(n,r),
c<i&&e.child(c).sameMarkup(n)?sl(e.child(c),n,r+1,o):n.nodesBetween(0,n.content.size,o,r+1),r+=n.nodeSize}}function al(e,t,n){let r;const i=(t,i)=>{"table"===t.type.spec.tableRole&&(r=function(e,t,n,r,i){let s=r;const a=o("wYWE").b.get(t);if(!a.problems)return s;s||(s=e.tr);const c=[];for(let o=0;o<a.height;o++)c.push(0);for(let u=0;u<a.problems.length;u++){const r=a.problems[u];if(i&&i({state:e,tr:s,reason:r.type||"unknown"}),r.type===o("wYWE").c.COLLISION){const e=r,i=t.nodeAt(r.pos);if(!i)throw new Error(`fixTable: unable to find cell at pos ${r.pos}`);for(let t=0;t<i.attrs.rowspan;t++)c[e.row+t]+=e.n;s.setNodeMarkup(s.mapping.map(n+1+r.pos),void 0,Object(o("11sg").c)(i.attrs,i.attrs.colspan-e.n,e.n))}else if(r.type===o("wYWE").c.MISSING){const e=r;c[e.row]+=e.n}else if(r.type===o("wYWE").c.OVERLONG_ROWSPAN){const e=r,o=t.nodeAt(e.pos);if(!o)throw new Error(`fixTable: unable to find cell at pos ${r.pos}`);s.setNodeMarkup(s.mapping.map(n+1+e.pos),void 0,{...o.attrs,
rowspan:o.attrs.rowspan-e.n})}else if(r.type===o("wYWE").c.COLWIDTH_MISMATCH){const e=t.nodeAt(r.pos);if(!e)throw new Error(`fixTable: unable to find cell at pos ${r.pos}`);s.setNodeMarkup(s.mapping.map(n+1+r.pos),void 0,{...e.attrs,colwidth:r.colwidth})}}let l,d;for(let o=0;o<c.length;o++)c[o]&&(null==l&&(l=o),d=o);for(let u=0,p=n+1;u<a.height;u++){const n=t.child(u),r=p+n.nodeSize,i=c[u];if(i>0){let t="cell";n.firstChild&&(t=n.firstChild.type.spec.tableRole);const a=[];for(let n=0;n<i;n++)a.push(Object(o("p81E").a)(e.schema)[t].createAndFill());const c=0!==u&&l!==u-1||d!==u?r-1:p+1;s.insert(s.mapping.map(c),a)}p=r}return s.setMeta(il,{fixTables:!0})}(e,t,i,r,n))};return t?t.doc!==e.doc&&sl(t.doc,e.doc,0,i):e.doc.descendants(i),r}const cl=Object(V.a)({ArrowLeft:dl("horiz",-1),ArrowRight:dl("horiz",1),ArrowUp:dl("vert",-1),ArrowDown:dl("vert",1),"Shift-ArrowLeft":ul("horiz",-1),"Shift-ArrowRight":ul("horiz",1),"Shift-ArrowUp":ul("vert",-1),"Shift-ArrowDown":ul("vert",1),Backspace:pl,
"Mod-Backspace":pl,Delete:pl,"Mod-Delete":pl});function ll(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function dl(e,t){return(n,r,i)=>{if(r){const s=n.selection;if(s instanceof o("n1Ll").a)return ll(n,r,d.Selection.near(s.$headCell,t));if("horiz"!==e&&!s.empty)return!1;const a=i?ml(i,e,t):null;if(null===a)return!1;if("horiz"===e)return ll(n,r,d.Selection.near(n.doc.resolve(s.head+t),t));const c=n.doc.resolve(a),l=Object(o("EdO1").c)(c,e,t);let u;return u=l?d.Selection.near(l,1):t<0?d.Selection.near(n.doc.resolve(c.before(-1)),-1):d.Selection.near(n.doc.resolve(c.after(-1)),1),ll(n,r,u)}return!0}}function ul(e,t){return(n,r,i)=>{let s=n.selection;if(!(s instanceof o("n1Ll").a)){var a;const r=i?ml(i,e,t):null;if(null===r)return!1;const{selection:{$head:c,$anchor:l}}=n,d=c.blockRange(l);if(!["tableCell","tableHeader"].includes((null==d||null===(a=d.parent)||void 0===a?void 0:a.type.name)||""))return!1;s=new(o("n1Ll").a)(n.doc.resolve(r))}
const c=Object(o("EdO1").c)(s.$headCell,e,t);return!!c&&(!r||ll(n,r,new(o("n1Ll").a)(s.$anchorCell,c)))}}function pl(e,t){const n=e.selection;if(!(n instanceof o("n1Ll").a))return!1;if(t){const{tr:r}=e,i=Object(o("p81E").a)(e.schema).cell.createAndFill().content;n.forEachCell(((e,t)=>{e.content.eq(i)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new ie.Slice(i,0,0))})),r.docChanged&&t(r)}return!0}function hl(e,t){const{doc:n}=e.state,r=Object(o("EdO1").a)(n.resolve(t));return!!r&&(e.dispatch(e.state.tr.setSelection(new(o("n1Ll").a)(r))),!0)}function fl(e,t){const n=t;if(n.ctrlKey||n.metaKey||2===n.button)return!1;const r=bl(e,n.target),i=Object(o("EdO1").a)(e.state.selection.$anchor);if(n.shiftKey&&e.state.selection instanceof o("n1Ll").a)s(e.state.selection.$anchorCell,n),n.preventDefault();else if(n.shiftKey&&r&&null!==i&&gl(e,n).pos!==i.pos)s(i,n),n.preventDefault();else if(!r)return!1;function s(t,n){let r=gl(e,n);const i=null==rl.getState(e.state)
;if(!r||!Object(o("OC6D").a)(t,r)){if(!i)return!1;r=t}const s=new(o("n1Ll").a)(t,r);if(i||!e.state.selection.eq(s)){const n=e.state.tr.setSelection(s);i&&n.setMeta(rl,t.pos),e.dispatch(n)}}function a(){e.root.removeEventListener("mouseup",a),e.root.removeEventListener("dragstart",a),e.root.removeEventListener("mousemove",c),null!=rl.getState(e.state)&&e.dispatch(e.state.tr.setMeta(rl,-1))}function c(t){const o=rl.getState(e.state);let i;if(null!=o)i=e.state.doc.resolve(o);else if(bl(e,t.target)!==r&&(i=gl(e,n),!i))return void a();i&&s(i,t)}return e.root.addEventListener("mouseup",a),e.root.addEventListener("dragstart",a),e.root.addEventListener("mousemove",c),!1}function ml(e,t,n){if(!(e.state.selection instanceof d.TextSelection))return null;const{$head:o}=e.state.selection;for(let r=o.depth-1;r>=0;r--){const i=o.node(r);if((n<0?o.index(r):o.indexAfter(r))!==(n<0?0:i.childCount))return null;if("cell"===i.type.spec.tableRole||"header_cell"===i.type.spec.tableRole){
const i=o.before(r),s="vert"===t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(s)?i:null}}return null}function bl(e,t){let n=t;for(;n&&n!==e.dom;n=n.parentNode)if("TD"===n.nodeName||"TH"===n.nodeName)return n;return null}function gl(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n?Object(o("EdO1").a)(e.state.doc.resolve(n.pos)):null}function vl({allowTableNodeSelection:e=!1,reportFixedTable:t}={}){return new d.Plugin({key:rl,state:{init:()=>null,apply(e,t){const n=e,o=n.getMeta(rl);if(null!=o)return-1===o?null:o;if(null==t||!n.docChanged)return t;const{deleted:r,pos:i}=n.mapping.mapResult(t);return r?null:i}},props:{decorations:ol,handleDOMEvents:{mousedown:fl},createSelectionBetween:e=>null!=rl.getState(e.state)?e.state.selection:null,handleTripleClick:hl,handleKeyDown:cl,handlePaste:tl},appendTransaction:(n,r,i)=>function(e,t,n){let r=t;const i=(r||e).selection,{doc:s}=r||e;let a,c;if(i instanceof d.NodeSelection&&(c=i.node.type.spec.tableRole),
i instanceof d.NodeSelection&&c){if("cell"===c||"header_cell"===c)a=o("n1Ll").a.create(s,i.from);else if("row"===c){const e=s.resolve(i.from+1);a=o("n1Ll").a.rowSelection(e,e)}else if(!n){const e=o("wYWE").b.get(i.node),t=i.from+1,n=t+e.map[e.width*e.height-1];a=o("n1Ll").a.create(s,t+1,n)}}else i instanceof d.TextSelection&&function({$from:e,$to:t}){if(e.pos===t.pos||e.pos<e.pos-6)return!1;let n=e.pos,o=t.pos,{depth:r}=e;for(;r>=0&&!(e.after(r+1)<e.end(r));r--,n++);for(let i=t.depth;i>=0&&!(t.before(i+1)>t.start(i));i--,o--);return n===o&&/row|table/.test(e.node(r).type.spec.tableRole)}(i)?a=d.TextSelection.create(s,i.from):i instanceof d.TextSelection&&function({$from:e,$to:t}){let n,o;for(let r=e.depth;r>0;r--){const t=e.node(r);if("cell"===t.type.spec.tableRole||"header_cell"===t.type.spec.tableRole){n=t;break}}for(let r=t.depth;r>0;r--){const e=t.node(r);if("cell"===e.type.spec.tableRole||"header_cell"===e.type.spec.tableRole){o=e;break}}return n!==o&&0===t.parentOffset
}(i)&&(a=d.TextSelection.create(s,i.$from.start(),i.$from.end()));return a&&(r||(r=e.tr)).setSelection(a),r}(i,al(i,r,t),e)})}const yl=(e={})=>e.advanced?{allowBackgroundColor:!0,allowColumnResizing:!0,allowHeaderColumn:!0,allowHeaderRow:!0,allowMergeCells:!0,allowNumberColumn:!0,permittedLayouts:"all",allowControls:!0,...e}:e,Ol=new d.PluginKey("tableLocalIdPlugin"),El=e=>new(o("KkS8").a)({key:Ol,state:{init:()=>({parsedForLocalIds:!1}),apply(t,n){const o=t.getMeta(Ol);if(o){if(Object.keys(o).some((e=>n[e]!==o[e]))){const t={...n,...o};return e(Ol,t),t}}return n}},view:()=>({update(e){const{state:t}=e,n=(e=>e&&Ol.getState(e))(t);if(!n)return;if(n.parsedForLocalIds)return;const{table:r}=t.schema.nodes;Object(o("w95p").a)((()=>{const n=t.tr;let i=!1;e.state.doc.descendants(((e,t)=>{const s=e.type===r,a=e.attrs.localId;return!(s&&!a)||(i=!0,n.setNodeMarkup(t,void 0,{...e.attrs,localId:o("klzq").b.generate()}),!1)})),i&&(n.setMeta("addToHistory",!1),e.dispatch(n))}))(),
e.dispatch(t.tr.setMeta(Ol,{parsedForLocalIds:!0}))}}),appendTransaction:(e,t,n)=>{let r=!1;const i=n.tr,{table:s}=n.schema.nodes,a=new Set;if(e.forEach((e=>{if(!e.docChanged)return;if("cut"===e.getMeta("uiEvent"))return;const t=((e,t)=>e.steps.some((e=>Object(o("XyUv").i)(e,new Set([t])))))(e,s);t&&n.doc.descendants(((e,t)=>{const n=e.type===s,c=e.attrs.localId;return!n||(c&&!a.has(c)?a.add(c):c&&!a.has(c)||(r=!0,i.setNodeMarkup(t,void 0,{...e.attrs,localId:o("klzq").b.generate()})),!1)}))})),r)return i}}),wl=new d.PluginKey("tableSafariDelayedDomSelectionSyncingWorkaround"),Sl=new d.PluginKey("tableSafariDeleteCompositionTextIssueWorkaround");const kl=(e,t)=>n=>{if(e){const r=Object(o("p81E").a)(t).cell.createAndFill();if(r&&!e.node.content.eq(r.content))return n.replaceWith(e.pos+1,e.pos+e.node.nodeSize,r.content),Object(o("oSJA").a)(n)}return n},xl=(e,t)=>{const n=Object(o("nO6g").a)(e.tr);return!!n&&(t&&t(n),!0)},Cl=e=>{const{$from:t}=e.selection;for(let n=t.depth;n>0;n--){
if("table"===t.node(n).type.spec.tableRole)return Object(o("oSJA").a)(e.delete(t.before(n),t.after(n)))}return e},Tl=e=>(t,n)=>r=>{const i=Object(o("zYPQ").c)(r.selection),s="row"===e;if(i){const e=o("wYWE").b.get(i.node);if(t>=0&&t<(s?e.height:e.width)){let a=s?0:t,c=s?t:0,l=s?e.width:t+1,d=s?t+1:e.height;if(n){const t=Object(o("zYPQ").a)(r.selection.$from);if(!t)return r;const n=e.findCell(t.pos-i.start);s?(c=Math.min(c,n.top),d=Math.max(d,n.bottom)):(a=Math.min(a,n.left),l=Math.max(l,n.right))}const u=e.cellsInRect({left:a,top:c,right:s?l:a+1,bottom:s?c+1:d}),p=d-c==1?u:e.cellsInRect({left:s?a:l-1,top:s?d-1:c,right:l,bottom:d}),h=i.start+u[0],f=i.start+p[p.length-1],m=r.doc.resolve(h),b=r.doc.resolve(f);return Object(o("oSJA").a)(r.setSelection(new(o("n1Ll").a)(b,m)))}}return r
},jl=Tl("column"),Al=Tl("row"),Nl=[[],[]],Il=e=>({decorationSet:t,tr:n})=>Object(o("xQCw").i)(n.doc,t,e,o("p3BF").c.COLUMN_RESIZING_HANDLE),Pl=e=>({decorationSet:t,tr:n})=>Object(o("xQCw").i)(n.doc,t,e,o("p3BF").c.LAST_CELL_ELEMENT),Ml=(e,t)=>({tr:n,decorationSet:r})=>{const[i,s]=t<0?Nl:Object(o("xQCw").f)(n,e,{right:t});return Object(o("RFJY").a)([Il(i),Pl(s)])({decorationSet:r,tr:n})},Rl=e=>Object(o("dGVe").a)({type:"SET_EDITOR_FOCUS",data:{editorHasFocus:e}}),_l=(e,t)=>(t&&t(Cl(e.tr)),!0),Ll=(e,t)=>!!Object(o("+yxU").c)(e.selection)&&_l(e,t),Dl=(e,t)=>{const{$cursor:n}=e.selection;if(!n||n.parentOffset>0)return!1;let r,i;if(!Object(o("r/3z").f)(n.parent))for(let d=n.depth-1;!r&&d>=0&&(n.index(d)>0&&(i=n.before(d+1),r=n.node(d).child(n.index(d)-1)),!Object(o("r/3z").f)(n.node(d)));d--);if(!r||r.type!==e.schema.nodes.table)return!1;const s=n.node(n.depth-1);if(n.parent.type!==e.schema.nodes.paragraph||s&&s.type!==e.schema.nodes.doc)return!1;const{tr:a}=e,c=(i||0)-4
;a.setSelection(new d.TextSelection(e.doc.resolve(c)));const{$from:l}=a.selection,u=l.start(-1)+l.parent.nodeSize-1;a.setSelection(new d.TextSelection(e.doc.resolve(u)));const p=n.node(),h=e.doc.content.size,f=n.pos-1,m=n.pos+1;return 0===p.content.size&&n.pos+1!==h&&a.delete(f,m),t&&t(a),!0},Fl=e=>Object(o("dGVe").a)((t=>e>-1&&{type:"SHOW_INSERT_ROW_BUTTON",data:{insertRowButtonIndex:e}}),(e=>e.setMeta("addToHistory",!1))),Bl=()=>Object(o("dGVe").a)({type:"HIDE_INSERT_COLUMN_OR_ROW_BUTTON"},(e=>e.setMeta("addToHistory",!1))),Vl=(e,t)=>{const n=[],r=o("wYWE").b.get(e);for(let o=0;o<r.height;o++){const i=e.child(o),s=[];for(let n=0;n<r.width;n++){if(!t[o][n])continue;const i=r.map[o*r.width+n],a=t[o][n],c=e.nodeAt(i);if(!a||!c)continue;const l=c.type.createChecked(Object.assign({},a.attrs),a.content,a.marks);s.push(l)}n.push(i.type.createChecked(i.attrs,s,i.marks))}return e.type.createChecked(e.attrs,n,e.marks)},zl=e=>{const t=o("wYWE").b.get(e),n=[];for(let o=0;o<t.height;o++){
const r=[],i={};for(let n=0;n<t.width;n++){const s=t.map[o*t.width+n],a=e.nodeAt(s),c=t.findCell(s);a&&!i[s]&&c.top===o?(i[s]=!0,r.push(a)):r.push(null)}n.push(r)}return n};let Hl;function Ul(e){return e=>{const{data:t}=e;if(t&&(t.name||t.title))return t.name||t.title;const{url:n}=e;return n}}!function(e){e.ASC="asc",e.DESC="desc"}(Hl||(Hl={}));function Wl(e){return(t,n)=>{let r,i,s=t.selection;if(s instanceof o("n1Ll").a){if(s.$anchorCell.pos!==s.$headCell.pos)return!1;r=s.$anchorCell.nodeAfter,i=s.$anchorCell.pos}else{if(r=function(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}(s.$from),!r)return!1;const e=Object(o("EdO1").a)(s.$from);i=e&&e.pos}if(r&&1===r.attrs.colspan&&1===r.attrs.rowspan)return!1;if(r&&n){let a=r.attrs,c=[],l=a.colwidth;a.rowspan&&a.rowspan>1&&(a={...a,rowspan:1}),a.colspan&&a.colspan>1&&(a={...a,colspan:1});let d=Object(o("gtpc").a)(t),u=t.tr
;for(let e=0;e<d.right-d.left;e++)c.push(l?{...a,colwidth:l&&l[e]?[l[e]]:null}:a);let p=null;for(let t=d.top;t<d.bottom;t++){let n=d.map.positionAt(t,d.left,d.table);t===d.top&&(n+=r.nodeSize);for(let o=d.left,i=0;o<d.right;o++,i++){if(o===d.left&&t===d.top)continue;const s=e({node:r,row:t,col:o}).createAndFill(c[i]);s&&u.insert(p=u.mapping.map(n+d.tableStart,1),s)}}"number"==typeof i&&u.setNodeMarkup(i,e({node:r,row:d.top,col:d.left}),c[0]);const h=p&&u.doc.resolve(p);s instanceof o("n1Ll").a&&h instanceof ie.ResolvedPos&&u.setSelection(new(o("n1Ll").a)(u.doc.resolve(s.$anchorCell.pos),h)),n(u)}return!0}}const Kl=(e,t)=>{const n=Object(o("dGVe").c)(e),{tableHeader:r,tableCell:i}=e.schema.nodes;return!t||Wl((({row:e,col:t})=>0===e&&n.isHeaderRowEnabled||0===t&&n.isHeaderColumnEnabled?r:i))(e,t)},$l=e=>{switch(e){case"default":return"wide";case"wide":return"full-width";default:return"default"}},ql=(e,t)=>Yc("row")(e,(n=>Object(o("dGVe").a)({type:"TOGGLE_HEADER_ROW"
},(()=>n.setMeta("scrollIntoView",!1)))(e,t))),Gl=(e,t)=>Yc("column")(e,(n=>Object(o("dGVe").a)({type:"TOGGLE_HEADER_COLUMN"},(()=>n.setMeta("scrollIntoView",!1)))(e,t))),Yl=(e,t)=>{const{tr:n}=e,{node:r,pos:i}=Object(o("zYPQ").c)(e.selection);return n.setNodeMarkup(i,e.schema.nodes.table,{...r.attrs,isNumberColumnEnabled:!r.attrs.isNumberColumnEnabled}),n.setMeta("scrollIntoView",!1),t&&t(n),!0},Ql=(e,t)=>{const n=Object(o("zYPQ").c)(e.selection);if(!n)return!1;const r=$l(n.node.attrs.layout);return Object(o("dGVe").a)({type:"SET_TABLE_LAYOUT",data:{layout:r}},(t=>(t.setNodeMarkup(n.pos,e.schema.nodes.table,{...n.node.attrs,layout:r}),t.setMeta("scrollIntoView",!1))))(e,t)},Xl=()=>Object(o("dGVe").a)({type:"TOGGLE_CONTEXTUAL_MENU"},(e=>e.setMeta("addToHistory",!1)));const Zl=Object(o("pVB1").a)(o("u/2i").a,((e,t)=>{switch(t.type){case"STOP_RESIZING":return{...e,resizeHandlePos:null,dragging:null};case"SET_RESIZE_HANDLE_POSITION":return{...e,resizeHandlePos:t.data.resizeHandlePos}
;case"SET_DRAGGING":return{...e,dragging:t.data.dragging};case"SET_LAST_CLICK":const{lastClick:n}=t.data;return{...e,lastClick:n,resizeHandlePos:n?e.resizeHandlePos:null};default:return e}}),{mapping:function(e,t){return t&&null!==t.resizeHandlePos?{...t,resizeHandlePos:e.mapping.map(t.resizeHandlePos)}:t}}),Jl=Zl.createCommand,ed=Zl.createPluginState,td=Zl.getPluginState,nd=e=>Jl({type:"STOP_RESIZING"},(t=>(e||t).setMeta("scrollIntoView",!1))),od=(e,t)=>Jl({type:"SET_LAST_CLICK",data:{lastClick:e}},t);function rd(e){const{selection:t}=e;if(!(t instanceof o("n1Ll").a)||t.$anchorCell.pos===t.$headCell.pos)return!1;const n=Object(o("n3wV").a)(t);if(!n)return!1;const r=t.$anchorCell.node(-1);return!function({width:e,height:t,map:n},o){let r=o.top*e+o.left,i=r,s=(o.bottom-1)*e+o.left,a=r+(o.right-o.left-1);for(let c=o.top;c<o.bottom;c++){if(o.left>0&&n[i]===n[i-1]||o.right<e&&n[a]===n[a+1])return!0;i+=e,a+=e}for(let c=o.left;c<o.right;c++){
if(o.top>0&&n[r]===n[r-e]||o.bottom<t&&n[s]===n[s+e])return!0;r++,s++}return!1}(o("wYWE").b.get(r),n)}function id(e){const{content:t}=e;return 1===t.childCount&&t.firstChild&&t.firstChild.isTextblock&&0===t.firstChild.childCount}function sd(e,t,n=1){const o={...e,colspan:(e.colspan||1)+n};if(o.colwidth){o.colwidth=o.colwidth.slice();for(let e=0;e<n;e++)o.colwidth.splice(t,0,0)}return o}function ad(e){const t=[],n=o("wYWE").b.get(e),r=function(e){const t=o("wYWE").b.get(e),n=new Set;for(let o=0;o<t.width;o++)t.cellsInRect({left:o,right:o+1,top:0,bottom:t.height}).length||n.add(o);return n}(e);if(0===r.size)return e;for(let o=0;o<n.height;o++){const i={};for(let t=n.width-1;t>=0;t--){const s=n.map[t+o*n.width],a=n.findCell(s);let c=i[a.left]||e.nodeAt(s);if(a.top===o){if(r.has(t)){const{colspan:e,colwidth:t}=c.attrs;e>1&&(c=c.type.createChecked({...c.attrs,colspan:e-1,colwidth:t?t.slice(0,e):null},c.content,c.marks))}i[a.left]=c}}const s=Object.values(i),a=e.child(o)
;a&&t.push(a.type.createChecked(a.attrs,s,a.marks))}return t.length?e.type.createChecked(e.attrs,t,e.marks):null}const cd=(e,t=!1)=>n=>{const r=Object(o("zYPQ").c)(n.selection);if(!r)return n;const i=[],s=o("wYWE").b.get(r.node);for(let o=e.top;o<e.bottom;o++)if(t){const e=r.node.nodeAt(s.map[o*s.width]);e&&e.type!==e.type.schema.nodes.tableHeader&&i.push(o)}else i.push(o);if(!i.length)return n;const a=[],c={},l={};for(let e=0;e<s.height;e++){const t=[],n=r.node.child(e);for(let o=0;o<s.width;o++){const n=s.map[e*s.width+o],a=r.node.nodeAt(n);if(!a)continue;const d=s.cellsInRect({left:0,top:e,right:s.width,bottom:e+1});if(-1!==i.indexOf(e)||c[n])d.indexOf(n)>-1&&(l[n]=!0);else{if(d.indexOf(n)>-1){let o=0;if(i.forEach((t=>{e<t&&a.attrs.rowspan+e-1>=t&&(o+=1)})),o>0){const e=a.type.createChecked({...a.attrs,rowspan:a.attrs.rowspan-o},a.content,a.marks);t.push(e),c[n]=!0;continue}}else if(l[n]){const e={...a.attrs,colspan:1,rowspan:1};if(a.attrs.colwidth){const t=o>0?o-s.colCount(n):0
;e.colwidth=a.attrs.colwidth.slice().splice(t,1)}const r=a.type.createChecked(e,a.type.schema.nodes.paragraph.createChecked(),a.marks);t.push(r);continue}c[n]||(c[n]=!0,t.push(a))}}t.length&&a.push(n.type.createChecked(n.attrs,t,n.marks))}if(!a.length)return Object(o("3R0y").a)({type:"DELETE_ROWS",problem:"EMPTY_TABLE"})(n);const u=r.node.type.createChecked(r.node.attrs,a,r.node.marks),p=ad(u);if(null===p)return Object(o("3R0y").a)({type:"DELETE_ROWS",problem:"REMOVE_EMPTY_COLUMNS"})(n);const h=function(e,t){const n=Math.min(...t),r=n>0?n-1:0,i=o("wYWE").b.get(e);return i.map[r*i.width]}(u,i);return Object(o("3R0y").a)({type:"DELETE_ROWS"})(n.replaceWith(r.pos,r.pos+r.node.nodeSize,p).setSelection(d.Selection.near(n.doc.resolve(r.pos+h))))};const ld=e=>t=>{const n=Object(o("zYPQ").c)(t.selection);if(!n)return t;!function(e,t,n,r){let i=e.mapping.maps.length;const s=e.doc.nodeAt(t);if(!s)return e;const a=e.doc.resolve(t).start(1),c=o("wYWE").b.get(s)
;for(let o=n;o<r;o++)for(let t=0;t<c.height;t++){const n=t*c.width+o,r=c.map[n],l=o>0&&c.map[n-1]===r||t>0&&c.map[(t-1)*c.width+o]===r,d=o<c.width-1&&c.map[n+1]===r||t<c.height-1&&c.map[(t+1)*c.width+o]===r;if(!l&&d){const n=s.nodeAt(r);if(!n)continue;const{colwidth:l,colspan:d=1,rowspan:u=1}=n.attrs;let p=e.mapping.slice(i);const h={...n.attrs,colspan:1,rowspan:1};for(let r=t;r<t+u;r++)for(let t=0;t<d;t++){let d=e.mapping.slice(i);const u=c.positionAt(r,o+t,s);e.insert(d.map(u+a),n.type.createAndFill({...h,colwidth:l?[l[t]]:void 0}))}p=e.mapping.slice(i),e.delete(p.map(r+a),p.map(r+a+n.nodeSize)),u&&u>1&&(t+=u-1)}}}(t,n.pos,e.left,e.right);let r=t.mapping.maps.length;const i=t.doc,s=[];for(let c=e.left;c<e.right;c++){const e=o("sgbj").a.create(i,n.pos,c,!0);s.push(c),t.step(e.map(t.mapping.slice(r)))}const a=t.mapping.mapResult(n.pos);if(a.deleted){const e=Math.min(a.pos,t.doc.nodeSize-1);t.setSelection(d.Selection.near(t.doc.resolve(e)))}else{const e=t.doc.nodeAt(a.pos);if(e){
const o=ud(e,s);t.setSelection(d.Selection.near(t.doc.resolve(n.pos+o)))}}return t},dd=e=>t=>{const n=Object(o("zYPQ").c)(t.selection);if(!n)return t;const r=[];for(let o=e.left;o<e.right;o++)r.push(o);if(!r.length)return t;const i=o("wYWE").b.get(n.node),s=[],a={},c={};for(let e=0;e<i.height;e++){const t=[],o=n.node.child(e);for(let s=0;s<i.width;s++){const o=i.map[e*i.width+s],l=n.node.nodeAt(o);if(!l)continue;const d=i.cellsInRect({left:s,top:0,right:s+1,bottom:i.height});if(-1===r.indexOf(s)){if(d.indexOf(o)>-1&&!a[o]){let e=0;if(r.forEach((t=>{s<t&&l.attrs.colspan+s-1>=t&&(e+=1)})),e>0){const n={...l.attrs,colspan:l.attrs.colspan-e};if(l.attrs.colwidth){const t=Math.min(...r),s=t>0?t-i.colCount(o):0,a=l.attrs.colwidth.slice()||[];a.splice(s,e),n.colwidth=a}const s=l.type.createChecked(n,l.content,l.marks);t.push(s),a[o]=!0;continue}}else if(c[o]){const e={...l.attrs,colspan:1,rowspan:1};if(l.attrs.colwidth){const t=s>0?s-i.colCount(o):0
;e.colwidth=l.attrs.colwidth.slice().splice(t,1)}const n=l.type.createChecked(e,l.type.schema.nodes.paragraph.createChecked(),l.marks);t.push(n);continue}a[o]||(a[o]=!0,t.push(l))}else d.indexOf(o)>-1&&(c[o]=!0)}t.length&&s.push(o.type.createChecked(o.attrs,t,o.marks))}if(!s.length)return Object(o("3R0y").a)({type:"DELETE_COLUMNS",problem:"EMPTY_TABLE"})(t);const l=n.node.type.createChecked(n.node.attrs,s,n.node.marks),u=function(e){const t=o("wYWE").b.get(e),n=function(e){const t=[];for(let n=0;n<e.childCount;n++){const o=[],r=e.child(n);for(let e=0;e<r.childCount;e++){const t=r.child(e);o.push(t.attrs.rowspan)}t[n]=Math.min(...o)}return t}(e);if(!n.some((e=>e>1)))return e;const r=[];for(let o=0;o<t.height;o++){const t=e.child(o);if(1===n[o])r.push(t);else{const e=[];for(let r=0;r<t.childCount;r++){const i=t.child(r),s=i.attrs.rowspan-n[o]+1;if(s<1)return null;const a=i.type.createChecked({...i.attrs,rowspan:s},i.content,i.marks);e.push(a)}
r.push(t.type.createChecked(t.attrs,e,t.marks))}}if(!r.length)return null;return e.type.createChecked(e.attrs,r,e.marks)}(l);if(null===u)return Object(o("3R0y").a)({type:"DELETE_COLUMNS",problem:"FIX_ROWSPANS"})(t);const p=ud(l,r);return Object(o("3R0y").a)({type:"DELETE_COLUMNS"})(t.replaceWith(n.pos,n.pos+n.node.nodeSize,u).setSelection(d.Selection.near(t.doc.resolve(n.pos+p))))};function ud(e,t){const n=Math.min(...t),r=n>0?n-1:0;return o("wYWE").b.get(e).map[r]}const pd=(e,t=!1)=>n=>t?ld(e)(n):dd(e)(n),hd={default:o("oTfp").b.NORMAL,wide:o("oTfp").b.WIDE,"full-width":o("oTfp").b.FULL_WIDTH},fd=e=>(t,n)=>Object(o("W+n6").c)((({selection:e})=>{const{horizontalCells:n,verticalCells:r,totalRowCount:i,totalColumnCount:s}=Object(o("W+n6").a)(e);return{action:o("oTfp").a.CLEARED,actionSubject:o("+PNV").b.TABLE,actionSubjectId:null,attributes:{inputMethod:t,horizontalCells:n,verticalCells:r,totalRowCount:i,totalColumnCount:s},eventType:o("+PNV").e.TRACK}}))(e)((e=>(t,n)=>{let r,{tr:i}=t
;if(Object(o("GhYq").a)(i.selection,"cell")){const e=i.selection;e.forEachCell(((e,n)=>{const r=i.doc.resolve(i.mapping.map(n+1));i=kl(Object(o("zYPQ").a)(r),t.schema)(i)})),r=e.$headCell.pos}else if(e){const n=Object(o("zYPQ").a)(i.doc.resolve(e+1));i=kl(n,t.schema)(i),r=n.pos}if(i.docChanged&&r){const e=i.doc.resolve(i.mapping.map(r)),t=d.Selection.findFrom(e,1,!0);return t&&i.setSelection(t),n&&n(i),!0}return!1})(n)),md=e=>t=>Object(o("W+n6").c)((({selection:e})=>{const{horizontalCells:n,verticalCells:r,totalCells:i,totalRowCount:s,totalColumnCount:a}=Object(o("W+n6").a)(e);return{action:o("oTfp").a.MERGED,actionSubject:o("+PNV").b.TABLE,actionSubjectId:null,attributes:{inputMethod:t,horizontalCells:n,verticalCells:r,totalCells:i,totalRowCount:s,totalColumnCount:a},eventType:o("+PNV").e.TRACK}}))(e)(((e,t)=>(t&&t(function(e){const{selection:t}=e;if(!(t instanceof o("n1Ll").a&&rd(e)))return e
;const n=Object(o("n3wV").a)(t),r=Object(o("zYPQ").c)(t),i=o("wYWE").b.get(r.node),s=[],a=i.cellsInRect(n);let c;const l=[];for(let d=0;d<i.height;d++){const t=[],u=r.node.child(d);for(let l=0;l<i.width;l++){const u=i.map[d*i.width+l],p=r.node.nodeAt(u);if(p&&!(s.indexOf(u)>-1))if(s.push(u),l===n.left&&d===n.top){c=u;let s=id(p)?ie.Fragment.empty:p.content;const a=[c];for(let e=n.top;e<n.bottom;e++)for(let t=n.left;t<n.right;t++){const n=i.map[e*i.width+t];if(-1===a.indexOf(n)){a.push(n);const e=r.node.nodeAt(n);e&&!id(e)&&(s=s.append(e.content))}}const l=n.bottom-n.top;if(l<1)return Object(o("3R0y").a)({type:"MERGE_CELLS",problem:"NEGATIVE_ROWSPAN"})(e);const d=sd({...p.attrs,rowspan:l},p.attrs.colspan,n.right-n.left-p.attrs.colspan),h=s===ie.Fragment.empty?p.type.createAndFill(d,s,p.marks):p.type.createChecked(d,s,p.marks);t.push(h)}else-1===a.indexOf(u)&&t.push(p)}if(t.length)l.push(u.type.createChecked(u.attrs,t,u.marks));else for(let n=l.length-1;n>=0;n--){const t=l[n],r=[]
;let i=!1;for(let s=0;s<t.childCount;s++){const a=t.child(s),{rowspan:c}=a.attrs;if(c&&c+n-1>=l.length){if(i=!0,c<2)return Object(o("3R0y").a)({type:"MERGE_CELLS",problem:"NEGATIVE_ROWSPAN"})(e);r.push(a.type.createChecked({...a.attrs,rowspan:c-1},a.content,a.marks))}else r.push(a)}i&&(l[n]=u.type.createChecked(t.attrs,r,t.marks))}}if(!l.length)return Object(o("3R0y").a)({type:"MERGE_CELLS",problem:"EMPTY_TABLE"})(e);const u=ad(r.node.type.createChecked(r.node.attrs,l,r.node.marks));return null===u?Object(o("3R0y").a)({type:"MERGE_CELLS",problem:"REMOVE_EMPTY_COLUMNS"})(e):Object(o("3R0y").a)({type:"MERGE_CELLS"})(e.replaceWith(r.pos,r.pos+r.node.nodeSize,u).setSelection(d.Selection.near(e.doc.resolve((c||0)+r.start))))}(e.tr)),!0))),bd=e=>t=>Object(o("W+n6").c)((({selection:e})=>{const{totalRowCount:n,totalColumnCount:r}=Object(o("W+n6").a)(e),i=Object(o("zYPQ").a)(e.$anchor);if(i){const{rowspan:e,colspan:s}=i.node.attrs;return{action:o("oTfp").a.SPLIT,actionSubject:o("+PNV").b.TABLE,
actionSubjectId:null,attributes:{inputMethod:t,horizontalCells:s,verticalCells:e,totalCells:s*e,totalRowCount:n,totalColumnCount:r},eventType:o("+PNV").e.TRACK}}}))(e)(Kl),gd=e=>(t,n,r)=>Object(o("W+n6").c)((({selection:e})=>{const{horizontalCells:r,verticalCells:i,totalCells:s,totalRowCount:a,totalColumnCount:c}=Object(o("W+n6").a)(e);return{action:o("oTfp").a.COLORED,actionSubject:o("+PNV").b.TABLE,actionSubjectId:null,attributes:{inputMethod:t,cellColor:(o("kBLm").f.get(n.toLowerCase())||n).toLowerCase(),horizontalCells:r,verticalCells:i,totalCells:s,totalRowCount:a,totalColumnCount:c},eventType:o("+PNV").e.TRACK}}))(e)(((e,t)=>(n,r)=>{let i,{tr:s}=n;if(Object(o("GhYq").a)(s.selection,"cell")){const t=s.selection;t.forEachCell(((t,n)=>{const r=s.doc.resolve(s.mapping.map(n+1));s=Object(o("x8g9").a)(Object(o("zYPQ").a)(r),e)(s)})),i=t.$headCell.pos}else if(t){const n=Object(o("zYPQ").a)(s.doc.resolve(t+1));s=Object(o("x8g9").a)(n,e)(s),i=n.pos}if(s.docChanged&&void 0!==i){
const e=s.doc.resolve(s.mapping.map(i));return r&&r(s.setSelection(d.Selection.near(e))),!0}return!1})({background:n},r)),vd=e=>t=>(n,r)=>{const{selection:i}=n,s=i instanceof o("n1Ll").a,a=s?Object(o("n3wV").a)(i):Object(o("zYPQ").b)(i.$from);if(!a)return!1;const c=s&&"TOP"===t?a.top:a.bottom-1,l="BOTTOM"===t?1:0;return yd(e)(o("+PNV").f.SHORTCUT,{index:c+l,moveCursorToInsertedRow:!1})(n,r)},yd=e=>(t,n)=>Object(o("W+n6").c)((e=>{const{totalRowCount:r,totalColumnCount:i}=Object(o("W+n6").b)(e.selection);return{action:o("oTfp").a.ADDED_ROW,actionSubject:o("+PNV").b.TABLE,actionSubjectId:null,attributes:{inputMethod:t,position:n.index,totalRowCount:r,totalColumnCount:i},eventType:o("+PNV").e.TRACK}}))(e)(Object(o("13wO").e)(n.index,n.moveCursorToInsertedRow)),Od=(e,t)=>(n,r)=>Object(o("W+n6").c)((e=>{const{totalRowCount:t,totalColumnCount:i}=Object(o("W+n6").b)(e.selection);return{action:o("oTfp").a.ADDED_COLUMN,actionSubject:o("+PNV").b.TABLE,actionSubjectId:null,attributes:{
inputMethod:n,position:r,totalRowCount:t,totalColumnCount:i},eventType:o("+PNV").e.TRACK}}))(t)(Object(o("13wO").d)(e)(r)),Ed=e=>(t,n,r)=>Object(o("W+n6").c)((({selection:e})=>{const{totalRowCount:r,totalColumnCount:i}=Object(o("W+n6").b)(e);return{action:o("oTfp").a.DELETED_ROW,actionSubject:o("+PNV").b.TABLE,actionSubjectId:null,attributes:{inputMethod:t,position:n.top,count:n.bottom-n.top,totalRowCount:r,totalColumnCount:i},eventType:o("+PNV").e.TRACK}}))(e)(((e,t)=>(t&&t(cd(n,r)(e.tr)),!0))),wd=e=>(t,n)=>Object(o("W+n6").c)((({selection:e})=>{const{totalRowCount:r,totalColumnCount:i}=Object(o("W+n6").b)(e);return{action:o("oTfp").a.DELETED_COLUMN,actionSubject:o("+PNV").b.TABLE,actionSubjectId:null,attributes:{inputMethod:t,position:n.left,count:n.right-n.left,totalRowCount:r,totalColumnCount:i},eventType:o("+PNV").e.TRACK}}))(e)(((e,t)=>(t&&t(pd(n,Object(o("mk3z").a)(e))(e.tr)),!0))),Sd=(e,t)=>{const{totalRowCount:n,totalColumnCount:r}=Object(o("W+n6").b)(e);return{
action:o("oTfp").a.DELETED,actionSubject:o("+PNV").b.TABLE,attributes:{inputMethod:t,totalRowCount:n,totalColumnCount:r},eventType:o("+PNV").e.TRACK}},kd=e=>Object(o("W+n6").c)((({selection:e})=>Sd(e,o("+PNV").f.FLOATING_TB)))(e)(_l),xd=e=>Object(o("W+n6").c)((e=>{const{totalRowCount:t,totalColumnCount:n}=Object(o("W+n6").b)(e.selection),{isHeaderRowEnabled:r}=Object(o("dGVe").c)(e);return{action:o("oTfp").a.TOGGLED_HEADER_ROW,actionSubject:o("+PNV").b.TABLE,actionSubjectId:null,attributes:{newState:!r,totalRowCount:t,totalColumnCount:n},eventType:o("+PNV").e.TRACK}}))(e)(ql),Cd=e=>Object(o("W+n6").c)((e=>{const{totalRowCount:t,totalColumnCount:n}=Object(o("W+n6").b)(e.selection),{isHeaderColumnEnabled:r}=Object(o("dGVe").c)(e);return{action:o("oTfp").a.TOGGLED_HEADER_COLUMN,actionSubject:o("+PNV").b.TABLE,actionSubjectId:null,attributes:{newState:!r,totalRowCount:t,totalColumnCount:n},eventType:o("+PNV").e.TRACK}}))(e)(Gl),Td=e=>Object(o("W+n6").c)((e=>{
const{totalRowCount:t,totalColumnCount:n}=Object(o("W+n6").b)(e.selection);return{action:o("oTfp").a.TOGGLED_NUMBER_COLUMN,actionSubject:o("+PNV").b.TABLE,actionSubjectId:null,attributes:{newState:!Object(o("r/3z").c)(e.selection),totalRowCount:t,totalColumnCount:n},eventType:o("+PNV").e.TRACK}}))(e)(Yl),jd=e=>(t,n,r)=>Object(o("W+n6").c)((e=>{const{totalRowCount:i,totalColumnCount:s}=Object(o("W+n6").b)(e.selection);return{action:o("oTfp").a.SORTED_COLUMN,actionSubject:o("+PNV").b.TABLE,attributes:{inputMethod:t,totalRowCount:i,totalColumnCount:s,position:n,sortOrder:r,mode:"editor"},eventType:o("+PNV").e.TRACK}}))(e)(((e,t=Hl.DESC)=>Object(o("dGVe").a)((n=>({type:"SORT_TABLE",data:{ordering:{columnIndex:e,order:t}}})),((n,r)=>{const i=Object(o("zYPQ").c)(n.selection);if(!i||!i.node)return n;const s=Object(o("GhYq").a)(n.selection,"cell")?Object(o("n3wV").a)(n.selection):Object(o("zYPQ").b)(n.selection.$from);if(!s)return n;const a=Object(o("dGVe").c)(r),c=zl(i.node);let l
;a.isHeaderRowEnabled&&(l=c.shift());const u=Object(o("hKd0").a)({getInlineCardTextFromStore:Ul()},t),p=c.sort(((t,n)=>u(t[e],n[e])));l&&p.unshift(l);const h=Vl(i.node,p);n.replaceWith(i.pos,i.pos+i.node.nodeSize,h);const f=o("wYWE").b.get(i.node).positionAt(s.top,e,i.node),m=a.ordering,b={columnIndex:e,order:t};return n.step(new(o("YL4i").a)(i.pos,m,b)),n.setSelection(d.Selection.near(n.doc.resolve(i.start+f)))})))(n,r)),Ad=e=>(t,{resizeState:n,table:r,attributes:i})=>Object(o("W+n6").c)((()=>({action:o("oTfp").a.DISTRIBUTED_COLUMNS_WIDTHS,actionSubject:o("+PNV").b.TABLE,actionSubjectId:null,attributes:{inputMethod:t,...i},eventType:o("+PNV").e.TRACK})))(e)(((e,t)=>(t&&((e,t)=>(n,r)=>{if(r){const i=Object(o("Bo8Z").b)(e,t.node,t.start)(n.tr);nd(i)(n,r)}return!0})(n,r)(e,t),!0))),Nd=e=>Object(o("W+n6").c)((e=>{const{totalRowCount:t,totalColumnCount:n}=Object(o("W+n6").b)(e.selection);return{action:o("oTfp").a.COLLAPSED,actionSubject:o("+PNV").b.TABLE,actionSubjectId:null,attributes:{
totalRowCount:t,totalColumnCount:n},eventType:o("+PNV").e.TRACK}}))(e)(xl),Id=e=>t=>(n,r)=>{const i=Object(o("zYPQ").c)(n.selection);if(!i)return!1;const s=o("wYWE").b.get(i.node),{tableCell:a,tableHeader:c}=n.schema.nodes,u=Object(l.findParentNodeOfType)([a,c])(n.selection),p=s.positionAt(0,0,i.node)+i.start,h=s.positionAt(s.height-1,s.width-1,i.node)+i.start;return p===u.pos&&-1===t?(yd(e)(o("+PNV").f.KEYBOARD,{index:0,moveCursorToInsertedRow:!0})(n,r),!0):h===u.pos&&1===t?(yd(e)(o("+PNV").f.KEYBOARD,{index:s.height,moveCursorToInsertedRow:!0})(n,r),!0):!r||function(e){return function(t,n){if(!Object(o("OC6D").b)(t))return!1;const r=Object(o("b+wK").a)(t.selection);if(!r)return!1;const i=function(e,t){if(-1===t){const t=e.nodeBefore;if(t)return e.pos-t.nodeSize;for(let n=e.index(-1)-1,o=e.before();n>=0;n--){const t=e.node(-1).child(n);if(t.childCount&&t.lastChild)return o-1-t.lastChild.nodeSize;o-=t.nodeSize}}else{
if(e.index()<e.parent.childCount-1&&e.nodeAfter)return e.pos+e.nodeAfter.nodeSize;const t=e.node(-1);for(let n=e.indexAfter(-1),o=e.after();n<t.childCount;n++){const e=t.child(n);if(e.childCount)return o+1;o+=e.nodeSize}}}(r,e);if(void 0===i)return!1;if(n){const e=t.doc.resolve(i);n(t.tr.setSelection(d.TextSelection.between(e,function(e){const t=e.nodeAfter?e.nodeAfter.nodeSize:0;return e.node(0).resolve(e.pos+t)}(e))).scrollIntoView())}return!0}}(t)(n,r)};function Pd(e,t){const n={};return o("QNHL").l(o("QNHL").M.common,Id(t)(1),n),o("QNHL").l(o("QNHL").S.common,Id(t)(-1),n),o("QNHL").l(o("QNHL").sb.common,(e=>Object(o("W+n6").c)({action:o("+PNV").a.INSERTED,actionSubject:o("+PNV").b.DOCUMENT,actionSubjectId:o("+PNV").c.TABLE,attributes:{inputMethod:o("+PNV").f.SHORTCUT},eventType:o("+PNV").e.TRACK})(e)(Object(o("13wO").c)()))(t),n),
o("QNHL").l(o("QNHL").k.common,Object(ut.c)((e=>t=>Object(o("W+n6").c)((({selection:e})=>Sd(e,t)))(e)(Ll))(t)(o("+PNV").f.KEYBOARD),fd(t)(o("+PNV").f.KEYBOARD)),n),o("QNHL").l(o("QNHL").k.common,Dl,n),o("QNHL").l(o("QNHL").h.common,vd(t)("TOP"),n),o("QNHL").l(o("QNHL").g.common,vd(t)("BOTTOM"),n),o("QNHL").l(o("QNHL").d.common,(e=>(t,n,r)=>{const{selection:i,schema:{nodes:{tableHeader:s}}}=t;if(i instanceof d.TextSelection){const a=Object(o("zYPQ").a)(i.$from);if(a&&a.node.type!==s)return e(t,n,r)}if(i instanceof o("n1Ll").a){const s=Object(o("n3wV").a)(i);if(!Object(o("r/3z").b)(i)||s&&s.top>0)return e(t,n,r)}return!1})(Object(o("13wO").b)(e)),n),o("QNHL").l(o("QNHL").c.common,Object(o("13wO").a)(e),n),Object(V.b)(n)}let Md;!function(e){e.TopToBottom="TopToBottom",e.BottomToTop="BottomToTop"}(Md||(Md={}));const Rd=e=>t=>(n,r)=>{if(Object(o("+yxU").c)(n.selection)&&e){const{selectionRelativeToNode:i}=e.getSelectionPluginState(n);if(i===o("ujKG").a.Start)return Ud(e)()(n,r)
;if(i===o("ujKG").a.End)return Hd(e)(t)(n,r);if(void 0===i)return zd(e)(t,o("ujKG").a.Before)(n,r)}return!1},_d=e=>t=>(n,r)=>{if(Object(o("+yxU").c)(n.selection)&&e){const{selectionRelativeToNode:i}=e.getSelectionPluginState(n);if(i===o("ujKG").a.Start)return zd(e)(t)(n,r);if(i===o("ujKG").a.End||void 0===i)return Wd(e)()(n,r)}return!1},Ld=e=>t=>(n,r)=>{const{doc:i}=n,{$from:s,from:a,side:c}=t;if(c===o("WE2A").c.RIGHT){if(s.nodeBefore&&"table"===s.nodeBefore.type.name)return Vd(e)({node:s.nodeBefore,startPos:i.resolve(a-1).start(s.depth+1),dir:Md.TopToBottom})(n,r)}else if(c===o("WE2A").c.LEFT){const i=Object(o("zYPQ").c)(t);if(i&&Kd(s,t)&&e){const{selectionRelativeToNode:t}=e.getSelectionPluginState(n);return t===o("ujKG").a.Before?Ud(e)()(n,r):Vd(e)({node:i.node,startPos:i.start,dir:Md.BottomToTop})(n,r)}}return!1},Dd=e=>t=>(n,r)=>{const{$from:i,from:s,$to:a,side:c}=t;if(c===o("WE2A").c.LEFT){if(i.nodeAfter&&"table"===i.nodeAfter.type.name)return Vd(e)({node:i.nodeAfter,startPos:s+1,
dir:Md.BottomToTop})(n,r)}else if(c===o("WE2A").c.RIGHT){const i=Object(o("zYPQ").c)(t);if(i&&$d(a,t))return Vd(e)({node:i.node,startPos:i.start,dir:Md.TopToBottom})(n,r)}return!1},Fd=e=>t=>(n,r)=>{const i=Object(o("zYPQ").c)(t);if(i){const{$from:s}=t;if(Kd(s,t)&&"paragraph"===s.parent.type.name&&s.depth===i.depth+3&&e){const{selectionRelativeToNode:t}=e.getSelectionPluginState(n);return t===o("ujKG").a.Before?Ud(e)()(n,r):Vd(e)({node:i.node,startPos:i.start,dir:Md.BottomToTop})(n,r)}}return!1},Bd=e=>t=>(n,r)=>{const i=Object(o("zYPQ").c)(t);if(i){const{$to:o}=t;if($d(o,t)&&"paragraph"===o.parent.type.name&&o.depth===i.depth+3)return Vd(e)({node:i.node,startPos:i.start,dir:Md.TopToBottom})(n,r)}return!1},Vd=e=>({node:t,startPos:n,dir:r})=>(i,s)=>{const{doc:a}=i,{map:c}=o("wYWE").b.get(t),l=a.resolve(n+c[0]),d=a.resolve(n+c[c.length-1]);let u,p;if(r===Md.TopToBottom?(u=new(o("n1Ll").a)(l,d),p=o("ujKG").a.End):(u=new(o("n1Ll").a)(d,l),p=o("ujKG").a.Start),e){
const t=e.setSelectionRelativeToNode({selectionRelativeToNode:p,selection:u})(i);if(s)return s(t),!0}return!1},zd=e=>(t,n)=>(r,i)=>{const{$anchorCell:s,$headCell:a}=t,c=s.pos<a.pos?s:a,l=r.doc.resolve(c.pos+1),u=o("WE2A").a.valid(l)?new(o("WE2A").a)(l,o("WE2A").c.LEFT):d.Selection.findFrom(l,1);if(e){const t=e.setSelectionRelativeToNode({selectionRelativeToNode:n,selection:u})(r);if(i)return i(t),!0}return!1},Hd=e=>(t,n)=>(r,i)=>{const{$anchorCell:s,$headCell:a}=t,c=s.pos>a.pos?s:a,l=c.pos+(c.nodeAfter?c.nodeAfter.content.size:0)+1,u=r.doc.resolve(l),p=o("WE2A").a.valid(u)?new(o("WE2A").a)(u,o("WE2A").c.RIGHT):d.Selection.findFrom(u,-1);if(e){const t=e.setSelectionRelativeToNode({selectionRelativeToNode:n,selection:p})(r);if(i)return i(t),!0}return!1},Ud=e=>()=>(t,n)=>{const r=Object(o("zYPQ").c)(t.selection);if(r){const i=t.doc.resolve(r.pos);if(o("WE2A").a.valid(i)){const r=new(o("WE2A").a)(i,o("WE2A").c.LEFT);if(e){const o=e.setSelectionRelativeToNode({
selectionRelativeToNode:void 0,selection:r})(t);if(n)return n(o),!0}}}return!1},Wd=e=>()=>(t,n)=>{const r=Object(o("zYPQ").c)(t.selection);if(r){const i=t.doc.resolve(r.pos+r.node.nodeSize);if(o("WE2A").a.valid(i)){const r=new(o("WE2A").a)(i,o("WE2A").c.RIGHT);if(e){const o=e.setSelectionRelativeToNode({selectionRelativeToNode:void 0,selection:r})(t);if(n)return n(o),!0}return!1}}return!1},Kd=(e,t)=>Object(o("RWB8").b)(e,Object(o("zYPQ").c)(t)),$d=(e,t)=>Object(o("RWB8").a)(e,Object(o("zYPQ").c)(t));function qd(e){const t={};return Object(o("QNHL").l)(o("QNHL").I.common,(e=>()=>(t,n)=>{const{selection:r}=t;return r instanceof o("n1Ll").a?_d(e)(r)(t,n):r instanceof o("WE2A").a?Dd(e)(r)(t,n):r instanceof d.TextSelection&&Bd(e)(r)(t,n)})(e)(),t),Object(o("QNHL").l)(o("QNHL").H.common,(e=>()=>(t,n)=>{const{selection:r}=t;return r instanceof o("n1Ll").a?Rd(e)(r)(t,n):r instanceof o("WE2A").a?Ld(e)(r)(t,n):r instanceof d.TextSelection&&Fd(e)(r)(t,n)})(e)(),t),Object(V.b)(t)}
const Gd=`.${o("p3BF").b.TABLE_CELL}, .${o("p3BF").b.TABLE_HEADER_CELL}`,Yd=e=>Boolean(e&&(["TH","TD"].indexOf(e.tagName)>-1||!!Object(o("uYq7").b)(e,`.${o("p3BF").b.TABLE_HEADER_CELL}`)||!!Object(o("uYq7").b)(e,`.${o("p3BF").b.TABLE_CELL}`))),Qd=e=>[parseInt(e.getAttribute("data-start-index")||"-1",10),parseInt(e.getAttribute("data-end-index")||"-1",10)],Xd=e=>Object(o("uYq7").c)(e,o("p3BF").b.COLUMN_CONTROLS_DECORATIONS),Zd=e=>Object(o("uYq7").c)(e,o("p3BF").b.ROW_CONTROLS_BUTTON)||Object(o("uYq7").c)(e,o("p3BF").b.NUMBERED_COLUMN_BUTTON),Jd=e=>Object(o("uYq7").c)(e,o("p3BF").b.RESIZE_HANDLE_DECORATION),eu=(e,t,n,o)=>{const r=e.target;if(r instanceof HTMLElement){let c,l;const d=r.closest(Gd);if(t){var i,s,a;const t=null!==(i=null==d?void 0:d.id)&&void 0!==i?i:"";c=null!==(s=null==n||null===(a=n[t])||void 0===a?void 0:a.width)&&void 0!==s?s:0,l=e.offsetX}else{const t=r.getBoundingClientRect();c=t.width;const n=t.left;l=e.clientX-n}if(c<=0)return null
;if(!o)return l/c>.5?"right":"left";if(l<=o)return"left";if(l>=c-o)return"right"}return null},tu=e=>{const t=e.target;if(t instanceof HTMLElement){const n=t.getBoundingClientRect();if(n.height<=0)return null;return(e.clientY-n.top)/n.height>.5?"bottom":"top"}return null},nu=e=>{if(!e)return;const t=e.offsetHeight+o("muXR").o,n=Array.from(e.querySelectorAll(`.${o("p3BF").b.RESIZE_HANDLE}`));n&&n.length&&n.forEach((e=>{e.style.height=`${t}px`}))},ou=(e,t)=>{const{state:n,dispatch:r}=e;return 11===o("j5wO").a.ie_version||(e=>e instanceof FocusEvent&&e.relatedTarget instanceof HTMLElement&&"calendar"===e.relatedTarget.getAttribute("aria-label"))(t)||(e=>e instanceof FocusEvent&&e.relatedTarget instanceof HTMLElement&&e.relatedTarget.closest('[role="dialog"]'))(t)||(e=>e instanceof FocusEvent&&e.relatedTarget instanceof HTMLElement&&e.relatedTarget.closest('[role="toolbar"]'))(t)||Rl(!1)(n,r),t.preventDefault(),!1},ru=(e,t)=>{const{state:n,dispatch:o}=e;return Rl(!0)(n,o),
t.preventDefault(),!1},iu=(e,t)=>{if(!(t.target instanceof HTMLElement))return!1;const n=t.target,r=Object(o("zYPQ").c)(e.state.selection);if(t instanceof MouseEvent&&Xd(n)){const[r]=Qd(n),{state:i,dispatch:s}=e;return((e,t)=>Object(o("dGVe").a)((n=>{const r=Object(o("DgfI").a)(e)(n.tr.selection);if(!r||!r.length||"number"!=typeof r[0].pos)return!1;const i=Object(o("xQCw").d)(jl(e,t)(n.tr)),s=Object(o("mKh9").a)(n,i,o("p3BF").c.COLUMN_SELECTED);return{type:"SELECT_COLUMN",data:{targetCellPosition:r[0].pos,decorationSet:s}}}),(n=>jl(e,t)(n).setMeta("addToHistory",!1))))(r,t.shiftKey)(i,s)}const i=n.matches?n.matches:n.msMatchesSelector;if(!r||!Object(o("XyUv").b)(n)||!i||i.call(n,"table .image, table p, table .image div"))return!1;const s=o("wYWE").b.get(r.node),a=Object(o("uYq7").b)(n,"td")||Object(o("uYq7").b)(n,"th"),c=a&&a.cellIndex,l=Object(o("uYq7").b)(n,"tr"),d=l&&l.rowIndex,u=s.width*d+c,{dispatch:p,state:{tr:h,schema:{nodes:{paragraph:f}}}}=e,m=s.map[u]
;if(isNaN(m)||void 0===m||"number"!=typeof m)return!1;const b=r.node.nodeAt(m);if(Object(o("XyUv").c)(b)){const t=s.map[u]+b.nodeSize;h.insert(t+r.pos,f.create()),p(h),Object(o("XyUv").g)(e,t+r.pos)}return!0},su=(e,t)=>{if(!(t.target instanceof HTMLElement))return!1;const{state:n,dispatch:r}=e,i=t.target,{insertColumnButtonIndex:s,insertRowButtonIndex:a}=Object(o("dGVe").c)(n);if((e=>Object(o("uYq7").c)(e,o("p3BF").b.CONTROLS_INSERT_ROW)||Object(o("uYq7").b)(e,`.${o("p3BF").b.CONTROLS_INSERT_ROW}`)||Object(o("uYq7").c)(e,o("p3BF").b.CONTROLS_BUTTON_OVERLAY)&&Object(o("uYq7").b)(e,`.${o("p3BF").b.ROW_CONTROLS}`))(i)){const[e,o]=Qd(i),s="bottom"===tu(t)?o:e;return Fl(s)(n,r)}if(Xd(i)){const[t]=Qd(i),{state:n,dispatch:r}=e;return Object(o("/gRz").c)([t],!1)(n,r)}if((Yd(i)||(e=>Object(o("uYq7").c)(e,o("p3BF").b.CONTROLS_CORNER_BUTTON))(i))&&("number"==typeof s||"number"==typeof a))return Bl()(n,r);if(Jd(i)){const[e,t]=Qd(i);return Object(o("/gRz").g)({left:e,right:t})(n,r)}return!1
},au=(e,t)=>{const n=!!(t.target&&t.target instanceof HTMLElement&&((e=>Object(o("uYq7").c)(e,o("p3BF").b.TABLE_CONTAINER)||Object(o("uYq7").c)(e,o("p3BF").b.TABLE_NODE_WRAPPER))(t.target)||Xd(t.target)||Zd(t.target)));return n&&t.preventDefault(),n},cu=(e,t)=>{if(!(t instanceof MouseEvent&&t.target instanceof HTMLElement))return!1;const n=t.target;if(Xd(n)){const{state:t,dispatch:n}=e;return Object(o("/gRz").a)()(t,n)}const r=t.relatedTarget;if(Jd(n)&&!Jd(r)){const{state:t,dispatch:n}=e;return Object(o("/gRz").b)()(t,n)}return!1},lu=(e,t)=>{if(!(t.target instanceof HTMLElement))return!1;const{state:n,dispatch:r}=e,{insertColumnButtonIndex:i,insertRowButtonIndex:s}=Object(o("dGVe").c)(n);return!!(e=>Object(o("uYq7").c)(e,o("p3BF").b.CONTROLS_BUTTON)||Object(o("uYq7").c)(e,o("p3BF").b.ROW_CONTROLS_BUTTON_WRAP))(t.target)||!(void 0===i&&void 0===s||!Bl()(n,r))},du=e=>(t,n,r)=>{if(!(n.target instanceof HTMLElement))return!1;const i=n.target;if(Xd(i)){
const{state:e,dispatch:s}=t,{insertColumnButtonIndex:a}=Object(o("dGVe").c)(e),[c,l]=Qd(i),d="right"===eu(n,!1,r)?l:c;if(d!==a)return(e=>Object(o("dGVe").a)((t=>e>-1&&{type:"SHOW_INSERT_COLUMN_BUTTON",data:{insertColumnButtonIndex:e}}),(e=>e.setMeta("addToHistory",!1))))(d)(e,s)}if(Zd(i)){const{state:e,dispatch:r}=t,{insertRowButtonIndex:s}=Object(o("dGVe").c)(e),[a,c]=Qd(i),l="bottom"===tu(n)?c:a;if(l!==s)return Fl(l)(e,r)}const{mouseMoveOptimization:s}=e();if(!Jd(i)&&Yd(i)){const e=eu(n,s,r,30);if(null!==e){const{state:n,dispatch:r}=t,{resizeHandleColumnIndex:s,resizeHandleRowIndex:a}=Object(o("dGVe").c)(n),c=Object(o("uYq7").b)(i,"td, th"),l=t.posAtDOM(c,0),d=Object(o("zYPQ").b)(n.doc.resolve(l));if(d){const t="left"===e?d.left:d.right,c=d.top;if(t!==s||c!==a||!(({columnEndIndexTarget:e,target:t})=>{const n=Object(o("uYq7").b)(t,"table");if(!n)return!1;const r=[`.${o("p3BF").b.RESIZE_HANDLE_DECORATION}`,`[data-end-index="${e}"]`],i=n.querySelectorAll(r.join(""))
;return!(!i||0===i.length)})({target:i,columnEndIndexTarget:t}))return((e,t)=>Object(o("dGVe").a)((n=>{const r=Object(o("zYPQ").c)(n.selection),{pluginConfig:{allowColumnResizing:i}}=Object(o("dGVe").c)(n);return!(!r||!i)&&{type:"ADD_RESIZE_HANDLE_DECORATIONS",data:{decorationSet:Ml(e,t)({tr:n.tr,decorationSet:Object(o("4Ncm").b)(n)}),resizeHandleRowIndex:e,resizeHandleColumnIndex:t}}}),(e=>e.setMeta("addToHistory",!1))))(c,t)(n,r)}}}return!1};function uu(e,t){const{state:n,dispatch:r}=e,i=Object(o("EdO1").a)(n.doc.resolve(t));if(!i)return!1;const s=n.doc.nodeAt(i.pos);if(s){const e=d.Selection.findFrom(i,1,!0),t=d.Selection.findFrom(n.doc.resolve(i.pos+s.nodeSize),-1,!0);if(e&&t)return r(n.tr.setSelection(new d.TextSelection(e.$from,t.$to))),!0}return!1}const pu=(e,t)=>(n,r)=>{const i=td(n.state),s=Object(o("dGVe").c)(n.state),a=i&&!!i.dragging;return!(!s||!s.tableNode||a)&&e(n,r,t)};class hu extends c.a.Component{constructor(...e){super(...e),s()(this,"state",{errorCaptured:!1})}
hasFallback(){return void 0!==this.props.fallbackComponent}shouldRecover(){return this.hasFallback()&&this.state.errorCaptured}componentDidCatch(e,t){this.props.dispatchAnalyticsEvent&&this.props.dispatchAnalyticsEvent({action:o("+PNV").a.EDITOR_CRASHED,actionSubject:this.props.component,actionSubjectId:this.props.componentId,eventType:o("+PNV").e.OPERATIONAL,attributes:{error:e,errorInfo:t,errorRethrown:!this.hasFallback()}}),this.hasFallback()&&this.setState({errorCaptured:!0})}render(){return this.shouldRecover()?this.props.fallbackComponent:this.props.children}}hu.displayName="ErrorBoundary";class fu{constructor(e,t,n,r,i,a,c,l=!1,d,u=!1){s()(this,"handleRef",(e=>this._handleRef(e))),s()(this,"dispatchAnalyticsEvent",(e=>{if(this.eventDispatcher){Object(o("SMi2").b)(this.eventDispatcher)("EDITOR_ANALYTICS_EVENT",{payload:e})}})),this.node=e,this.view=t,this.getPos=n,this.portalProviderAPI=r,this.reactComponentProps=a||{},this.reactComponent=c,this.hasAnalyticsContext=l,
this._viewShouldUpdate=d,this.eventDispatcher=i,this.hasIntlContext=u}init(){this.domRef=this.createDomRef(),this.setDomAttrs(this.node,this.domRef);const{dom:e,contentDOM:t}=this.getContentDOM()||{dom:void 0,contentDOM:void 0};this.domRef&&e&&(this.domRef.appendChild(e),this.contentDOM=t||e,this.contentDOMWrapper=e||t),this.domRef.classList.add(`${this.node.type.name}View-content-wrap`);const{samplingRate:n,slowThreshold:r,trackingEnabled:i}=Object(o("Cd4y").a)(this.view);return i&&Object(o("Cd4y").b)({nodeTypeName:this.node.type.name}),this.renderReactComponent((()=>this.render(this.reactComponentProps,this.handleRef))),i&&Object(o("Cd4y").c)({nodeTypeName:this.node.type.name,dispatchAnalyticsEvent:this.dispatchAnalyticsEvent,editorState:this.view.state,samplingRate:n,slowThreshold:r}),this}renderReactComponent(e){if(!this.domRef||!e)return;this.portalProviderAPI.render((()=>{var t,n,r;return c.a.createElement(hu,{component:o("+PNV").b.REACT_NODE_VIEW,
componentId:null!==(t=null==this||null===(n=this.node)||void 0===n||null===(r=n.type)||void 0===r?void 0:r.name)&&void 0!==t?t:o("+PNV").c.UNKNOWN_NODE,dispatchAnalyticsEvent:this.dispatchAnalyticsEvent},e())}),this.domRef,this.hasAnalyticsContext,this.hasIntlContext)}createDomRef(){if(!this.node.isInline)return document.createElement("div");return document.createElement("span")}getContentDOM(){}_handleRef(e){const t=this.contentDOMWrapper||this.contentDOM;e&&t&&!e.contains(t)&&e.appendChild(t)}render(e,t){return this.reactComponent?c.a.createElement(this.reactComponent,J()({view:this.view,getPos:this.getPos,node:this.node,forwardRef:t},e)):null}update(e,t,n,o=(()=>!0)){return!(this.node.type!==e.type||!o(this.node,e))&&(this.domRef&&!this.node.sameMarkup(e)&&this.setDomAttrs(e,this.domRef),this.viewShouldUpdate(e)?(this.node=e,this.renderReactComponent((()=>this.render(this.reactComponentProps,this.handleRef))),!0):(this.node=e,!0))}viewShouldUpdate(e){
return!this._viewShouldUpdate||this._viewShouldUpdate(e)}setDomAttrs(e,t){Object.keys(e.attrs||{}).forEach((n=>{t.setAttribute(n,e.attrs[n])}))}get dom(){return this.domRef}destroy(){this.domRef&&(this.portalProviderAPI.remove(this.domRef),this.domRef=void 0,this.contentDOM=void 0)}static fromComponent(e,t,n,o,r,i=!1){return(s,a,c)=>new fu(s,a,c,t,n,o,e,!1,r,i).init()}}fu.displayName="ReactNodeView";const mu=(e,t)=>{if(!e||void 0===t)return;const n=e.find((e=>e.pos===t+1));return n&&n.sticky?n:void 0},bu=new d.PluginKey("stickyHeadersPlugin"),gu=e=>{const t=[];for(let n=e.left;n<e.right;n++)t.push(n);return t},vu=e=>{const t=[];for(let n=e.top;n<e.bottom;n++)t.push(n);return t},yu=Object(o("D6b/").defineMessages)({cornerControl:{id:"fabric.editor.cornerControl",defaultMessage:"Highlight table",description:"A button on the upper left corner of the table that shows up when the table is in focus. Clicking on it will select the entire table."}});class Ou extends a.Component{
constructor(...e){super(...e),s()(this,"isActive",(()=>{const{editorView:e,hoveredRows:t,isResizing:n}=this.props,{selection:r}=e.state,i=Object(o("zYPQ").c)(r);return!!i&&(Object(o("+yxU").c)(r)||t&&t.length===o("wYWE").b.get(i.node).height&&!n)})),s()(this,"clearHoverSelection",(()=>{const{state:e,dispatch:t}=this.props.editorView;Object(o("/gRz").a)()(e,t)})),s()(this,"selectTable",(()=>{const{state:e,dispatch:t}=this.props.editorView;t((e=>{const t=Object(o("zYPQ").c)(e.selection);if(t){const{map:n}=o("wYWE").b.get(t.node);if(n&&n.length){const r=t.start+n[0],i=t.start+n[n.length-1],s=e.doc.resolve(r),a=e.doc.resolve(i);return Object(o("oSJA").a)(e.setSelection(new(o("n1Ll").a)(a,s)))}}return e})(e.tr).setMeta("addToHistory",!1))})),s()(this,"hoverTable",(()=>{const{state:e,dispatch:t}=this.props.editorView;Object(o("/gRz").f)()(e,t)}))}render(){const{isInDanger:e,tableRef:t,isHeaderColumnEnabled:n,isHeaderRowEnabled:r,intl:{formatMessage:i}}=this.props;if(!t)return null
;const s=this.isActive();return c.a.createElement("div",{className:so()(o("p3BF").b.CORNER_CONTROLS,{active:s,sticky:void 0!==this.props.stickyTop}),style:{top:void 0!==this.props.stickyTop?`${this.props.stickyTop}px`:void 0},contentEditable:!1},c.a.createElement("button",{"aria-label":i(yu.cornerControl),type:"button",className:so()(o("p3BF").b.CONTROLS_CORNER_BUTTON,{danger:s&&e}),onClick:this.selectTable,onMouseOver:this.hoverTable,onMouseOut:this.clearHoverSelection}),!r&&c.a.createElement("div",{className:o("p3BF").b.CORNER_CONTROLS_INSERT_ROW_MARKER},c.a.createElement("div",{className:o("p3BF").b.CONTROLS_INSERT_MARKER})),!n&&c.a.createElement("div",{className:o("p3BF").b.CORNER_CONTROLS_INSERT_COLUMN_MARKER},c.a.createElement("div",{className:o("p3BF").b.CONTROLS_INSERT_MARKER})))}}Ou.displayName="CornerControlComponent";const Eu=Object(o("o5hF").c)(Ou);class wu extends a.Component{constructor(...e){super(...e),
s()(this,"hoverRows",(e=>this.props.tableActive?this.props.hoverRows([e]):null)),s()(this,"selectRow",((e,t)=>{const{tableActive:n,editorView:o,selectRow:r}=this.props;if(!n&&t.target&&t.target instanceof Node){const{doc:e,selection:n,tr:r}=o.state,i=o.posAtDOM(t.target,1),s=e.resolve(i),a=n.head>i?d.Selection.near(e.resolve(i+(s.parent.nodeSize-3)),-1):d.Selection.near(s);o.dispatch(r.setSelection(a))}r(e,t.shiftKey)})),s()(this,"clearHoverSelection",(()=>{const{tableActive:e,editorView:t}=this.props;if(e){const{state:e,dispatch:n}=t;Object(o("/gRz").a)()(e,n)}})),s()(this,"getClassNames",(e=>{const{hoveredRows:t,editorView:n,isInDanger:r,isResizing:i}=this.props,s=Object(o("+yxU").b)(e)(n.state.selection)||-1!==(t||[]).indexOf(e)&&!i;return[o("p3BF").b.NUMBERED_COLUMN_BUTTON,s?o("p3BF").b.HOVERED_CELL_ACTIVE:"",s&&r?o("p3BF").b.HOVERED_CELL_IN_DANGER:""].join(" ")}))}render(){const{tableRef:e,hasHeaderRow:t}=this.props,n=Object(o("VnTS").d)(e);return c.a.createElement("div",{
className:o("p3BF").b.NUMBERED_COLUMN,style:{marginTop:t&&void 0!==this.props.stickyTop?n[0]:void 0},contentEditable:!1},n.map(((e,n)=>c.a.createElement("div",{key:`wrapper-${n}`,className:this.getClassNames(n),"data-index":n,style:{height:e,top:void 0!==this.props.stickyTop&&t&&0===n?`${this.props.stickyTop}px`:void 0},onClick:e=>this.selectRow(n,e),onMouseOver:()=>this.hoverRows(n),onMouseOut:this.clearHoverSelection},t?n>0?n:null:n+1))))}}wu.displayName="NumberColumn";const Su=Object(o("D6b/").defineMessages)({rowControl:{id:"fabric.editor.rowControl",defaultMessage:"Highlight row",description:"A button on the left of each row that shows up when the table is in focus. Clicking on it will select the entire row."}});class ku extends a.Component{constructor(...e){super(...e),s()(this,"clearHoverSelection",(()=>{const{state:e,dispatch:t}=this.props.editorView;Object(o("/gRz").a)()(e,t)}))}render(){
const{editorView:e,tableRef:t,hoveredRows:n,isInDanger:r,isResizing:i,intl:{formatMessage:s}}=this.props;if(!t)return null;const{selection:a}=e.state,l=Object(o("VnTS").d)(t),d=Object(o("VnTS").e)(l),u=t.querySelector("tr"),p=!!u&&u.getAttribute("data-header-row");return c.a.createElement("div",{className:o("p3BF").b.ROW_CONTROLS},c.a.createElement("div",{className:o("p3BF").b.ROW_CONTROLS_INNER},d.map((({startIndex:e,endIndex:t,height:d},u)=>{let h=-1;1===u&&p&&void 0!==this.props.stickyTop&&(h+=l[u-1]+o("muXR").o);const f=void 0!==this.props.stickyTop&&0===u&&p;return c.a.createElement("div",{className:`${o("p3BF").b.ROW_CONTROLS_BUTTON_WRAP} ${Object(o("VnTS").b)(e,a,n,r,i)} ${f?"sticky":""}`,key:e,style:{height:d,marginTop:`${h}px`,top:f?`${this.props.stickyTop+3}px`:void 0,paddingTop:f?`${o("muXR").j}px`:void 0}},c.a.createElement("button",{"aria-label":s(Su.rowControl),type:"button",
className:`${o("p3BF").b.ROW_CONTROLS_BUTTON}\n                  ${o("p3BF").b.CONTROLS_BUTTON}\n                `,onClick:t=>this.props.selectRow(e,t.shiftKey),onMouseOver:()=>this.props.hoverRows([e]),onMouseOut:this.clearHoverSelection,"data-start-index":e,"data-end-index":t}),c.a.createElement("div",{className:o("p3BF").b.CONTROLS_INSERT_MARKER}))}))))}}ku.displayName="RowControlsComponent";const xu=Object(o("o5hF").c)(ku);class Cu extends a.Component{constructor(...e){super(...e),s()(this,"selectRow",((e,t)=>{const{editorView:n}=this.props,{state:r,dispatch:i}=n;11===o("j5wO").a.ie_version&&n.dom.blur(),((e,t)=>Object(o("dGVe").a)((t=>{let n;const r=Object(o("Rl6m").a)(e)(t.tr.selection);return r&&r.length&&(n=r[0].pos),{type:"SET_TARGET_CELL_POSITION",data:{targetCellPosition:n}}}),(n=>Al(e,t)(n).setMeta("addToHistory",!1))))(e,t)(r,i)})),s()(this,"hoverRows",((e,t)=>{const{state:n,dispatch:r}=this.props.editorView;Object(o("/gRz").e)(e,t)(n,r)}))}componentDidMount(){
this.tryInitResizeObserver()}componentDidUpdate(){this.tryInitResizeObserver()}tryInitResizeObserver(){var e;let{tableRef:t}=this.props;const{tableRenderOptimization:n}=this.props.getEditorFeatureFlags();n&&t&&!this.resizeObserver&&null!==(e=window)&&void 0!==e&&e.ResizeObserver&&(this.resizeObserver=new ResizeObserver((e=>{for(let t of e){const e=t.contentRect.height;this.setState({tableHeight:e})}})),this.resizeObserver.observe(t))}shouldComponentUpdate(e,t){var n;const{tableRef:r,isInDanger:i,isResizing:s,isHeaderRowEnabled:a,isNumberColumnEnabled:c,hoveredRows:l,selection:d,tableActive:u,isHeaderColumnEnabled:p,ordering:h,headerRowHeight:f,stickyHeader:m}=this.props,{tableRenderOptimization:b}=this.props.getEditorFeatureFlags(),g=b?null===(n=this.state)||void 0===n?void 0:n.tableHeight:this.props.tableHeight,v=b?null==t?void 0:t.tableHeight:e.tableHeight
;return h!==e.ordering||r!==e.tableRef||g!==v||u!==e.tableActive||i!==e.isInDanger||s!==e.isResizing||l!==e.hoveredRows||a!==e.isHeaderRowEnabled||p!==e.isHeaderColumnEnabled||c!==e.isNumberColumnEnabled||((e,t)=>!(t||!e)||Object(o("GhYq").a)(e,"cell")!==Object(o("GhYq").a)(t,"cell")||Object(o("GhYq").a)(e,"cell")&&Object(o("GhYq").a)(t,"cell")&&e.ranges!==t.ranges)(d,e.selection)||f!==e.headerRowHeight||m!==e.stickyHeader}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}render(){const{editorView:e,tableRef:t,isInDanger:n,isResizing:o,isNumberColumnEnabled:r,isHeaderRowEnabled:i,isHeaderColumnEnabled:s,tableActive:a,hasHeaderRow:l,hoveredRows:d,stickyHeader:u}=this.props;if(!t)return null;const p=u&&u.sticky&&l?u.top:void 0;return c.a.createElement("div",{onMouseDown:e=>e.preventDefault()},r?c.a.createElement(wu,{editorView:e,hoverRows:this.hoverRows,tableRef:t,tableActive:a,hoveredRows:d,hasHeaderRow:l,isInDanger:n,isResizing:o,selectRow:this.selectRow,
stickyTop:p}):null,a&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Eu,{editorView:e,tableRef:t,isInDanger:n,isResizing:o,isHeaderRowEnabled:i,isHeaderColumnEnabled:s,hoveredRows:d,stickyTop:a?p:void 0}),c.a.createElement(xu,{editorView:e,tableRef:t,hoverRows:this.hoverRows,hoveredRows:d,isInDanger:n,isResizing:o,selectRow:this.selectRow,stickyTop:a?p:void 0})))}}Cu.displayName="TableFloatingControls",s()(Cu,"displayName","TableFloatingControls");class Tu{constructor(e,t,n){s()(this,"leftShadowSentinel",null),s()(this,"rightShadowSentinel",null),s()(this,"shadowsObserved",!1),s()(this,"isSticky",!1),s()(this,"stickyRowHeight",0),s()(this,"init",(()=>{const e=this.table;if(this.wrapper&&e)if(this.tableIntersectionObserver);else{const e=e=>{var t,n;(null!==(t=e.rootBounds)&&void 0!==t&&t.height||null!==(n=e.rootBounds)&&void 0!==n&&n.width)&&(e.target!==this.leftShadowSentinel&&e.target!==this.rightShadowSentinel||(this.updateStickyShadowsHeightIfChanged(),
this.checkIntersectionEvent(e,this.leftShadowSentinel===e.target?o("p3BF").a.SHOW_BEFORE_SHADOW:o("p3BF").a.SHOW_AFTER_SHADOW)))};this.tableIntersectionObserver=new IntersectionObserver(((t,n)=>{t.forEach((t=>e(t)))}),{threshold:[0,1],root:this.wrapper,rootMargin:"0px 10px 0px 0px"})}})),s()(this,"checkIntersectionEvent",((e,t)=>{e.isIntersecting&&1===e.intersectionRatio?this.updateShadowState(t,!1):e.intersectionRatio<1&&this.updateShadowState(t,!0)})),s()(this,"observeShadowSentinels",(e=>{var t,n;this.isSticky=!!e,this.updateStickyShadowsHeightIfChanged(),this.leftShadowSentinel=null===(t=this.table)||void 0===t?void 0:t.querySelector(`.${o("p3BF").b.TABLE_SHADOW_SENTINEL_LEFT}`),this.rightShadowSentinel=null===(n=this.table)||void 0===n?void 0:n.querySelector(`.${o("p3BF").b.TABLE_SHADOW_SENTINEL_RIGHT}`),this.tableIntersectionObserver&&this.leftShadowSentinel&&this.rightShadowSentinel&&!this.shadowsObserved&&(this.tableIntersectionObserver.disconnect(),
this.tableIntersectionObserver.observe(this.leftShadowSentinel),this.tableIntersectionObserver.observe(this.rightShadowSentinel),this.shadowsObserved=!0)})),s()(this,"updateStickyShadows",(e=>{var t,n,r,i,s;if(!this.isSticky)return;const a=this.getStickyCell();if(!a||null===(t=this.wrapper)||void 0===t||!t.parentElement)return;const c=`${e||a.clientHeight+1}px`,l=null===(n=this.wrapper)||void 0===n||null===(r=n.parentElement)||void 0===r?void 0:r.getElementsByClassName(`${o("p3BF").b.TABLE_RIGHT_SHADOW}`),d=null===(i=this.wrapper)||void 0===i||null===(s=i.parentElement)||void 0===s?void 0:s.getElementsByClassName(`${o("p3BF").b.TABLE_LEFT_SHADOW}`);Object(o("ZX1i").b)(c,d),Object(o("ZX1i").b)(c,l)})),this.updateShadowState=e,this.table=t,this.wrapper=n,this.init()}updateStickyShadowsHeightIfChanged(){if(!this.isSticky)return;const e=this.getStickyCell();if(!e)return;const t=e.clientHeight+1;t===this.stickyRowHeight&&(this.stickyRowHeight=t,
this.updateStickyShadows(this.stickyRowHeight))}getStickyCell(){var e;const t=null===(e=this.wrapper)||void 0===e?void 0:e.querySelector("tr.sticky");return t&&t.firstElementChild}dispose(){this.tableIntersectionObserver&&(this.tableIntersectionObserver.disconnect(),this.tableIntersectionObserver=void 0)}}const ju=11===o("j5wO").a.ie_version,Au=()=>{};class Nu extends c.a.Component{constructor(e){super(e),s()(this,"state",{scroll:0,tableContainerWidth:"inherit",parentWidth:void 0,isLoading:!0,[o("p3BF").a.SHOW_BEFORE_SHADOW]:!1,[o("p3BF").a.SHOW_AFTER_SHADOW]:!1}),s()(this,"updateShadowState",((e,t)=>{if(this.state[e]!==t)return e===o("p3BF").a.SHOW_BEFORE_SHADOW?this.setState({[e]:t}):void this.setState({[e]:t})})),s()(this,"createShadowSentinels",(e=>{if(e){const t=document.createElement("span");t.className=o("p3BF").b.TABLE_SHADOW_SENTINEL_LEFT;const n=document.createElement("span");n.className=o("p3BF").b.TABLE_SHADOW_SENTINEL_RIGHT,e.prepend(t),e.prepend(n)}})),
s()(this,"onStickyState",(e=>{const{tableOverflowShadowsOptimization:t}=this.props.getEditorFeatureFlags(),n=this.props.getPos();if(!Object(o("XyUv").e)(n,this.props.view.state))return;const r=mu(e,n);r!==this.state.stickyHeader&&(this.setState({stickyHeader:r}),t&&this.overflowShadowsObserver&&this.overflowShadowsObserver.updateStickyShadows())})),s()(this,"prevTableState",null),s()(this,"getMarginLeft",(e=>{const{containerWidth:t}=this.props,{lineLength:n}=t;let r;if("inherit"!==e&&n){const t=Object(o("uYq7").e)(e);t&&(r=(n-t)/2)}return r})),s()(this,"handleScroll",(e=>{if(!this.wrapper||e.target!==this.wrapper)return;if(this.table){const e=this.table.querySelectorAll("tr[data-header-row]");for(let t=0;t<e.length;t++){const n=e[t];n.scrollLeft=this.wrapper.scrollLeft,n.style.marginRight="2px"}}const{tableOverflowShadowsOptimization:t}=this.props.getEditorFeatureFlags();t||this.updateShadows(),0===this.wrapper.scrollLeft?this.setState({[o("p3BF").a.SHOW_BEFORE_SHADOW]:!1
}):this.setState({[o("p3BF").a.SHOW_BEFORE_SHADOW]:!0})})),s()(this,"handleTableResizing",(()=>{const{getNode:e,containerWidth:t,options:n}=this.props,r=this.node,i=e(),s=r.attrs,a=s.layout!==i.attrs.layout&&s.__autoSize===i.attrs.__autoSize,c=this.getParentNodeWidth(),l=c&&c!==this.state.parentWidth,d=this.tableNodeLayoutSize(i,t.width,n),u=s.isNumberColumnEnabled!==i.attrs.isNumberColumnEnabled,p=Object(o("r/3z").i)(i,r);(a||l||u||d!==this.layoutSize||p)&&(u||p||this.scaleTable({parentWidth:c,layoutChanged:a}),this.updateParentWidth(c)),this.updateTableContainerWidth(),this.node=i,this.containerWidth=t,this.layoutSize=d})),s()(this,"scaleTable",(e=>{const{view:t,getNode:n,getPos:r,containerWidth:i,options:s}=this.props,a=n(),{state:c,dispatch:l}=t,d=r();if(!Object(o("XyUv").e)(d,c))return;const u=t.domAtPos.bind(t),{width:p}=i;this.scaleTableDebounced.cancel(),((e,t,n)=>(r,i)=>{if(!e)return!1;const{node:s,start:a,parentWidth:c,layoutChanged:l}=t
;if(!1===Object(o("yu4X").b)(s))return Object(o("yu4X").c)(e,s),!1;let d;if(d=c?Object(o("Aece").c)(e,c,s,a,n):Object(o("Aece").a)(e,t,n),d){let{tr:e}=r;if(e=Object(o("Bo8Z").b)(d,s,a)(e),e.docChanged&&i)return e.setMeta("scrollIntoView",!1),!l&&e.setMeta("scaleTable",!0),i(e),!0}return!1})(this.table,{...e,node:a,prevNode:this.node||a,start:d+1,containerWidth:p,previousContainerWidth:this.containerWidth.width||p,...s},u)(c,l)})),s()(this,"handleAutoSize",(()=>{if(this.table){const{view:e,getNode:t,getPos:n,containerWidth:r}=this.props,i=t(),s=n();if(!Object(o("XyUv").e)(s,e.state))return;((e,t,n,r,i)=>{e.dispatch(Object(o("qmiZ").b)(e,t,n,r,i))})(e,i,this.table,s,{containerWidth:r.width})}})),s()(this,"handleWindowResize",(()=>{var e,t
;const{getNode:n,containerWidth:o}=this.props,r=n(),i=this.node,s=this.tableNodeLayoutSize(r),a=null==i?void 0:i.attrs,c=(null==a?void 0:a.layout)!==(null==r||null===(e=r.attrs)||void 0===e?void 0:e.layout)&&(null==a?void 0:a.__autoSize)===(null==r||null===(t=r.attrs)||void 0===t?void 0:t.__autoSize);if(o.width>s)return;const l=this.getParentNodeWidth();this.scaleTableDebounced({layoutChanged:c,parentWidth:l})})),s()(this,"updateTableContainerWidth",(()=>{const{getNode:e,containerWidth:t,options:n}=this.props,r=e();if(n&&!1===n.isBreakoutEnabled)return;const i=Object(o("9ehW").b)(r.attrs.layout,t.width);if(this.state.tableContainerWidth===i)return null;this.setState((e=>n&&!1===n.isBreakoutEnabled&&"inherit"!==e.tableContainerWidth?{tableContainerWidth:"inherit"}:{tableContainerWidth:i}))})),s()(this,"getParentNodeWidth",(()=>{const{getPos:e,containerWidth:t,options:n,view:{state:r}}=this.props,i=e();if(!Object(o("XyUv").e)(i,r))return
;return Object(o("OMlK").a)(i,r,t,n&&n.isFullWidthModeEnabled)})),s()(this,"updateParentWidth",(e=>{this.setState({parentWidth:e})})),s()(this,"tableNodeLayoutSize",((e,t,n)=>Object(o("SdCE").b)(e.attrs.layout,t||this.props.containerWidth.width,n||this.props.options||{}))),s()(this,"scaleTableDebounced",Object(o("w95p").a)(this.scaleTable)),s()(this,"handleTableResizingDebounced",Object(o("w95p").a)(this.handleTableResizing)),s()(this,"handleScrollDebounced",Object(o("w95p").a)(this.handleScroll)),s()(this,"handleAutoSizeDebounced",Object(o("w95p").a)(this.handleAutoSize)),s()(this,"handleWindowResizeDebounced",Object(o("w95p").a)(this.handleWindowResize));const{options:t,containerWidth:n,getNode:r,getEditorFeatureFlags:i}=e;this.node=r(),this.containerWidth=n;const a=!!t&&t.wasFullWidthModeEnabled;this.layoutSize=this.tableNodeLayoutSize(this.node,n.width,{isFullWidthModeEnabled:a}),"execCommand"in document&&["enableObjectResizing","enableInlineTableEditing"].forEach((e=>{
document.queryCommandSupported(e)&&document.execCommand(e,!1,"false")}));const{initialRenderOptimization:c}=i();c||requestAnimationFrame((()=>{this.setState({isLoading:!1})}))}componentDidMount(){const{allowColumnResizing:e,eventDispatcher:t}=this.props;e&&this.wrapper&&!ju&&this.wrapper.addEventListener("scroll",this.handleScrollDebounced),e&&(window.addEventListener("resize",this.handleWindowResizeDebounced),this.updateTableContainerWidth(),this.handleTableResizingDebounced());const n=bu.getState(this.props.view.state);n&&this.onStickyState(n),t.on(bu.key,this.onStickyState)}componentWillUnmount(){this.wrapper&&!ju&&this.wrapper.removeEventListener("scroll",this.handleScrollDebounced),this.handleScrollDebounced.cancel(),this.scaleTableDebounced.cancel(),this.handleTableResizingDebounced.cancel(),this.handleAutoSizeDebounced.cancel(),this.handleWindowResizeDebounced.cancel(),this.props.allowColumnResizing&&window.removeEventListener("resize",this.handleWindowResizeDebounced),
this.overflowShadowsObserver&&this.overflowShadowsObserver.dispose(),this.props.eventDispatcher.off(bu.key,this.onStickyState)}componentDidUpdate(e){const{view:t,getNode:n,isMediaFullscreen:r,allowColumnResizing:i}=this.props,{isInDanger:s}=Object(o("dGVe").c)(t.state),a=Object(o("zYPQ").c)(t.state.selection);s&&!a&&Object(o("/gRz").a)()(t.state,t.dispatch);const{tableOverflowShadowsOptimization:c}=this.props.getEditorFeatureFlags();var l,d;c?(null!==(l=this.wrapper)&&void 0!==l&&l.parentElement&&this.table&&!this.overflowShadowsObserver&&(this.overflowShadowsObserver=new Tu(this.updateShadowState,this.table,this.wrapper)),this.overflowShadowsObserver&&this.overflowShadowsObserver.observeShadowSentinels(null===(d=this.state.stickyHeader)||void 0===d?void 0:d.sticky)):this.updateShadows();const u=n();if(u.attrs.__autoSize)this.handleAutoSizeDebounced();else if(i&&this.table&&!r){const e=this.node;if(Object(o("r/3z").h)(u,e)||Object(o("r/3z").i)(u,e)){const{view:e}=this.props
;Object(o("yu4X").c)(this.table,u),Object(o("QiND").d)(this.props.getEditorFeatureFlags)(e.state)}this.handleTableResizingDebounced()}}updateShadows(){var e;const t=null===(e=this.wrapper)||void 0===e?void 0:e.parentElement;if(this.wrapper&&t){const e=t.querySelectorAll(`.${o("p3BF").b.TABLE_RIGHT_SHADOW}`),n=t.querySelectorAll(`.${o("p3BF").b.TABLE_LEFT_SHADOW}`);Object(o("ZX1i").a)(this.props.getEditorFeatureFlags)(this.props.view.state,this.wrapper,this.table,e,n)}}render(){
const{view:e,getNode:t,tableResizingPluginState:n,allowControls:r=!0,isHeaderRowEnabled:i,ordering:s,isHeaderColumnEnabled:a,tableActive:l,containerWidth:d}=this.props,{isLoading:u,tableContainerWidth:p,showBeforeShadow:h,showAfterShadow:f}=this.state,m=t(),{isInDanger:b,hoveredRows:g}=Object(o("dGVe").c)(e.state),{stickyHeadersOptimization:v,initialRenderOptimization:y,tableRenderOptimization:O,tableOverflowShadowsOptimization:E}=this.props.getEditorFeatureFlags(),w=this.table||void 0,S=!!n&&!!n.dragging,k=w?w.querySelector("tr[data-header-row]"):void 0,x=w&&!O?w.offsetHeight:void 0,C=Object(o("r/3z").d)(m),T=c.a.createElement("div",{className:o("p3BF").b.ROW_CONTROLS_WRAPPER},c.a.createElement(Cu,{editorView:e,tableRef:w,tableActive:l,hoveredRows:g,isInDanger:b,isResizing:S,isNumberColumnEnabled:m.attrs.isNumberColumnEnabled,isHeaderRowEnabled:i,ordering:s,isHeaderColumnEnabled:a,hasHeaderRow:C,selection:e.state.selection,tableHeight:x,headerRowHeight:k?k.offsetHeight:void 0,
stickyHeader:this.state.stickyHeader,getEditorFeatureFlags:this.props.getEditorFeatureFlags})),j=r&&(!u||y)&&l?-o("anI9").U:o("9ehW").f,A=E?Object(o("Wwog").a)((e=>({visibility:e?"visible":"hidden"}))):Au;return c.a.createElement("div",{style:{width:p,marginLeft:this.getMarginLeft(p)},className:so()(o("p3BF").b.TABLE_CONTAINER,{[o("p3BF").b.WITH_CONTROLS]:r&&l,[o("p3BF").b.TABLE_STICKY]:this.state.stickyHeader&&C,[o("p3BF").b.HOVERED_DELETE_BUTTON]:b,[o("p3BF").b.TABLE_SELECTED]:Object(o("+yxU").c)(e.state.selection),"less-padding":d.width<o("anI9").z}),"data-number-column":m.attrs.isNumberColumnEnabled,"data-layout":m.attrs.layout},v&&c.a.createElement("div",{className:o("p3BF").b.TABLE_STICKY_SENTINEL_TOP,"data-testid":"sticky-sentinel-top"}),r&&(!u||y)&&T,c.a.createElement("div",{style:A(h),className:o("p3BF").b.TABLE_LEFT_SHADOW}),this.state.stickyHeader&&c.a.createElement("div",{className:`${o("p3BF").b.TABLE_LEFT_SHADOW} ${o("p3BF").b.TABLE_STICKY_SHADOW}`,style:{
visibility:E?h&&C?"visible":"hidden":void 0,top:`${this.state.stickyHeader.top+this.state.stickyHeader.padding+j+2}px`}}),c.a.createElement("div",{className:so()(o("p3BF").b.TABLE_NODE_WRAPPER),ref:e=>{if(this.wrapper=e,e){this.props.contentDOM(e);const t=e.querySelector("table");t!==this.table&&(this.table=t,this.createShadowSentinels(this.table))}}}),c.a.createElement("div",{style:A(f),className:o("p3BF").b.TABLE_RIGHT_SHADOW}),this.state.stickyHeader&&c.a.createElement("div",{style:{position:"absolute",right:"-2px"}},c.a.createElement("div",{className:`${o("p3BF").b.TABLE_RIGHT_SHADOW} ${o("p3BF").b.TABLE_STICKY_SHADOW}`,style:{visibility:E?f&&C?"visible":"hidden":void 0,top:`${this.state.stickyHeader.top+this.state.stickyHeader.padding+j+2}px`}})),v&&c.a.createElement("div",{className:o("p3BF").b.TABLE_STICKY_SENTINEL_BOTTOM,"data-testid":"sticky-sentinel-bottom"}))}}Nu.displayName="TableComponent",s()(Nu,"displayName","TableComponent");var Iu=Nu;const Pu=e=>({
"data-number-column":e.attrs.isNumberColumnEnabled,"data-layout":e.attrs.layout,"data-autosize":e.attrs.__autoSize,"data-table-local-id":e.attrs.localId||""});class Mu extends fu{constructor(e){super(e.node,e.view,e.getPos,e.portalProviderAPI,e.eventDispatcher,e,void 0,void 0,void 0,e.hasIntlContext),s()(this,"getNode",(()=>this.node)),s()(this,"hasHoveredRows",!1),this.getPos=e.getPos,this.tableRenderOptimization=e.tableRenderOptimization,this.eventDispatcher=e.eventDispatcher}getContentDOM(){const e=ie.DOMSerializer.renderSpec(document,((e,t)=>{let n="";return t.allowColumnResizing&&(n=["colgroup",{},...Object(o("yu4X").a)(e)]),["table",Pu(e),n,["tbody",0]]})(this.node,this.reactComponentProps));return e.dom&&(this.table=e.dom),e}setDomAttrs(e){if(!this.table)return;const t=Pu(e);Object.keys(t).forEach((e=>{this.table.setAttribute(e,t[e])}))}render(e,t){return c.a.createElement(o("st3q").a,{plugins:{pluginState:o("+62K").a,tableResizingPluginState:o("u/2i").a,widthPlugin:{
key:"widthPlugin$",getState:e=>e.widthPlugin$},mediaState:{key:"mediaPlugin$",getState:e=>e.mediaPlugin$}},editorView:e.view,render:n=>{const{tableResizingPluginState:o,pluginState:r,mediaState:i}=n,s=e.getPos()===r.tablePos,a=e.getEditorContainerWidth();return c.a.createElement(Iu,{view:e.view,allowColumnResizing:e.allowColumnResizing,eventDispatcher:e.eventDispatcher,getPos:e.getPos,isMediaFullscreen:null==i?void 0:i.isFullscreen,options:e.options,allowControls:r.pluginConfig.allowControls,isHeaderRowEnabled:r.isHeaderRowEnabled,isHeaderColumnEnabled:r.isHeaderColumnEnabled,tableActive:s,ordering:r.ordering,tableResizingPluginState:o,getNode:this.getNode,containerWidth:a,contentDOM:t,getEditorFeatureFlags:e.getEditorFeatureFlags})}})}viewShouldUpdate(e){if(this.tableRenderOptimization){const{hoveredRows:t}=Object(o("dGVe").c)(this.view.state),n=!(null==t||!t.length)!==this.hasHoveredRows;if(e.attrs.isNumberColumnEnabled&&n)return this.hasHoveredRows=!(null==t||!t.length),!0
;const r=this.getNode();if(typeof r.attrs!=typeof e.attrs)return!0;const i=Object.keys(r.attrs),s=Object.keys(e.attrs);if(i.length!==s.length)return!0;const a=o("wYWE").b.get(r),c=o("wYWE").b.get(e);return a.width!==c.width||i.some((t=>r.attrs[t]!==e.attrs[t]))}return super.viewShouldUpdate(e)}ignoreMutation(e){const{type:t,target:{nodeName:n,firstChild:o}}=e;return("selection"!==t||"DIV"!==(null==n?void 0:n.toUpperCase())||"TABLE"!==(null==o?void 0:o.nodeName.toUpperCase()))&&("selection"!==t||"TABLE"!==(null==n?void 0:n.toUpperCase())||"COLGROUP"!==(null==o?void 0:o.nodeName.toUpperCase())&&"SPAN"!==(null==o?void 0:o.nodeName.toUpperCase()))}destroy(){var e;this.resizeObserver&&this.resizeObserver.disconnect(),null===(e=this.eventDispatcher)||void 0===e||e.emit("TABLE_DELETED",this.node),super.destroy()}}Mu.displayName="TableView";const Ru=e=>{const{schema:t}=e.type;if(e.type===t.nodes.table){const n=[],{tableCell:o,tableHeader:r}=t.nodes
;return e.descendants((e=>(e.type!==o&&e.type!==r||n.push(...Object(l.flatten)(e,!1).map((e=>e.node))),!0))),n}return e};var _u=o("EcEN"),Lu=o.n(_u);class Du{constructor(e,t,n,o,r){this.view=t,this.node=e;const{dom:i,contentDOM:s}=ie.DOMSerializer.renderSpec(document,e.type.spec.toDOM(e));this.getPos=n,this.dom=i,this.contentDOM=s;const{mouseMoveOptimization:a}=o();a&&r&&(this.contentDOM.id=Lu()(),this.mouseMoveOptimization=a,this.observer=r,r.observe(this.contentDOM))}updateNodeView(e){if(this.node.type!==e.type)return!1;const t=Object(o("kBLm").b)(this.node),n=Object(o("kBLm").b)(e),{colspan:r,rowspan:i}=Object(o("kBLm").a)(this.dom);if(r!==(e.attrs.colspan||1)||i!==(e.attrs.rowspan||1))return!1;const s=Object.entries(n).filter((([e,n])=>t[e]!==n)),a=Object.keys(t).filter((e=>!n.hasOwnProperty(e)));return s.length||a.length?(s.forEach((([e,t])=>this.dom.setAttribute(e,t||""))),a.forEach((e=>this.dom.removeAttribute(e))),!0):!!this.node.sameMarkup(e)}update(e){
const t=this.updateNodeView(e);return t&&(this.node=e),t}destroy(){this.mouseMoveOptimization&&this.observer&&this.observer.unobserve(this.contentDOM)}}function Fu(e){const t=Object(o("C0PT").d)(ie.Fragment.from(e),(e=>(e=>e.type===e.type.schema.nodes.layoutSection||e.type===e.type.schema.nodes.layoutColumn)(e)?e.content:e)),n=[];return t.forEach((e=>n.push(e))),n}function Bu(e,t){return 0===t?Fu(e):e}function Vu(e,t,n){return t===n.childCount-1?Fu(e):e}let zu,Hu,Uu;const Wu=(e,t,n,r,i,s,a,c,u,p,h)=>{var f;zu=c,Hu=u,Uu=p;const m=Object(o("dGVe").b)(t,{pluginConfig:i,insertColumnButtonIndex:void 0,insertRowButtonIndex:void 0,isFullWidthModeEnabled:Hu,isHeaderRowEnabled:!!i.allowHeaderRow,isHeaderColumnEnabled:!1,...o("2xeO").a});let b={};const g=null!==(f=window)&&void 0!==f&&f.ResizeObserver?new ResizeObserver((e=>{e.forEach((e=>{e.target.id&&(b[e.target.id]=e.contentRect)}))})):void 0,v={tableCell:(e,t,n)=>new Du(e,t,n,a,g),tableHeader:(e,t,n)=>new Du(e,t,n,a,g)},y=[];let O=null
;return new(o("KkS8").a)({state:m,key:o("+62K").a,appendTransaction:(t,n,r)=>{const i=t.find((e=>"cut"===e.getMeta("uiEvent")));if(i){const e=((e,t,n,r)=>{const i=t.tr.selection;let{tr:s}=n;if(i instanceof o("n1Ll").a){const a=e.doc.resolve(e.mapping.map(i.$anchorCell.pos)),c=e.doc.resolve(e.mapping.map(i.$headCell.pos)),l=new(o("n1Ll").a)(a,c);if(s.setSelection(l),s.selection instanceof o("n1Ll").a){const e=Object(o("n3wV").a)(l);if(e){const{verticalCells:i,horizontalCells:a,totalCells:c,totalRowCount:l,totalColumnCount:d}=Object(o("W+n6").a)(s.selection);if(null==r||r.attachAnalyticsEvent({action:o("oTfp").a.CUT,actionSubject:o("+PNV").b.TABLE,actionSubjectId:null,attributes:{verticalCells:i,horizontalCells:a,totalCells:c,totalRowCount:l,totalColumnCount:d},eventType:o("+PNV").e.TRACK})(s),s.selection instanceof o("n1Ll").a)if(s.selection.isRowSelection()&&s.selection.isColSelection())s=Cl(s);else if(s.selection.isRowSelection()){
const{pluginConfig:{isHeaderRowRequired:t}}=Object(o("dGVe").c)(n);s=cd(e,t)(s)}else s.selection.isColSelection()&&(s=pd(e,Object(o("mk3z").a)(t))(s))}}}return s})(i,n,r,h);return Object(o("qmiZ").c)(e)||e}if(t.find((e=>e.docChanged)))return Object(o("qmiZ").c)(r.tr,(function(t){y.find((e=>e===t.tableLocalId))||(y.push(t.tableLocalId),e({action:o("+PNV").a.INVALID_DOCUMENT_ENCOUNTERED,actionSubject:o("+PNV").b.EDITOR,eventType:o("+PNV").e.OPERATIONAL,attributes:{nodeType:t.nodeType,reason:`${t.attribute}: ${t.reason}`,tableLocalId:t.tableLocalId,spanValue:t.spanValue}}))}))},view:e=>{const t=e.domAtPos.bind(e);return O=e,{update:e=>{const{state:n,dispatch:r}=e,{selection:i}=n,s=Object(o("dGVe").c)(n);let a,c;if(s.editorHasFocus){const e=Object(l.findParentDomRefOfType)(n.schema.nodes.table,t)(i);e&&(a=e.querySelector("table")||void 0),c=Object(o("zYPQ").c)(n.selection)}if(s.tableRef!==a&&(e=>Object(o("dGVe").a)((t=>{
const n=e,r=Object(o("zYPQ").c)(t.selection),i=e&&r?r.node:void 0,s=e&&r?r.pos:void 0,a=Object(o("uYq7").b)(n,`.${o("p3BF").b.TABLE_NODE_WRAPPER}`)||void 0,c=i?i.attrs.layout:void 0,l=Object(o("mKh9").a)(t,Object(o("xQCw").b)(t.selection),o("p3BF").c.COLUMN_CONTROLS_DECORATIONS);return{type:"SET_TABLE_REF",data:{tableRef:n,tableNode:i,tablePos:s,tableWrapperTarget:a,layout:c||"default",isNumberColumnEnabled:Object(o("r/3z").c)(t.selection),isHeaderRowEnabled:Object(o("r/3z").b)(t.selection),isHeaderColumnEnabled:Object(o("r/3z").a)(t.selection),decorationSet:l,resizeHandleRowIndex:void 0,resizeHandleColumnIndex:void 0}}}),(e=>e.setMeta("addToHistory",!1))))(a)(n,r),s.tableNode!==c&&nu(a),s.editorHasFocus&&s.tableRef){const{$cursor:e}=n.selection;if(e){const e=Object(l.findParentNodeOfType)(n.schema.nodes.tableHeader)(n.selection);e&&(e=>(t,n)=>{const{tr:r}=t
;if(Object(o("XyUv").d)(r.selection)&&r.selection.$cursor&&null==r.storedMarks&&r.selection.$from.depth===e.depth+1&&4===e.node.nodeSize&&Object(o("ceYy").g)(e.node.firstChild,t.schema)){const{strong:e}=t.schema.marks;return r.setStoredMarks([e.create()]).setMeta("addToHistory",!1),n&&n(r),!0}return!1})(e)(n,r)}}},destroy:()=>{g&&g.disconnect()}}},props:{transformPasted(e){const t=(()=>O?O.state:null)();if(!t)return e;const{schema:n}=t;return!Object(o("49vz").a)(t)&&function(e){const t=Object(o("dGVe").c)(e);return t&&t.pluginConfig.isHeaderRowRequired}(t)&&(e=((e,t)=>{const{table:n,tableHeader:r,tableRow:i}=t.nodes;return Object(o("C0PT").e)(e,(e=>{if(e.type===n){const t=e.firstChild;if(t){const n=[];t.forEach((e=>{n.push(r.createChecked(e.attrs,e.content,e.marks))}));const o=i.createChecked(t.attrs,n,t.marks);return e.copy(e.content.replaceChild(0,o))}}return e}))})(e,n)),e=((e,t)=>{
const{paragraph:n,table:o,hardBreak:r}=t.nodes,i=n.createAndFill(),s=null==r?void 0:r.createAndFill(),a=(i?i.nodeSize:0)+(s?s.nodeSize:0);if(2===e.content.childCount&&e.content.firstChild&&e.content.lastChild&&e.content.firstChild.type===o&&e.content.lastChild.type===n&&e.content.lastChild.nodeSize===a){const t=Ru(e.content.firstChild);if(t instanceof Array)return new ie.Slice(ie.Fragment.from(t[0]),e.openStart,e.openEnd)}return e})(e,n),e=function(e,t){if(e.openStart&&e.openEnd&&1===e.content.childCount&&e.content.firstChild.type===t.nodes.layoutSection)return new ie.Slice(Object(o("C0PT").a)(e.content,Bu),e.openStart-2,e.openEnd-2);return e.openStart&&e.content.firstChild.type===t.nodes.layoutSection&&(e=new ie.Slice(Object(o("C0PT").a)(e.content,Bu),e.openStart-2,e.openEnd)),e.openEnd&&e.content.lastChild.type===t.nodes.layoutSection&&(e=new ie.Slice(Object(o("C0PT").a)(e.content,Vu),e.openStart,e.openEnd-2)),e}(e,n),e=((e,t)=>{var n
;if(e.openStart>=4&&e.openEnd>=4&&1===e.content.childCount&&e.content.firstChild.type===t.nodes.table){var r,i,s,a,c;let n=e;return(null===(r=e.content.firstChild)||void 0===r||null===(i=r.content)||void 0===i||null===(s=i.firstChild)||void 0===s||null===(a=s.content)||void 0===a||null===(c=a.firstChild)||void 0===c?void 0:c.type)===t.nodes.table&&(n=new ie.Slice(e.content.firstChild.content.firstChild.content,e.openStart-2,e.openEnd-2)),new ie.Slice(Object(o("C0PT").a)(n.content,Ru),n.openStart-3,n.openEnd-3)}return e.openStart>=4&&e.content.childCount>1&&(null===(n=e.content.firstChild)||void 0===n?void 0:n.type)===t.nodes.table?new ie.Slice(e.content,1,e.openEnd):e})(e=Object(o("beyY").c)(e,n),n),e=((e,t)=>{const{bodiedExtension:n}=t.nodes,r=Object(o("C0PT").d)(e.content,((t,o,r)=>{if(t.type===n&&!o){const n=e.openStart&&0===r,o=e.openEnd&&r+1===e.content.childCount;if(n||o)return t.content}return t}))
;return new ie.Slice(r,r.firstChild&&r.firstChild.type!==e.content.firstChild.type?e.openStart-1:e.openStart,r.lastChild&&r.lastChild.type!==e.content.lastChild.type?e.openEnd-1:e.openEnd)})(e,n),e=((e,t)=>{const{tableCell:n,tableHeader:r}=t.nodes;return Object(o("C0PT").e)(e,(e=>!e||e.type!==n&&e.type!==r||e.content.childCount?e:e.type.createAndFill(e.attrs)||e))})(e,n),i.allowColumnResizing||(e=((e,t)=>{const{tableHeader:n,tableCell:r}=t.nodes;return Object(o("C0PT").e)(e,(e=>e.type!==r&&e.type!==n||!e.attrs.colwidth?e:e.type.createChecked({...e.attrs,colwidth:void 0},e.content,e.marks)))})(e,n)),i.allowBackgroundColor||(e=((e,t)=>{const{tableCell:n,tableHeader:r}=t.nodes;return Object(o("C0PT").e)(e,(e=>{if(e.type===n||e.type===r){const t={...e.attrs};return t.background=void 0,e.type.createChecked(t,e.content,e.marks)}return e}))})(e,n)),e},handleClick:({state:e,dispatch:t},n,r)=>{const i=o("4Ncm").c.getState(e);if(Object(o("xQCw").h)(i).length&&Object(o("/gRz").a)()(e,t),
o("j5wO").a.chrome&&r.target){const e=r.target.classList;if(e.contains(o("p3BF").b.CONTROLS_BUTTON)||e.contains(o("p3BF").b.CONTEXTUAL_MENU_BUTTON))return!0}return!1},handleScrollToSelection:e=>{const{tableHeader:t}=e.state.schema.nodes,n=Object(l.findParentDomRefOfType)(t,e.domAtPos.bind(e))(e.state.selection),r=Object(o("uYq7").b)(n,"tr");return!!r&&r.classList.contains("sticky")},handleTextInput:({state:e,dispatch:t},n,r,i)=>{const s=((e,t,n,r)=>{if(Object(o("+yxU").c)(e.selection)){const i=Object(o("zYPQ").c)(e.selection);if(i){const s="string"==typeof t?new ie.Slice(ie.Fragment.from(e.schema.text(t)),0,0):t;let a=e.tr.replace(i.pos,i.pos+i.node.nodeSize,s);a.setSelection(d.TextSelection.create(a.doc,i.pos+s.size+1));const{totalRowCount:c,totalColumnCount:l}=Object(o("W+n6").b)(e.selection);return null==r||r.attachAnalyticsEvent({action:o("oTfp").a.REPLACED,actionSubject:o("+PNV").b.TABLE,attributes:{totalColumnCount:l,totalRowCount:c,inputMethod:n},eventType:o("+PNV").e.TRACK
})(a),a}}return e.tr})(e,i,o("+PNV").f.KEYBOARD,h);return!!s.selectionSet&&(t(s),!0)},nodeViews:{...v,table:(e,t,i)=>((e,t,n,r,i,s,a,c)=>{const{pluginConfig:l}=Object(o("dGVe").c)(t.state),{allowColumnResizing:d}=yl(l),{tableRenderOptimization:u}=c();return new Mu({node:e,view:t,allowColumnResizing:d,portalProviderAPI:r,eventDispatcher:i,getPos:n,options:s,tableRenderOptimization:u,getEditorContainerWidth:a,getEditorFeatureFlags:c,hasIntlContext:!0}).init()})(e,t,i,n,r,{isBreakoutEnabled:zu,isFullWidthModeEnabled:Hu,wasFullWidthModeEnabled:Uu},s,a)},handleDOMEvents:{focus:ru,blur:ou,mousedown:au,mouseover:pu(su),mouseleave:pu(lu),mouseout:pu(cu),mousemove:pu(du(a),b),click:pu(iu)},handleTripleClick:uu}})},{createPluginState:Ku,createCommand:$u}=Object(o("pVB1").a)(bu,((e,t)=>{if("UPDATE"===t.name){let n=!1;const o=e.map((e=>{const o=e.pos===t.state.pos;return o&&(n=!0),o?t.state:e}));return n||o.push(t.state),o}return"REMOVE"===t.name?e.filter((e=>e.pos!==t.pos)):e}),{
mapping:(e,t)=>e.docChanged?t.map((t=>{const n=e.mapping.mapResult(t.pos);return n?{...t,pos:n.pos}:void 0})).filter((e=>void 0!==e)):t}),qu=e=>$u({name:"UPDATE",state:e},(e=>e.setMeta("addToHistory",!1))),Gu=e=>!e||e instanceof Window?0:e.getBoundingClientRect().top;var Yu=o("DzJC"),Qu=o.n(Yu);const Xu=e=>{const t=Object(o("C0PT").c)(e,(e=>"tableHeader"===e.type.name)).every(Boolean),n=(e=>Object(o("C0PT").c)(e,(e=>e.attrs.rowspan||0)).some((e=>e>1)))(e);return t&&!n};class Zu{get tree(){return(e=>{const t=e.parentElement;if(!t)return null;const n=t.parentElement;if(!n)return null;const o=n.parentElement;return o?{wrapper:o,table:n}:null})(this.dom)}constructor(e,t,n,r,i){s()(this,"colControlsOffset",0),s()(this,"focused",!1),s()(this,"topPosEditorElement",0),s()(this,"stickyHeadersOptimization",!1),s()(this,"sentinels",{}),s()(this,"listening",!1),s()(this,"headerRowMouseScrollEnd",Si()((()=>{this.dom.classList.remove("no-pointer-events")}),400)),
s()(this,"headerRowMouseScroll",Qu()((()=>{this.isSticky&&(this.dom.classList.add("no-pointer-events"),this.headerRowMouseScrollEnd())}),200)),s()(this,"onScroll",(()=>{this.tree&&(this.latestDomTop=Gu(this.tree.wrapper),this.nextFrame||this.loop())})),s()(this,"loop",(()=>{this.nextFrame=window.requestAnimationFrame((()=>{if(this.previousDomTop===this.latestDomTop&&this.previousPadding===this.padding)return void(this.nextFrame=void 0);const e=this.tree;e?(this.paint(e),this.previousPadding=this.padding,this.previousDomTop=this.latestDomTop,this.loop()):this.nextFrame=void 0}))})),s()(this,"paint",(e=>{const{table:t,wrapper:n}=e;Math.abs(performance.now()-this.lastTimePainted)<10||(this.shouldHeaderStick(e)?this.makeHeaderRowSticky(e):this.makeRowHeaderNotSticky(t),this.dom.scrollLeft=n.scrollLeft,this.lastTimePainted=performance.now())})),s()(this,"onTablePluginState",(e=>{const t=e.tableRef;let n=!1;const r=this.tree;if(!r)return
;e.isHeaderRowEnabled||[this.sentinels.top,this.sentinels.bottom].forEach((e=>{e&&delete e.dataset.isObserved}));const i=t===r.table;i&&!e.isHeaderRowEnabled&&this.tree&&this.makeRowHeaderNotSticky(this.tree.table),i!==this.focused&&(n=!0),this.focused=i;const{wrapper:s}=r,a=s.parentElement.parentElement,c=a&&a.parentElement;i?(this.colControlsOffset=o("muXR").j,c&&c.getAttribute("data-layout-content")&&(a.style.paddingLeft="11px")):(this.colControlsOffset=0,c&&c.getAttribute("data-layout-content")&&a.style.removeProperty("padding-left")),setTimeout((()=>{(!this.stickyHeadersOptimization||n&&this.isSticky)&&this.paint(r),Object(o("QiND").c)(r.table)}),0)})),s()(this,"updateStickyHeaderWidth",(()=>{const e=this.tree;e&&Object(o("QiND").c)(e.table)})),s()(this,"shouldHeaderStick",(e=>{
const{wrapper:t}=e,n=t.getBoundingClientRect(),o=this.editorScrollableElement.getBoundingClientRect(),r=this.contentDOM.getBoundingClientRect(),i=!this.dom.previousElementSibling,s=!!this.dom.nextElementSibling,a=i&&s;return!!(n.top<o.top&&n.bottom>o.top&&a)||(r.top,o.top,!1)})),s()(this,"makeHeaderRowSticky",((e,t)=>{var n;if(this.stickyRowHeight&&this.stickyRowHeight>window.innerHeight/2)return;const{table:r}=e,i=this.dom.parentElement;if(!(null==i||null===(n=i.firstChild)||void 0===n?void 0:n.isEqualNode(this.dom)))return;const s=this.getCurrentTableTop(e);t||(t=Gu(this.editorScrollableElement));const a=s>0?t:t+s;this.isSticky||(Object(o("QiND").c)(r),this.dom.classList.add("sticky"),r.classList.add(o("p3BF").b.TABLE_STICKY),this.isSticky=!0),this.dom.style.top=`${a}px`,Object(o("QiND").e)(r),this.emitOn(a,this.colControlsOffset)})),s()(this,"makeRowHeaderNotSticky",((e,t=!1)=>{this.isSticky&&e&&this.dom&&(this.dom.style.removeProperty("width"),this.dom.classList.remove("sticky"),
e.classList.remove(o("p3BF").b.TABLE_STICKY),this.isSticky=!1,this.dom.style.top="",e.style.removeProperty("margin-top"),this.emitOff(t))})),s()(this,"getWrapperoffset",((e=!1)=>(e?!this.focused:this.focused)?0:o("muXR").j)),s()(this,"getWrapperRefTop",(e=>Math.round(Gu(e))+this.getWrapperoffset())),s()(this,"getScrolledTableTop",(e=>this.getWrapperRefTop(e)-this.topPosEditorElement)),s()(this,"getCurrentTableTop",(e=>this.getScrolledTableTop(e.wrapper)+e.table.clientHeight)),s()(this,"padding",0),s()(this,"top",0),s()(this,"emitOn",((e,t)=>{e===this.top&&t===this.padding||(this.top=e,this.padding=t,qu({pos:this.getPos(),top:e,sticky:!0,padding:t})(this.view.state,this.view.dispatch,this.view))})),s()(this,"emitOff",(e=>{0===this.top&&0===this.padding||(this.top=0,this.padding=0,e||qu({pos:this.getPos(),sticky:!1,top:this.top,padding:this.padding})(this.view.state,this.view.dispatch,this.view))})),this.view=t,this.node=e,this.getPos=n,this.eventDispatcher=r,
this.dom=document.createElement("tr"),this.contentDOM=this.dom;const a=i(),{stickyHeadersOptimization:c}=a;this.stickyHeadersOptimization=!!c,this.lastTimePainted=0,this.isHeaderRow=Xu(e),this.isSticky=!1,this.isHeaderRow&&(this.dom.setAttribute("data-header-row","true"),this.subscribe())}subscribe(){this.editorScrollableElement=Object(o("fuko").c)(this.view.dom)||window,this.editorScrollableElement&&(this.stickyHeadersOptimization?this.initObservers():this.editorScrollableElement.addEventListener("scroll",this.onScroll),this.topPosEditorElement=Gu(this.editorScrollableElement)),this.eventDispatcher.on("widthPlugin",this.updateStickyHeaderWidth),this.eventDispatcher.on(o("+62K").a.key,this.onTablePluginState),this.listening=!0,this.dom.addEventListener("wheel",this.headerRowMouseScroll.bind(this)),this.dom.addEventListener("touchmove",this.headerRowMouseScroll.bind(this))}unsubscribe(){this.listening&&(this.intersectionObserver&&(this.intersectionObserver.disconnect(),
[this.sentinels.top,this.sentinels.bottom].forEach((e=>{e&&delete e.dataset.isObserved}))),this.resizeObserver&&this.resizeObserver.disconnect(),this.editorScrollableElement&&!this.stickyHeadersOptimization&&this.editorScrollableElement.removeEventListener("scroll",this.onScroll),this.eventDispatcher.off("widthPlugin",this.updateStickyHeaderWidth),this.eventDispatcher.off(o("+62K").a.key,this.onTablePluginState),this.listening=!1,this.dom.removeEventListener("wheel",this.headerRowMouseScroll),this.dom.removeEventListener("touchmove",this.headerRowMouseScroll))}initObservers(){this.dom&&!this.dom.dataset.isObserved&&(this.dom.dataset.isObserved="true",this.createIntersectionObserver(),this.createResizeObserver(),this.intersectionObserver&&this.resizeObserver&&(this.resizeObserver.observe(this.dom),this.editorScrollableElement&&this.resizeObserver.observe(this.editorScrollableElement),window.requestAnimationFrame((()=>{var e
;const t=null===(e=this.tree)||void 0===e?void 0:e.wrapper.closest(`.${o("p3BF").b.NODEVIEW_WRAPPER}`);t&&(this.sentinels.top=t.getElementsByClassName(o("p3BF").b.TABLE_STICKY_SENTINEL_TOP).item(0),this.sentinels.bottom=t.getElementsByClassName(o("p3BF").b.TABLE_STICKY_SENTINEL_BOTTOM).item(0),[this.sentinels.top,this.sentinels.bottom].forEach((e=>{e&&!e.dataset.isObserved&&(e.dataset.isObserved="true",this.intersectionObserver.observe(e))})))}))))}createResizeObserver(){this.resizeObserver=new ResizeObserver((e=>{if(!this.tree)return;const{table:t}=this.tree;e.forEach((e=>{var n;if(e.target.className===(null===(n=this.editorScrollableElement)||void 0===n?void 0:n.className))this.updateStickyHeaderWidth();else{const n=e.contentRect?e.contentRect.height:e.target.offsetHeight;this.sentinels.bottom&&Math.abs(n-(this.stickyRowHeight||0))>1&&(this.stickyRowHeight=n,this.sentinels.bottom.style.bottom=`${23+n}px`,Object(o("QiND").e)(t))}}))}))}createIntersectionObserver(){
this.intersectionObserver=new IntersectionObserver(((e,t)=>{if(!this.tree)return;const{table:n}=this.tree;e.forEach((e=>{var t;const r=e.target;if(0!==(null===(t=e.rootBounds)||void 0===t?void 0:t.height)){if(r.classList.contains(o("p3BF").b.TABLE_STICKY_SENTINEL_TOP)){var i;const t=((null===(i=e.rootBounds)||void 0===i?void 0:i.bottom)||0)<e.boundingClientRect.bottom;var s;if(e.isIntersecting||t)n&&this.makeRowHeaderNotSticky(n);else this.tree&&this.makeHeaderRowSticky(this.tree,null===(s=e.rootBounds)||void 0===s?void 0:s.top)}if(r.classList.contains(o("p3BF").b.TABLE_STICKY_SENTINEL_BOTTOM)){var a;const t=e.boundingClientRect.top-this.dom.offsetHeight<((null===(a=e.rootBounds)||void 0===a?void 0:a.top)||0);if(n&&!e.isIntersecting&&t)this.makeRowHeaderNotSticky(n);else if(e.isIntersecting&&t){var c;this.tree&&this.makeHeaderRowSticky(this.tree,null==e||null===(c=e.rootBounds)||void 0===c?void 0:c.top)}}}}))}),{root:this.editorScrollableElement})}update(e,...t){
if(e===this.node)return!0;const n=Xu(e);if(this.isHeaderRow!==n)return!1;if(((e,t)=>{const n=Object(o("C0PT").c)(e,(e=>e.attrs.rowspan||0)),r=Object(o("C0PT").c)(t,(e=>e.attrs.rowspan||0));return n.length!==r.length||r.some(((e,t)=>e!==n[t]))})(this.node,e))return!1;if(this.node=e,!this.isHeaderRow)return!0;const r=this.dom.parentElement,i=r&&r.parentElement;return Object(o("QiND").c)(i),!0}destroy(){this.unsubscribe(),this.tree&&this.makeRowHeaderNotSticky(this.tree.table,!0),this.emitOff(!0)}ignoreMutation(e){const t="selection"===e.type&&"TR"===e.target.nodeName,n="childList"===e.type&&"TR"===e.target.nodeName&&e.addedNodes.length;return!t&&!n}}const Ju=(e,t,n,r,i)=>{const s=n>0?Object(o("9d+w").a)(e,t,n,i):n<0?Object(o("9d+w").c)(e,t,n,i):e;return Object(o("Vwtw").h)(s,r),s},ep=(e,t,n,r,i,s)=>{const{state:a,dispatch:c}=e,l=!e.editable,d=e.domAtPos.bind(e);if(l||null===n||!Object(o("SdCE").d)(a.doc.resolve(n)))return!1;t.preventDefault()
;const u=t.timeStamp,p=a.doc.nodeAt(n),h=a.doc.resolve(n),f=h.node(-1),m=h.start(-1);let b=d(m).node;b&&"TABLE"!==b.nodeName&&(b=b.closest("table"));const g=r();let v=Object(o("OMlK").a)(m,a,g)||Object(o("SdCE").b)(b.getAttribute("data-layout"),g.width,{});f.attrs.isNumberColumnEnabled&&(v-=o("anI9").R);const y=Object(o("Vwtw").e)({minWidth:o("9ehW").d,maxSize:v,table:f,tableRef:b,start:m,domAtPos:d});if((({resizeState:e,table:t,start:n,event:r})=>(i,s)=>{if(!Object(o("+yxU").c)(i.selection))return!1;const{lastClick:a}=td(i),c=Date.now();if(a&&c-a.time<500&&Object(o("QiND").b)(r,a)){const r=Object(o("Vwtw").c)(e);return od(null,(e=>Object(o("Bo8Z").b)(r,t,n)(e)))(i,s),!0}return od({x:r.clientX,y:r.clientY,time:c})(i,s),!1})({resizeState:y,table:f,start:m,event:t})(a,c))return E(t),!0;const O=Object(o("SdCE").a)(e,n,p.attrs);function E(t){window.removeEventListener("mouseup",E),window.removeEventListener("mousemove",w)
;const{clientX:n}=t,{state:r,dispatch:i}=e,{dragging:a,resizeHandlePos:c}=td(r);if(null===c)return nd()(r,i);if(!Object(o("SdCE").d)(r.doc.resolve(c)))return;const l=r.doc.resolve(c),d=l.start(-1),p=l.node(-1);if(a&&n===a.startX)return nd()(r,i);let{tr:h}=r;if(a){const{startX:e}=a;if(p.eq(f)){const i=o("wYWE").b.get(p),c=i.colCount(l.pos-d)+(l.nodeAfter?l.nodeAfter.attrs.colspan:1)-1,f=Object(o("n3wV").a)(r.selection),m=f?gu(f):[],g=m.indexOf(c)>-1||m.indexOf(c+1)>-1,v=Ju(y,c,n-e,b,g?m:void 0);if(h=Object(o("Bo8Z").b)(v,p,d)(h),c===i.width-1){const e=t.timeStamp;null==s||s.attachAnalyticsEvent({action:o("oTfp").a.ATTEMPTED_TABLE_WIDTH_CHANGE,actionSubject:o("+PNV").b.TABLE,actionSubjectId:null,attributes:{type:"table-border",position:"right",duration:e-u,delta:Math.abs(n-a.startX)},eventType:o("+PNV").e.UI})(h)}}return nd(h)(r,i)}}function w(t){const{clientX:n,which:r}=t,{state:s}=e,{dragging:a,resizeHandlePos:c}=td(s)
;if(!r||!a||null===c||!Object(o("SdCE").d)(s.doc.resolve(c)))return E(t);const l=s.doc.resolve(c),d=l.node(-1),u=o("wYWE").b.get(d).colCount(l.pos-l.start(-1))+l.nodeAfter.attrs.colspan-1;Ju(y,u,n-a.startX,b),Object(o("QiND").d)(i)(s),nu(b)}return((e,t)=>Jl({type:"SET_DRAGGING",data:{dragging:e}},(e=>t||e)))({startX:t.clientX,startWidth:O})(a,c),window.addEventListener("mouseup",E),window.addEventListener("mousemove",w),!0};function tp(e,{lastColumnResizable:t=!0},n,r,i){return new(o("KkS8").a)({key:o("u/2i").a,state:ed(e,{lastColumnResizable:t,resizeHandlePos:null,dragging:null,lastClick:null}),props:{attributes(e){const t=td(e);return{class:so()(o("p3BF").b.RESIZING_PLUGIN,{[o("p3BF").b.RESIZE_CURSOR]:null!==t.resizeHandlePos,[o("p3BF").b.IS_RESIZING]:!!t.dragging})}},handleDOMEvents:{mousedown(e,s){const{state:a}=e,c=td(a).resizeHandlePos||Object(o("QiND").a)(e,s,t),{dragging:l}=td(a);if(null!==c&&!l&&ep(e,s,c,n,r,i)){const{state:t,dispatch:n}=e;return(e=>Jl({
type:"SET_RESIZE_HANDLE_POSITION",data:{resizeHandlePos:e}}))(c)(t,n)}return!1}}}})}const np=(e,t)=>{const n=Object(o("p81E").a)(e.schema);return Wl((({node:e})=>n[e.type.spec.tableRole]))(e,t)};var op=Object(o("D6b/").defineMessages)({insertColumn:{id:"fabric.editor.insertColumn",defaultMessage:"Insert column right",description:"Inserts a new column to the right of selected column."},removeColumns:{id:"fabric.editor.removeColumns",defaultMessage:"Delete {0, plural, one {column} other {columns}}",description:"Deletes a table column."},insertRow:{id:"fabric.editor.insertRow",defaultMessage:"Insert row below",description:"Inserts a new row below the selected row."},removeRows:{id:"fabric.editor.removeRows",defaultMessage:"Delete {0, plural, one {row} other {rows}}",description:"Deletes a table row."},cellOptions:{id:"fabric.editor.cellOptions",defaultMessage:"Cell options",description:"Opens a menu with options for the current table cell."},confirmDeleteLinkedModalOKButton:{
id:"fabric.editor.tables.confirmDeleteLinkedModalOKButton",defaultMessage:"Delete",description:"Action button label for confirm modal when deleting a table linked to an extension."},confirmDeleteLinkedModalMessage:{id:"fabric.editor.tables.confirmDeleteLinkedModalMessage",defaultMessage:"Deleting {nodeName} will break anything connected to it.",description:"Message for confirm modal when deleting a table linked to an extension."},confirmDeleteLinkedModalMessagePrefix:{id:"fabric.editor.extension.confirmDeleteLinkedModalMessagePrefix",defaultMessage:"Deleting",description:"prefix for confirmation dialog text"},confirmModalCheckboxLabel:{id:"fabric.editor.floatingToolbar.confirmModalCheckboxLabel",defaultMessage:"Also delete connected elements",description:"checkbox label text"},deleteElementTitle:{id:"fabric.editor.extension.deleteElementTitle",defaultMessage:"Delete element",description:"Title text for confirm modal when deleting an extension linked to a data consumer."},
unnamedSource:{id:"fabric.editor.extension.sourceNoTitledName",defaultMessage:"this element",description:"The current element without preset name been selected"}});const rp=[];o("kBLm").f.forEach(((e,t)=>{const n=e.toLowerCase().replace(" ","-"),r=Object(o("cL9K").a)(o("5Svd").a,n);rp.push({value:t,label:e,border:o("kBLm").d,message:r})}));var ip=rp
;const sp=e=>Object(o("AeFk").css)("&::before{background:",e,";}"),ap=Object(o("AeFk").css)(".",o("p3BF").b.CONTEXTUAL_SUBMENU,"{border-radius:",Object(o("7w+A").borderRadius)(),"px;background:var(--ds-surface-overlay, white);box-shadow:","var(--ds-shadow-overlay, 0 4px 8px -2px rgba(9, 30, 66, 0.31), 0 0 1px rgba(9, 30, 66, 0.31))",";display:block;position:absolute;top:0;left:",180,"px;padding:8px;>div{padding:0;}}.",o("p3BF").b.CONTEXTUAL_MENU_ICON,"{display:flex;&::before{content:'';display:block;border:1px solid ",o("kBLm").d,";border-radius:",Object(o("7w+A").borderRadius)(),"px;width:20px;height:20px;}&::after{content:'\u203a';margin-left:4px;line-height:20px;color:","var(--ds-icon, #8993A4)",";}}"),cp=Object(o("D6b/").defineMessages)({cellBackground:{id:"fabric.editor.cellBackground",defaultMessage:"Cell background",description:"Change the background color of a table cell."},mergeCells:{id:"fabric.editor.mergeCells",defaultMessage:"Merge cells",
description:"Merge tables cells together."},splitCell:{id:"fabric.editor.splitCell",defaultMessage:"Split cell",description:"Split a merged table cell."},clearCells:{id:"fabric.editor.clearCells",defaultMessage:"Clear {0, plural, one {cell} other {cells}}",description:"Clears the contents of the selected cells (this does not delete the cells themselves)."},sortColumnASC:{id:"fabric.editor.sortColumnASC",defaultMessage:"Sort column A \u2192 Z",description:"Sort column in ascending order"},sortColumnDESC:{id:"fabric.editor.sortColumnDESC",defaultMessage:"Sort column Z \u2192 A",description:"Sort column in descending order"},canNotSortTable:{id:"fabric.editor.canNotSortTable",defaultMessage:"\u26a0\ufe0f You can't sort a table with merged cells",description:"Split your cells to enable this feature"},distributeColumns:{id:"fabric.editor.distributeColumns",defaultMessage:"Distribute columns",description:"Distribute widths between selected columns"}});class lp extends a.Component{
constructor(...e){super(...e),s()(this,"state",{isSubmenuOpen:!1}),s()(this,"handleSubMenuRef",(e=>{const t=Object(o("uYq7").b)(this.props.editorView.dom,".fabric-editor-popup-scroll-parent");if(!t||!e)return;const n=t.getBoundingClientRect(),r=e.getBoundingClientRect();r.left+r.width>n.width&&(e.style.left=`-${r.width}px`)})),s()(this,"createItems",(()=>{const{allowMergeCells:e,allowColumnSorting:t,allowBackgroundColor:n,editorView:{state:r},isOpen:i,selectionRect:s,intl:{formatMessage:a},editorView:c,getEditorFeatureFlags:l}=this.props,d=[],{isSubmenuOpen:u}=this.state,{useSomewhatSemanticTextColorNames:p}=l(),{targetCellPosition:h,pluginConfig:{allowDistributeColumns:f}}=Object(o("dGVe").c)(c.state);if(n){var m;const e=i&&h?r.doc.nodeAt(h):null,t=(null==e||null===(m=e.attrs)||void 0===m?void 0:m.background)||"#ffffff";d.push({content:a(cp.cellBackground),value:{name:"background"},elemAfter:Object(o("AeFk").jsx)("div",{className:o("OwO3").a.SUBMENU},Object(o("AeFk").jsx)("div",{
css:sp(t),className:o("p3BF").b.CONTEXTUAL_MENU_ICON}),u&&Object(o("AeFk").jsx)("div",{className:o("p3BF").b.CONTEXTUAL_SUBMENU,ref:this.handleSubMenuRef},Object(o("AeFk").jsx)(o("XMlW").a,{cols:7,onClick:this.setColor,selectedColor:t,paletteOptions:{palette:ip,paletteColorTooltipMessages:o("aDti").a,showSomewhatSemanticTooltips:p}})))})}d.push({content:a(op.insertColumn),value:{name:"insert_column"},elemAfter:Object(o("AeFk").jsx)("div",{css:o("ZQ9N").a},Object(o("QNHL").ub)(o("QNHL").c))}),d.push({content:a(op.insertRow),value:{name:"insert_row"},elemAfter:Object(o("AeFk").jsx)("div",{css:o("ZQ9N").a},Object(o("QNHL").ub)(o("QNHL").g))});const{top:b,bottom:g,right:v,left:y}=s,O=v-y,E=g-b;if(d.push({content:a(op.removeColumns,{0:O}),value:{name:"delete_column"}}),d.push({content:a(op.removeRows,{0:E}),value:{name:"delete_row"}}),e&&(d.push({content:a(cp.mergeCells),value:{name:"merge"},isDisabled:!rd(r.tr)}),d.push({content:a(cp.splitCell),value:{name:"split"},isDisabled:!np(r)})),f){
var w;const e=Object(o("Vwtw").d)(s,r,c.domAtPos.bind(c),this.props.getEditorContainerWidth),t=null!==(w=null==e?void 0:e.changed)&&void 0!==w&&w;d.push({content:a(cp.distributeColumns),value:{name:"distribute_columns"},isDisabled:!t})}if(t){const e=Object(o("J/+S").a)(r.tr).length>0?{tooltipDescription:a(cp.canNotSortTable),isDisabled:!0}:{};d.push({content:a(cp.sortColumnASC),value:{name:"sort_column_asc"},...e}),d.push({content:a(cp.sortColumnDESC),value:{name:"sort_column_desc"},...e})}return d.push({content:a(cp.clearCells,{0:Math.max(O,E)}),value:{name:"clear"},elemAfter:Object(o("AeFk").jsx)("div",{css:o("ZQ9N").a},Object(o("QNHL").ub)(o("QNHL").k))}),d.length?[{items:d}]:null})),s()(this,"onMenuItemActivated",(({item:e})=>{const{editorView:t,selectionRect:n,editorAnalyticsAPI:r,getEditorContainerWidth:i}=this.props,{state:s,dispatch:a}=t,{targetCellPosition:c}=Object(o("dGVe").c)(s);switch(e.value.name){case"sort_column_desc":jd(r)(o("+PNV").f.CONTEXT_MENU,n.left,Hl.DESC)(s,a),
this.toggleOpen();break;case"sort_column_asc":jd(r)(o("+PNV").f.CONTEXT_MENU,n.left,Hl.ASC)(s,a),this.toggleOpen();break;case"merge":md(r)(o("+PNV").f.CONTEXT_MENU)(s,a),this.toggleOpen();break;case"split":bd(r)(o("+PNV").f.CONTEXT_MENU)(s,a),this.toggleOpen();break;case"distribute_columns":const e=Object(o("Vwtw").d)(n,s,t.domAtPos.bind(t),i);e&&(Ad(r)(o("+PNV").f.CONTEXT_MENU,e)(s,a),this.toggleOpen());break;case"clear":fd(r)(o("+PNV").f.CONTEXT_MENU,c)(s,a),this.toggleOpen();break;case"insert_column":Od(i,r)(o("+PNV").f.CONTEXT_MENU,n.right)(s,a,t),this.toggleOpen();break;case"insert_row":yd(r)(o("+PNV").f.CONTEXT_MENU,{index:n.bottom,moveCursorToInsertedRow:!0})(s,a),this.toggleOpen();break;case"delete_column":wd(r)(o("+PNV").f.CONTEXT_MENU,n)(s,a),this.toggleOpen();break;case"delete_row":const{pluginConfig:{isHeaderRowRequired:l}}=Object(o("dGVe").c)(s);Ed(r)(o("+PNV").f.CONTEXT_MENU,n,!!l)(s,a),this.toggleOpen()}})),s()(this,"toggleOpen",(()=>{
const{isOpen:e,editorView:{state:t,dispatch:n}}=this.props;Xl()(t,n),e||this.setState({isSubmenuOpen:!1})})),s()(this,"handleOpenChange",(()=>{const{editorView:{state:e,dispatch:t}}=this.props;Xl()(e,t),this.setState({isSubmenuOpen:!1})})),s()(this,"handleItemMouseEnter",(({item:e})=>{const{editorView:{state:t,dispatch:n},selectionRect:r}=this.props;"background"===e.value.name&&(this.state.isSubmenuOpen||this.setState({isSubmenuOpen:!0})),"delete_column"===e.value.name&&Object(o("/gRz").c)(gu(r),!0)(t,n),"delete_row"===e.value.name&&Object(o("/gRz").e)(vu(r),!0)(t,n),["sort_column_asc","sort_column_desc"].indexOf(e.value.name)>-1&&0!==Object(o("J/+S").a)(t.tr).length&&Object(o("/gRz").d)()(t,n)})),s()(this,"handleItemMouseLeave",(({item:e})=>{const{state:t,dispatch:n}=this.props.editorView;"background"===e.value.name&&this.closeSubmenu(),["sort_column_asc","sort_column_desc","delete_column","delete_row"].indexOf(e.value.name)>-1&&Object(o("/gRz").a)()(t,n)})),
s()(this,"closeSubmenu",(()=>{this.state.isSubmenuOpen&&this.setState({isSubmenuOpen:!1})})),s()(this,"setColor",(e=>{const{editorView:t,editorAnalyticsAPI:n}=this.props,{targetCellPosition:r}=Object(o("dGVe").c)(t.state),{state:i,dispatch:s}=t;gd(n)(o("+PNV").f.CONTEXT_MENU,e,r)(i,s),this.toggleOpen()}))}render(){const{isOpen:e,mountPoint:t,offset:n,boundariesElement:r}=this.props,i=this.createItems();return i?Object(o("AeFk").jsx)("div",{"data-testid":"table-cell-contextual-menu",onMouseLeave:this.closeSubmenu},Object(o("AeFk").jsx)(o("L92d").a,{mountTo:t,arrowKeyNavigationProviderOptions:{type:o("0ap2").a.MENU,disableArrowKeyNavigation:!0},items:i,isOpen:e,onOpenChange:this.handleOpenChange,onItemActivated:this.onMenuItemActivated,onMouseEnter:this.handleItemMouseEnter,onMouseLeave:this.handleItemMouseLeave,fitHeight:188,fitWidth:180,boundariesElement:r,offset:n})):null}}lp.displayName="ContextualMenu",s()(lp,"defaultProps",{boundariesElement:document.body})
;var dp=Object(o("o5hF").c)(lp);const up=Object(o("D6b/").defineMessages)({tableOptions:{id:"fabric.editor.tableOptions",defaultMessage:"Table options",description:"Opens a menu with additional table options"},headerRow:{id:"fabric.editor.headerRow",defaultMessage:"Header row",description:"Marks the first table row as a header row"},headerColumn:{id:"fabric.editor.headerColumn",defaultMessage:"Header column",description:"Marks the first table column as a header row"},numberedColumn:{id:"fabric.editor.numberedColumn",defaultMessage:"Numbered column",description:"Adds an auto-numbering column to your table"},collapseTable:{id:"fabric.editor.collapseTable",defaultMessage:"Collapse table",description:"Wraps table in an expand"}}),pp=e=>{const t=e.selection;return Object(o("GhYq").a)(t,"cell")?Object(o("n3wV").a)(t):Object(o("zYPQ").b)(t.$from)},hp=(e,t,n,r)=>i=>(s,a)=>{const c=Object(o("zYPQ").c)(s.selection),d=Object(o("dGVe").c)(s),u=o("u/2i").a.getState(s);if(c&&d.editorHasFocus){
const p=s.schema.nodes.table,h=((e,t,{formatMessage:n},o)=>{const r=[{id:"editor.table.headerRow",title:n(up.headerRow),onClick:xd(o),selected:t.isHeaderRowEnabled,hidden:!e.allowHeaderRow},{id:"editor.table.headerColumn",title:n(up.headerColumn),onClick:Cd(o),selected:t.isHeaderColumnEnabled,hidden:!e.allowHeaderColumn},{id:"editor.table.numberedColumn",title:n(up.numberedColumn),onClick:Td(o),selected:t.isNumberColumnEnabled,hidden:!e.allowNumberColumn},{id:"editor.table.collapseTable",title:n(up.collapseTable),onClick:Nd(o),selected:!!t.isTableCollapsed,disabled:!t.canCollapseTable,hidden:!e.allowCollapse}];return{id:"editor.table.tableOptions",type:"dropdown",testId:"table_options",title:n(up.tableOptions),hidden:r.every((e=>e.hidden)),options:r}})(i,d,a,t),{tableCellOptionsInFloatingToolbar:f}=n()||{},m=mp(i,s,r(),a,e,t,f),b=bp(s,h,a,e,t,f);let g;if(Object(o("dqkW").c)(s,c.node)){const e=a.formatMessage(op.unnamedSource);g=()=>({title:a.formatMessage(op.deleteElementTitle),
okButtonLabel:a.formatMessage(op.confirmDeleteLinkedModalOKButton),message:a.formatMessage(op.confirmDeleteLinkedModalMessage,{nodeName:Object(o("dqkW").b)(s,c.node)||e}),messagePrefix:a.formatMessage(op.confirmDeleteLinkedModalMessagePrefix),isReferentialityDialog:!0,getChildrenInfo:()=>Object(o("dqkW").a)(s,c.node),checkboxLabel:a.formatMessage(op.confirmModalCheckboxLabel),onConfirm:(e=!1)=>gp(e,c.node)})}return{title:"Table floating controls",getDomRef:e=>{let t;const n=e.domAtPos.bind(e),r=Object(l.findParentDomRefOfType)(p,n)(s.selection);if(r){const e=r.querySelector("table")||void 0;e&&(t=Object(o("uYq7").b)(e,`.${o("p3BF").b.TABLE_NODE_WRAPPER}`)||void 0)}return t},nodeType:p,offset:[0,18],zIndex:o("anI9").p+1,items:[h,fp(h.hidden),...m,...b,{type:"extensions-placeholder",separator:"end"},{type:"copy-button",items:[{state:s,formatMessage:a.formatMessage,nodeType:p,onMouseEnter:Object(o("/gRz").f)(!1,!0),onMouseLeave:Object(o("/gRz").a)(),onFocus:Object(o("/gRz").f)(!1,!0),
onBlur:Object(o("/gRz").a)()},{type:"separator"}]},{id:"editor.table.delete",type:"button",appearance:"danger",icon:o.n(o("Fn6O")).a,onClick:kd(t),disabled:!!u&&!!u.dragging,onMouseEnter:Object(o("/gRz").f)(!0),onFocus:Object(o("/gRz").f)(!0),onBlur:Object(o("/gRz").a)(),onMouseLeave:Object(o("/gRz").a)(),title:a.formatMessage(o("OrwF").a.remove),focusEditoronEnter:!0,confirmDialog:g}],scrollable:!0}}},fp=e=>({type:"separator",hidden:e}),mp=(e,t,n,{formatMessage:r},i,s,a)=>{if(e.allowCellOptionsInFloatingToolbar||a){const e=pp(t);if(e){const a=((e,t,n,{formatMessage:r},i,s)=>{var a,c;const{top:l,bottom:d,right:u,left:p}=n,h=u-p,f=d-l,m=Object(o("dGVe").c)(e),b=[{id:"editor.table.insertColumn",title:r(op.insertColumn),onClick:(e,t,n)=>{const r=pp(e),a=null==r?void 0:r.right;return a&&Od(i,s)(o("+PNV").f.FLOATING_TB,a)(e,t,n),!0},selected:!1,disabled:!1,elemAfter:Object(o("AeFk").jsx)("div",{css:o("ZQ9N").a},Object(o("QNHL").ub)(o("QNHL").c))},{id:"editor.table.insertRow",
title:r(op.insertRow),onClick:(e,t)=>{const n=pp(e),r=null==n?void 0:n.bottom;return r&&yd(s)(o("+PNV").f.FLOATING_TB,{index:r,moveCursorToInsertedRow:!0})(e,t),!0},selected:!1,disabled:!1,elemAfter:Object(o("AeFk").jsx)("div",{css:o("ZQ9N").a},Object(o("QNHL").ub)(o("QNHL").g))},{id:"editor.table.removeColumns",title:r(op.removeColumns,{0:h}),onClick:(e,t,n)=>{const r=pp(e);return r&&wd(s)(o("+PNV").f.FLOATING_TB,r)(e,t,n),!0},onFocus:yp,onBlur:Object(o("/gRz").a)(),onMouseOver:yp,onMouseLeave:Object(o("/gRz").a)(),selected:!1,disabled:!1},{id:"editor.table.removeRows",title:r(op.removeRows,{0:f}),onClick:(e,t)=>{const n=pp(e);return n&&Ed(s)(o("+PNV").f.FLOATING_TB,n,!1)(e,t),!0},onFocus:vp,onBlur:Object(o("/gRz").a)(),onMouseOver:vp,onMouseLeave:Object(o("/gRz").a)(),selected:!1,disabled:!1},{id:"editor.table.mergeCells",title:r(cp.mergeCells),onClick:md(s)(o("+PNV").f.FLOATING_TB),selected:!1,disabled:!rd(e.tr)},{id:"editor.table.splitCell",title:r(cp.splitCell),
onClick:bd(s)(o("+PNV").f.FLOATING_TB),selected:!1,disabled:!np(e)}];if(null!=m&&null!==(a=m.pluginConfig)&&void 0!==a&&a.allowDistributeColumns){var g;const a=t?Object(o("Vwtw").d)(n,e,t.domAtPos.bind(t),i):void 0,c=null!==(g=null==a?void 0:a.changed)&&void 0!==g&&g,l=(e,t)=>!!a&&(Ad(s)(o("+PNV").f.FLOATING_TB,a)(e,t),!0);b.push({id:"editor.table.distributeColumns",title:r(cp.distributeColumns),onClick:l,selected:!1,disabled:!c})}if(null!=m&&null!==(c=m.pluginConfig)&&void 0!==c&&c.allowColumnSorting){const t=Object(o("J/+S").a)(e.tr).length>0,i=t?r(cp.canNotSortTable):void 0;b.push({id:"editor.table.sortColumnAsc",title:r(cp.sortColumnASC),onMouseOver:(e,t)=>0!==Object(o("J/+S").a)(e.tr).length&&(Object(o("/gRz").d)()(e,t),!0),onMouseOut:(e,t)=>(Object(o("/gRz").a)()(e,t),!0),onClick:(e,t)=>(jd(s)(o("+PNV").f.FLOATING_TB,n.left,Hl.ASC)(e,t),!0),selected:!1,disabled:t,tooltip:i}),b.push({id:"editor.table.sortColumnDesc",title:r(cp.sortColumnDESC),
onMouseOver:(e,t)=>0!==Object(o("J/+S").a)(e.tr).length&&(Object(o("/gRz").d)()(e,t),!0),onMouseOut:(e,t)=>(Object(o("/gRz").a)()(e,t),!0),onClick:(e,t)=>(jd(s)(o("+PNV").f.FLOATING_TB,n.left,Hl.DESC)(e,t),!0),selected:!1,disabled:t,tooltip:i})}return b.push({id:"editor.table.clearCells",title:r(cp.clearCells,{0:Math.max(h,f)}),onClick:(e,t)=>{const{targetCellPosition:n}=Object(o("dGVe").c)(e);return fd(s)(o("+PNV").f.FLOATING_TB,n)(e,t),!0},selected:!1,disabled:!1,elemAfter:Object(o("AeFk").jsx)("div",{css:o("ZQ9N").a},Object(o("QNHL").ub)(o("QNHL").k))}),{id:"editor.table.cellOptions",testId:"cell_options",type:"dropdown",title:r(op.cellOptions),options:b,dropdownWidth:230,showSelected:!1}})(t,n,e,{formatMessage:r},i,s);return[a,fp(a.hidden)]}}return[]},bp=(e,t,{formatMessage:n},r,i,s)=>{var a;const{targetCellPosition:c,pluginConfig:l}=Object(o("dGVe").c)(e);if(!l.allowBackgroundColor||!s)return[]
;const d=c?e.doc.nodeAt(c):void 0,u=(null==d||null===(a=d.attrs)||void 0===a?void 0:a.background)||"#ffffff",p=ip.find((e=>e.value===u))||{label:"Custom",value:u,border:o("aYdX").a};return[{id:"editor.table.colorPicker",title:n(cp.cellBackground),type:"select",selectType:"color",defaultValue:p,options:ip,onChange:e=>gd(i)(o("+PNV").f.FLOATING_TB,e.value,c)},fp(t.hidden)]},gp=(e,t,n)=>(r,i)=>!!t&&(e?((e=>Object(o("dGVe").a)({type:"UPDATE_STATE",data:{element:void 0}},((t,n)=>e?Object(o("dqkW").d)(n,e):t)))(t)(r,i),!0):kd(n)(r,i)),vp=(e,t)=>{const n=pp(e);return!!n&&(Object(o("/gRz").e)(vu(n),!0)(e,t),!0)},yp=(e,t)=>{const n=pp(e);return!!n&&(Object(o("/gRz").c)(gu(n),!0)(e,t),!0)},Op=e=>Object(o("AeFk").css)(">div{background:","var(--ds-surface, #F4F5F7)",";border-radius:",Object(o("7w+A").borderRadius)(),"px;display:flex;height:",18,"px;flex-direction:column;}&& button{background:",Object(o("56zV").a)({light:"var(--ds-background-neutral, none)",dark:"var(--ds-background-neutral, none)"
})(e),";flex-direction:column;margin:2px;outline:2px solid ","var(--ds-border, #FFFFFF)",";border-radius:1px;padding:0;height:calc(100% - 4px);display:flex;}&& button:hover{background:",Object(o("56zV").a)({light:"var(--ds-background-neutral-hovered, rgba(9, 30, 66, 0.08))",dark:"var(--ds-background-neutral-hovered, #313D52)"})(e),";}&& button:active{background:",Object(o("56zV").a)({light:"var(--ds-background-neutral-pressed, rgba(179, 212, 255, 0.6))",dark:"var(--ds-background-neutral-pressed, #B3D4FF)"})(e),";}&& button>span{margin:0px -4px;}&& span{pointer-events:none;}"),Ep=e=>Object(o("AeFk").css)("&& button{background:",Object(o("56zV").a)({light:"var(--ds-background-selected, #253858)",dark:"var(--ds-background-selected, #0D1424)"})(e),";}&& button:hover{background:",Object(o("56zV").a)({light:"var(--ds-background-selected-hovered, #253858)",dark:"var(--ds-background-selected-hovered, #0D1424)"})(e),";}&& button:active{background:",Object(o("56zV").a)({
light:"var(--ds-background-selected-pressed, #253858)",dark:"var(--ds-background-selected-pressed, #0D1424)"})(e),";}");class wp extends c.a.Component{constructor(...e){super(...e),s()(this,"handleClick",(()=>{const{state:e,dispatch:t}=this.props.editorView;this.props.isContextualMenuOpen||Xl()(e,t)}))}render(){const{mountPoint:e,scrollableElement:t,editorView:n,targetCellPosition:r,isContextualMenuOpen:i,intl:{formatMessage:s},dispatchAnalyticsEvent:a}=this.props,c=n.domAtPos.bind(n);let d;try{d=Object(l.findDomRefAtPos)(r,c)}catch(m){if(console.warn(m),a){a({action:o("+PNV").a.ERRORED,actionSubject:o("+PNV").b.CONTENT_COMPONENT,eventType:o("+PNV").e.OPERATIONAL,attributes:{component:o("+PNV").d.FLOATING_CONTEXTUAL_BUTTON,selection:n.state.selection.toJSON(),position:r,docSize:n.state.doc.nodeSize,error:m instanceof Error?m.message:String(m)},nonPrivacySafeAttributes:{errorStack:m instanceof Error?m.stack:void 0}})}}if(!(d&&d instanceof HTMLElement))return null
;const u=Object(o("uYq7").b)(d,`.${o("p3BF").b.TABLE_NODE_WRAPPER}`),p=s(op.cellOptions),h=Object(o("AeFk").jsx)("div",{css:e=>[Op({theme:e}),i&&Ep({theme:e})]},Object(o("AeFk").jsx)(o("Ssoj").b,{className:o("p3BF").b.CONTEXTUAL_MENU_BUTTON,selected:i,title:p,onClick:this.handleClick,iconBefore:Object(o("AeFk").jsx)(o.n(o("1YpF")).a,{label:""}),"aria-label":p})),f=d.parentElement&&d.parentElement.className.indexOf("sticky")>-1;if(this.props.stickyHeader&&f){const e=d.getBoundingClientRect();return Object(o("AeFk").jsx)("div",{style:{position:"fixed",top:this.props.stickyHeader.top+this.props.stickyHeader.padding+3+3,zIndex:o("anI9").o,left:e.left+d.clientWidth-20-3}},h)}return Object(o("AeFk").jsx)(o("poXX").a,{alignX:"right",alignY:"start",target:d,mountTo:u||e,boundariesElement:d,scrollableElement:t,offset:[3,-3],forcePlacement:!0,allowOutOfBounds:!0,zIndex:o("anI9").J},h)}shouldComponentUpdate(e){
return this.props.tableNode!==e.tableNode||this.props.targetCellPosition!==e.targetCellPosition||this.props.layout!==e.layout||this.props.isContextualMenuOpen!==e.isContextualMenuOpen||this.props.isNumberColumnEnabled!==e.isNumberColumnEnabled||this.props.stickyHeader!==e.stickyHeader}}wp.displayName="FloatingContextualButtonInner",s()(wp,"displayName","FloatingContextualButton");const Sp=Object(o("o5hF").c)(wp);var kp=function(e){return Object(o("AeFk").jsx)(hu,{component:o("+PNV").b.FLOATING_CONTEXTUAL_BUTTON,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,fallbackComponent:null},Object(o("AeFk").jsx)(Sp,e))};const xp=(e,t)=>{const{tableRef:n}=o("+62K").a.getState(t);let r=-16;if(n&&e){const t=e.getBoundingClientRect(),o=n.getBoundingClientRect();let i=t.top-o.top;i<200&&(r-=i+2)}return[8,r]},Cp=({mountPoint:e,boundariesElement:t,scrollableElement:n,editorView:r,isOpen:i,pluginConfig:s,editorAnalyticsAPI:a,getEditorContainerWidth:c,getEditorFeatureFlags:d})=>{
const{targetCellPosition:u}=Object(o("dGVe").c)(r.state);if(!i||!u||r.state.doc.nodeSize<=u)return null;const{selection:p}=r.state,h=Object(o("GhYq").a)(p,"cell")?Object(o("n3wV").a)(p):Object(o("zYPQ").b)(p.$from);if(!h)return null;const f=r.domAtPos.bind(r),m=Object(l.findDomRefAtPos)(u,f);return m?Object(o("AeFk").jsx)(o("poXX").a,{alignX:"right",alignY:"top",target:m,mountTo:e,boundariesElement:t,scrollableElement:n,fitHeight:188,fitWidth:180,zIndex:o("anI9").o,forcePlacement:!0,offset:[-7,0],stick:!0},Object(o("AeFk").jsx)("div",{css:ap},Object(o("AeFk").jsx)(dp,{editorView:r,offset:xp(m,r.state),isOpen:i,targetCellPosition:u,allowColumnSorting:s&&s.allowColumnSorting,allowMergeCells:s.allowMergeCells,allowBackgroundColor:s.allowBackgroundColor,selectionRect:h,boundariesElement:t,editorAnalyticsAPI:a,getEditorContainerWidth:c,getEditorFeatureFlags:d}))):null};Cp.displayName="FloatingContextualMenu";var Tp=Cp
;var jp=Object(o("o5hF").c)((({style:e,onClick:t,onMouseEnter:n,onMouseLeave:r,removeLabel:i,intl:{formatMessage:s}})=>c.a.createElement("div",{className:o("p3BF").b.CONTROLS_DELETE_BUTTON_WRAP,style:e,onMouseEnter:n,onMouseLeave:r},c.a.createElement("button",{type:"button","aria-label":s(i,{0:1}),className:o("p3BF").b.CONTROLS_DELETE_BUTTON,onMouseDown:t,onMouseMove:e=>e.preventDefault()},c.a.createElement("svg",{className:o("p3BF").b.CONTROLS_BUTTON_ICON},c.a.createElement("path",{d:"M12.242 10.828L9.414 8l2.828-2.829a.999.999 0 1 0-1.414-1.414L8 6.587l-2.829-2.83a1 1 0 0 0-1.414 1.414l2.83 2.83-2.83 2.827a1 1 0 0 0 1.414 1.414l2.83-2.828 2.827 2.828a.999.999 0 1 0 1.414-1.414",fill:"currentColor",fillRule:"evenodd"}))))));const Ap=o("muXR").o+16+6;function Np({left:e,top:t,selectionType:n,tableWrapper:o}){switch(n){case"column":return function(e,t){return{alignX:"left",alignY:"start",offset:[e,Ap],shouldRenderPopup(){if(t){
const n=t.getBoundingClientRect().width+t.scrollLeft-16,o=t.scrollLeft;return n-e>0&&e>o}return!0}}}(e,o);case"row":return function(e){return{alignX:"left",alignY:"start",forcePlacement:!0,offset:[0,-e],onPositionCalculated:e=>({...e,left:-Ap})}}(t);default:return{}}}class Ip extends a.Component{constructor(e){super(e),s()(this,"wrapper",null),s()(this,"updateWrapper",(()=>{const e=Object(o("uYq7").b)(this.props.tableRef,`.${o("p3BF").b.TABLE_NODE_WRAPPER}`);e?(this.wrapper=e,this.wrapper.addEventListener("scroll",this.onWrapperScrolled),this.setState({scrollLeft:e.scrollLeft})):(this.wrapper&&(this.wrapper.removeEventListener("scroll",this.onWrapperScrolled),this.setState({scrollLeft:0})),this.wrapper=null)})),s()(this,"onWrapperScrolled",(e=>{const t=e.target;this.setState({scrollLeft:t.scrollLeft})})),s()(this,"handleMouseEnter",(()=>{const{state:e,dispatch:t}=this.props.editorView;switch(this.state.selectionType){case"row":
return Object(o("/gRz").e)(this.state.indexes,!0)(e,t,this.props.editorView);case"column":return Object(o("/gRz").c)(this.state.indexes,!0)(e,t,this.props.editorView)}return!1})),s()(this,"handleMouseLeave",(()=>{const{state:e,dispatch:t}=this.props.editorView;return Object(o("/gRz").a)()(e,t)})),s()(this,"handleClick",(e=>{e.preventDefault();const{editorAnalyticsAPI:t}=this.props;let{state:n,dispatch:r}=this.props.editorView;const{pluginConfig:{isHeaderRowRequired:i}}=Object(o("dGVe").c)(n),s=Object(o("n3wV").a)(n.selection);if(s)switch(this.state.selectionType){case"column":return void wd(t)(o("+PNV").f.BUTTON,s)(n,r);case"row":return void Ed(t)(o("+PNV").f.BUTTON,s,!!i)(n,r)}({state:n,dispatch:r}=this.props.editorView),Object(o("/gRz").a)()(n,r)})),this.state={selectionType:void 0,top:0,left:0,indexes:[],scrollLeft:0}}shouldComponentUpdate(e,t){return this.state.selectionType!==t.selectionType||this.state.left!==t.left||this.state.top!==t.top||this.state.scrollLeft!==t.scrollLeft}
componentDidMount(){this.updateWrapper()}componentDidUpdate(){this.updateWrapper()}componentWillUnmount(){this.wrapper&&this.wrapper.removeEventListener("scroll",this.onWrapperScrolled)}static getDerivedStateFromProps(e,t){const n=function(e){if(!Object(o("+yxU").c)(e)&&e instanceof o("n1Ll").a){if(e.isRowSelection())return"row";if(e.isColSelection())return"column"}}(e.selection),r=e.stickyHeaders&&e.stickyHeaders.sticky,i=Object(o("n3wV").a)(e.selection),s=i&&0===i.top&&1===i.bottom,a=r&&s,c=e.stickyHeaders?e.stickyHeaders.top+e.stickyHeaders.padding:0;if(n)switch(n){case"column":{const t=Object(o("8cLp").c)(e.editorView),i=Object(o("8cLp").b)(t,e.editorView.state.selection);return i?{...i,top:r?e.stickyHeaders.top:0,position:r?"sticky":void 0,selectionType:n}:null}case"row":if(e.tableRef){const t=Object(o("VnTS").d)(e.tableRef),i=r?-t[0]:0,s=Object(o("VnTS").c)(t,e.editorView.state.selection,a?c:i);if(s)return{...s,position:a?"sticky":void 0,left:0,selectionType:n}}return null}
return t.selectionType!==n?{selectionType:void 0,top:0,left:0,indexes:[]}:null}render(){const{mountPoint:e,boundariesElement:t,tableRef:n}=this.props,{selectionType:r}=this.state;if(!r||!n)return null;const i=Object(o("uYq7").b)(n,`.${o("p3BF").b.TABLE_CONTAINER}`),s=c.a.createElement(jp,{removeLabel:"column"===r?op.removeColumns:op.removeRows,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),a=Np({left:this.state.left,top:this.state.top,selectionType:this.state.selectionType,tableWrapper:this.wrapper}),l=i||e;if("sticky"===this.state.position&&l){const e=n.querySelector("tr.sticky");if(e){const t=e.getBoundingClientRect(),n=a.onPositionCalculated||(e=>e),r=n({left:this.state.left,top:this.state.top});return Object(Q.createPortal)(c.a.createElement("div",{style:{position:"fixed",top:r.top,zIndex:o("muXR").e,left:t.left+(r.left||0)-("column"===this.state.selectionType?this.state.scrollLeft:0)-(this.props.isNumberColumnEnabled?o("anI9").R:0)
}},s),l)}}return c.a.createElement(o("poXX").a,J()({target:n,mountTo:l,boundariesElement:i||t,scrollableElement:this.wrapper||void 0,forcePlacement:!0,allowOutOfBounds:!0},a),s)}}Ip.displayName="FloatingDeleteButton",s()(Ip,"displayName","FloatingDeleteButton");var Pp=Ip;const Mp=-10+o("anI9").R,Rp=o("muXR").o+3,_p=-(o("muXR").o+3+20);var Lp=function(e,t,n,o){switch(e){case"column":return function(e,t,n){const o={alignX:"end",alignY:"top",offset:[-10,Rp],onPositionCalculated(o){const{left:r}=o;if(!r)return o;if(0===e)return{...o,left:n?Mp:-10};const i=t?t.getBoundingClientRect():null;return{...o,left:i&&r>i.width?i.width:r}}};return 0===e?{...o,alignX:"left",alignY:"top"}:o}(t,o,n);case"row":return function(e){let t={alignX:"left",alignY:"bottom",offset:[0,10]};return 0===e&&(t={...t,alignY:"top",offset:[0,-10]}),{...t,onPositionCalculated:e=>({...e,left:_p})}}(t);default:return{}}};const Dp=(e,t)=>{const n=t?e.getBoundingClientRect().top-4*o("9ehW").g-3:o("muXR").o+3
;return e.offsetHeight+n},Fp=e=>{const{parentElement:t,offsetWidth:n}=e,r=t.offsetWidth,{scrollLeft:i}=t,s=n-r,a=(e=>{const t=Object(o("uYq7").b)(e,`.${o("p3BF").b.TABLE_CONTAINER}`);return t&&t.querySelector(`.${o("p3BF").b.NUMBERED_COLUMN}`)?o("muXR").o+o("anI9").R-1:o("muXR").o})(e);return Math.min(n+a,r+a-Math.max(i-s,0))+4},Bp=e=>"row"===e?op.insertRow:op.insertColumn;var Vp=Object(o("o5hF").c)((({onMouseDown:e,tableRef:t,type:n,intl:{formatMessage:r},hasStickyHeaders:i})=>{const s=c.a.createElement(o("Yto1").a,{content:c.a.createElement(o("QNHL").a,{description:r(Bp(n)),keymap:"row"===n?o("QNHL").g:o("QNHL").c}),position:"top"},c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:o("p3BF").b.CONTROLS_INSERT_BUTTON_INNER},c.a.createElement("button",{type:"button",className:o("p3BF").b.CONTROLS_INSERT_BUTTON,onMouseDown:e},c.a.createElement("svg",{className:o("p3BF").b.CONTROLS_BUTTON_ICON},c.a.createElement("path",{
d:"M10 4a1 1 0 0 1 1 1v4h4a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4H5a1 1 0 1 1 0-2h4V5a1 1 0 0 1 1-1z",fill:"currentColor",fillRule:"evenodd"})))),c.a.createElement("div",{className:o("p3BF").b.CONTROLS_INSERT_LINE,style:"row"===n?{width:Fp(t)}:{height:Dp(t,i)}}))),a="column"===n?o("p3BF").b.CONTROLS_FLOATING_BUTTON_COLUMN:o("p3BF").b.CONTROLS_FLOATING_BUTTON_ROW;return c.a.createElement("div",{className:a},c.a.createElement("div",{className:`${o("p3BF").b.CONTROLS_INSERT_BUTTON_WRAP} ${o("p3BF").b.CONTROLS_INSERT_ROW}`},s))}));class zp extends c.a.Component{constructor(e){super(e),this.insertColumn=this.insertColumn.bind(this),this.insertRow=this.insertRow.bind(this)}render(){const{tableNode:e,editorView:t,insertColumnButtonIndex:n,insertRowButtonIndex:r,tableRef:i,mountPoint:s,boundariesElement:a,isHeaderColumnEnabled:d,isHeaderRowEnabled:u,dispatchAnalyticsEvent:p}=this.props,h=void 0!==n?"column":void 0!==r?"row":null;if(!e||!i||!h)return null
;if("column"===h&&d&&0===n||"row"===h&&u&&0===r)return null;const{state:{tr:f}}=t;if(f.selection instanceof o("n1Ll").a&&(f.selection.isColSelection()||f.selection.isRowSelection()))return null;const m=this.getCellPosition(h);if(!m)return null;const b=Object(o("zYPQ").c)(t.state.selection);if(!b)return null;const g=t.domAtPos.bind(t),v=m+b.start+1;let y;try{y=Object(l.findDomRefAtPos)(v,g)}catch(x){if(console.warn(x),p){p({action:o("+PNV").a.ERRORED,actionSubject:o("+PNV").b.CONTENT_COMPONENT,eventType:o("+PNV").e.OPERATIONAL,attributes:{component:o("+PNV").d.FLOATING_INSERT_BUTTON,selection:t.state.selection.toJSON(),position:v,docSize:t.state.doc.nodeSize,error:null==x?void 0:x.toString()},nonPrivacySafeAttributes:{errorStack:x.stack||void 0}})}}if(!(y&&y instanceof HTMLElement))return null;const O="row"===h?Object(o("uYq7").b)(y,"tr"):Object(o("uYq7").b)(y,"td, th");if(!O)return null
;const E=Object(o("uYq7").b)(O,`.${o("p3BF").b.TABLE_CONTAINER}`),w=Object(o("uYq7").b)(O,`.${o("p3BF").b.TABLE_NODE_WRAPPER}`),S="column"===h?n:r,k=Object(o("r/3z").c)(t.state.selection);return c.a.createElement(o("poXX").a,J()({target:O,mountTo:E||s,boundariesElement:E||a,scrollableElement:w,forcePlacement:!0,allowOutOfBounds:!0},Lp(h,S,k,E)),c.a.createElement(Vp,{type:h,tableRef:i,onMouseDown:"column"===h?this.insertColumn:this.insertRow,hasStickyHeaders:this.props.hasStickyHeaders||!1}))}getCellPosition(e){const{tableNode:t,insertColumnButtonIndex:n,insertRowButtonIndex:r}=this.props,i=o("wYWE").b.get(t);if("column"===e){const e=0===n?0:n-1;return e>i.width-1?null:i.positionAt(0,e,t)}{const e=0===r?0:r-1;return e>i.height-1?null:i.positionAt(e,0,t)}}insertRow(e){const{editorView:t,insertRowButtonIndex:n,editorAnalyticsAPI:r}=this.props;if(void 0!==n){e.preventDefault();const{state:i,dispatch:s}=t;yd(r)(o("+PNV").f.BUTTON,{index:n,moveCursorToInsertedRow:!0})(i,s)}}insertColumn(e){
const{editorView:t,insertColumnButtonIndex:n,editorAnalyticsAPI:r,getEditorContainerWidth:i}=this.props;if(void 0!==n){e.preventDefault();const{state:s,dispatch:a}=t;Od(i,r)(o("+PNV").f.BUTTON,n)(s,a,t)}}}zp.displayName="FloatingInsertButton",s()(zp,"displayName","FloatingInsertButton");var Hp=Object(o("o5hF").c)(zp);const Up=e=>({...e,top:e.top?e.top+12:void 0});class Wp extends c.a.Component{constructor(...e){super(...e),s()(this,"stickyButtonRef",Object(a.createRef)()),s()(this,"resizeObserver",new ResizeObserver((e=>{e.forEach((e=>{const t=this.stickyButtonRef.current,n=this.props.targetRef;if(t&&n){const e=n.getBoundingClientRect();t.style.left=`${e.right}px`}}))}))),s()(this,"handleClick",(()=>{const{state:e,dispatch:t}=this.props.editorView;(e=>Object(o("W+n6").c)((e=>{const{table:t,totalRowCount:n,totalColumnCount:r}=Object(o("W+n6").b)(e.selection);if(t){const{layout:e}=t.node.attrs;return{action:o("oTfp").a.CHANGED_BREAKOUT_MODE,actionSubject:o("+PNV").b.TABLE,
actionSubjectId:null,attributes:{newBreakoutMode:hd[$l(e)],previousBreakoutMode:hd[e],totalRowCount:n,totalColumnCount:r},eventType:o("+PNV").e.TRACK}}}))(e)(Ql))(this.props.editorAnalyticsAPI)(e,t)}))}getTitle(){const{intl:{formatMessage:e},layout:t="default"}=this.props;return e((e=>{switch(e){case"default":return o("OrwF").a.layoutWide;case"wide":return o("OrwF").a.layoutFullWidth;default:return o("OrwF").a.layoutFixedWidth}})(t))}toolbarButton(){const{isResizing:e,layout:t="default"}=this.props,n=this.getTitle();return c.a.createElement("div",{className:so()(o("p3BF").b.LAYOUT_BUTTON,{[o("p3BF").b.IS_RESIZING]:e})},c.a.createElement(o("Ssoj").b,{title:n,onClick:this.handleClick,iconBefore:"full-width"===t?c.a.createElement(o.n(o("oR2R")).a,{label:n}):c.a.createElement(o.n(o("fHir")).a,{label:n})}))}getStickyTargetRef(e){const{editorView:t}=this.props,n=t.domAtPos.bind(t),o=Object(l.findDomRefAtPos)(e,n);return o.dataset.headerRow&&o.classList.contains("sticky")?o:null}
renderSticky(e,t,n){const o=this.getTitle();if(!(t instanceof HTMLElement&&n instanceof HTMLElement))return null;const r=t.getBoundingClientRect(),i=n.getBoundingClientRect();return c.a.createElement("div",{ref:this.stickyButtonRef,"aria-label":o,style:{position:"fixed",top:r.top+22,left:i.right}},e)}renderPopup(e){const{mountPoint:t,boundariesElement:n,scrollableElement:r,targetRef:i}=this.props;if(!i)return null;const s=this.getTitle();return c.a.createElement(o("poXX").a,{ariaLabel:s,target:i,alignY:"start",alignX:"end",onPositionCalculated:Up,stick:!0,mountTo:t,boundariesElement:n,scrollableElement:r,forcePlacement:!0},e)}render(){const{stickyHeader:e}=this.props,t=this.toolbarButton(),n=e&&e.sticky&&e.pos?this.getStickyTargetRef(e.pos):null;return n&&this.props.targetRef?this.renderSticky(t,n,this.props.targetRef):this.renderPopup(t)}componentDidMount(){const e=this.props.editorView.dom.closest(".fabric-editor-popup-scroll-parent")
;e instanceof HTMLElement&&this.resizeObserver.observe(e)}componentWillUnmount(){const e=this.props.editorView.dom.closest(".fabric-editor-popup-scroll-parent");e instanceof HTMLElement&&this.resizeObserver.unobserve(e)}shouldComponentUpdate(e){const{targetRef:t,layout:n,isResizing:o,stickyHeader:r}=this.props;return r!==e.stickyHeader||t!==e.targetRef||n!==e.layout||o!==e.isResizing}}Wp.displayName="LayoutButton",s()(Wp,"displayName","LayoutButton");var Kp=Object(o("o5hF").c)(Wp);const $p=()=>({});var qp=e=>{const t={current:null},n=()=>{var e,n;if(!t.current)return{width:(null===(e=document)||void 0===e||null===(n=e.body)||void 0===n?void 0:n.offsetWidth)||500};const{current:{state:o}}=t;return o.widthPlugin$};return{name:"table",nodes:()=>[{name:"table",node:o("kBLm").c},{name:"tableHeader",node:o("kBLm").k},{name:"tableRow",node:o("kBLm").n},{name:"tableCell",node:o("kBLm").g}],pmPlugins(){const r=[{name:"table",
plugin:({dispatchAnalyticsEvent:t,dispatch:o,portalProviderAPI:r,eventDispatcher:i})=>{const{fullWidthEnabled:s,wasFullWidthEnabled:a,breakoutEnabled:c,tableOptions:l,editorAnalyticsAPI:d,getEditorFeatureFlags:u}=e||{};return Wu(t,o,r,i,yl(l),n,u||$p,c,s,a,d)}},{name:"tablePMColResizing",plugin:({dispatch:t})=>{const{fullWidthEnabled:o,tableOptions:r,editorAnalyticsAPI:i,getEditorFeatureFlags:s}=e||{},{allowColumnResizing:a}=yl(r);return a?tp(t,{lastColumnResizable:!o},n,s||$p,i):void 0}},{name:"tableEditing",plugin:()=>Object(o("4Ncm").a)()},{name:"tableKeymap",plugin:()=>Pd(n,null==e?void 0:e.editorAnalyticsAPI)},{name:"tableSelectionKeymap",plugin:()=>qd(null==e?void 0:e.editorSelectionAPI)},{name:"tableEditing",plugin:()=>vl({reportFixedTable:({state:t,tr:n,reason:r})=>{var i;null==e||null===(i=e.editorAnalyticsAPI)||void 0===i||i.attachAnalyticsEvent({action:o("oTfp").a.FIXED,actionSubject:o("+PNV").b.TABLE,actionSubjectId:null,attributes:{reason:r},eventType:o("+PNV").e.TRACK
})(n)}})},{name:"tableStickyHeaders",plugin:({dispatch:t,eventDispatcher:n})=>e&&e.tableOptions.stickyHeaders?((e,t,n=(()=>[]),r)=>new(o("KkS8").a)({state:Ku(e,n),key:bu,props:{nodeViews:{tableRow:(e,n,o)=>new Zu(e,n,o,t,r)}}}))(t,n,(()=>[]),(null==e?void 0:e.getEditorFeatureFlags)||$p):void 0},{name:"tableLocalId",plugin:({dispatch:e})=>El(e)},{name:"tableGetEditorViewReferencePlugin",plugin:()=>new(o("KkS8").a)({view:e=>(t.current=e,{destroy:()=>{t.current=null}})})}];return o("j5wO").a.safari&&r.push({name:"tableSafariDelayedDomSelectionSyncingWorkaround",plugin:()=>(()=>{let e=null;return new(o("KkS8").a)({key:wl,props:{handleDOMEvents:{mousedown:t=>(e&&e(),setTimeout((()=>{t.mouseDown&&(e=t.mouseDown.done.bind(t.mouseDown),t.mouseDown=null)})),!1)}}})})()}),o("j5wO").a.safari&&r.push({name:"tableSafariDeleteCompositionTextIssueWorkaround",plugin:()=>(()=>new(o("KkS8").a)({key:Sl,state:{init:()=>({renderSpan:!1,decorations:ae.b.empty}),apply:(e,t)=>{const n=e.getMeta(Sl)
;if(void 0===n)return t;let o;if(n){const{$from:t}=e.selection,n=t.before(t.depth),r=ae.a.widget(n,(()=>document.createElement("span")));o=ae.b.create(e.doc,[r])}else o=ae.b.empty;return{renderSpan:n,decorations:o}}},props:{decorations:e=>Sl.getState(e).decorations,handleDOMEvents:{beforeinput:(e,t)=>{if("deleteCompositionText"!==(null==t?void 0:t.inputType))return!1;const n=window.getSelection();if(!n||n.rangeCount<=0||"Range"!==n.type)return!1;const o=n.getRangeAt(0),{startContainer:r,endContainer:i,endOffset:s,startOffset:a}=o;if(r.nodeType===Node.TEXT_NODE&&r===i&&0===a&&s===r.length){const{tr:t}=e.state;t.setMeta(Sl,!0),e.dispatch(t)}return!1},input:(e,t)=>{if("deleteCompositionText"!==(null==t?void 0:t.inputType))return!1;if(!window.getSelection())return!1;const{tr:n}=e.state;return n.setMeta(Sl,!1),e.dispatch(n),!1}}}}))()}),r},contentComponent:({editorView:t,popupsMountPoint:r,popupsBoundariesElement:i,popupsScrollableElement:s,dispatchAnalyticsEvent:a})=>c.a.createElement(hu,{
component:o("+PNV").b.TABLES_PLUGIN,dispatchAnalyticsEvent:a,fallbackComponent:null},c.a.createElement(o("st3q").a,{plugins:{tablePluginState:o("+62K").a,tableResizingPluginState:o("u/2i").a,stickyHeadersState:bu},render:({tableResizingPluginState:l,stickyHeadersState:d,tablePluginState:u})=>{const{state:p}=t,h=null==l?void 0:l.dragging,{tableNode:f,tablePos:m,targetCellPosition:b,isContextualMenuOpen:g,layout:v,tableRef:y,pluginConfig:O,insertColumnButtonIndex:E,insertRowButtonIndex:w,isHeaderColumnEnabled:S,isHeaderRowEnabled:k,tableWrapperTarget:x}=u,{allowControls:C}=O,T=d?mu(d,m):void 0;return c.a.createElement(c.a.Fragment,null,b&&y&&!h&&e&&e.allowContextualMenu&&c.a.createElement(kp,{isNumberColumnEnabled:f&&f.attrs.isNumberColumnEnabled,editorView:t,tableNode:f,mountPoint:r,targetCellPosition:b,scrollableElement:s,dispatchAnalyticsEvent:a,isContextualMenuOpen:g,layout:v,stickyHeader:T}),C&&c.a.createElement(Hp,{tableNode:f,tableRef:y,insertColumnButtonIndex:E,
insertRowButtonIndex:w,isHeaderColumnEnabled:S,isHeaderRowEnabled:k,editorView:t,mountPoint:r,boundariesElement:i,scrollableElement:s,hasStickyHeaders:T&&T.sticky,dispatchAnalyticsEvent:a,editorAnalyticsAPI:null==e?void 0:e.editorAnalyticsAPI,getEditorContainerWidth:n}),c.a.createElement(Tp,{editorView:t,mountPoint:r,boundariesElement:i,targetCellPosition:b,isOpen:Boolean(g),pluginConfig:O,editorAnalyticsAPI:null==e?void 0:e.editorAnalyticsAPI,getEditorContainerWidth:n,getEditorFeatureFlags:(null==e?void 0:e.getEditorFeatureFlags)||$p}),C&&c.a.createElement(Pp,{editorView:t,selection:t.state.selection,tableRef:y,mountPoint:r,boundariesElement:i,scrollableElement:s,stickyHeaders:T,isNumberColumnEnabled:f&&f.attrs.isNumberColumnEnabled,editorAnalyticsAPI:null==e?void 0:e.editorAnalyticsAPI}),Object(o("r/3z").g)(p)&&e&&e.breakoutEnabled&&c.a.createElement(Kp,{editorView:t,mountPoint:r,boundariesElement:i,scrollableElement:s,targetRef:x,layout:v,isResizing:!!l&&!!l.dragging,stickyHeader:T,
editorAnalyticsAPI:null==e?void 0:e.editorAnalyticsAPI}))}})),pluginsOptions:{createNodeHandler:({nodeName:e,schema:t})=>{if("table"!==e)return null;return Object(o("H1L9").a)({schema:t})},quickInsert:({formatMessage:t})=>[{id:"table",title:t(o("ViDr").a.table),description:t(o("ViDr").a.tableDescription),keywords:["cell","table"],priority:600,keyshortcut:Object(o("QNHL").ub)(o("QNHL").sb),icon:()=>c.a.createElement(o("gUca").a,null),action(t,n){var r;const i=t(Object(o("H1L9").a)({schema:n.schema}));return null==e||null===(r=e.editorAnalyticsAPI)||void 0===r||r.attachAnalyticsEvent({action:o("+PNV").a.INSERTED,actionSubject:o("+PNV").b.DOCUMENT,actionSubjectId:o("+PNV").c.TABLE,attributes:{inputMethod:o("+PNV").f.QUICK_INSERT},eventType:o("+PNV").e.TRACK})(i),i}}],floatingToolbar:hp(n,null==e?void 0:e.editorAnalyticsAPI,(null==e?void 0:e.getEditorFeatureFlags)||$p,(()=>t.current))(yl(null==e?void 0:e.tableOptions))}}};function Gp(e){let t,n=0,r=0;const i=Object(o("zYPQ").c)(e)
;return i&&(t=o("wYWE").b.get(i.node),n=t.height,r=t.width),{table:i,map:t,totalRowCount:n,totalColumnCount:r}}function Yp(e){return!!e&&e.indexOf("urn:schemas-microsoft-com:office:word")>=0}function Qp(e){return!!e&&e.indexOf("urn:schemas-microsoft-com:office:excel")>=0}function Xp(...e){return t=>{let n=!0;return t.content.descendants((t=>(n=n&&e.indexOf(t.type)>-1,n))),n}}function Zp(e,t){return n=>{const{marks:{code:r,link:i,annotation:s}}=e;if(!Array.isArray(t)||0===t.length)return n;const a=ie.Slice.fromJSON(e,n.toJSON()||{}),c=[i,s];return a.content.descendants(((e,n,s)=>!(e.isText&&s&&s.isBlock)||(e.marks=[...e.marks&&!r.isInSet(t)&&e.marks.filter((e=>c.includes(e.type)))||[],...s.type.allowedMarks(t).filter((e=>e.type!==i))],e.marks.sort(Object(o("0ryS").b)("marks")),!1))),a}}function Jp(e){if(!e)return!1;const{type:t}=e,n=t.createAndFill();return n&&n.nodeSize===e.nodeSize&&n.content.eq(e.content)&&ie.Mark.sameSet(n.marks,e.marks)}function eh(e){
if(e instanceof d.NodeSelection&&function(e){return Boolean(e&&"panel"===e.type.name)}(e.node))return e.node;const{doc:{type:{schema:{nodes:{panel:t}}}}}=e.$from,n=Object(l.findParentNodeOfType)(t)(e);return n?n.node:null}const th=e=>!!e&&(e.includes("</a></a>")||e.includes('"></a><a')),nh=(e,t)=>{if(Object(o("+yxU").c)(e.selection)){const{totalRowCount:n,totalColumnCount:r}=Gp(e.selection);return Object(o("SVcB").a)(e,t,{action:o("oTfp").a.REPLACED,actionSubject:o("+PNV").b.TABLE,attributes:{totalColumnCount:r,totalRowCount:n,inputMethod:o("+PNV").f.CLIPBOARD},eventType:o("+PNV").e.TRACK}),t}return e.tr};var oh=o("xk4V"),rh=o.n(oh);const ih=(e,t)=>{if(Object(o("+yxU").c)(e.selection)){const n=Object(o("zYPQ").c)(e.selection);if(n){const o="string"==typeof t?new ie.Slice(ie.Fragment.from(e.schema.text(t)),0,0):t;let r=e.tr.replace(n.pos,n.pos+n.node.nodeSize,o);return r.setSelection(d.TextSelection.create(r.doc,n.pos+o.size+1)),r}}return e.tr};function sh({tr:e,slice:t,schema:n}){var r
;const{selection:i,selection:{$to:s,$from:a}}=e,{$cursor:c}=i,u=eh(i),p=a.blockRange(s,o("EvmU").d);if(!c&&p)return function({tr:e,slice:t}){const{selection:{$to:n,$from:o,to:r,from:i}}=e;if(o.sameParent(n)||o.depth===n.depth)return e.replaceSelection(t);const s=o.blockRange(n);if(!s)return;const a=i,c=n.nodeAfter?r:r+2,l=e.doc.slice(c,s.end);e.deleteRange(a,s.end);const u=e.mapping.map(a);if(e.replaceRange(u,u,t),l.size<=0)return;const p=d.TextSelection.near(e.doc.resolve(e.mapping.map(u)),-1);l.openEnd=l.openStart,e.replaceRange(p.from,p.from,l),e.setSelection(d.TextSelection.near(e.doc.resolve(p.from),-1))}({tr:e,slice:t});if(u&&Jp(u)&&a.node()===s.node())return function(e){return({tr:t,slice:n})=>{const{selection:r,selection:{$to:i,$from:s}}=t,{from:a}=r;if(e&&!e.type.validContent(ie.Fragment.from(n.content))){var c;const e=i.pos+1;t.replaceRange(e,e,n);const r=t.doc.resolve(s.before()).node()
;if(r&&r.childCount>1&&"paragraph"===(null===(c=r.firstChild)||void 0===c?void 0:c.type.name)&&Object(o("x+VZ").h)(r.firstChild)){const e=t.doc.resolve(s.before()).posAtIndex(0),n=t.doc.resolve(s.before()).posAtIndex(1);n-e==2&&t.delete(e,n)}return void t.setSelection(d.TextSelection.near(t.doc.resolve(e+n.content.size-n.openStart-n.openEnd+1)))}const l=new U.i(t.doc.type.createAndFill());l.replaceRange(0,l.doc.content.size,n);const u=l.doc.slice(0),p=e.copy(u.content),h=r instanceof d.NodeSelection?r.node:null,f=h?a:t.doc.resolve(a).start(),m=h?a+h.nodeSize:f;t.replaceRangeWith(f,m,p),t.setSelection(d.TextSelection.near(t.doc.resolve(s.pos+p.content.size),-1))}}(u)({tr:e,slice:t});if(!c||p)return e.replaceSelection(t);if(Jp(e.doc.resolve(c.pos).node()))return function({tr:e,slice:t}){e.replaceSelection(t)}({tr:e,slice:t})
;const h=Boolean(Object(l.findParentNodeOfType)([n.nodes.taskList,n.nodes.decisionList])(i)),f=1===t.content.childCount&&Object(o("EvmU").d)(t.content.firstChild)&&1===(null===(r=t.content.firstChild)||void 0===r?void 0:r.childCount);if((!h||!f)&&function(e){return e instanceof d.TextSelection&&e.empty&&e.$cursor&&(!e.$cursor.nodeBefore||!e.$cursor.nodeAfter)}(i))return function({tr:e,slice:t}){const{selection:n}=e,{$cursor:o}=n;if(!o)return;const r=o.nodeBefore?o.after():o.before();e.replaceRange(r,r,t);const i=e.doc.resolve(Math.min(r+t.content.size-t.openEnd,e.doc.content.size));e.setSelection(d.TextSelection.near(i,-1))}({tr:e,slice:t});e.replaceSelection(t)}let ah;!function(e){e.START_TRACKING_PASTED_MACRO_POSITIONS="START_TRACKING_PASTED_MACRO_POSITIONS",e.STOP_TRACKING_PASTED_MACRO_POSITIONS="STOP_TRACKING_PASTED_MACRO_POSITIONS"}(ah||(ah={}));const ch=new d.PluginKey("pastePlugin"),{createPluginState:lh,createCommand:dh,getPluginState:uh}=Object(o("pVB1").a)(ch,((e,t)=>{
switch(t.type){case ah.START_TRACKING_PASTED_MACRO_POSITIONS:return{...e,pastedMacroPositions:{...e.pastedMacroPositions,...t.pastedMacroPositions}};case ah.STOP_TRACKING_PASTED_MACRO_POSITIONS:{const n=Object.fromEntries(Object.entries(e.pastedMacroPositions).filter((([e])=>!t.pastedMacroPositionKeys.includes(e))));return{...e,pastedMacroPositions:n}}default:return e}}),{mapping:(e,t)=>{if(e.docChanged){let n=!1;const o=Object.entries(t.pastedMacroPositions).reduce(((t,[o,r])=>(r!==e.mapping.map(r)&&(n=!0),t[o]=e.mapping.map(r),t)),{});if(n)return{...t,pastedMacroPositions:o}}return t}});function ph(e){return(t,n)=>{const{schema:r,tr:i}=t,{selection:s}=i,a=e.content.firstChild,c=0===e.openStart&&0===e.openEnd,l=s.$to.node(s.$to.depth-1),d=c&&!(e=>{const{$from:t,$to:n,from:r,to:i}=e,s=Object(o("ytXc").c)(t)||Object(o("ytXc").c)(n),a=null==s?void 0:s.parent;if(!s||!a)return!1
;const c=t.pos<n.pos?s.pos+t.depth-1:s.pos+n.depth-1,l=t.pos<n.pos?s.pos+a.nodeSize-n.depth-1:s.pos+a.nodeSize-t.depth-1;return!(!c||!l)&&(r<i?c>=t.pos&&l<=n.pos:r>i&&c>=n.pos&&l<=t.pos)})(s);return!(!(l&&(null==l?void 0:l.type)===r.nodes.listItem&&a&&["panel","decisionList"].includes(null==a?void 0:a.type.name))||e.content.childCount>1||void 0===(null==a?void 0:a.content.firstChild)||d)&&(i.replaceSelection(e).scrollIntoView(),n&&n(i),!0)}}function hh(e,t,n,o,r){if(n){const i=n.state.tr.selection;let s,a;return"number"==typeof o&&"number"==typeof r?(s=n.state.tr.replaceRange(o,r,e),a=s.mapping.map(o,-1)):(s=n.state.tr.replaceSelection(e),a=s.mapping.map(i.from,-1)),n.dispatch(s),n.dispatch(Object(Fs.a)(n.state.tr).replaceRangeWith(a,a+e.size,t).scrollIntoView()),!0}return!1}function fh(e,t,n,r){return(i,s,a)=>{let c=null;if(r){const t=r(e);t&&(c=ie.Node.fromJSON(i.schema,t))}if(c||(c=Object(o("JkFw").b)(i,e)),c){if(n&&n.resolveBeforeMacros&&n.resolveBeforeMacros.length){
if(n.resolveBeforeMacros.indexOf(c.attrs.extensionKey)<0)return hh(t,c,a);if(!a)throw new Error("View is missing");const o=rh()(),r=`handleMacroAutoConvert-from-${o}`,l=`handleMacroAutoConvert-to-${o}`;return(e=>dh((()=>({type:ah.START_TRACKING_PASTED_MACRO_POSITIONS,pastedMacroPositions:e}))))({[r]:i.selection.from,[l]:i.selection.to})(i,s),async function(e,t,n){if(!n.provider)throw Error("No card provider found");const o=await n.provider;return await o.resolve(e,t)}(e,"inline",n).then((()=>{const{pastedMacroPositions:e}=uh(a.state);s&&mh(t,e[r],e[l])(a.state,s)})).catch((()=>{const{pastedMacroPositions:e}=uh(a.state);hh(t,c,a,e[r],e[l])})).finally((()=>{(e=>dh((()=>({type:ah.STOP_TRACKING_PASTED_MACRO_POSITIONS,pastedMacroPositionKeys:e}))))([r,l])(a.state,s)})),!0}return hh(t,c,a)}return!!c}}function mh(e,t,n){return(r,i)=>{const s=Object(Fs.a)(r.tr),a="number"==typeof t?t:s.selection.from;return"number"==typeof t&&"number"==typeof n?s.replaceRange(t,n,e):s.replaceSelection(e),
s.setSelection(d.TextSelection.near(s.doc.resolve(a+e.size),-1)),Object(o("X6Aa").e)(r,s,o("+PNV").f.CLIPBOARD,o("+PNV").a.PASTED),i&&i(s.scrollIntoView()),!0}}function bh(e,t){e.content.forEach((e=>{Object(o("EvmU").d)(e)||Object(o("EvmU").c)(e)&&Object(o("EvmU").d)(e.firstChild)?bh(e,t):t.push(e)}))}function gh(e,t){if(0===t.content.size)return t;const{schema:n,selection:{$from:r}}=e;if(!function(e){let t=!1;return e.content.descendants((e=>(e.marks.length>0&&(t=!0),!1))),t}(t))return t;const i=r.parent.textContent.length>0;if(1===t.content.childCount&&i)return t;const s=r.node(Math.max(0,r.depth-1)),a=function(e){const t=new Set;return e.content.descendants((e=>(e.marks.map((e=>e.type)).forEach((e=>t.add(e))),!1))),t}(t);let c=[];for(let o of a)s.type.allowsMarkType(o)||c.push(o);if(0===c.length){const e=Math.max(0,t.openStart-1);return new ie.Slice(t.content,e,t.openEnd)}
return Object(o("C0PT").e)(t,(e=>e.type===n.nodes.paragraph?n.nodes.paragraph.createChecked(void 0,e.content,e.marks.filter((e=>!c.includes(e.type)))):e))}function vh(e){if(!e.content.firstChild)return e;const t=e.content.firstChild,n=[];bh(t,n);const o=e.content.replaceChild(0,t.type.createChecked(t.attrs,n));return new ie.Slice(o,e.openEnd,e.openEnd)}function yh(e){return(t,n)=>{var r,i,s;const{codeBlock:a,heading:c,paragraph:u,panel:p}=t.schema.nodes,{selection:h,schema:f}=t,m=null===(r=e.content)||void 0===r?void 0:r.firstChild,b=null===(i=e.content)||void 0===i?void 0:i.lastChild;let g=t.tr;(function(e,t){return t.content.firstChild&&t.content.firstChild.marks.some((t=>t.type===e.schema.marks.code))})(t,e)&&function(e){const{$from:{nodeBefore:t},from:n}=e.selection;t&&t.isText&&t.text.endsWith("`")&&e.delete(n-1,n)}(g),function(e,t){const n=t.content.firstChild;return n&&Object(o("49vz").a)(e)&&Object(o("EvmU").d)(n)&&t.openStart>t.openEnd}(t,e)&&(e=vh(e)),Object(Fs.a)(g)
;const v=Object(o("EvmU").d)(m),y=Object(o("EvmU").d)(b),O=v||y,E=[c,u],w=h.$to.node(h.$to.depth-1),S=h.$to.node().type.validContent(e.content)||E.includes(h.$to.node().type)&&w.type.validContent(e.content);let k=Object(l.findParentNodeOfType)(p)(g.selection);const x=k&&2===(null===(s=k.node)||void 0===s?void 0:s.content.size);if(O||x)sh({tr:g,slice:e,schema:f});else if(S)g.replaceSelection(e);else{let n=!1,r=!1;e.content.nodesBetween(0,e.content.size,((o,i)=>{if(o.type===t.schema.nodes.listItem&&(r=!0),i>=e.openStart&&i<=e.content.size-e.openEnd&&o.isBlock)return n=!0,!1})),Object(o("D4z0").i)(t)&&(!n||Object(o("D4z0").l)(t)&&Object(l.canInsert)(h.$from,e.content)&&Object(l.canInsert)(h.$to,e.content))||r?g.replaceSelection(e):g=Object(l.safeInsert)(e.content,g.selection.$to.pos)(g)}return g.setStoredMarks([]),g.selection.empty&&g.selection.$from.parent.type===a&&g.setSelection(d.TextSelection.near(g.selection.$from,1)),g.scrollIntoView(),
n&&n(Object(o("X6Aa").e)(t,g,o("+PNV").f.CLIPBOARD,o("+PNV").a.PASTED)),!0}}function Oh(e){const t=[];return e.forEach((e=>{if(e.type===e.type.schema.nodes.codeBlock){const n=t[t.length-1];if(n&&n.type===e.type)return t.push(function(e,t){const n=`${e.textContent}\n${t.textContent}`;return e.type.create(e.attrs,e.type.schema.text(n))}(t.pop(),e))}return t.push(e)})),ie.Fragment.from(t)}const Eh=(e,t)=>{const{codeBlock:n}=e.schema.nodes;return Object(l.findSelectedNodeOfType)(n)(t||e.selection)||Object(l.findParentNodeOfType)(n)(t||e.selection)},wh={url:o("HIib").a.url,paragraph:o("HIib").a.text,bulletList:o("HIib").a.bulletList,orderedList:o("HIib").a.orderedList,heading:o("HIib").a.heading,blockquote:o("HIib").a.blockquote,codeBlock:o("HIib").a.codeBlock,panel:o("HIib").a.panel,rule:o("HIib").a.rule,mediaSingle:o("HIib").a.mediaSingle,mediaCard:o("HIib").a.mediaCard,mediaGroup:o("HIib").a.mediaGroup,table:o("HIib").a.table,tableCells:o("HIib").a.tableCells,
tableHeader:o("HIib").a.tableHeader,tableRow:o("HIib").a.tableRow,decisionList:o("HIib").a.decisionList,decisionItem:o("HIib").a.decisionItem,taskList:o("HIib").a.taskItem,extension:o("HIib").a.extension,bodiedExtension:o("HIib").a.bodiedExtension,blockCard:o("HIib").a.blockCard,layoutSection:o("HIib").a.layoutSection},Sh={blockquote:o("+PNV").c.PASTE_BLOCKQUOTE,blockCard:o("+PNV").c.PASTE_BLOCK_CARD,bodiedExtension:o("+PNV").c.PASTE_BODIED_EXTENSION,bulletList:o("+PNV").c.PASTE_BULLET_LIST,codeBlock:o("+PNV").c.PASTE_CODE_BLOCK,decisionList:o("+PNV").c.PASTE_DECISION_LIST,extension:o("+PNV").c.PASTE_EXTENSION,heading:o("+PNV").c.PASTE_HEADING,mediaGroup:o("+PNV").c.PASTE_MEDIA_GROUP,mediaSingle:o("+PNV").c.PASTE_MEDIA_SINGLE,orderedList:o("+PNV").c.PASTE_ORDERED_LIST,panel:o("+PNV").c.PASTE_PANEL,rule:o("+PNV").c.PASTE_RULE,table:o("+PNV").c.PASTE_TABLE,tableCell:o("+PNV").c.PASTE_TABLE_CELL,tableHeader:o("+PNV").c.PASTE_TABLE_HEADER,tableRow:o("+PNV").c.PASTE_TABLE_ROW,
taskList:o("+PNV").c.PASTE_TASK_LIST};function kh({selection:e,schema:t}){const{nodes:{paragraph:n,listItem:r,taskItem:i,decisionItem:s}}=t,a=Object(l.findParentNode)((e=>e.type!==n&&e.type!==r&&e.type!==i&&e.type!==s))(e);if(!a)return o("+PNV").c.PASTE_PARAGRAPH;const c=a.node.type,d=Sh[c.name];return d||o("+PNV").c.PASTE_PARAGRAPH}function xh(e,t,n){return{action:o("+PNV").a.PASTED,actionSubject:o("+PNV").b.DOCUMENT,actionSubjectId:e,eventType:o("+PNV").e.TRACK,attributes:{inputMethod:o("+PNV").f.KEYBOARD,...t},...n&&n.length>0?{nonPrivacySafeAttributes:{linkDomain:n}}:{}}}function Ch(e,t,n){return r=>{const i=e.clipboardData?e.clipboardData.getData("text/plain")||e.clipboardData.getData("text/uri-list"):"",s=kh({selection:r,schema:r.$from.doc.type.schema}),a=t.size,c=function({schema:e,slice:t}){const{nodes:{paragraph:n},marks:{link:r}}=e,i=new Set;if(t.content.forEach((e=>{
e.type===n&&0===e.content.size||("text"===e.type.name&&r.isInSet(e.marks)||e.type===n&&e.rangeHasMark(0,e.nodeSize-2,r)?i.add("url"):i.add(e.type.name))})),i.size>1)return o("HIib").a.mixed;if(0===i.size)return o("HIib").a.uncategorized;const s=i.values().next().value;return wh[s]||o("HIib").a.uncategorized}({schema:r.$from.doc.type.schema,slice:t}),l=[],d=function(e){let t;return Object(o("C0PT").e)(e,(e=>("media"!==e.type.name&&"mediaInline"!==e.type.name||(t=e.attrs.__mediaTraceId),e))),t}(t);if(c!==o("HIib").a.url&&c!==o("HIib").a.mixed||Object(o("C0PT").e)(t,(e=>{const t=e.marks.find((e=>"link"===e.type.name));return t&&l.push(t.attrs.href),e})),n.asPlain)return function(e,t,n){return{action:o("+PNV").a.PASTED_AS_PLAIN,actionSubject:o("+PNV").b.DOCUMENT,actionSubjectId:e,eventType:o("+PNV").e.TRACK,attributes:{inputMethod:o("+PNV").f.KEYBOARD,pasteSize:t.length,linksInPasteCount:n}}}(s,i,l.length);const u=function(e){const t=e.clipboardData.getData("text/html");return function(e){
return!!e&&!!e.match(/class=\"\s?author-d-.+"/gim)}(t)?"dropbox-paper":Yp(t)?"microsoft-word":Qp(t)?"microsoft-excel":function(e){return!!e&&!!e.match(/id=\"docs-internal-guid-.+"/gim)}(t)?"google-docs":function(e){return!!e&&!!e.match(/data-sheets-.+=/gim)}(t)?"google-spreadsheets":function(e){return!!e&&e.indexOf('content="Cocoa HTML Writer"')>=0}(t)?"apple-pages":function(e){return!!e&&e.indexOf('data-pm-slice="')>=0}(t)?"fabric-editor":"uncategorized"}(e);if(n.type===o("HIib").b.plain)return xh(s,{pasteSize:i.length,type:n.type,content:o("HIib").a.text,source:u,hyperlinkPasteOnText:!1,linksInPasteCount:l.length,pasteSplitList:n.pasteSplitList});const p=l.map(o("CHQz").c);return xh(s,{type:n.type,pasteSize:a,content:c,source:u,hyperlinkPasteOnText:!!n.hyperlinkPasteOnText,linksInPasteCount:l.length,mediaTraceId:d,pasteSplitList:n.pasteSplitList},p)}}function Th(e,t,n,o){return Ch(t,n,o)(e.state.selection)}function jh(e,t,n,r){const i=Th(e,t,n,r)
;e.dispatch(Object(o("SVcB").a)(e.state,e.state.tr,i))}const Ah=(e,t,n)=>_h(Ch(t,n,{type:o("HIib").b.plain,asPlain:!0}))(function(e,t){return(t,n,o)=>{if(o&&o.shiftKey){let o=Object(Fs.a)(t.tr);const{selection:r}=o;return o=ih(t,e),o=nh(t,o),o.docChanged||o.replaceSelection(e),(t.storedMarks||[]).forEach((t=>{o.addMark(r.from,r.from+e.size,t)})),o.scrollIntoView(),n&&n(o),!0}return!1}}(n)),Nh=(e,t,n,r)=>_h(Ch(t,n,{type:r}))(function(e){return(t,n)=>{var r,i;const{schema:s,tr:{selection:a}}=t,{marks:{code:c},nodes:{decisionItem:u,emoji:p,hardBreak:h,mention:f,paragraph:m,taskItem:b,text:g,panel:v,bulletList:y,orderedList:O,listItem:E,expand:w,heading:S}}=s,k=t.selection instanceof d.NodeSelection&&["decisionList","decisionItem","taskList","taskItem"].includes(t.selection.node.type.name),x=Object(l.hasParentNodeOfType)([u,b,v])(t.selection),C=Object(l.hasParentNodeOfType)([v])(t.selection);let T=!1;e.content.nodesBetween(0,e.content.size,(e=>{
e.type!==y&&e.type!==O&&e.type!==w&&e.type!==S&&e.type!==E||(T=!0)}));const j=C&&(null===(r=e.content.firstChild)||void 0===r?void 0:r.type)===m&&e.openEnd<2;if(T||j||!k&&!x)return!1;const A=[Object(o("CHQz").f)(s)],N=a.$head.marks(),I=o("6VYC").a.getState(t);a instanceof d.TextSelection&&Array.isArray(N)&&N.length>0&&Xp(m,g,p,f,h)(e)&&(!c.isInSet(N)||I.codeActive)&&A.push(Zp(s,a.$head.marks()));const P=o("D4z0").e.apply(null,A)(e),M=Object(Fs.a)(t.tr);return(P.content.firstChild.type.inlineContent||["decisionList","decisionItem","taskList","taskItem","panel"].includes(P.content.firstChild.type.name)&&!Object(o("D4z0").l)(t)||k)&&(1!==P.openStart||0!==P.openEnd)||(null===(i=P.content.firstChild)||void 0===i?void 0:i.type)===m?M.replaceSelection(P).scrollIntoView():Object(l.safeInsert)(P.content)(M).scrollIntoView(),Object(o("X6Aa").e)(t,M,o("+PNV").f.CLIPBOARD,o("+PNV").a.PASTED),n&&n(M),!0}}(n)),Ih=(e,t,n,o)=>_h(Ch(t,n,{type:o}))(function(e){return(t,n)=>{
const{caption:o}=t.schema.nodes,r=t.tr;return!!Object(l.hasParentNodeOfType)(o)(t.selection)&&(r.replaceSelection(e).scrollIntoView(),n&&n(r),!0)}}(n)),Ph=(e,t,n,r)=>_h(Ch(t,n,{type:o("HIib").b.plain}))(function(e){return(t,n)=>{const{codeBlock:o}=t.schema.nodes;if(e&&Object(l.hasParentNodeOfType)(o)(t.selection)){const o=Object(Fs.a)(t.tr);return o.scrollIntoView(),n&&n(o.insertText(e)),!0}return!1}}(r)),Mh=(e,t,n,r)=>_h(Ch(t,n,{type:r}))(function(e){return function(t){return(n,r,i)=>{if(i){if(function(e,t){const{media:n}=e.schema.nodes;return 1===t.content.childCount&&t.content.firstChild.type===n}(n,t))return Object(o("ZPHY").b)(i,t.content.firstChild,e);if(Object(o("49vz").a)(n)&&function(e,t){const{mediaSingle:n}=e.schema.nodes;return n&&1===t.content.childCount&&t.content.firstChild.type===n}(n,t)){const e=n.tr.replaceSelection(t),i=e.doc.resolve(e.mapping.map(n.selection.$from.pos));return r&&r(e.setSelection(new(o("WE2A").a)(i,o("WE2A").c.RIGHT))),!0}}return!1}}
}(o("+PNV").f.CLIPBOARD)(n)),Rh=(e,t,n,r)=>_h(Ch(t,n,{type:r}))(function(e){return(t,n)=>{const{schema:r,tr:{selection:i}}=t,{marks:{code:s,link:a},nodes:{bulletList:c,emoji:l,hardBreak:u,heading:p,listItem:h,mention:f,orderedList:m,paragraph:b,text:g}}=r;if(!(i instanceof d.TextSelection))return!1;const v=i.$head.marks();if(0===v.length)return!1;const y=o("6VYC").a.getState(t);if(s.isInSet(v)&&!y.codeActive)return!1;if(1===e.content.childCount&&e.content.firstChild.type===b&&1===e.content.firstChild.content.childCount&&e.content.firstChild.firstChild.type===g&&a.isInSet(v)&&1===v.length){const r=Object(Fs.a)(t.tr).replaceSelectionWith(e.content.firstChild.firstChild,!0).setStoredMarks(v).scrollIntoView();return Object(o("X6Aa").e)(t,r,o("+PNV").f.CLIPBOARD,o("+PNV").a.PASTED),n&&n(r),!0}if(Xp(c,u,p,h,b,g,l,f,m)(e)){const i=Zp(r,v)(e),s=Object(Fs.a)(t.tr).replaceSelection(i).setStoredMarks(v).scrollIntoView();return Object(o("X6Aa").e)(t,s,o("+PNV").f.CLIPBOARD,o("+PNV").a.PASTED),
n&&n(s),!0}return!1}}(n));function _h(e){return t=>(n,r,i)=>{let s=n.tr;if(!t(n,(e=>{s=e}),i))return!1;if(r&&s.docChanged){const t=e(n.selection);Object(o("SVcB").a)(n,s,t),r(s)}return!0}}const Lh=(e,t,n)=>_h(Ch(t,n,{type:o("HIib").b.richText,pasteSplitList:!0}))(function(e){return(t,n)=>{var r,i,s;const{tr:a}=t,{selection:c}=a,{$from:d,$to:u,from:p,to:h}=c,{orderedList:f,bulletList:m,listItem:b}=t.schema.nodes,g=Object(l.findParentNodeOfType)(b)(c),v=Object(l.findParentNodeOfType)([m,f])(c),y=null==v?void 0:v.node,O=e.content,E=Object(o("EvmU").d)(O.firstChild)&&Object(o("EvmU").d)(O.lastChild);let w=!1;if(e.content.forEach((e=>{e.isBlock&&!b.spec.content.includes(e.type.name)&&(w=!0)})),!g||!O||Object(l.canInsert)(d,O)||!w||E||!v)return!1;const S=u.depth-v.depth+1,k=u.depth-v.depth,x=!!Object(l.findParentNodeOfTypeClosestToPos)(a.doc.resolve(v.pos),[m,f]);let C=!1;if(g.node.content.forEach((e=>{Object(o("EvmU").d)(e)&&(C=!0)})),C||x)return!1
;const T="listItem"===(null===(r=a.doc.nodeAt(h+k))||void 0===r?void 0:r.type.name),j=u.indexAfter(u.depth-k),A=a.doc.resolve(v.pos+1).posAtIndex(j),N=O.firstChild&&["taskItem","taskList","heading","blockquote"].includes(O.firstChild.type.name);let I;I=N&&T?h+k:N||!T?h:h+S,N||T||O.childCount>1&&"paragraph"!==(null===(i=O.firstChild)||void 0===i?void 0:i.type.name)?a.replaceWith(p,I,O).scrollIntoView():a.replaceSelection(e).scrollIntoView();const P=a.mapping.map(A);if(P>a.doc.nodeSize)return!1;const M=Object(l.findParentNodeOfTypeClosestToPos)(a.doc.resolve(P),[f]),R=null==y?void 0:y.attrs.order,_=null===(s=Object(l.findParentNodeOfTypeClosestToPos)(a.doc.resolve(p-1),[f]))||void 0===s?void 0:s.node.childCount;return"number"==typeof R&&_&&M&&a.setNodeMarkup(M.pos,f,{...M.node.attrs,order:R+_}),!!a.docChanged&&(n&&n(a),!0)}}(n)),Dh=(t,n,r)=>_h(Ch(n,r,{type:o("HIib").b.richText,pasteSplitList:!0}))(function(t){return(n,r)=>{if(!Object(o("49vz").a)(n)||!(e=>{let t=!1
;return e.content.forEach((e=>{"expand"===e.type.name&&(t=!0)})),t})(t))return!1;const{expand:i,nestedExpand:s}=n.schema.nodes;let{tr:a}=n,c=!1;const d=Object(o("C0PT").e)(t,(t=>{if(t.type===i){c=!0;try{return s.createChecked(t.attrs,t.content,t.marks)}catch(e){return a=Object(l.safeInsert)(t,a.selection.$to.pos)(a),ie.Fragment.empty}}return t}));return!(!c||!r||(t.openStart>1&&t.openEnd>1?r(a.replaceSelection(d)):r(Object(l.safeInsert)(d.content)(a)),0))}}(r)),Fh=(e,t,n)=>_h(Ch(t,n,{type:o("HIib").b.richText}))((e=>(t,n)=>{let o=ih(t,e);return o=nh(t,o),!!o.docChanged&&(n&&n(o),!0)})(n)),Bh=(e,t,n,r)=>_h(Ch(t,n,{type:r,hyperlinkPasteOnText:!0}))(function(e){return(t,n)=>{const{schema:r,selection:i,selection:{from:s,to:a},tr:c}=t;let l;if(1===e.content.childCount&&Object(o("ceYy").g)(e.content.child(0),r)){const t=e.content.child(0);if(1===t.content.childCount&&Object(o("ceYy").i)(t.content.child(0),r)){const e=t.content.child(0)
;l=e.marks.find((t=>Object(o("ceYy").c)(t,r)&&(t.attrs.href===e.text||decodeURI(t.attrs.href)===e.text)))}}return!!(l&&i instanceof d.TextSelection&&!i.empty&&Object(o("E3sl").c)(s,a)(t))&&(c.addMark(s,a,l),n&&n(c),!0)}}(n)),Vh=e=>{let t=new Set;return e.size&&e.forEach((e=>{e.content&&e.content.size&&(t=new Set([...t,...Vh(e.content)])),t.add(e.type.name)})),Array.from(t)};function zh(e){let t="";return e.content.nodesBetween(0,e.content.size,(e=>(e.type.isBlock&&(t+="\n\n"),"paragraph"===e.type.name||("hardBreak"===e.type.name?t+="\n":"text"===e.type.name?t+=e.text:"inlineCard"===e.type.name||"blockCard"===e.type.name?t+=e.attrs.url:t+=e.textBetween(0,e.content.size,"\n\n"),!1)))),t.trim()}var Hh=o("kcif"),Uh=o.n(Hh);const Wh=(e,t)=>e%t==0,Kh=(e,t)=>{var n;const o=Array.from(e.body.querySelectorAll("th,td")),r=Uh()(o,t),i=e.body.querySelector("tbody");r.forEach((t=>{const n=e.createElement("tr");null==i||i.append(n),n.append(...t)}))
;return(null===(n=Array.from(i.querySelectorAll("tr")))||void 0===n?void 0:n.filter((e=>0===e.innerHTML.trim().length))).forEach((e=>e.remove())),e.body.innerHTML},$h=e=>{let{cellCount:t,thCount:n,mergedCellCount:o,hasThAfterTd:r,hasIncompleteRow:i}=(e=>{const t=e.querySelectorAll("td").length,n=e.querySelectorAll("th").length,o=e.querySelectorAll('td[colspan]:not([colspan="1"])').length;let r=!1;const i=e.querySelectorAll("th,td");for(let s=0,a=!1;s<i.length;s++){if(a&&"TH"===i[s].nodeName){r=!0;break}"TD"===i[s].nodeName&&(a=!0)}return{cellCount:t,thCount:n,mergedCellCount:o,hasThAfterTd:r,hasIncompleteRow:!(n>0&&0===t||t>0&&0===n||(Wh(n,t)||Wh(t,n))&&!(n>1&&1===t))}})(e);if(o||r)return e.body.innerHTML;if(!n)return Kh(e,1);if(i){const{updatedCellCount:o}=((e,t,n)=>{var o;let r=0;for(;!Wh(n+r,t);)r++;const i=Array.from(Array(r)).map((()=>e.createElement("td"))),s=e.body.querySelector("td:last-of-type");return null==s||null===(o=s.parentElement)||void 0===o||o.append(...i),{
updatedCellCount:n+r}})(e,n,t);t=o}for(let s=n;s>0;s--)if(Wh(n,s)&&Wh(t,s))return Kh(e,s);return e.body.innerHTML},qh=e=>{const{nonTableWrappedDoc:t,tableWrappedDoc:n}=(e=>{const t=new DOMParser,n=t.parseFromString(e,"text/html"),o=t.parseFromString(`<table>${e}</table>`,"text/html");return o.body.querySelectorAll("meta").forEach((e=>{o.head.prepend(e)})),{tableWrappedDoc:o,nonTableWrappedDoc:n}})(e),o=Boolean(!t.body.querySelector("th, td")&&n.body.querySelector("th, td")),r=n.querySelectorAll("body > table:only-child")&&!n.querySelector("body > table > tbody > tr > :not(th,td)");if(o&&r){return $h(n)}return null};function Gh(t,n,r,i,s,a,c){const l=new(o("HuUl").MarkdownTransformer)(t,o("Lb0w").a);let d,u;c&&c.subscribe("extensionProvider",(async function(t,n){if("extensionProvider"===t&&n)try{d=await Object(o("x1JX").c)(n)}catch(e){console.error(e)}}));let p=!1;return new(o("KkS8").a)({key:ch,state:lh(r,{pastedMacroPositions:{}}),props:{clipboardTextSerializer:zh,handleDOMEvents:{
paste:(e,t)=>(u=t,!1)},handlePaste(e,r,a){var c,u,p,h,f,m;const b=r;if(!b.clipboardData)return!1;let g=b.clipboardData.getData("text/plain");const v=b.clipboardData.getData("text/html"),y=b.clipboardData.getData("text/uri-list");!y||g||v||(g=y,a=new ie.Slice(ie.Fragment.from(t.text(g)),1,1)),null!==(c=g)&&void 0!==c&&c.includes("\r")&&(g=g.replace(/\r/g,""));const O=o("xNKs").c(b),E=g&&!v,w=!!v;if(O){if(!v)return!0;if(function(e){return!!e.match(/<img .*>/)&&!Object(o("WUE1").c)(e)}(v))return!0;b.stopPropagation()}const{state:S}=e,k=o("8tqJ").a.getState(S);if(null==k||null===(u=k.performanceTracking)||void 0===u||null===(p=u.pasteTracking)||void 0===p?void 0:p.enabled){const t=Vh(a.content),r=Lu()(),i=`${o("lZxZ").a.PASTE}_${r}`;Object(o("Xvyu").b)(i,(({duration:r,distortedDuration:i})=>{const s=(({view:e,duration:t,content:n,distortedDuration:r})=>{const i=kh({selection:e.state.selection,schema:e.state.schema});return{action:o("+PNV").a.PASTED_TIMED,actionSubject:o("+PNV").b.EDITOR,
eventType:o("+PNV").e.OPERATIONAL,attributes:{pasteIntoNode:i,content:n,time:t,distortedDuration:r}}})({view:e,duration:r,content:t,distortedDuration:i});s&&n(s)}))}const x=t=>{var n;const{placeholder:r}=S.schema.nodes,i=(null===(n=S.doc.resolve(S.selection.$anchor.pos).nodeAfter)||void 0===n?void 0:n.type)===r,s=t.steps.some((e=>{var t;const n=Object(o("XyUv").a)(e);let r=!1;return null==n||null===(t=n.content)||void 0===t||t.forEach((e=>{e.type===S.schema.nodes.table&&(r=!0)})),r}));i||s||t.setMeta(o("7QgF").b,!0),Object(o("LofH").a)(e.state.selection,t,{action:E?o("+PNV").a.PASTED_AS_PLAIN:o("+PNV").a.PASTED,inputMethod:o("+PNV").f.CLIPBOARD}),e.dispatch(t)};a=gh(S,a);const C=Object(o("CHQz").f)(S.schema)(a);if(Ah(0,b,C)(S,x,e))return!0;let T;var j;if((a=Object(o("ZPHY").e)(a,t)(S.selection),E)&&(T=function(e,t,n){let o=e;const r=o.split(/```/);for(let s=0;s<r.length;s++)s%2==0&&(r[s]=r[s].replace(/\\/g,"\\\\"));o=r.join("```");const i=l.parse(function(e){
return e.replace(/(\[([^\]]+)\]\()?((https?|ftp|jamfselfservice):\/\/[^\s]+)/g,(e=>e.match(/^(https?|ftp|jamfselfservice):\/\/[^\s]+$/)?`<${e}>`:e))}(o));if(i&&i.content)return new ie.Slice(i.content,t,n)}(g,a.openStart,a.openEnd),T=null!==(j=T)&&void 0!==j&&j.size?T:void 0,T)){if(Bh(0,b,T,o("HIib").b.markdown)(S,x))return!0;if(fh(g,T,s,d)(S,x,e))return jh(e,b,T,{type:o("HIib").b.markdown}),!0}a=Object(o("osj6").f)(a,S,s);const A=S.selection.$head.depth,N=S.selection.$head.node(A-1),I=null==N?void 0:N.type,P=[null===(h=t.nodes)||void 0===h?void 0:h.panel,null===(f=t.nodes)||void 0===f?void 0:f.taskList,null===(m=t.nodes)||void 0===m?void 0:m.decisionList];if(0===a.openStart&&N&&P.includes(I)&&(a.openStart=1),Nh(0,b,a,E?o("HIib").b.plain:o("HIib").b.richText)(S,x))return!0;if(Ph(0,b,a,g)(S,x))return!0;if(Mh(0,b,a,O?o("HIib").b.binary:o("HIib").b.richText)(S,x,e))return!0;if(Fh(0,b,a)(S,x))return!0;if(E&&T)return!!Rh(0,b,T,o("HIib").b.markdown)(S,x)||((e,t,n)=>_h(Ch(t,n,{
type:o("HIib").b.markdown}))(mh(n)))(0,b,T)(S,x);if(w&&Object(o("D4z0").m)(S)){const{blockquote:e}=t.nodes,n=[];Object(o("C0PT").c)(a.content,(t=>{if(t.type===e)for(let e=0;e<t.childCount;e++)n.push(t.child(e));else n.push(t)})),a=new ie.Slice(ie.Fragment.fromArray(n),a.openStart,a.openEnd)}if(w){if(a=Object(o("CHQz").f)(S.schema)(a),Bh(0,b,a,o("HIib").b.richText)(S,x))return!0;if(fh(g,a,s,d)(S,x,e))return jh(e,b,a,{type:o("HIib").b.richText}),!0;if(tl(e,0,a))return jh(e,b,a,{type:o("HIib").b.richText}),!0;if(a.content.size&&Object(o("CAky").b)(a,S)&&Object(o("CAky").k)(a,S),Rh(0,b,a,o("HIib").b.richText)(S,x))return!0;if(I!==S.schema.nodes.doc){const e=ie.Slice.fromJSON(S.schema,a.toJSON()||{});e.content.descendants((e=>(e.marks=e.marks.filter((e=>"breakout"!==e.type.name)),!1))),a=e}return!!Dh(0,b,a)(S,x)||(Object(o("49vz").a)(S)||(a=Object(o("beyY").b)(a,S.schema)),!!Ih(0,b,a,o("HIib").b.richText)(S,x)||(!!((e,t,n)=>_h(Ch(t,n,{type:o("HIib").b.richText
}))(ph(n)))(0,b,a)(S,x)||(!(null==i||!i.restartNumberedLists||!Lh(0,b,a)(S,x))||((e,t,n)=>_h(Ch(t,n,{type:o("HIib").b.richText}))(yh(n)))(0,b,a)(S,x))))}return!1},transformPasted:e=>(a&&(e=function(e,t){return Object(o("C0PT").e)(e,(e=>{if(e.type.name===t.nodes.mention.name){const n={...e.attrs,text:""};return t.nodes.mention.create(n,e.content,e.marks)}return e}))}(e,t)),p&&(e=function(e){return e=Object(o("C0PT").e)(e,(e=>e.isBlock&&!e.isTextblock?e.copy(Oh(e.content)):e)),new ie.Slice(Oh(e.content),e.openStart,e.openEnd)}(e)),e=((e,t)=>{if(1===e.content.childCount&&(e.openStart||e.openEnd)){const n=e.content.firstChild;if(n&&n.type===t.nodes.codeBlock&&n.textContent&&-1===n.textContent.indexOf("\n"))return new ie.Slice(ie.Fragment.from(t.text(n.textContent,[t.marks.code.create()])),0,0)}return e})(e,t),e=((e,t)=>{const n=e.content.firstChild;if(1===e.content.childCount&&n&&"decisionItem"===n.type.name){const o=t.nodes.decisionList.create({},n)
;return new ie.Slice(ie.Fragment.from(o),e.openStart,e.openEnd)}return e})(e=Object(o("Nrp8").l)(e,t),t),e=Object(o("VMKi").d)(e,t),(e=Object(o("VMKi").e)(e,t)).content.childCount&&e.content.lastChild.type===t.nodes.codeBlock&&(e=new ie.Slice(e.content.append(ie.Fragment.from(t.nodes.paragraph.createAndFill())),e.openStart,1)),e),transformPastedHTML(e){if(e.indexOf('id="docs-internal-guid-')>=0&&(e=(e=e.replace(/white-space:pre/g,"")).replace(/white-space:pre-wrap/g,"")),u&&((e,t)=>(e=>{var t,n,o;return null!==(t=null==e||null===(n=e.clipboardData)||void 0===n||null===(o=n.types)||void 0===o?void 0:o.some((e=>"x-tinymce/html"===e)))&&void 0!==t&&t})(e)&&!!t&&!!t.match(/class=\"\s?(confluenceTd|confluenceTh|confluenceTable).+"/gim))(u,e)&&(e=>!e.includes("<table ")&&(e.includes("<td ")||e.includes("<th ")))(e)){const t=qh(e);t&&(e=t)}return!Yp(e)&&!Qp(e)&&e.indexOf("<img ")>=0&&(e=Object(o("Nrp8").m)(e)),th(e)&&(e=(e=>{
if(th(e))return e.split(/(?=<a)/).filter((e=>!(e.includes("<a")&&e.includes('"></a>')||e.includes("<a")&&!e.includes("</a>")))).join("").replace(/<\/a><\/a>/gi,"</a>").replace(/<a>/gi,"<a");return e})(e)),p=e.indexOf('data-qa="code-line"')>=0,u=null,e}}})}var Yh=({cardOptions:e,sanitizePrivateContent:t},n)=>{var o,r;const i=(null==n||null===(o=n.dependencies)||void 0===o||null===(r=o.featureFlags)||void 0===r?void 0:r.sharedState.currentState())||{};return{name:"paste",pmPlugins:()=>[{name:"paste",plugin:({schema:n,providerFactory:o,dispatchAnalyticsEvent:r,dispatch:s})=>Gh(n,r,s,i,e,t,o)}]}};function Qh(e){return(t,n)=>{const{tr:o,selection:{$from:r,$to:i},doc:s}=t;if(r.pos===i.pos)return!1;let a=!1;return s.nodesBetween(r.pos,i.pos,((t,n)=>!a&&(e(t)?(a=!0,!1):void 0))),!!a&&(o.delete(r.pos,i.pos),n&&n(o),!0)}}const Xh=(e,t)=>{if(e.selection.empty||!(e.selection instanceof d.TextSelection))return!1;if(!(e=>{const{selection:{$from:t,$to:n}}=e,o=t.blockRange(n);if(!o)return!1
;const r=t.depth===n.depth&&t.depth-1===o.depth,i=!!n.nodeAfter;return!r&&!i})(e))return!1;const{tr:n}=e;n.deleteSelection();const o=Math.min(Math.max(e.selection.$from.pos,0),n.doc.content.size);return n.setSelection(d.Selection.near(n.doc.resolve(o),-1)),t&&t(n.scrollIntoView()),!0},Zh=e=>!!e&&o("Kuh0").o.some((t=>t.name===e.type.name)),Jh=Object(ut.c)(o("XJbs").a,Qh(Zh),Xh),ef=Object(ut.c)(Object(o("+U5V").b)(Zh),Qh(Zh),Xh);const tf=(e,t,n,o,r,i)=>{const{hardBreak:s,codeBlock:a,listItem:c}=e.schema.nodes,u=e.doc.resolve(o);if(u.nodeAfter.type!==s)return null;if(u.depth>1&&(t!==a||!Object(l.hasParentNodeOfType)(c)(e.selection)))return null;let p=e.tr.delete(o,r).split(o),h=p.doc.nodeAt(o+1),f=!1;p.doc.nodesBetween(o,o+h.nodeSize,((e,t)=>{f||e.type!==s||(f=!0,p=p.split(t+1).delete(t,t+1))})),f&&(h=p.doc.nodeAt(o+1));const{blockquote:m,paragraph:b}=e.schema.nodes;let g,v;t===m?(v=3,g=[b.create({},h.content)]):(v=2,g=h.content);const y=t.create(i,g)
;return p=p.setSelection(new d.NodeSelection(p.doc.resolve(o+1))).replaceSelectionWith(y).setSelection(new d.TextSelection(p.doc.resolve(o+v))),p};function nf(e){return{level:e[1].length}}function of(e){const t=function(e,t){return Object(o("9hcL").d)({match:new RegExp("^(#{1,"+t+"})\\s$"),nodeType:e,getAttrs:nf})}(e.nodes.heading,6),n=Object(o("9hcL").c)(new RegExp(`${o("N3sK").b}(#{1,6})\\s$`),((t,n,o,r)=>{const i=n[1].length;return tf(t,e.nodes.heading,0,o,r,{level:i})})),r=Object(o("9hcL").e)(((e,t)=>({action:o("+PNV").a.FORMATTED,actionSubject:o("+PNV").b.TEXT,eventType:o("+PNV").e.TRACK,actionSubjectId:o("+PNV").c.FORMAT_HEADING,attributes:{inputMethod:o("+PNV").f.FORMATTING,newHeadingLevel:nf(t).level}})));return[r(t),r(n)]}function rf(e){const t=function(e){return Object(o("9hcL").a)(/^\s*>\s$/,e)}(e.nodes.blockquote),n=Object(o("9hcL").c)(new RegExp(`${o("N3sK").b}\\s*>\\s$`),((t,n,o,r)=>tf(t,e.nodes.blockquote,0,o,r))),r=Object(o("9hcL").e)({action:o("+PNV").a.FORMATTED,
actionSubject:o("+PNV").b.TEXT,eventType:o("+PNV").e.TRACK,actionSubjectId:o("+PNV").c.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:o("+PNV").f.FORMATTING}});return[r(t),r(n)]}var sf=function(e,t){const n=[];if(e.nodes.heading&&n.push(...of(e)),e.nodes.blockquote&&n.push(...rf(e)),e.nodes.codeBlock&&n.push(...function(e){const t=Object(o("9hcL").e)({action:o("+PNV").a.INSERTED,actionSubject:o("+PNV").b.DOCUMENT,actionSubjectId:o("+PNV").c.CODE_BLOCK,attributes:{inputMethod:o("+PNV").f.FORMATTING},eventType:o("+PNV").e.TRACK}),n=e=>e.length>0&&3===e[0].length,r=Object(o("9hcL").c)(/(?!\s)(`{3,})$/,((e,t,r,i)=>{if(!n(t))return null;const s={};if(t[4]&&(s.language=t[4]),Object(o("p7hL").a)(e))return Object(o("p7hL").b)(e,r,s);const a=e.tr;a.delete(r,i);const c=a.doc.type.schema.nodes.codeBlock.createChecked();return Object(l.safeInsert)(c)(a),a})),i=Object(o("9hcL").c)(new RegExp(`((${o("N3sK").b}\`{3,})|^\\s(\`{3,}))(\\S*)$`),((t,o,r,i)=>{if(!n(o))return null;const s={}
;o[4]&&(s.language=o[4]);const a=Math.max(o.index+t.selection.$from.start(),1);return tf(t,e.nodes.codeBlock,0,a,i,s)}));return[t(r),t(i)]}(e)),0!==n.length)return Object(o("9hcL").b)("block-type",n,{isBlockNodeRule:!0})};const af=(e,t)=>{const n=t?`${e} { color: var(--ds-text, white) !important; }`:"";return e=>Object(o("AeFk").css)(Object(o("rgrP").a)(e),";>{h1,h2,h3,h4,h5,h6{margin-top:0;}}",n,";")},cf=Object(o("AeFk").css)(o("ZQ9N").a," margin-left:16px;"),lf=Object(o("AeFk").css)("color:","var(--ds-icon, #505F79)",";"),df=Object(o("D6b/").defineMessages)({textStyles:{id:"fabric.editor.textStyles",defaultMessage:"Text styles",description:"Menu provides access to various heading styles or normal text"}}),uf=e=>{const t=e.formatMessage(df.textStyles);return Object(o("AeFk").jsx)(o("aEOQ").a,{spacing:e.isReducedSpacing?"none":"default",selected:e.selected,className:"block-type-btn",disabled:e.disabled,onClick:e.onClick,onKeyDown:e.onKeyDown,title:t,"aria-label":t,"aria-haspopup":!0,
"aria-expanded":e["aria-expanded"],iconAfter:Object(o("AeFk").jsx)("span",{css:[o("mw/U").j,e.isSmall&&o("mw/U").i]},e.isSmall&&Object(o("AeFk").jsx)(o.n(o("A0FV")).a,{label:t}),Object(o("AeFk").jsx)("span",{css:o("mw/U").f},Object(o("AeFk").jsx)(o.n(o("1YpF")).a,{label:""})))},!e.isSmall&&Object(o("AeFk").jsx)("span",{css:[o("mw/U").b,e.isReducedSpacing&&o("mw/U").a]},Object(o("AeFk").jsx)(o("3e7Q").a,e.title||o("Kuh0").k.title)))};class pf extends c.a.PureComponent{constructor(...e){super(...e),s()(this,"state",{active:!1,isOpenedByKeyboard:!1}),s()(this,"onOpenChange",(e=>{this.setState({...this.state,active:e.isOpen,isOpenedByKeyboard:e.isOpenedByKeyboard})})),s()(this,"handleTriggerClick",(()=>{this.onOpenChange({isOpen:!this.state.active,isOpenedByKeyboard:!1})})),s()(this,"handleTriggerByKeyboard",(e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.onOpenChange({isOpen:!this.state.active,isOpenedByKeyboard:!0}))})),s()(this,"createItems",(()=>{
const{intl:{formatMessage:e}}=this.props,{currentBlockType:t,availableBlockTypes:n}=this.props.pluginState;return[{items:n.map(((n,r)=>{const i=t===n,s=n.tagName||"p",a=s,c=Object(o("QNHL").v)(n.title.defaultMessage);return{content:Object(o("AeFk").jsx)("div",{css:af(s,i)},Object(o("AeFk").jsx)(a,null,e(n.title))),value:n,label:e(n.title),"aria-label":Object(o("QNHL").ub)(c,e(n.title)),keyShortcuts:Object(o("QNHL").z)(c),key:`${n.name}-${r}`,elemAfter:Object(o("AeFk").jsx)("div",{css:[cf,i&&lf]},Object(o("QNHL").ub)(c)),isActive:i}}))}]})),s()(this,"handleSelectBlockType",(({item:e,shouldCloseMenu:t=!0})=>{const n=e.value;this.props.setBlockType(n.name),t&&this.setState({...this.state,active:!1})}))}render(){const{active:e,isOpenedByKeyboard:t}=this.state,{popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:i,isSmall:s,isReducedSpacing:a,pluginState:{currentBlockType:c,blockTypesDisabled:l,availableBlockTypes:d},intl:{formatMessage:u}}=this.props
;if(!d.some((e=>"heading"===e.nodeName)))return null;const p=d.filter((e=>e.name===c.name)).map((e=>e.title));if(!this.props.isDisabled&&!l){const c=this.createItems();return Object(o("AeFk").jsx)("span",{css:o("mw/U").j},Object(o("AeFk").jsx)(Ta,{items:c,onOpenChange:this.onOpenChange,onItemActivated:this.handleSelectBlockType,isOpen:e,mountTo:n,boundariesElement:r,scrollableElement:i,zIndex:o("anI9").y,fitHeight:360,fitWidth:106,shouldUseDefaultRole:!0,shouldFocusFirstItem:()=>(t&&this.setState({...this.state,isOpenedByKeyboard:!1}),t)},Object(o("AeFk").jsx)(uf,{isSmall:s,isReducedSpacing:a,selected:e,disabled:!1,title:p[0],onClick:this.handleTriggerClick,onKeyDown:this.handleTriggerByKeyboard,formatMessage:u,"aria-expanded":e})),Object(o("AeFk").jsx)("span",{css:o("mw/U").g}))}return Object(o("AeFk").jsx)("span",{css:o("mw/U").j},Object(o("AeFk").jsx)(uf,{isSmall:s,isReducedSpacing:a,selected:e,disabled:!0,title:p[0],onClick:this.handleTriggerClick,
onKeyDown:this.handleTriggerByKeyboard,formatMessage:u,"aria-expanded":e}),Object(o("AeFk").jsx)("span",{css:o("mw/U").g}))}}pf.displayName="ToolbarBlockType";var hf=Object(o("o5hF").c)(pf);const ff=({formatMessage:e},t)=>t?Array.from({length:6},((t,n)=>{const r=n+1,i=o("RJFP").a[`heading${r}Description`],s=o("QNHL").ub(o("4Upw")[`toggleHeading${r}`]),a=`heading${r}`;return{id:a,title:e(o("RJFP").a[a]),description:e(i),priority:1300,keywords:[`h${r}`],keyshortcut:s,icon:()=>c.a.createElement(o("Jzj3").i,{level:r}),action(e,t){const n=e(t.schema.nodes.heading.createChecked({level:r}));return Object(o("SVcB").a)(t,n,{action:o("+PNV").a.FORMATTED,actionSubject:o("+PNV").b.TEXT,eventType:o("+PNV").e.TRACK,actionSubjectId:o("+PNV").c.FORMAT_HEADING,attributes:{inputMethod:o("+PNV").f.QUICK_INSERT,newHeadingLevel:r}})}}})):[],mf=({formatMessage:e},t)=>t?[{id:"blockquote",title:e(o("RJFP").a.blockquote),description:e(o("RJFP").a.blockquoteDescription),priority:1300,
keyshortcut:o("QNHL").ub(o("QNHL").db),icon:()=>c.a.createElement(o("Jzj3").u,null),action(e,t){const n=e(t.schema.nodes.blockquote.createChecked({},t.schema.nodes.paragraph.createChecked()));return Object(o("SVcB").a)(t,n,{action:o("+PNV").a.FORMATTED,actionSubject:o("+PNV").b.TEXT,eventType:o("+PNV").e.TRACK,actionSubjectId:o("+PNV").c.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:o("+PNV").f.QUICK_INSERT}})}}]:[];var bf=e=>({name:"blockType",nodes(){const t=[{name:"heading",node:o("SYx2").a},{name:"blockquote",node:o("9gOt").a},{name:"hardBreak",node:o("9GCh").a}];if(e&&e.allowBlockType){const n=e.allowBlockType.exclude?e.allowBlockType.exclude:[];return t.filter((e=>-1===n.indexOf(e.name)))}return t},pmPlugins:()=>[{name:"blockType",plugin:({dispatch:t})=>Object(o("t+JJ").a)(t,e&&e.lastNodeMustBeParagraph)},{name:"blockTypeInputRule",plugin:({schema:e,featureFlags:t})=>sf(e,t)},{name:"blockTypeKeyMap",plugin:({schema:e,featureFlags:t})=>function(e,t){const n={}
;return o("QNHL").l(o("QNHL").C.common,o("t0jr").h,n),o("QNHL").l(o("QNHL").J.common,o("t0jr").d,n),o("QNHL").l(o("QNHL").G.common,o("t0jr").e,n),o("QNHL").l(o("QNHL").u(o("QNHL").T),Fs.c,n),o("QNHL").l(o("QNHL").vb.common,Fs.d,n),o("QNHL").l(o("QNHL").k.common,Jh,n),o("QNHL").l(o("QNHL").q.common,ef,n),o("QNHL").l(o("QNHL").y.mac,ef,n),e.nodes[o("Kuh0").a.nodeName]&&o("QNHL").l(o("QNHL").x(o("QNHL").db),Object(o("XJbs").c)(o("Kuh0").a.name,o("+PNV").f.KEYBOARD),n),Object(o("uIwD").a)(n)}(e)}],primaryToolbarComponent({editorView:t,popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:i,toolbarSize:s,disabled:a,isToolbarReducedSpacing:l,eventDispatcher:d}){const u=e&&e.isUndoRedoButtonsEnabled?s<o("qABM").a.XXL:s<o("qABM").a.XL,p=e=>Object(o("XJbs").e)(e,o("+PNV").f.TOOLBAR)(t.state,t.dispatch);return c.a.createElement(o("fd7e").a,{editorView:t,eventDispatcher:d,plugins:{pluginState:o("t+JJ").b},render:({pluginState:e})=>c.a.createElement(hf,{isSmall:u,isDisabled:a,
isReducedSpacing:l,setBlockType:p,pluginState:e,popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:i})})},pluginsOptions:{quickInsert:t=>{const n=e&&e.allowBlockType&&e.allowBlockType.exclude?e.allowBlockType.exclude:[];return[...mf(t,-1===n.indexOf("blockquote")),...ff(t,-1===n.indexOf("heading"))]}}});const gf=new d.PluginKey("clearMarksOnChangeToEmptyDocumentPlugin");function vf(){return new(o("KkS8").a)({key:gf,appendTransaction:(e,t,n)=>{if(!Object(o("x+VZ").g)(t.doc)&&Object(o("x+VZ").g)(n.doc))return n.tr.setStoredMarks([])}})}var yf=()=>({name:"clearMarksOnEmptyDoc",pmPlugins:()=>[{name:"clearMarksOnChange",plugin:vf}]});function Of(e,t=!1,n){if(!e.marks.link)return;const r=function(e,t=!1){return Object(o("9hcL").c)(e,((e,n,r,i)=>{const{schema:s}=e;if(e.doc.rangeHasMark(r,i,s.marks.link))return null;const a=n,c=Object(o("CHQz").g)(a.url),l=s.mark("link",{href:c}),d=e.selection.$from.nodeBefore;if(!d||!d.isText||!d.text)return null
;const u=Object(o("CHQz").b)(d.text,r-(d.text.length-a.text.length));if(Object(o("CHQz").e)(r,u))return e.tr;const p=r,h=Math.min(r+a.text.length,e.doc.content.size),f=e.tr.addMark(p,h,l);return h===i&&f.insertText(" "),Object(o("LofH").a)(e.selection,f,{inputMethod:o("+PNV").f.AUTO_DETECT}),t?f:Object(o("SVcB").a)(e,f,Object(o("N1l4").a)(o("+PNV").f.AUTO_DETECT,c))}))}(o("CHQz").a.create(),t),i=Object(o("9hcL").c)(/(^|[^!])\[(.*?)\]\((\S+)\)$/,((e,n,r,i)=>{const{schema:s}=e,[,a,c,l]=n,d=Object(o("CHQz").g)(l).trim(),u=s.mark("link",{href:d}),p=e.tr.replaceWith(r+a.length,i,s.text((c||"").trim(),[u]));return t?p:Object(o("SVcB").a)(e,p,Object(o("N1l4").a)(o("+PNV").f.FORMATTING,d))}));return Object(o("9hcL").b)("hyperlink",[r,i])}function Ef(e=!1){const t={};return o("QNHL").l(o("QNHL").f.common,Object(o("Qi0S").i)(o("+PNV").f.SHORTCUT),t),o("QNHL").l(o("QNHL").r.common,wf(e),t),o("QNHL").l(o("QNHL").C.common,wf(e),t),
o("QNHL").l(o("QNHL").s.common,((e,t,n)=>!!o("E3sl").e.getState(e).activeLinkMark&&(Object(o("Qi0S").b)()(e,t),n&&n.focus(),!1)),t),Object(V.b)(t)}const wf=e=>function(t,n){const r=t.selection.$from.nodeBefore;if(!r||!r.isText||!r.text)return!1;const i=r.text.split(" "),s=i[i.length-1],a=Object(o("Z7Qe").a)(s);if(a){const i=a.raw,s=t.selection.$from.pos-i.length,c=t.selection.$from.pos;if(t.doc.rangeHasMark(s,c,t.schema.marks.link))return!1;const l=a.url,d=t.schema.mark("link",{href:l}),u=Object(o("CHQz").b)(r.text,s-(r.text.length-i.length));if(Object(o("CHQz").e)(s,u))return!1;const p=t.tr.addMark(s,c,d);n&&n(e?p:Object(o("SVcB").a)(t,p,Object(o("N1l4").a)(o("+PNV").f.AUTO_DETECT,l)))}return!1};const Sf=new d.PluginKey("fakeCursorToolbarPlugin"),kf=e=>{const t=document.createElement("div");return t.className="ProseMirror-fake-text-cursor",ae.a.widget(e,t,{key:"hyperlink-text-cursor"})},xf=(e,t)=>ae.a.inline(e,t,{class:"ProseMirror-fake-text-selection"}),Cf=e=>{
const t=o("E3sl").e.getState(e);if(t&&t.activeLinkMark&&t.activeLinkMark.type===o("E3sl").a.INSERT_LINK_TOOLBAR)return t.activeLinkMark};var Tf=new(o("KkS8").a)({key:Sf,state:{init:()=>ae.b.empty,apply(e,t,n,o){const r=Cf(n),i=Cf(o);if(r&&i){const{from:n,to:o}=i,s=e.mapping.map(r.from),a=e.mapping.map(r.to);if(s===n&&a===o)return t.map(e.mapping,e.doc)}if(i){const{from:t,to:n}=i;return ae.b.create(e.doc,[t===n?kf(t):xf(t,n)])}return ae.b.empty}},props:{decorations:e=>Sf.getState(e)}});class jf extends a.Component{constructor(...e){super(...e),s()(this,"state",{supportedUrlsMap:new Map}),s()(this,"getProvider",(async()=>this.cardProvider?this.cardProvider:new Promise((e=>{const{providerFactory:t}=this.props;t.subscribe("cardProvider",(async(t,n)=>{n&&(this.cardProvider=await n,e(this.cardProvider))}))})))),s()(this,"resolveUrl",(async e=>{const{supportedUrlsMap:t}=this.state;if(t.has(e))return;let n=!1;try{const t=await this.getProvider();n=await t.findPattern(e)}catch(o){n=!1}
t.set(e,n),this.setState({supportedUrlsMap:t})})),s()(this,"componentDidMount",(()=>this.resolveUrl(this.props.url)))}UNSAFE_componentWillReceiveProps(e){e.url!==this.props.url&&this.resolveUrl(e.url)}render(){const{url:e,intl:t,editorView:n,editorState:o,cardOptions:r,platform:i}=this.props,{supportedUrlsMap:s}=this.state;return s.get(e)?c.a.createElement(hs,{key:"link-appearance",url:e,intl:t,editorView:n,editorState:o,allowEmbeds:null==r?void 0:r.allowEmbeds,allowBlockCards:null==r?void 0:r.allowBlockCards,platform:i}):null}}function Af(e){return void 0!==e.pos}jf.displayName="HyperlinkToolbarAppearance";const Nf=(e,t,n)=>{e&&e(Object(o("SVcB").a)(t,t.tr,n(o("+PNV").c.HYPERLINK)))},If=()=>(e,t)=>(Nf(t,e,o("WzQf").c),!0),Pf=()=>(e,t)=>(Nf(t,e,o("WzQf").b),!0);const Mf=(e,t,n)=>{const{floatingToolbarLinkSettingsButton:r}=n;return"true"===r?[{type:"separator"},{id:"editor.link.settings",type:"button",icon:o.n(o("QzQ+")).a,title:t.formatMessage(o("yYBl").b.settingsLink),onClick:Pf(),
href:"https://id.atlassian.com/manage-profile/link-preferences",target:"_blank"}]:[]},Rf=(e,t)=>(n,r,i)=>{const{formatMessage:s}=r,a=o("E3sl").e.getState(n),{lpLinkPicker:l,lpLinkPickerFocusTrap:d,preventPopupOverflow:u}=t,p=l&&d;if(a&&a.activeLinkMark){const{activeLinkMark:d}=a,h={title:"Hyperlink floating controls",nodeType:[n.schema.nodes.text,n.schema.nodes.paragraph,n.schema.nodes.heading,n.schema.nodes.taskItem,n.schema.nodes.decisionItem,n.schema.nodes.caption].filter((e=>!!e)),align:"left",className:d.type.match("INSERT|EDIT_INSERTED")?"hyperlink-floating-toolbar":""};switch(d.type){case"EDIT":{const{pos:a,node:l}=d,u=l.marks.filter((e=>e.type===n.schema.marks.link)),p=u[0]&&u[0].attrs.href,f=Object(o("Z7Qe").c)(p),m=s(f?o("kALn").a.openLink:o("yYBl").b.unableToOpenLink),b=s(o("yYBl").b.unlink),g=s(o("yYBl").b.editLink);let v={url:p,title:""};return d.node.text&&(v.title=d.node.text),{...h,height:32,width:250,items:[{type:"custom",fallback:[],render:t=>c.a.createElement(jf,{
key:"link-appearance",url:p,intl:r,editorView:t,editorState:n,cardOptions:null==e?void 0:e.cardOptions,providerFactory:i,platform:null==e?void 0:e.platform})},{id:"editor.link.edit",type:"button",onClick:Object(o("Qi0S").a)(),selected:!1,title:g,showTitle:!0,metadata:v},{type:"separator"},{id:"editor.link.openLink",type:"button",disabled:!f,target:"_blank",href:f?p:void 0,onClick:If(),selected:!1,title:m,icon:o.n(o("WhJf")).a,className:"hyperlink-open-link",metadata:v,tabIndex:null},{type:"separator"},{id:"editor.link.unlink",type:"button",onClick:Object(o("LofH").b)(Object(o("Qi0S").h)(a),{inputMethod:o("+PNV").f.FLOATING_TB}),selected:!1,title:b,icon:o.n(o("VAOK")).a,tabIndex:null},{type:"copy-button",items:[{type:"separator"},{state:n,formatMessage:s,markType:n.schema.marks.link}]},...Mf(0,r,t)],scrollable:!0}}case"EDIT_INSERTED":case"INSERT":{let r;if(Af(d)&&d.node){const e=d.node.marks.filter((e=>e.type===n.schema.marks.link));r=e[0]&&e[0].attrs.href}const s=Af(d)?function(e,t){
if(!e.node)return;const n=Object(o("CHQz").g)(e.node.text),r=e.node.marks.find((e=>e.type===t.schema.marks.link));return n!==(r&&r.attrs.href)?e.node.text:void 0}(d,n):a.activeText,f=l?570:360;return{...h,preventPopupOverflow:u,height:f,width:420,focusTrap:p,items:[{type:"custom",fallback:[],disableArrowNavigation:!0,render:(n,a)=>n?c.a.createElement(Qi,{view:n,key:a,linkPickerOptions:null==e?void 0:e.linkPicker,featureFlags:t,displayUrl:r,displayText:s||"",providerFactory:i,onCancel:()=>n.focus(),onSubmit:(t,r="",i,s,a)=>{var c;const l=Af(d),u=l?o("+PNV").a.UPDATED:o("+PNV").a.INSERTED;(l?Object(o("LofH").b)(Object(o("Qi0S").j)(t,i||r,d.pos),{action:u,sourceEvent:a}):Object(o("Qi0S").d)(s,d.from,d.to,t,r,i,!(null==e||null===(c=e.cardOptions)||void 0===c||!c.provider),a))(n.state,n.dispatch,n),n.focus()}}):null}]}}}}};var _f=(e={},t)=>{var n,r;const i=(null==t||null===(n=t.dependencies)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r.sharedState.currentState())||{};return{
name:"hyperlink",marks:()=>[{name:"link",mark:o("MJQM").a}],pmPlugins(){var t;const n=!(null==e||null===(t=e.cardOptions)||void 0===t||!t.provider);return[{name:"hyperlink",plugin:({dispatch:t})=>Object(o("E3sl").d)(t,null==e?void 0:e.editorAppearance)},{name:"fakeCursorToolbarPlugin",plugin:()=>Tf},{name:"hyperlinkInputRule",plugin:({schema:e,featureFlags:t})=>Of(e,n)},{name:"hyperlinkKeymap",plugin:()=>Ef(n)}]},pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"hyperlink",title:e(o("ViDr").a.link),description:e(o("ViDr").a.linkDescription),keywords:["hyperlink","url"],priority:1200,keyshortcut:Object(o("QNHL").ub)(o("QNHL").f),icon:()=>c.a.createElement(o("Jzj3").l,null),action(e,t){const n=e(void 0);return n.setMeta(o("E3sl").e,{type:o("E3sl").b.SHOW_INSERT_TOOLBAR,inputMethod:o("+PNV").f.QUICK_INSERT}),Object(o("SVcB").a)(t,n,{action:o("+PNV").a.INVOKED,actionSubject:o("+PNV").b.TYPEAHEAD,actionSubjectId:o("+PNV").c.TYPEAHEAD_LINK,attributes:{
inputMethod:o("+PNV").f.QUICK_INSERT},eventType:o("+PNV").e.UI})}}],floatingToolbar:Rf(e,i)}}};const Lf=new d.PluginKey("clearFormattingPlugin");var Df,Ff=function(){const e={};return o("QNHL").l(o("QNHL").m.common,Object(o("FT/o").c)(o("+PNV").f.SHORTCUT),e),Object(V.b)(e)},Bf=new(o("KkS8").a)({props:{handleClick(e,t,n){if(navigator&&/Edge\/\d/.test(navigator.userAgent))return!1;if(t>e.state.doc.content.size)return!1;const{code:o}=e.state.schema.marks,{paragraph:r}=e.state.schema.nodes,i=e.state.doc.resolve(t),s=(i.nodeBefore?i.nodeBefore.isInline:i.nodeAfter)&&(i.nodeAfter?i.nodeAfter.isInline:i.nodeBefore)&&0===i.textOffset,a=o&&(i.nodeBefore&&o.isInSet(i.nodeBefore.marks)||i.nodeAfter&&o.isInSet(i.nodeAfter.marks)),c=n.target&&n.target instanceof Node&&e.posAtDOM(n.target),l=e.state.doc.nodeAt(t),u=!(!l||!l.isText),p=i.parent.type===r&&0===i.textOffset&&null===i.nodeAfter;if(s&&a&&c&&(u||p)){
const t=n.target.parentNode===e.domAtPos(c).node&&o.isInSet(e.state.doc.resolve(c).nodeAfter.marks),r=i.nodeBefore&&o.isInSet(i.nodeBefore.marks)?i.nodeAfter:i.nodeBefore,s=e.state.tr.setSelection(d.TextSelection.near(i));return t?s.setStoredMarks([o.create()]):s.setStoredMarks(r?r.marks:[]),e.dispatch(s),!0}return!1}}});!function(e){e.STRONG="__",e.STRIKE="~~",e.STRONG_MARKDOWN="**",e.ITALIC_MARKDOWN="*",e.ITALIC="_",e.CODE="`"}(Df||(Df={}));const Vf={[Df.STRIKE]:[Df.ITALIC,Df.STRONG,Df.STRONG_MARKDOWN,Df.ITALIC_MARKDOWN],[Df.STRONG]:[Df.STRIKE,Df.ITALIC_MARKDOWN],[Df.STRONG_MARKDOWN]:[Df.ITALIC,Df.STRIKE],[Df.ITALIC_MARKDOWN]:[Df.STRIKE,Df.STRONG],[Df.ITALIC]:[Df.STRIKE,Df.STRONG_MARKDOWN],[Df.CODE]:["( "]};function zf(e,t,n){return(t,r,i,s)=>{var a,c;const{doc:l,schema:d,tr:u}=t,p=t.doc.textBetween(i,i+n.length);if(p!==n||null!=d&&null!==(a=d.marks)&&void 0!==a&&null!==(c=a.code)&&void 0!==c&&c.isInSet(l.resolve(i+1).marks()))return null;let h
;if(l.nodesBetween(i,s,(e=>e.type===d.nodes.hardBreak?(h=!0,null):!h)),h)return null;const f=l.resolve(i),m=l.resolve(s);if(f.sameParent(m)&&!f.parent.type.allowsMarkType(e))return null;"code"===e.name&&Object(o("yg4z").a)(u.mapping.map(i),u.mapping.map(s),u);const b=u.mapping.map(i),g=u.mapping.map(s);u.addMark(b,g,e.create());return u.doc.textBetween(g-n.length,g)===n&&u.delete(g-n.length,g),p===n&&u.delete(b,b+n.length),u.removeStoredMark(e)}}class Hf extends RegExp{exec(e){if(!e)return null;const t=[...e].reverse().join(""),n=super.exec(t);if(!n)return null;for(let o=0;o<n.length;o++)n[o]&&"string"==typeof n[o]&&(n[o]=[...n[o]].reverse().join(""));return n.input&&"string"==typeof n.input&&(n.input=[...n.input].reverse().join("")),n.input&&n[0]&&(n.index=n.input.length-n[0].length),n}}const Uf=e=>{
const t=e.replace(/(\W)/g,"\\$1"),n=Vf[e].map((e=>e.replace(/(\W)/g,"\\$1"))).join("|"),r="^X(?=[^X\\s]).*?[^\\sX]X(?=[\\sOBJECT_REPLACEMENT_CHARACTER]COMBINATIONS|$)".replace("OBJECT_REPLACEMENT_CHARACTER",o("N3sK").b).replace("COMBINATIONS",n?`|${n}`:""),i=String.prototype.hasOwnProperty("replaceAll")?r.replaceAll("X",t):r.replace(/X/g,t);return new Hf(i)},Wf=Uf(Df.STRONG),Kf=Uf(Df.STRONG_MARKDOWN),$f=Uf(Df.ITALIC),qf=Uf(Df.ITALIC_MARKDOWN),Gf=Uf(Df.STRIKE),Yf=Uf(Df.CODE);var Qf=function(e,t){const n=[];if(e.marks.strong&&n.push(...function(e){const t=Object(o("9hcL").e)((()=>({action:o("+PNV").a.FORMATTED,actionSubject:o("+PNV").b.TEXT,actionSubjectId:o("+PNV").c.FORMAT_STRONG,eventType:o("+PNV").e.TRACK,attributes:{inputMethod:o("+PNV").f.FORMATTING}}))),n=Object(o("9hcL").c)(Wf,zf(e.marks.strong,0,Df.STRONG)),r=Object(o("9hcL").c)(Kf,zf(e.marks.strong,0,Df.STRONG_MARKDOWN));return[t(n),t(r)]}(e)),e.marks.em&&n.push(...function(e){const t=Object(o("9hcL").e)((()=>({
action:o("+PNV").a.FORMATTED,actionSubject:o("+PNV").b.TEXT,actionSubjectId:o("+PNV").c.FORMAT_ITALIC,eventType:o("+PNV").e.TRACK,attributes:{inputMethod:o("+PNV").f.FORMATTING}}))),n=Object(o("9hcL").c)($f,zf(e.marks.em,0,Df.ITALIC)),r=Object(o("9hcL").c)(qf,zf(e.marks.em,0,Df.ITALIC_MARKDOWN));return[t(n),t(r)]}(e)),e.marks.strike&&n.push(...function(e){return[Object(o("9hcL").e)((()=>({action:o("+PNV").a.FORMATTED,actionSubject:o("+PNV").b.TEXT,actionSubjectId:o("+PNV").c.FORMAT_STRIKE,eventType:o("+PNV").e.TRACK,attributes:{inputMethod:o("+PNV").f.FORMATTING}})))(Object(o("9hcL").c)(Gf,zf(e.marks.strike,0,Df.STRIKE)))]}(e)),e.marks.code&&n.push(...function(e){return[Object(o("9hcL").e)((()=>({action:o("+PNV").a.FORMATTED,actionSubject:o("+PNV").b.TEXT,actionSubjectId:o("+PNV").c.FORMAT_CODE,eventType:o("+PNV").e.TRACK,attributes:{inputMethod:o("+PNV").f.FORMATTING}})))(Object(o("9hcL").c)(Yf,zf(e.marks.code,0,Df.CODE)))]}(e)),
0!==n.length)return Object(o("9hcL").b)("text-formatting",n)};function Xf(e,t){return Object(o("9hcL").c)(t,function(e){return(t,n,o,r)=>{const[,i,,s]=n,a=e+(s||"");let{tr:c,selection:{$to:l}}=t;const u=o+(i||"").length,p=Math.min(Math.max(u,0),r);return c.replaceWith(p,r,t.schema.text(a,l.marks())),c.setSelection(d.Selection.near(c.doc.resolve(c.selection.to))),c}}(e))}function Zf(e,t){return Object.keys(e).map((n=>{const o=Xf(n,e[n]);return t?t(n)(o):o}))}function Jf(){return Zf({Atlassian:/(\s+|^)(atlassian)(\s)$/,Jira:/(\s+|^)(jira|JIRA)(\s)$/,Bitbucket:/(\s+|^)(bitbucket|BitBucket)(\s)$/,Hipchat:/(\s+|^)(hipchat|HipChat)(\s)$/,Trello:/(\s+|^)(trello)(\s)$/},(e=>Object(o("9hcL").e)(((t,n)=>({action:o("+PNV").a.SUBSTITUTED,actionSubject:o("+PNV").b.TEXT,actionSubjectId:o("+PNV").c.PRODUCT_NAME,eventType:o("+PNV").e.TRACK,attributes:{product:e,originalSpelling:n[2]}})))))}function em(){const e={"\u2192":o("0jCx").b.ARROW_RIGHT,"\u2190":o("0jCx").b.ARROW_LEFT,
"\u2194\ufe0e":o("0jCx").b.ARROW_DOUBLE};return Zf({"\u2192":/(\s+|^)(--?>)(\s)$/,"\u2190":/(\s+|^)(<--?)(\s)$/,"\u2194\ufe0e":/(\s+|^)(<->?)(\s)$/},(t=>Object(o("9hcL").e)((()=>({action:o("+PNV").a.SUBSTITUTED,actionSubject:o("+PNV").b.TEXT,actionSubjectId:o("+PNV").c.SYMBOL,eventType:o("+PNV").e.TRACK,attributes:{symbol:e[t]}})))))}function tm(){const e={"\u2013":o("0jCx").a.DASH,"\u2026":o("0jCx").a.ELLIPSIS,"\u201c":o("0jCx").a.QUOTE_DOUBLE,"\u201d":o("0jCx").a.QUOTE_DOUBLE,[o("0jCx").a.QUOTE_SINGLE]:o("0jCx").a.QUOTE_SINGLE},t=t=>Object(o("9hcL").e)((()=>({action:o("+PNV").a.SUBSTITUTED,actionSubject:o("+PNV").b.TEXT,actionSubjectId:o("+PNV").c.PUNC,eventType:o("+PNV").e.TRACK,attributes:{punctuation:e[t]}})));return[...Zf({"\u2013":/(\s+|^)(--)(\s)$/,"\u2026":/()(\.\.\.)$/},t),...Zf({"\u201c":/((?:^|[\s\{\[\(\<'"\u2018\u201C]))(")$/,"\u201d":/"$/},t),...function(){return[Object(o("9hcL").c)(/(\s|^)'(\S+.*\S+)'$/,((e,t,n,o)=>{const[,r,i]=t,s=r+"\u2018",a=n+s.length+i.length
;return e.tr.insertText("\u2019",a,o).insertText(s,n,n+s.length)})),Xf("\u2019",/(\w+)(')(\w+)$/)]}().map((e=>t(o("0jCx").a.QUOTE_SINGLE)(e)))]}let nm;!function(e){e.strong="strong",e.em="em",e.underline="underline",e.strike="strike",e.code="code",e.subscript="subscript",e.superscript="superscript"}(nm||(nm={}));const om=e=>e({inputMethod:o("+PNV").f.TOOLBAR}),rm={strong:{buttonId:o("vREE").a.TEXT_FORMATTING_STRONG,command:om(o("Nvcy").k),message:o("UmKr").a.bold,tooltipKeymap:o("QNHL").eb,component:()=>Object(o("AeFk").jsx)(o.n(o("hCh4")).a,{label:""})},em:{buttonId:o("vREE").a.TEXT_FORMATTING_ITALIC,command:om(o("Nvcy").g),message:o("UmKr").a.italic,tooltipKeymap:o("QNHL").nb,component:()=>Object(o("AeFk").jsx)(o.n(o("aEpL")).a,{label:""})},underline:{command:om(o("Nvcy").q),message:o("UmKr").a.underline,tooltipKeymap:o("QNHL").tb},strike:{command:om(o("Nvcy").i),message:o("UmKr").a.strike,tooltipKeymap:o("QNHL").pb},code:{command:om(o("Nvcy").e),message:o("UmKr").a.code,
tooltipKeymap:o("QNHL").gb},subscript:{command:om(o("Nvcy").m),message:o("UmKr").a.subscript,tooltipKeymap:o("QNHL").qb},superscript:{command:om(o("Nvcy").o),message:o("UmKr").a.superscript,tooltipKeymap:o("QNHL").rb}},im={[nm.strong]:"strong",[nm.em]:"em",[nm.strike]:"strike",[nm.code]:"code",[nm.underline]:"underline",[nm.superscript]:"subsup",[nm.subscript]:"subsup"},sm=e=>{const t=(e=>({schema:t,textFormattingPluginState:n})=>{const o=Boolean(n),r=im[e],i=Boolean(t.marks[r]);if(!o)return{isActive:!1,isDisabled:!0,isHidden:!1,hasSchemaMark:i};const s=n[`${e}Active`],a=n[`${e}Disabled`],c=n[`${e}Hidden`];return{isActive:Boolean(s),isDisabled:Boolean(a),isHidden:Boolean(c),hasSchemaMark:i}})(e);return({schema:n,textFormattingPluginState:r,intl:i,isToolbarDisabled:s})=>{const c=t({schema:n,textFormattingPluginState:r}),{isActive:l,isDisabled:d,isHidden:u,hasSchemaMark:p}=c,h=Object(a.useMemo)((()=>(({iconType:e,isDisabled:t,isActive:n,intl:r})=>{
const i=rm[e],s=r.formatMessage(i.message),{tooltipKeymap:a}=i;return{content:s,buttonId:i.buttonId,iconMark:e,key:e,command:i.command,iconElement:i.component?i.component():void 0,tooltipElement:a?Object(o("AeFk").jsx)(o("QNHL").a,{description:s,keymap:a}):void 0,elemAfter:a?Object(o("AeFk").jsx)("div",{css:o("ZQ9N").a},Object(o("QNHL").ub)(a)):void 0,value:{name:e},isActive:n,isDisabled:t,"aria-label":a?Object(o("QNHL").ub)(a,String(s)):String(s),"aria-keyshortcuts":Object(o("QNHL").z)(a)}})({iconType:nm[e],isDisabled:s||d,isActive:l,intl:i})),[s,d,l,i]),f=p&&!u;return Object(a.useMemo)((()=>f?h:null),[f,h])}},am=sm(nm.strong),cm=sm(nm.em),lm=sm(nm.underline),dm=sm(nm.strike),um=sm(nm.code),pm=sm(nm.subscript),hm=sm(nm.superscript),fm=e=>Object(a.useMemo)((()=>o("6VYC").a.getState(e)),[e]),mm=Object(o("FT/o").c)(o("+PNV").f.TOOLBAR),bm=({intl:e,editorState:t})=>{
const n=(e=>Object(a.useMemo)((()=>Lf.getState(e)),[e]))(t),r=Boolean(n),i=Boolean(null==n?void 0:n.formattingIsPresent),s=e.formatMessage(o("UmKr").a.clearFormatting);return Object(a.useMemo)((()=>r?{key:"clearFormatting",command:mm,content:s,elemAfter:Object(o("AeFk").jsx)("div",{css:o("ZQ9N").a},Object(o("QNHL").ub)(o("QNHL").m)),value:{name:"clearFormatting"},isActive:!1,isDisabled:!i,"aria-label":o("QNHL").m?Object(o("QNHL").ub)(o("QNHL").m,String(s)):String(s)}:null),[s,r,i])},gm=[nm.strong,nm.em],vm=[nm.underline,nm.strike,nm.code,nm.subscript,nm.superscript],ym={[o("qABM").a.XXL]:gm,[o("qABM").a.XL]:gm,[o("qABM").a.L]:gm,[o("qABM").a.M]:[],[o("qABM").a.S]:[],[o("qABM").a.XXXS]:[]},Om={[o("qABM").a.XXL]:vm,[o("qABM").a.XL]:vm,[o("qABM").a.L]:vm,[o("qABM").a.M]:[nm.strong,nm.em,...vm],[o("qABM").a.S]:[nm.strong,nm.em,...vm],[o("qABM").a.XXXS]:[nm.strong,nm.em,...vm]},Em=({icons:e,toolbarSize:t,responsivenessEnabled:n})=>{const o=(({toolbarSize:e,responsivenessEnabled:t})=>{
const n=Object(a.useMemo)((()=>ym[e]),[e]);return t?n:gm})({toolbarSize:t,responsivenessEnabled:n});return Object(a.useMemo)((()=>e.reduce(((e,t)=>{if(!t||!t.iconMark)return e;return o.includes(t.iconMark)?{dropdownItems:e.dropdownItems,singleItems:[...e.singleItems,t]}:{dropdownItems:[...e.dropdownItems,t],singleItems:e.singleItems}}),{dropdownItems:[],singleItems:[]})),[e,o])},wm=c.a.memo((({items:e,isReducedSpacing:t,editorView:n})=>{const r=Object(a.useCallback)((e=>()=>(e(n.state,n.dispatch),!1)),[n.state,n.dispatch]);return Object(o("AeFk").jsx)("span",{css:o("mw/U").c},e.map((e=>{var n;return Object(o("AeFk").jsx)(o("aEOQ").a,{key:e.key,testId:`editor-toolbar__${String(e.content)}`,buttonId:e.buttonId,spacing:t?"none":"default",onClick:r(e.command),selected:e.isActive,disabled:e.isDisabled,title:e.tooltipElement,iconBefore:e.iconElement,"aria-pressed":e.isActive,"aria-label":null!==(n=e["aria-label"])&&void 0!==n?n:String(e.content),"aria-keyshortcuts":e["aria-keyshortcuts"]})
})))})),Sm=c.a.memo((({label:e,"aria-expanded":t,isReducedSpacing:n,isSelected:r,isDisabled:i,onClick:s,onKeyDown:a})=>Object(o("AeFk").jsx)(o("aEOQ").a,{disabled:i,selected:r,onClick:s,onKeyDown:a,spacing:n?"none":"default",title:e,iconBefore:Object(o("AeFk").jsx)("div",{css:o("mw/U").h},Object(o("AeFk").jsx)(o.n(o("MSKp")).a,{label:""})),"aria-expanded":t,"aria-label":e,"aria-haspopup":!0}))),km=c.a.memo((({editorView:e,moreButtonLabel:t,isReducedSpacing:n,items:r,hasFormattingActive:i,popupsBoundariesElement:s,popupsMountPoint:l,popupsScrollableElement:d})=>{const[u,p,h]=(()=>{const[e,t]=Object(a.useState)(!1),n=Object(a.useCallback)((()=>{t(!e)}),[e]),o=Object(a.useCallback)((()=>{t(!1)}),[]);return[e,n,o]})(),[f,m]=Object(a.useState)(!1),b=Object(a.useMemo)((()=>[{items:r}]),[r]),g=Object(a.useCallback)((({item:t,shouldCloseMenu:n=!0})=>{t.command(e.state,e.dispatch),n&&h()}),[e.state,e.dispatch,h]);return c.a.createElement(Ta,{mountTo:l,onOpenChange:h,boundariesElement:s,
scrollableElement:d,onItemActivated:g,isOpen:u,items:b,zIndex:o("anI9").y,fitHeight:188,fitWidth:136,shouldUseDefaultRole:!0,shouldFocusFirstItem:()=>(f&&m(!1),f)},c.a.createElement(Sm,{isSelected:u||i,label:t,isReducedSpacing:n,isDisabled:!1,onClick:()=>{p(),m(!1)},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),p(),m(!0))},"aria-expanded":u}))})),xm=({shouldUseResponsiveToolbar:e,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:r,editorView:i,toolbarSize:s,isReducedSpacing:c,isToolbarDisabled:l,intl:d})=>{var u;const p=Object(a.useMemo)((()=>i.state),[i.state]),[h,f]=Object(a.useState)(""),m=(({isToolbarDisabled:e,editorState:t,intl:n})=>{const o=fm(t),{schema:r}=t,i={schema:r,textFormattingPluginState:o,intl:n,isToolbarDisabled:Boolean(e)},s=am(i),c=cm(i),l=lm(i),d=dm(i),u=um(i),p=pm(i),h=hm(i);return Object(a.useMemo)((()=>[s,c,l,d,u,p,h]),[s,c,l,d,u,p,h])})({editorState:p,intl:d,isToolbarDisabled:l}),b=bm({editorState:p,intl:d
}),g=(({toolbarSize:e,responsivenessEnabled:t})=>{const n=Object(a.useMemo)((()=>Om[e]),[e]);return t?n:vm})({toolbarSize:s,responsivenessEnabled:e}),v=(({editorState:e,iconTypeList:t})=>{const n=fm(e);return Object(a.useMemo)((()=>!!n&&t.some((e=>n[`${e}Active`]))),[n,t])})({editorState:i.state,iconTypeList:g}),{dropdownItems:y,singleItems:O}=Em({icons:m,toolbarSize:s,responsivenessEnabled:e}),E=d.formatMessage(o("UmKr").a.textFormattingOff),w=d.formatMessage(o("UmKr").a.superscriptOffSubscriptOn),S=d.formatMessage(o("UmKr").a.subscriptOffSuperscriptOn),k=[...y,...O].filter((e=>e.isActive)),x=null!==(u=Object(o("8OMt").a)(k))&&void 0!==u?u:[],C=Object(o("lf5m").e)(k,"Subscript")&&Object(o("lf5m").e)(x,"Superscript"),T=Object(o("lf5m").e)(k,"Superscript")&&Object(o("lf5m").e)(x,"Subscript");let j,A="";var N;x&&k.length>x.length?(j=Object(o("lf5m").c)(k,x),A=d.formatMessage(o("UmKr").a.on,{formattingType:j[0].content})):(j=Object(o("lf5m").c)(x,k),
j&&j.length&&(A=d.formatMessage(o("UmKr").a.off,{formattingType:j[0].content}),"Code"===(null===(N=k[0])||void 0===N?void 0:N.content)&&(A=d.formatMessage(o("UmKr").a.codeOn,{textFormattingOff:(null==x?void 0:x.length)>1?E:A})),C&&(A=w),T&&(A=S)));(null==k||!k.length)&&(null==x?void 0:x.length)>1&&(A=E);const I=Object(a.useMemo)((()=>b?[...y,b]:y),[b,y]),P=d.formatMessage(o("UmKr").a.moreFormatting);return Object(a.useEffect)((()=>{A&&f(A)}),[A]),Object(o("AeFk").jsx)("span",{css:o("mw/U").c},h&&Object(o("AeFk").jsx)(o("90ml").a,{ariaLive:"assertive",text:h,ariaRelevant:"additions",delay:250}),Object(o("AeFk").jsx)(wm,{items:O,editorView:i,isReducedSpacing:c}),Object(o("AeFk").jsx)("span",{css:o("mw/U").j},l?Object(o("AeFk").jsx)("div",null,Object(o("AeFk").jsx)(Sm,{label:P,isReducedSpacing:c,isDisabled:!0,isSelected:!1,"aria-expanded":void 0,"aria-pressed":void 0})):Object(o("AeFk").jsx)(km,{popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:r,editorView:i,
isReducedSpacing:c,moreButtonLabel:P,hasFormattingActive:v,items:I}),Object(o("AeFk").jsx)("span",{css:o("mw/U").g})))};class Cm extends c.a.PureComponent{render(){const{popupsMountPoint:e,popupsScrollableElement:t,toolbarSize:n,isReducedSpacing:r,editorView:i,isToolbarDisabled:s,shouldUseResponsiveToolbar:a,intl:c}=this.props;return Object(o("AeFk").jsx)(xm,{popupsMountPoint:e,popupsScrollableElement:t,toolbarSize:n,isReducedSpacing:r,editorView:i,isToolbarDisabled:s,shouldUseResponsiveToolbar:a,intl:c})}}Cm.displayName="Toolbar";var Tm=Object(o("o5hF").c)(Cm);var jm=(e={})=>({name:"textFormatting",marks:()=>[{name:"em",mark:o("XcIC").a},{name:"strong",mark:o("6ioc").a},{name:"strike",mark:o("0X/2").a}].concat(e.disableCode?[]:{name:"code",mark:o("ldIr").a}).concat(e.disableSuperscriptAndSubscript?[]:{name:"subsup",mark:o("j1q6").a}).concat(e.disableUnderline?[]:{name:"underline",mark:o("7mUr").a}),pmPlugins:()=>[{name:"textFormatting",plugin:({dispatch:e})=>Object(o("1v/Q").a)(e)},{
name:"textFormattingCursor",plugin:()=>Bf},{name:"textFormattingInputRule",plugin:({schema:e,featureFlags:t})=>Qf(e,t)},{name:"textFormattingSmartRule",plugin:({featureFlags:t})=>e.disableSmartTextCompletion?void 0:(e=>Object(o("9hcL").b)("text-formatting:smart-input",[...Jf(),...em(),...tm()]))()},{name:"textFormattingClear",plugin:({dispatch:e})=>(e=>new(o("KkS8").a)({state:{init:(e,t)=>({formattingIsPresent:Object(o("lf5m").b)(t)}),apply(t,n,r,i){const s=Object(o("lf5m").b)(i);return s!==n.formattingIsPresent?(e(Lf,{formattingIsPresent:s}),{formattingIsPresent:s}):n}},key:Lf}))(e)},{name:"textFormattingClearKeymap",plugin:()=>Ff()},{name:"textFormattingKeymap",plugin:({schema:e})=>function(e){const t={};return e.marks.strong&&o("QNHL").l(o("QNHL").eb.common,o("Nvcy").k({inputMethod:o("+PNV").f.SHORTCUT}),t),e.marks.em&&o("QNHL").l(o("QNHL").nb.common,o("Nvcy").g({inputMethod:o("+PNV").f.SHORTCUT}),t),e.marks.code&&o("QNHL").l(o("QNHL").gb.common,o("Nvcy").e({
inputMethod:o("+PNV").f.SHORTCUT}),t),e.marks.strike&&o("QNHL").l(o("QNHL").pb.common,o("Nvcy").i({inputMethod:o("+PNV").f.SHORTCUT}),t),e.marks.subsup&&o("QNHL").l(o("QNHL").qb.common,o("Nvcy").m({inputMethod:o("+PNV").f.SHORTCUT}),t),e.marks.subsup&&o("QNHL").l(o("QNHL").rb.common,o("Nvcy").o({inputMethod:o("+PNV").f.SHORTCUT}),t),e.marks.underline&&o("QNHL").l(o("QNHL").tb.common,o("Nvcy").q({inputMethod:o("+PNV").f.SHORTCUT}),t),Object(o("uIwD").a)(t)}(e)}],primaryToolbarComponent:({editorView:t,popupsMountPoint:n,popupsScrollableElement:r,isToolbarReducedSpacing:i,toolbarSize:s,disabled:a})=>c.a.createElement(o("fd7e").a,{plugins:{textFormattingState:o("6VYC").a,clearFormattingPluginState:Lf},render:()=>c.a.createElement(Tm,{editorState:t.state,popupsMountPoint:n,popupsScrollableElement:r,toolbarSize:s,isReducedSpacing:i,editorView:t,isToolbarDisabled:a,shouldUseResponsiveToolbar:Boolean(e.responsiveToolbarMenu)})})})
;const Am=e=>Object(o("AeFk").jsx)(o("kbU5").a,e),Nm=new d.PluginKey("unsupportedContentPlugin"),Im=e=>{const{portalProviderAPI:t,eventDispatcher:n,dispatchAnalyticsEvent:r}=e;return new(o("KkS8").a)({key:Nm,props:{nodeViews:{confluenceUnsupportedBlock:o("gVP2").a.fromComponent(o("TZ02").a,t,n,{dispatchAnalyticsEvent:r},void 0,true),confluenceUnsupportedInline:Object(o("iwHK").a)({pmPluginFactoryParams:e,Component:Am,extraComponentProps:{dispatchAnalyticsEvent:r}}),unsupportedBlock:o("gVP2").a.fromComponent(o("TZ02").a,t,n,{dispatchAnalyticsEvent:r},void 0,true),unsupportedInline:Object(o("iwHK").a)({pmPluginFactoryParams:e,Component:Am,extraComponentProps:{dispatchAnalyticsEvent:r}})}}})};var Pm=()=>({name:"unsupportedContent",marks:()=>[{name:"unsupportedMark",mark:o("8lHm").a},{name:"unsupportedNodeAttribute",mark:o("hvSW").a}],nodes:()=>[{name:"confluenceUnsupportedBlock",node:o("hcJP").a},{name:"confluenceUnsupportedInline",node:o("DFPE").a},{name:"unsupportedBlock",
node:o("goZM").a},{name:"unsupportedInline",node:o("cxSf").a}],pmPlugins:()=>[{name:"unsupportedContent",plugin:Im}]});const Mm=e=>({payload:{action:o("+PNV").a.STOPPED,actionSubject:o("+PNV").b.EDITOR,actionSubjectId:o("+PNV").c.SAVE,attributes:{inputMethod:o("+PNV").f.SHORTCUT,documentSize:e.doc.nodeSize},eventType:o("+PNV").e.UI}});var Rm=e=>({name:"submitEditor",pmPlugins:()=>[{name:"submitEditor",plugin:({dispatch:t})=>function(e,t){if(t)return Object(V.b)({[`${o("QNHL").bb.common}`]:(n,r,i)=>{const s=o("wBzk").a.getState(n);return s&&s.waitForMediaUpload&&!s.allUploadsFinished||(e(o("+WSe").a,Mm(n)),t(i)),!0}})}(t,e)}]});const _m=new d.PluginKey("fakeTextCursorPlugin");var Lm=()=>({name:"fakeTextCursor",pmPlugins:()=>[{name:"fakeTextCursor",plugin:()=>(()=>new(o("KkS8").a)({key:_m,props:{decorations:o("AFvE").b}}))()}]});const Dm=new d.PluginKey("featureFlags");var Fm=(e={})=>({name:"featureFlags",getSharedState:t=>t?Dm.getState(t)||e||{}:e||{},pmPlugins:()=>[{
name:"featureFlags",plugin:()=>new(o("KkS8").a)({key:Dm,state:{init:()=>({...e}),apply:(e,t)=>t}})}]});var Bm=()=>({name:"clipboard",pmPlugins:()=>[{name:"clipboard",plugin:e=>Object(o("74Zc").a)(e)}]});const Vm=new d.PluginKey("placeholderPlugin");function zm(e,t){return{hasPlaceholder:!0,placeholderText:e,pos:t||1}}const Hm={hasPlaceholder:!1};function Um(e,t,n){const r=o("HxAM").b.getState(e);if(Object(o("Wd+7").i)(e))return Hm;if(t&&Object(o("x+VZ").g)(e.doc))return zm(t);if(n&&Object(o("x+VZ").a)(e)&&r){const{$from:t}=e.selection;return zm("  "+n,t.pos-1)}return Hm}function Wm(e,t){if(e||t)return new(o("KkS8").a)({key:Vm,state:{init:(n,o)=>Um(o,e,t),apply:(n,o,r,i)=>{const s=n.getMeta(Vm);if(s){if(s.removePlaceholder)return Hm;if(s.applyPlaceholderIfEmpty)return Um(i,e,t)}return Um(i,e,t)}},props:{decorations(e){const{hasPlaceholder:t,placeholderText:n,pos:r}=function(e){return Vm.getState(e)}(e);if(t&&n&&void 0!==r&&!Object(o("i6fy").b)(e))return function(e,t,n=1){
const r=document.createElement("span");let i=r;if(r.setAttribute("data-testid","placeholder-test-id"),r.className="placeholder-decoration",o("j5wO").a.gecko){const e=document.createElement("span");e.setAttribute("contenteditable","true"),r.appendChild(e),i=e}if(i.textContent=t||" ",o("j5wO").a.android&&o("j5wO").a.chrome){const e=document.createElement("span");e.setAttribute("class","placeholder-android"),e.setAttribute("contenteditable","true"),e.textContent=" ",r.appendChild(e)}return ae.b.create(e.doc,[ae.a.widget(n,r,{side:0,key:"placeholder"})])}(e,n,r)}}})}var Km=e=>({name:"placeholder",pmPlugins:()=>[{name:"placeholder",plugin:()=>Wm(e&&e.placeholder,e&&e.placeholderBracketHint)}]});const $m=(e,t)=>{if(0===e.pos||0===e.depth)return null;const n="up"===t?e.before():e.after(),o=e.doc.resolve(n),r="up"===t?o.nodeBefore:o.nodeAfter;if(r&&(e=>Boolean(e&&["expand","nestedExpand"].includes(e.type.name)&&!e.attrs.__expanded))(r)){const o=r.nodeSize,i="up"===t?n-o:n+o,s=Math.max(i,0)
;return e.doc.resolve(Math.min(s,e.doc.content.size))}return null},qm=(e,t)=>{if(!(t instanceof KeyboardEvent))return!1;if(!t.shiftKey||t.ctrlKey||t.metaKey)return!1;if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End"].includes(t.key))return!1;const{selection:{$head:n,$anchor:o}}=e.state;if("ArrowRight"===t.key&&n.nodeAfter||"ArrowLeft"===t.key&&n.nodeBefore)return!1;const r=["ArrowLeft","ArrowUp","Home"].includes(t.key)?"up":"down",i=$m(n,r);if(i){const n=d.TextSelection.create(e.state.doc,o.pos,i.pos),r=e.state.tr;return r.setSelection(n),e.dispatch(r),t.preventDefault(),!0}return!1};function Gm(e,t){const{doc:n}=e;if(e.pos+1>n.content.size)return null;if(0===e.depth)return t(e)?e:null;if(t(e))return e;const o=e.before();return Gm(n.resolve(o),t)}const Ym=e=>{const t=e.nodeAfter;if(!t||!t.isBlock)return!1;if(t.isAtom)return!0;return(0===t.content.size||""===t.textContent)&&d.NodeSelection.isSelectable(t)};function Qm({$targetHead:e,$anchor:t,doc:n}){
const o=t.pos<e.pos?"down":"up",r=Gm(e,Ym);if(r&&r.nodeAfter){const e=r.nodeAfter,t=r.pos,i="down"===o?Math.min(e.nodeSize+t,n.content.size):Math.max(t,0);return n.resolve(i)}return null}const Xm=(e,t,n)=>{if(t.pos===n.pos)return null;const o=Qm({$targetHead:n,$anchor:t,doc:e.state.doc});if(!o)return null;return d.TextSelection.create(e.state.doc,t.pos,o.pos)},Zm=e=>({decorationSet:Object(o("BuIm").i)(e.tr),selection:e.selection});var Jm=function(){const e={};return Object(o("QNHL").l)(o("QNHL").I.common,pe,e),Object(o("QNHL").l)(o("QNHL").H.common,he,e),Object(V.b)(e)};const eb={"tableView-content-wrap":"table","mediaSingleView-content-wrap":".rich-media-item"},tb=(e,t)=>{const[n,...o]=t,r=[e.getPropertyValue(n)];"content-box"===e.getPropertyValue("box-sizing")&&o.forEach((t=>{r.push(e.getPropertyValue(t))}));let i=0;for(let s=0;s<r.length;s++)i+=parseFloat(r[s]);return i},nb=(e,t)=>{
const n=e.state.selection,{$from:r,side:i}=n,s=i===o("WE2A").c.RIGHT,a=s?r.nodeBefore:r.nodeAfter,c=t(),l=e.nodeDOM(c),d=document.createElement("span");if(d.className="ProseMirror-gapcursor "+(s?"-right":"-left"),d.appendChild(document.createElement("span")),l instanceof HTMLElement&&d.firstChild){const e=(e=>{const t=Object.keys(eb).find((t=>e.classList.contains(t))),n=t&&eb[t];if(n){const t=e.querySelector(n);if(t)return window.getComputedStyle(t)}})(l)||window.getComputedStyle(l),t=d.firstChild;t.style.height=`${(e=>tb(e,["height","padding-top","padding-bottom","border-top-width","border-bottom-width"]))(e)}px`,(0!==c||a&&"table"===a.type.name)&&(t.style.marginTop=e.getPropertyValue("margin-top"));const r=a&&Object(o("183E").a)(a);r?(t.setAttribute("layout",r),t.style.width=`${(e=>tb(e,["width","padding-left","padding-right","border-left-width","border-right-width"]))(e)}px`):((e,t,n)=>{if(Object(o("183E").c)(n))e.style.marginLeft=t.getPropertyValue("margin-left");else{
const n=parseFloat(t.getPropertyValue("margin-right"));n>0?e.style.marginLeft=`-${Math.abs(n)}px`:e.style.paddingRight=`${Math.abs(n)}px`}})(t,e,n.side)}return d};var ob=new(o("KkS8").a)({key:o("AYiB").a,state:{init:()=>!1,apply:(e,t,n,r)=>r.selection instanceof o("WE2A").a},view:e=>(0===e.state.selection.anchor&&e.state.selection instanceof d.NodeSelection&&window.requestAnimationFrame((()=>{e.dispatch(e.state.tr.setSelection(new(o("WE2A").a)(e.state.doc.resolve(0),o("WE2A").c.LEFT)))})),{update(e){const t=o("AYiB").a.getState(e.state);e.dom.classList.toggle("ProseMirror-hide-gapcursor",t)}}),props:{decorations:({doc:e,selection:t})=>{if(t instanceof o("WE2A").a){const{$from:n,side:r}=t;let i=t.head;const s=r===o("WE2A").c.RIGHT;if(s&&n.nodeBefore){const e=Object(l.findPositionOfNodeBefore)(t);"number"==typeof e&&(i=e)}const a=s?n.nodeBefore:n.nodeAfter,c=a&&Object(o("183E").a)(a);return ae.b.create(e,[ae.a.widget(i,nb,{key:`${o("WE2A").b}-${r}-${c}`,side:c?-1:0})])}return null},
createSelectionBetween(e,t,n){if(!(e&&e.state&&e.state.selection instanceof o("n1Ll").a))return t.pos===n.pos&&o("WE2A").a.valid(n)?new(o("WE2A").a)(n):void 0},handleClick(e,t,n){const r=e.posAtCoords({left:n.clientX,top:n.clientY});if(r&&r.inside!==t&&!Object(o("183E").b)(n.target)){const r=20,i=n.offsetX>r?o("WE2A").c.RIGHT:o("WE2A").c.LEFT;return Object(o("wFWU").d)(t,i)(e.state,e.dispatch)}return!1},handleDOMEvents:{beforeinput:(e,t)=>"deleteContentBackward"===t.inputType&&e.state.selection instanceof o("WE2A").a&&(t.preventDefault(),Object(o("wFWU").b)(o("+ld7").a.BACKWARD)(e.state,e.dispatch))}}});var rb=e=>({name:"selection",pmPlugins:()=>[{name:"selection",plugin:({dispatch:t,dispatchAnalyticsEvent:n})=>((e,t,n={})=>new(o("KkS8").a)({key:o("BF2H").b,state:de(e,Zm),view:()=>({update:(e,n)=>{const{state:r}=e;if(!Object(o("BuIm").o)({oldEditorState:n,newEditorState:r}))return
;const i=Object(o("BuIm").j)(r.selection)||Object(o("BuIm").g)(r.selection)||!e.mouseDown&&(Object(o("BuIm").k)(r.selection,r.doc)||Object(o("BuIm").h)(r));i&&t(i)}}),appendTransaction(e,t,n){if(!Object(o("BuIm").o)({oldEditorState:t,newEditorState:n}))return;const{tr:r}=n;return r.setMeta(o("BF2H").b,{type:se.SET_DECORATIONS,selection:r.selection,decorationSet:Object(o("BuIm").i)(r)}),r},filterTransaction:(e,t)=>!(n.useLongPressSelection&&e.selectionSet&&e.selection instanceof d.NodeSelection&&!e.getMeta(o("BF2H").b)||t.selection instanceof d.NodeSelection&&e.selection instanceof d.TextSelection&&t.selection.from===e.selection.from&&t.selection.to===e.selection.to),props:{createSelectionBetween:Xm,decorations:e=>le(e).decorationSet,handleDOMEvents:{keydown:qm,mouseup:(e,n)=>{if(!n.shiftKey){const n=Object(o("BuIm").k)(e.state.selection,e.state.doc)||Object(o("BuIm").h)(e.state);n&&t(n)}return!1}}}}))(t,n,e)},{name:"selectionKeymap",plugin:Jm},{name:"gapCursorKeymap",
plugin:()=>function(){const e={};return o("QNHL").l(o("QNHL").C.common,((e,t,n)=>!!(e.selection instanceof o("WE2A").a)&&Object(ut.d)(e,t)),e),o("QNHL").l(o("QNHL").H.common,((e,t,n)=>{const r=n?n.endOfTextblock.bind(n):void 0;return Object(o("wFWU").a)(o("+ld7").a.LEFT,r)(e,t,n)}),e),o("QNHL").l(o("QNHL").I.common,((e,t,n)=>{const r=n?n.endOfTextblock.bind(n):void 0;return Object(o("wFWU").a)(o("+ld7").a.RIGHT,r)(e,t)}),e),o("QNHL").l(o("QNHL").J.common,((e,t,n)=>{const r=n?n.endOfTextblock.bind(n):void 0;return Object(o("wFWU").a)(o("+ld7").a.UP,r)(e,t)}),e),o("QNHL").l(o("QNHL").G.common,((e,t,n)=>{const r=n?n.endOfTextblock.bind(n):void 0;return Object(o("wFWU").a)(o("+ld7").a.DOWN,r)(e,t)}),e),o("QNHL").l(o("QNHL").k.common,Object(o("wFWU").b)(o("+ld7").a.BACKWARD),e),o("QNHL").l(o("QNHL").q.common,Object(o("wFWU").b)(o("+ld7").a.FORWARD),e),Object(V.b)(e)}()},{name:"gapCursor",plugin:()=>ob}]});const ib=new d.PluginKey("codeBlockCopySelectionPlugin")
;function sb({state:e,transaction:t}){const n=Object(o("yXll").a)({nodeType:e.schema.nodes.codeBlock,selection:t.selection});if(!n)return{decorationStartAndEnd:void 0};return{decorationStartAndEnd:[n.start,n.start+n.node.nodeSize]}}function ab(e,t){const n=e.tr;return n.setMeta(ib,"show-selection"),t&&t(n),!0}function cb(e,t){const n=e.tr;return n.setMeta(ib,"remove-selection"),t&&t(n),!0}const lb="SET_COPIED_TO_CLIPBOARD",db="SET_SHOULD_IGNORE_FOLLOWING_MUTATIONS",ub=(e,t)=>{const{schema:{nodes:n},tr:o}=e;if(t){let e=o;e=Object(l.findSelectedNodeOfType)(n.codeBlock)(o.selection)?Object(l.removeSelectedNode)(o):Object(l.removeParentNodeOfType)(n.codeBlock)(o),t(e)}return!0},pb=(e,t)=>{const{schema:{nodes:n},tr:r}=e,i=Object(l.findParentNodeOfType)(n.codeBlock)(r.selection),s=i&&i.node.textContent;if(s){Object(o("xNKs").b)(s);let e=r;e.setMeta(o("HhhU").a,{type:lb,data:!0}),e.setMeta(ib,"remove-selection"),t&&t(e)}return!0},hb=(e,t)=>{const{tr:n}=e,r=o("HhhU").a.getState(e);let i=n
;if(r&&r.contentCopied)i.setMeta(o("HhhU").a,{type:lb,data:!1}),i.setMeta(ib,"remove-selection"),t&&t(i);else{const n=e.tr;n.setMeta(ib,"remove-selection"),t&&t(n)}return!0},fb=(e,t)=>{const{tr:n}=e,r=n;return r.setMeta(o("HhhU").a,{type:db,data:!1}),t&&t(r),!0},mb=new RegExp("\n","g");class bb{constructor(e,t,n){s()(this,"ensureLineNumbers",Object(o("w95p").a)((()=>{let e=1;for(this.node.forEach((t=>{t.text&&(e+=(t.text.match(mb)||[]).length)}));this.lineNumberGutter.childElementCount<e;)this.lineNumberGutter.appendChild(document.createElement("span"));for(;this.lineNumberGutter.childElementCount>e;)this.lineNumberGutter.removeChild(this.lineNumberGutter.lastChild)})));const{dom:r,contentDOM:i}=ie.DOMSerializer.renderSpec(document,(e=>["div",{class:"code-block"},["div",{class:o("IIKj").a.start,contenteditable:"false"}],["div",{class:o("IIKj").a.contentWrapper},["div",{class:o("IIKj").a.gutter,contenteditable:"false"}],["div",{class:o("IIKj").a.content},["code",{
"data-language":e.attrs.language||"",spellcheck:"false",contenteditable:"true","data-testid":"code-block--code"},0]]],["div",{class:o("IIKj").a.end,contenteditable:"false"}]])(e));this.getPos=n,this.view=t,this.node=e,this.dom=r,this.contentDOM=i,this.lineNumberGutter=this.dom.querySelector(`.${o("IIKj").a.gutter}`),this.ensureLineNumbers()}updateDOMAndSelection(e,t){var n;if(null!==(n=this.dom)&&void 0!==n&&n.childNodes&&this.dom.childNodes.length>1){var o;const n=this.dom.childNodes[1],r=null==n?void 0:n.childNodes[1];if((null==r||null===(o=r.childNodes)||void 0===o?void 0:o.length)>0){const n=r.firstChild;n.innerHTML=e;const o=[...n.childNodes].find((e=>"#text"===e.nodeName)),i=window.getSelection(),s=document.createRange();s.setStart(o,t),s.collapse(!0),null==i||i.removeAllRanges(),null==i||i.addRange(s)}}}coalesceDOMElements(){var e;if(null!==(e=this.dom)&&void 0!==e&&e.childNodes&&this.dom.childNodes.length>1){const e=this.dom.childNodes[1],t=null==e?void 0:e.childNodes[1]
;if(null!=t&&t.childNodes&&t.childNodes.length>1){let e="";for(;t.childNodes.length>1;){const n=t.lastChild;e=n.innerHTML+e,t.removeChild(n)}const n=t.firstChild;e=n.innerHTML+"\n"+e;const o=n.innerHTML.length+1;setTimeout(this.updateDOMAndSelection.bind(this,e,o),20)}}}update(e){return e.type===this.node.type&&(e!==this.node&&(e.attrs.language!==this.node.attrs.language&&this.contentDOM.setAttribute("data-language",e.attrs.language||""),this.node=e,this.ensureLineNumbers(),o("j5wO").a.android&&(this.coalesceDOMElements(),fb(this.view.state,this.view.dispatch))),!0)}ignoreMutation(e){const t=(e=>o("HhhU").a.getState(e))(this.view.state);return!(null==t||!t.shouldIgnoreFollowingMutations)||(e.target===this.lineNumberGutter||e.target.parentNode===this.lineNumberGutter)}}const gb=(e,t,n)=>new bb(e,t,n),vb=({useLongPressSelection:e=!1,getIntl:t,appearance:n,allowCompositionInputOverride:r=!1})=>{const i={};return r&&(i.beforeinput=(e,t)=>{const n=t,r=n.inputType,i=n.data
;if(o("j5wO").a.ios&&t.composed&&"insertParagraph"===r&&Eh(e.state,e.state.selection))return t.preventDefault(),!0;if(o("j5wO").a.android&&t.composed&&"insertCompositionText"===r&&"\n"===i[(null==i?void 0:i.length)-1]&&Eh(e.state,e.state.selection)){return(t.target.outerText+"\n").endsWith(i)?setTimeout((()=>{e.someProp("handleKeyDown",(t=>t(e,new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:"Enter",code:"Enter"}))))}),0):((e,t)=>{const{tr:n}=e,r=n;r.setMeta(o("HhhU").a,{type:db,data:!0}),t&&t(r)})(e.state,e.dispatch),!0}return o("j5wO").a.android&&fb(e.state,e.dispatch),!1}),new(o("KkS8").a)({state:{init(e,t){const n=Eh(t,t.selection);return{pos:n?n.pos:null,contentCopied:!1,isNodeSelected:!1,shouldIgnoreFollowingMutations:!1}},apply(e,t,n,r){if(e.docChanged||e.selectionSet){const n=Eh(r,e.selection);return{...t,pos:n?n.pos:null,isNodeSelected:e.selection instanceof d.NodeSelection}}const i=e.getMeta(o("HhhU").a);return(null==i?void 0:i.type)===lb?{...t,contentCopied:i.data
}:(null==i?void 0:i.type)===db?{...t,shouldIgnoreFollowingMutations:i.data}:t}},key:o("HhhU").a,props:{nodeViews:{codeBlock:gb},handleClickOn:Object(o("BuIm").a)(["codeBlock"],(e=>!(!e.closest(`.${o("IIKj").a.gutter}`)&&!e.classList.contains(o("IIKj").a.content))),{useLongPressSelection:e}),handleDOMEvents:i}})},yb=[{name:"(None)",alias:["none"],value:"none"},...o("l3Br").a];function Ob(e){return e.alias[0]}const Eb=Object(o("D6b/").defineMessages)({selectLanguage:{id:"fabric.editor.selectLanguage",defaultMessage:"Select language",description:"Code blocks display software code. A prompt to select the software language the code is written in."}}),wb=function(e){return e.sort(((e,t)=>"none"===e.alias[0]?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:0))}(yb),Sb=(e=!1)=>(t,{formatMessage:n})=>{var r,i;const s=o("HhhU").a.getState(t),a=null!==(r=null==s?void 0:s.pos)&&void 0!==r?r:null;if(!s||null===a)return
;const c=t.doc.nodeAt(a),u=t.schema.nodes.codeBlock;if((null==c?void 0:c.type)!==u)return;const p=null==c||null===(i=c.attrs)||void 0===i?void 0:i.language,h=wb.map((e=>({label:e.name,value:Ob(e),alias:e.alias}))),f={id:"editor.codeBlock.languageOptions",type:"select",selectType:"list",onChange:e=>(e=>(t,n)=>{var r;const{codeBlock:i}=t.schema.nodes,s=null===(r=o("HhhU").a.getState(t))||void 0===r?void 0:r.pos;if("number"!=typeof s)return!1;const a=t.tr.setNodeMarkup(s,i,{language:e}).setMeta("scrollIntoView",!1),c=Object(l.isNodeSelection)(t.selection)?d.NodeSelection.create(a.doc,s):a.selection,u=a.setSelection(c);return n&&n(Object(o("SVcB").a)(t,u,{action:o("+PNV").a.LANGUAGE_SELECTED,actionSubject:o("+PNV").b.CODE_BLOCK,attributes:{language:e},eventType:o("+PNV").e.TRACK})),!0})(e.value),defaultValue:p?h.find((e=>e.value===p))||h.find((e=>e.alias.includes(p))):null,placeholder:n(Eb.selectLanguage),options:h,filterOption:kb},m={type:"separator"};return{
title:"CodeBlock floating controls",getDomRef:e=>Object(l.findDomRefAtPos)(a,e.domAtPos.bind(e)),nodeType:u,items:[f,m,...e?[{id:"editor.codeBlock.copy",type:"button",appearance:"subtle",icon:o.n(o("JyIQ")).a,onClick:pb,title:n(s.contentCopied?o("ACEg").a.copiedCodeToClipboard:o("ACEg").a.copyCodeToClipboard),onMouseEnter:ab,onMouseLeave:hb,onFocus:ab,onBlur:cb,hideTooltipOnClick:!1,disabled:s.isNodeSelected,tabIndex:null},m]:[],{id:"editor.codeBlock.delete",type:"button",appearance:"danger",icon:o.n(o("Fn6O")).a,onMouseEnter:Object(o("lgPy").d)(u,!0),onMouseLeave:Object(o("lgPy").d)(u,!1),onFocus:Object(o("lgPy").d)(u,!0),onBlur:Object(o("lgPy").d)(u,!1),onClick:ub,title:n(o("yYBl").a.remove),tabIndex:null}],scrollable:!0}},kb=(e,t)=>{const{data:n}=e,o=t.toLowerCase();return n.label.toLowerCase().includes(o)||n.alias.some((e=>e.toLowerCase()===o))},xb=e=>t=>t.delete(e.before(e.depth),e.after(e.depth));var Cb=function(e){return Object(V.b)({Backspace:(t,n)=>{
const r=Object(o("D4z0").h)(t.selection),{paragraph:i,codeBlock:s,listItem:a,table:c,layoutColumn:u}=t.schema.nodes;if(!r||r.parent.type!==s)return!1;if(1===r.pos||Object(l.hasParentNodeOfType)(a)(t.selection)&&0===r.parentOffset){const e=Object(l.findParentNodeOfTypeClosestToPos)(r,s);return!!e&&(n(t.tr.setNodeMarkup(e.pos,e.node.type,e.node.attrs,[]).setBlockType(r.pos,r.pos,i)),!0)}if(r.node&&Object(o("D4z0").j)(e)(r.node())&&(Object(l.hasParentNodeOfType)(u)(t.selection)||Object(l.hasParentNodeOfType)(c)(t.selection))){const{tr:e}=t,i=r.pos;return n(Object(o("D4z0").q)(xb(r),(e=>t=>{const n=d.Selection.findFrom(t.doc.resolve(e),-1,!0);return n&&t.setSelection(n),t})(i))(e).scrollIntoView()),!0}return!!Object(o("D4z0").j)(e)(r.node())&&(n(xb(r)(null==t?void 0:t.tr)),!0)}})};const Tb={"{":"}","[":"]","(":")"},jb=(e,t)=>{const n=Object.keys(Tb).find((t=>e.endsWith(t))),o=n?Tb[n]:void 0;return{left:n,right:o,hasTrailingMatchingBracket:!!o&&t.startsWith(o)}},Ab={"'":"'",'"':'"',"`":"`"
},Nb=(e,t)=>{const n=Object.keys(Ab).find((t=>e.endsWith(t))),o=n?Ab[n]:void 0;return{left:n,right:o,hasTrailingMatchingQuote:!!o&&t.startsWith(o)}},Ib={...Tb,...Ab},Pb=e=>e.selection.$from.sameParent(e.selection.$to)&&e.selection.$from.parent.type===e.schema.nodes.codeBlock,Mb=e=>!!Object(o("D4z0").h)(e.selection)&&Pb(e),Rb=e=>{const{$from:t}=e.selection;if(t.nodeBefore&&t.nodeBefore.isText){const e=t.nodeBefore.text.lastIndexOf("\n");return{text:t.nodeBefore.text.substring(e+1),pos:t.start()+e+1}}return{text:"",pos:t.pos}},_b=e=>{const{$to:t}=e.selection;if(t.nodeAfter&&t.nodeAfter.isText){const e=t.nodeAfter.text.indexOf("\n");return{text:t.nodeAfter.text.substring(0,e>=0?e:void 0),pos:e>=0?t.pos+e:t.end()}}return{text:"",pos:t.pos}};function Lb(e){const{pos:t}=Rb(e),{pos:n}=_b(e);return{text:e.doc.textBetween(t,n),start:t,end:n}}const Db=(e,t)=>{let n=0;e.split("\n").forEach((e=>{t(e,n),n+=e.length+1}))},Fb={token:" ",size:2,regex:/[^ ]/},Bb={token:"\t",size:1,regex:/[^\t]/
},Vb=e=>{const t=e.startsWith("\t")?Bb:Fb,n=e.search(t.regex);return{indentToken:t,indentText:e.substring(0,n>=0?n:e.length)}};function zb(e,t){return 0===t||0===e.length?0:e.length/t}function Hb(e,t){const{text:n,start:r}=Lb(e),{tr:i,selection:s}=e;return Db(n,((t,n)=>{const{indentText:a,indentToken:c}=Vb(t),l=zb(a,c.size),u=c.token.repeat(c.size-a.length%c.size||c.size);i.insertText(u,i.mapping.map(r+n,-1)),Object(o("SVcB").a)(e,i,{action:o("+PNV").a.FORMATTED,actionSubject:o("+PNV").b.TEXT,actionSubjectId:o("+PNV").c.FORMAT_INDENT,eventType:o("+PNV").e.TRACK,attributes:{inputMethod:o("+PNV").f.KEYBOARD,previousIndentationLevel:l,newIndentLevel:l+1,direction:o("+M+A").a.INDENT,indentType:o("+M+A").b.CODE_BLOCK}}),s.empty||i.setSelection(d.TextSelection.create(i.doc,i.mapping.map(s.from,-1),i.selection.to))})),t&&t(i),!0}function Ub(e,t){const{text:n,start:r}=Lb(e),{tr:i}=e;return Db(n,((t,n)=>{const{indentText:s,indentToken:a}=Vb(t);if(s){
const t=zb(s,a.size),c=s.length%a.size||a.size;i.delete(i.mapping.map(r+n),i.mapping.map(r+n+c)),Object(o("SVcB").a)(e,i,{action:o("+PNV").a.FORMATTED,actionSubject:o("+PNV").b.TEXT,actionSubjectId:o("+PNV").c.FORMAT_INDENT,eventType:o("+PNV").e.TRACK,attributes:{inputMethod:o("+PNV").f.KEYBOARD,previousIndentationLevel:t,newIndentLevel:t-1,direction:o("+M+A").a.OUTDENT,indentType:o("+M+A").b.CODE_BLOCK}})}})),t&&t(i),!0}var Wb=new(o("KkS8").a)({props:{handleTextInput(e,t,n,r){const{state:i,dispatch:s}=e;if(Mb(i)&&!Object(o("i6fy").b)(i)){const e=Rb(i).text,o=_b(i).text;if((e=>Object.keys(Ib).some((t=>e.startsWith(Ib[t]))))(o)&&(e=>Object.keys(Ib).some((t=>e===Ib[t])))(r)&&o.startsWith(r))return s(Object(l.setTextSelection)(n+r.length)(i.tr)),!0;if(((e,t)=>!!/^[}\])]/.test(t)||!/^[^\s]/.test(t))(0,o)){const{left:a,right:c}=jb(e+r,o);if(a&&c){const e=i.schema.text(r+c);let o=i.tr.replaceWith(t,n,e);return s(Object(l.setTextSelection)(t+r.length)(o)),!0}}
if(((e,t)=>!!/^[}\])]/.test(t)||!/^[^\s]/.test(t)&&!/[A-Za-z0-9]$/.test(e)&&!/[\'\"\`]$/.test(e))(e,o)){const{left:a,right:c}=Nb(e+r,o);if(a&&c){const e=i.schema.text(r+c);let o=i.tr.replaceWith(t,n,e);return s(Object(l.setTextSelection)(t+r.length)(o)),!0}}}return!1},handleKeyDown:Object(V.a)({Backspace:(e,t)=>{if(Mb(e)){const n=Object(o("D4z0").h)(e.selection),r=Rb(e).text,i=_b(e).text,{left:s,right:a,hasTrailingMatchingBracket:c}=jb(r,i);if(s&&a&&c&&t)return t(e.tr.delete(n.pos-s.length,n.pos+a.length)),!0;const{left:l,right:d,hasTrailingMatchingQuote:u}=Nb(r,i);if(l&&d&&u&&t)return t(e.tr.delete(n.pos-l.length,n.pos+d.length)),!0;const{indentToken:{size:p,token:h},indentText:f}=Vb(r);if(r===f&&f.endsWith(h.repeat(p))&&t)return t(e.tr.delete(n.pos-(p-f.length%p||p),n.pos)),!0}return!1},Enter:Object(o("+U5V").c)(Pb,(function(e,t){const{text:n}=Rb(e),{indentText:o}=Vb(n);return!(!o||!t)&&(t(e.tr.insertText("\n"+o)),!0)})),"Mod-]":Object(o("+U5V").c)(Pb,Hb),
"Mod-[":Object(o("+U5V").c)(Pb,Ub),Tab:Object(o("+U5V").c)(Pb,((e,t)=>!!t&&(Mb(e)?function(e,t){const{text:n}=Rb(e),{indentToken:o}=Vb(n),r=o.token.repeat(o.size-n.length%o.size||o.size);return t(e.tr.insertText(r)),!0}(e,t):Hb(e,t)))),"Shift-Tab":Object(o("+U5V").c)(Pb,Ub),"Mod-a":(e,t)=>{if(Pb(e)){const{$from:n,$to:o}=e.selection;if(!(0===n.parentOffset&&o.parentOffset===o.parent.nodeSize-2)&&t)return t(e.tr.setSelection(d.TextSelection.create(e.doc,n.start(),o.end()))),!0}return!1}})}});var Kb=e=>({name:"codeBlock",nodes:()=>[{name:"codeBlock",node:o("w1Jx").a}],pmPlugins:()=>[{name:"codeBlock",plugin:({getIntl:t})=>vb({...e,getIntl:t,appearance:e.appearance})},{name:"codeBlockIDEKeyBindings",plugin:()=>Wb},{name:"codeBlockKeyMap",plugin:({schema:e})=>Cb(e)},{name:"codeBlockCopySelection",plugin:()=>function(){return new(o("KkS8").a)({key:ib,state:{init:()=>({decorationStartAndEnd:void 0}),apply(e,t,n,o){switch(e.getMeta(ib)){case"show-selection":return sb({state:o,transaction:e})
;case"remove-selection":return{decorationStartAndEnd:void 0};default:return void 0!==t.decorationStartAndEnd?sb({state:o,transaction:e}):t}}},props:{decorations(e){if(ib.getState(e).decorationStartAndEnd){const[t,n]=ib.getState(e).decorationStartAndEnd;return ae.b.create(e.doc,[ae.a.inline(t,n,{class:"ProseMirror-fake-text-selection"})])}return ae.b.empty}}})}()}],onEditorViewStateUpdated(e){Object(o("zWmI").a)(e.originalTransaction,e.newEditorState)},pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"codeblock",title:e(o("RJFP").a.codeblock),description:e(o("RJFP").a.codeblockDescription),keywords:["code block"],priority:700,keyshortcut:"```",icon:()=>c.a.createElement(o("Jzj3").b,null),action(e,t){const n=e(t.schema.nodes.codeBlock.createChecked());return Object(o("SVcB").a)(t,n,{action:o("+PNV").a.INSERTED,actionSubject:o("+PNV").b.DOCUMENT,actionSubjectId:o("+PNV").c.CODE_BLOCK,attributes:{inputMethod:o("+PNV").f.QUICK_INSERT},eventType:o("+PNV").e.TRACK})}}],
floatingToolbar:Sb(e.allowCopyToClipboard)}});const $b=e=>t=>(n,r)=>{let i=n.tr;return t(n,(e=>{i=e})),!(!i||!i.docChanged)&&(i.setMeta(o("TypY").a,e),r&&r(i),!0)};let qb;!function(e){e[e.TOOLBAR=o("+PNV").f.TOOLBAR]="TOOLBAR",e[e.KEYBOARD=o("+PNV").f.KEYBOARD]="KEYBOARD"}(qb||(qb={}));const Gb=$b(qb.KEYBOARD)(Fs.d),Yb=$b(qb.KEYBOARD)(Fs.c),Qb=$b(qb.TOOLBAR)(Fs.d),Xb=$b(qb.TOOLBAR)(Fs.c);const Zb=e=>t=>{(e=>t=>{if(!e)return;const n=Object(o("+OuI").b)(e);n.isOpen()?n.close({attachCommand:t,insertCurrentQueryAsRawText:!1}):t(e.state,e.dispatch)})(e)(t),e.hasFocus()||e.focus()};class Jb extends a.PureComponent{render(){const{disabled:e,isReducedSpacing:t,historyState:n,editorView:r,intl:{formatMessage:i}}=this.props,s=i(o("Y+RM").a.undo),a=i(o("Y+RM").a.redo),{canUndo:c,canRedo:l}=n;return Object(o("AeFk").jsx)("span",{css:o("mw/U").c},Object(o("AeFk").jsx)(o("aEOQ").a,{buttonId:o("Ssoj").a.UNDO,spacing:t?"none":"default",onClick:()=>{Zb(r)(Qb)},disabled:!c||e,
"aria-label":Object(o("QNHL").ub)(o("QNHL").vb,s),"aria-keyshortcuts":Object(o("QNHL").z)(o("QNHL").vb),title:Object(o("AeFk").jsx)(o("QNHL").a,{description:s,keymap:o("QNHL").vb}),iconBefore:Object(o("AeFk").jsx)(o.n(o("wIOw")).a,{label:""}),testId:"ak-editor-toolbar-button-undo"}),Object(o("AeFk").jsx)(o("aEOQ").a,{spacing:t?"none":"default",buttonId:o("Ssoj").a.REDO,onClick:()=>{Zb(r)(Xb)},disabled:!l||e,title:Object(o("AeFk").jsx)(o("QNHL").a,{description:a,keymap:o("QNHL").T}),iconBefore:Object(o("AeFk").jsx)(o.n(o("Ryn/")).a,{label:""}),testId:"ak-editor-toolbar-button-redo","aria-label":Object(o("QNHL").ub)(o("QNHL").T,a),"aria-keyshortcuts":Object(o("QNHL").z)(o("QNHL").T)}),Object(o("AeFk").jsx)("span",{css:o("mw/U").g}))}}Jb.displayName="ToolbarUndoRedo";var eg=Object(o("o5hF").c)(Jb);var tg=()=>({name:"undoRedoPlugin",pmPlugins:()=>[{name:"undoRedoKeyMap",plugin:()=>function(){const e={};return o("QNHL").l(o("QNHL").u(o("QNHL").T),Yb,e),o("QNHL").l(o("QNHL").vb.common,Gb,e),
Object(o("uIwD").a)(e)}()},{name:"undoRedoPlugin",plugin:e=>(({dispatch:e})=>new(o("KkS8").a)({key:o("TypY").a}))(e)}],primaryToolbarComponent:({editorView:e,disabled:t,isToolbarReducedSpacing:n})=>c.a.createElement(o("fd7e").a,{plugins:{historyState:o("wlgv").b},render:({historyState:o})=>c.a.createElement(eg,{isReducedSpacing:n,disabled:t,historyState:o,editorView:e})})});class ng{constructor(...e){s()(this,"safeEntry",(e=>Array.isArray(e)?e:[e,void 0])),this.data=[...e]||!1}add(e){return new ng(e,...this.data)}maybeAdd(e,t){return t(e,this)}has(e){return this.data.some((t=>Array.isArray(t)?t[0]===e:t===e))}build({pluginInjectionAPI:e,excludePlugins:t}={}){const n=new Set(t||[]),o=this.processEditorPlugins({pluginInjectionAPI:e,excludePlugins:n});return this.removeExcludedPlugins(o,n)}verifyDuplicatedPlugins(){const e=new Set;return this.data.forEach((t=>{const[n,o]=Array.isArray(t)?t:[t,void 0];if(e.has(n))throw new Error(`${n} is already included!`);e.add(n)})),!0}
processEditorPlugins({pluginInjectionAPI:e,excludePlugins:t}){this.verifyDuplicatedPlugins();const n=new Set;return this.data.slice().reverse().map((o=>{const[r,i]=this.safeEntry(o);if(n.has(r))return null;if(n.add(r),"function"!=typeof r)return null;const s=e?r(i,e.api()):r(i);return s&&null!=t&&t.has(s.name)?null:e?(e.onEditorPluginInitialized(s),s):s})).filter(Boolean)}removeExcludedPlugins(e,t){return t?e.filter((e=>!e||!t.has(e.name))):e}}function og(e){return(new ng).add([Fm,e.featureFlags||{}]).add([Yh,e.paste]).add(Bm).add([o("3DM8").a,e.base]).maybeAdd(tg,((t,n)=>{var o;return null!==(o=e.featureFlags)&&void 0!==o&&o.undoRedoButtons?n.add(t):n})).add([bf,e.blockType]).add([Km,e.placeholder]).add(yf).maybeAdd(o("WvEr").a,((t,n)=>e.annotationProviders?n.add([t,e.annotationProviders]):n)).add([_f,e.hyperlinkOptions]).add([jm,e.textFormatting]).add(o("IXso").a).add([o("RSEn").a,e.quickInsert]).add([o("zRNw").a,e.typeAhead||{createAnalyticsEvent:e.createAnalyticsEvent
}]).add(Pm).add(o("QNcB").a).add([Rm,e.submitEditor]).add(Lm).add(o("jeRt").a).add([rb,e.selection]).add([Kb,e.codeBlock||{appearance:"full-page"}])}const rg=({node:e,tr:t,position:n})=>{const{$from:{pos:r},$to:{pos:i}}=n;if(e.isText)return t.replaceWith(r,i,e);if(e.isBlock){t.delete(r,i);const n=t.mapping.map(r),s=Object(o("Gbq5").b)(t,e);if(Object(o("hSri").b)(s,n)(t))return t;const a=ie.Slice.maxOpen(ie.Fragment.from(s)),{from:c,to:l}=function(e,t,n){const o=e.resolve(t),r=(e,t)=>({from:e,to:t||e});for(let i=o.depth;i>=0;i--){const e=o.node(i),t=Math.max(i-1,0),s=o.node(t),a="paragraph"===e.type.name&&0===e.content.size,c=o.index(t),l=s.canReplaceWith(c,c,n.type);if(a&&l){const n=o.posAtIndex(c,t);return r(n,n+e.nodeSize)}const d=o.indexAfter(t);if(s.canReplaceWith(d,d,n.type))return r(o.posAtIndex(d,t))}return r(0)}(t.doc,n,s);t.replaceWith(c,l,e);const u=Math.min(c+(e.isAtom?e.nodeSize:a.openStart),t.doc.content.size),p=1,h=d.TextSelection.findFrom(t.doc.resolve(u),p,!0)
;if(h)return t.setSelection(h)}return t},ig=({tr:e,node:t,position:n,selectNodeInserted:o})=>{t instanceof ie.Node&&t.isBlock?rg({node:t,tr:e,position:n}):(({maybeFragment:e,tr:t,position:n,selectInlineNode:o})=>{const{$from:{pos:r},$to:{pos:i}}=n,s=e instanceof ie.Node?ie.Fragment.from(e):e;t.replaceWith(r,i,s),o?t.setSelection(d.NodeSelection.create(t.doc,r)):t.setSelection(d.TextSelection.near(t.doc.resolve(r+s.size)))})({maybeFragment:t,tr:e,position:n,selectInlineNode:o})},sg=({getEditorView:e,getEditorPlugins:t})=>({insert:({node:n,options:r})=>{const i=e();if(!i)return!1;const{state:{tr:s}}=i;return(({node:e,options:t,editorPlugins:n})=>o=>{const r=o.selection,i=(({node:e,editorPlugins:t})=>{var n;if(!e)return null;const o="string"==typeof e?e:null,r=o?t.find((e=>!!e.nodes&&e.nodes().find((e=>e.name===o)))):null;return(null==r||null===(n=r.pluginsOptions)||void 0===n?void 0:n.createNodeHandler)||null})({node:e,editorPlugins:n}),s="string"==typeof e?e:null;if(s&&i){const e=i({
nodeName:s,schema:o.doc.type.schema});ig({tr:o,node:e,position:r,selectNodeInserted:t.selectNodeInserted})}else{if(!s)return!1;{const e=o.doc.type.schema.nodes[s];if(!e)return!1;ig({tr:o,node:e.createAndFill(),position:r,selectNodeInserted:t.selectNodeInserted})}}return o.scrollIntoView(),!0})({editorPlugins:t(),node:n,options:r})(s),r.analyticsPayload&&Object(o("SVcB").a)(i.state,s,r.analyticsPayload),i.dispatch(s),!0}});var ag=o("zuKv");const cg=()=>{const e={current:null},t={current:null},n=e=>t.current?t.current(e):(console.error("This should never be called, if it does we have a problem"),{fire:()=>{}}),r=(()=>({getSelectionPluginState:e=>le(e),setSelectionRelativeToNode:({selectionRelativeToNode:e,selection:t})=>n=>{let o=n.tr;return ue(e,t)(n,(e=>{o=e})),o}}))(),i={attachAnalyticsEvent:t=>r=>{const i=e.current;return!!(r&&n&&i)&&(Object(o("QXBo").a)({tr:r,editorState:i.state,payload:t,channel:ag.FabricChannel.editor}),!0)}},s=sg({getEditorView:()=>e.current,
getEditorPlugins:()=>{const e=qp();return null!=e&&e.pluginsOptions?[e]:[]}}),a=()=>{const{createAnalyticsEvent:e}=Object(o("rZ/p").a)();return c.a.useLayoutEffect((()=>{t.current=e}),[e]),null};return{editorSelectionAPI:r,insertNodeAPI:s,editorAnalyticsAPI:i,createAnalyticsEvent:n,stubInternalApisPlugin:()=>({name:"stubInternalApisPlugin",pmPlugins:()=>[{name:"stubInternalApisPMPlugin",plugin:()=>new(o("KkS8").a)({view:n=>(e.current=n,{destroy(){e.current=null,t.current=null}})})}],contentComponent:()=>c.a.createElement(a)})}};function lg(e,t,n,i,s){const a="mobile"===e,c="comment"===e,l=Object(o("9TOn").a)(e),d=og(t),u=()=>n,p=cg(),{editorSelectionAPI:h,insertNodeAPI:f,editorAnalyticsAPI:m,stubInternalApisPlugin:b}=p,g=s||p.createAnalyticsEvent,v=!t.allowStatus||"object"==typeof t.allowStatus&&Boolean(t.allowStatus.menuDisabled),y=e=>!(!e||!("before"in e))&&!!e.before;return d.add(b).add(r).maybeAdd(o("8tqJ").b,((e,n)=>{if(t.allowAnalyticsGASV3){const{performanceTracking:o}=t
;return n.add([e,{createAnalyticsEvent:g,performanceTracking:o}])}return n})).maybeAdd(E,((n,o)=>t.allowBreakout&&l?o.add([n,{allowBreakoutButton:"full-page"===e}]):o)).maybeAdd(H,((e,n)=>t.allowTextAlignment?n.add(e):n)).maybeAdd(o("UIbH").a,((e,n)=>t.allowTextColor?n.add([e,t.allowTextColor]):n)).add([q,{restartNumberedLists:null==n?void 0:n.restartNumberedLists,restartNumberedListsToolbar:null==n?void 0:n.restartNumberedListsToolbar,listNumberContinuity:null==n?void 0:n.listNumberContinuity}]).maybeAdd(Y,((e,n)=>t.allowRule?n.add(e):n)).maybeAdd(Ie,((n,o)=>t.allowExpand?o.add([n,{allowInsertion:Pe(t),useLongPressSelection:!1,appearance:e}]):o)).maybeAdd(o("/OWP").b,((e,n)=>t.media?n.add([e,{shouldCalcBreakoutGridLines:l}]):n)).maybeAdd(o("6PZK").a,((n,o)=>{if(t.media){const r=void 0!==t.media.alignLeftOnInsert?t.media.alignLeftOnInsert:c,i=void 0!==t.media.allowAdvancedToolBarOptions?t.media.allowAdvancedToolBarOptions:l||c;return o.add([n,{...t.media,allowLazyLoading:!a,
allowBreakoutSnapPoints:l,allowAdvancedToolBarOptions:i,allowDropzoneDropLine:l,allowMediaSingleEditable:!a,allowRemoteDimensionsFetch:!a,editorSelectionAPI:h,allowMarkingUploadsAsIncomplete:a,fullWidthEnabled:"full-width"===e,uploadErrorHandler:t.uploadErrorHandler,waitForMediaUpload:t.waitForMediaUpload,isCopyPasteEnabled:!a,alignLeftOnInsert:r,getEditorFeatureFlags:u}])}return o})).maybeAdd(He,((e,n)=>t.media&&Object(o("CzTa").b)("captions",t.media.featureFlags)?n.add(e):n)).maybeAdd(o("qk1C").a,((e,n)=>{var o,r,i;return t.mentionProvider?n.add([e,{createAnalyticsEvent:g,sanitizePrivateContent:t.sanitizePrivateContent,insertDisplayName:null!==(o=null===(r=t.mention)||void 0===r?void 0:r.insertDisplayName)&&void 0!==o?o:t.mentionInsertDisplayName,allowZeroWidthSpaceAfter:!a,HighlightComponent:null===(i=t.mention)||void 0===i?void 0:i.HighlightComponent}]):n})).maybeAdd(ot,((e,n)=>t.emojiProvider?n.add([e,{createAnalyticsEvent:g}]):n)).maybeAdd(qp,((n,o)=>{if(t.allowTables){
const r=t.allowTables&&"boolean"!=typeof t.allowTables?t.allowTables:{};return o.add([n,{tableOptions:r,breakoutEnabled:"full-page"===e,allowContextualMenu:!a,fullWidthEnabled:"full-width"===e,wasFullWidthEnabled:i&&"full-width"===i,editorAnalyticsAPI:m,editorSelectionAPI:h,getEditorFeatureFlags:u}])}return o})).maybeAdd(en,((e,n)=>t.allowTasksAndDecisions||t.taskDecisionProvider?n.add([e,{allowNestedTasks:t.allowNestedTasks,consumeTabs:l,useLongPressSelection:!1}]):n)).maybeAdd(o("R7Pf").a,((e,n)=>t.feedbackInfo?n.add([e,t.feedbackInfo]):n)).maybeAdd(sn,((e,n)=>t.allowHelpDialog?n.add([e,!!t.legacyImageUploadProvider]):n)).maybeAdd(dn,((e,n)=>t.saveOnEnter&&t.onSave?n.add([e,t.onSave]):n)).maybeAdd(En,((e,n)=>t.legacyImageUploadProvider?n.add(e):n)).maybeAdd(o("6PZK").a,((e,n)=>t.legacyImageUploadProvider&&!t.media?n.add([e,{allowMediaSingle:{disableLayout:!0},allowMediaGroup:!1,isCopyPasteEnabled:!0,editorSelectionAPI:h}]):n)).maybeAdd(wn,((e,n)=>{
if(t.collabEdit||t.collabEditProvider){var r;let i={sanitizePrivateContent:t.sanitizePrivateContent,createAnalyticsEvent:g};return t.collabEdit&&(i={...t.collabEdit,...i}),n.add([e,{...i,EXPERIMENTAL_allowInternalErrorAnalytics:null!==(r=i.EXPERIMENTAL_allowInternalErrorAnalytics)&&void 0!==r?r:Object(o("dxwe").a)()}])}return n})).maybeAdd(o("5fPG").a,((e,n)=>t.maxContentSize?n.add([e,t.maxContentSize]):n)).maybeAdd(An,((e,n)=>t.allowJiraIssue?n.add(e):n)).maybeAdd(qn,((e,n)=>{if(t.allowPanel){const o="object"==typeof t.allowPanel?t.allowPanel:{};return n.add([e,{useLongPressSelection:!1,allowCustomPanel:o.allowCustomPanel,allowCustomPanelEdit:o.allowCustomPanelEdit}])}return n})).maybeAdd(Do,((n,o)=>{if(t.allowExtension){const r="object"==typeof t.allowExtension?t.allowExtension:{};return o.add([n,{breakoutEnabled:"full-page"===e&&!1!==r.allowBreakout,allowAutoSave:r.allowAutoSave,extensionHandlers:t.extensionHandlers,useLongPressSelection:!1,appearance:e}])}return o
})).maybeAdd(o("GuFF").a,((e,n)=>t.macroProvider?n.add(e):n)).maybeAdd(o("WvEr").a,((e,n)=>!t.annotationProviders&&t.allowConfluenceInlineComment?n.add([e,void 0]):n)).maybeAdd(Qo,((e,n)=>t.allowDate?n.add(e):n)).maybeAdd(cr,((e,n)=>{if(t.allowTemplatePlaceholders){const o=!0!==t.allowTemplatePlaceholders?t.allowTemplatePlaceholders:{};return n.add([e,o])}return n})).maybeAdd(Vr,((e,n)=>{if(t.allowLayouts){const o="object"==typeof t.allowLayouts?t.allowLayouts:{};return n.add([e,{...o,useLongPressSelection:!1,UNSAFE_allowSingleColumnLayout:o.UNSAFE_allowSingleColumnLayout}])}return n})).maybeAdd(_s,((n,o)=>{var r;if(null!==(r=t.linking)&&void 0!==r&&r.smartLinks||t.smartLinks||t.UNSAFE_cards){var i,s;const r="full-width"===e;return o.add([n,{...t.UNSAFE_cards,...t.smartLinks,...null===(i=t.linking)||void 0===i?void 0:i.smartLinks,platform:a?"mobile":"web",fullWidthMode:r,createAnalyticsEvent:g,linkPicker:null===(s=t.linking)||void 0===s?void 0:s.linkPicker,editorAppearance:e}])}
return o})).maybeAdd(Us,((e,n)=>t.autoformattingProvider?n.add(e):n)).maybeAdd(ca,((e,n)=>t.allowStatus?n.add([e,{menuDisabled:v,allowZeroWidthSpaceAfter:!a}]):n)).maybeAdd(ya,((e,n)=>t.allowIndentation?n.add(e):n)).maybeAdd(o("3FAS").a,((e,t)=>l?t.add(o("3FAS").a):t)).maybeAdd(Ea,((e,n)=>!1!==t.autoScrollIntoView?n.add(Ea):n)).maybeAdd(o("wlgv").a,((e,n)=>a||t.allowUndoRedoButtons?n.add(o("wlgv").a):n)).maybeAdd(Sa,((e,t)=>a?t.add(e):t)).maybeAdd(o("sFWM").a,((e,t)=>a?t.add(e):t)).add([Pa,{showIndentationButtons:!!n.indentationButtonsInTheToolbar,allowHeadingAndParagraphIndentation:!!t.allowIndentation}]).add([Cc,{allowTables:!!t.allowTables,allowExpand:Pe(t),insertMenuItems:t.insertMenuItems,horizontalRuleEnabled:t.allowRule,nativeStatusSupported:!v,showElementBrowserLink:t.elementBrowser&&t.elementBrowser.showModal||!1,replacePlusMenuWithElementBrowser:t.elementBrowser&&t.elementBrowser.replacePlusMenu||!1,insertNodeAPI:f
}]).maybeAdd(Tc,((e,o)=>y(t.primaryToolbarComponents)&&!n.twoLineEditorToolbar?o.add([e,{beforePrimaryToolbarComponents:t.primaryToolbarComponents.before}]):o)).maybeAdd(Pc,((e,o)=>!0!==n.showAvatarGroupAsPlugin||n.twoLineEditorToolbar?o:o.add([e,{collabEdit:t.collabEdit,takeFullWidth:!y(t.primaryToolbarComponents)}]))).maybeAdd(Rc,((e,o)=>t.allowFindReplace?o.add([e,{takeFullWidth:!1==!!n.showAvatarGroupAsPlugin&&!y(t.primaryToolbarComponents),twoLineEditorToolbar:!!n.twoLineEditorToolbar}]):o)).maybeAdd(_c,((e,n)=>t.UNSAFE_allowBorderMark?n.add(e):n)).maybeAdd(Bc,((e,n)=>t.allowFragmentMark?n.add(e):n)).maybeAdd(o("G0K9").a,((e,t)=>n.enableViewUpdateSubscription?t.add(e):t)).add([Wc,{appearance:e}]).maybeAdd(qc,((e,t)=>n.floatingToolbarCopyButton?t.add(e):t))}function dg(e){const{appearance:t,persistScrollGutter:n}=e;return Object(o("9TOn").a)(t)?{getScrollElement:()=>document.querySelector(".fabric-editor-popup-scroll-parent")}:"mobile"===t?{getScrollElement:()=>document.body,
allowCustomScrollHandler:!1,persistScrollGutter:n,gutterSize:36}:void 0}function ug(e,t){var n,r,i,s,a,c,l,d,u;const p=e.appearance,h="mobile"===p,f=null===(n=e.performanceTracking)||void 0===n?void 0:n.inputTracking,m=(null===(r=e.linking)||void 0===r?void 0:r.smartLinks)||e.smartLinks||e.UNSAFE_cards,b=null!==(i=null!==(s=null===(a=e.featureFlags)||void 0===a?void 0:a["use-better-typeahead-navigation"])&&void 0!==s?s:null===(c=e.featureFlags)||void 0===c?void 0:c.useBetterTypeaheadNavigation)&&void 0!==i?i:null,g=Boolean("boolean"!=typeof b||!!b);return{...e,createAnalyticsEvent:t,typeAhead:{createAnalyticsEvent:t,isMobile:h,useBetterTypeaheadNavigation:g},featureFlags:Object(o("RxBR").a)(e),paste:{cardOptions:m,sanitizePrivateContent:e.sanitizePrivateContent},base:{allowInlineCursorTarget:!h,allowScrollGutter:dg(e),inputTracking:f,browserFreezeTracking:null===(l=e.performanceTracking)||void 0===l?void 0:l.bFreezeTracking,ufo:Object(o("RxBR").a)(e).ufo},blockType:{
lastNodeMustBeParagraph:"comment"===p||"chromeless"===p,allowBlockType:e.allowBlockType,isUndoRedoButtonsEnabled:e.allowUndoRedoButtons},placeholder:{placeholder:e.placeholder,placeholderBracketHint:e.placeholderBracketHint},textFormatting:{...e.textFormatting||{},responsiveToolbarMenu:null!=(null===(d=e.textFormatting)||void 0===d?void 0:d.responsiveToolbarMenu)?e.textFormatting.responsiveToolbarMenu:e.allowUndoRedoButtons},annotationProviders:e.annotationProviders,submitEditor:e.onSave,quickInsert:{enableElementBrowser:e.elementBrowser&&e.elementBrowser.showModal,elementBrowserHelpUrl:e.elementBrowser&&e.elementBrowser.helpUrl,disableDefaultItems:h,headless:h,emptyStateHandler:e.elementBrowser&&e.elementBrowser.emptyStateHandler},selection:{useLongPressSelection:!1},cardOptions:m,hyperlinkOptions:{editorAppearance:e.appearance,linkPicker:null===(u=e.linking)||void 0===u?void 0:u.linkPicker,cardOptions:m,platform:h?"mobile":"web"},codeBlock:{...e.codeBlock,useLongPressSelection:!1,
appearance:e.appearance,allowCompositionInputOverride:h}}}function pg(e,t,n){var r;return function(e){return t=>t&&0!==t.length?function(e){return e?e.map((e=>()=>e)):[]}(t).reduce(((e,t)=>e.add(t)),e):e}(lg(e.appearance,ug(e,n),Object(o("RxBR").a)(e),null==t?void 0:t.appearance,n))(null===(r=e.dangerouslyAppendPlugins)||void 0===r?void 0:r.__plugins)}},C5kU:function(e,t,n){"use strict";var o=n("GfoU")(!0);n("OTpG")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=o(t,n),this._i+=e.length,{value:e,done:!1})}))},C61u:function(e,t,n){e.exports=!n("S4vA")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},CAky:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"g",(function(){
return f})),n.d(t,"f",(function(){return b})),n.d(t,"j",(function(){return g})),n.d(t,"b",(function(){return O})),n.d(t,"k",(function(){return E}));var o=n("UxO+"),r=n("V2qZ");const i=e=>{if(!e.length)return[];const{annotation:t}=e[0].type.schema.marks;return e.filter((e=>e.type===t)).map((e=>e.attrs.id))},s=(e,t)=>{const o=(e=>{const{nodeBefore:t,nodeAfter:n}=e,o=t&&e.doc.nodeAt(Math.max(0,e.pos-t.nodeSize-1)),r=n&&e.doc.nodeAt(e.pos+n.nodeSize);return[o&&o.marks||[],r&&r.marks||[]]})(t).map(i);e.sort(((e,t)=>Object(n("D4z0").s)(o,(t=>t.indexOf(e.id)))-Object(n("D4z0").s)(o,(e=>e.indexOf(t.id)))))},a=e=>{const t=new Set;return e.descendants((e=>(e.marks.filter((e=>"annotation"===e.type.name)).filter(c).forEach((e=>t.add(e.attrs.id))),!0))),Array.from(t)},c=e=>{const{id:t,annotationType:o}=e.attrs;return function(e){if(!e||"string"!=typeof e)return!1;return!["null","undefined"].includes(e.toLowerCase())}(t)&&function(e){if(!e||"string"!=typeof e)return!1
;return Object.values(n("yGJy").b).includes(e)}(o)},l=(e,t)=>r.a.inline(e,t,{class:`${n("xLj0").b.draft}`}),d=e=>`view-annotation-wrapper_${e.map((e=>e.id)).join("_")}`,u=(e,t)=>{const{empty:n,$anchor:o,anchor:r}=e;if(!n||!t)return[];const i=t.nodeAt(r);if(!i&&!o.nodeBefore)return[];const a=t.type.schema.marks.annotation,c=o.nodeBefore,l=i&&i.marks||[];let d=[];a.isInSet(l)?d=l:c&&a.isInSet(c.marks)&&(d=c.marks);const u=d.filter((e=>"annotation"===e.type.name)).map((e=>({id:e.attrs.id,type:e.attrs.annotationType})));return s(u,o),u};function p(e,t){const{bookmark:n}=t;return n?n.resolve(e.doc):e.selection}const h=new o.PluginKey("inlineCommentPluginKey"),f=e=>h.getState(e),m=e=>{const{from:t,to:o}=e.selection;return Object(n("ITcU").b)({from:t,to:o},e.doc,e.schema).length},b=(e,t)=>o=>{let r={};return e&&(r={inputMethod:t,overlap:m(o)}),{action:e?n("+PNV").a.OPENED:n("+PNV").a.CLOSED,actionSubject:n("+PNV").b.ANNOTATION,actionSubjectId:n("+PNV").c.INLINE_COMMENT,
eventType:n("+PNV").e.TRACK,attributes:r}},g=e=>{const{selection:t}=e,{disallowOnWhitespace:r}=f(e);if(t.empty||!(t instanceof o.TextSelection||t instanceof o.AllSelection))return n("nnUN").a.INVALID;const i=v(e);return i&&t.to-t.from==1?n("nnUN").a.INVALID:i?n("nnUN").a.DISABLED:r&&function(e,t){let o=!1;const r=e.content().content;return r.descendants((e=>{if(Object(n("ceYy").i)(e,t))return!1;if(""===e.textContent.trim()){e.eq(r.lastChild)&&!e.eq(r.firstChild)&&Object(n("ceYy").g)(e,t)||(o=!0)}return!o})),o}(t,e.schema)||function(e,t){const{text:n,paragraph:o}=t.nodes;let r=!1;return e.content().content.descendants((e=>!(e.type===o&&!e.content.size)&&(e.type===n&&e.textContent||(r=!0),!r))),!r}(t,e.schema)?n("nnUN").a.INVALID:n("nnUN").a.VALID},v=e=>{const{selection:t,doc:o,schema:r}=e;return!Object(n("ITcU").a)({from:t.from,to:t.to},o,r)};function y(e,t){const{schema:{marks:{annotation:n}}}=t;return!!(n&&e&&e.marks.length&&n.isInSet(e.marks))}function O(e,t){
if(!e.content.size)return!1;let n=!1;return e.content.forEach((e=>{if(n=n||y(e,t),n)return!0;e.descendants((e=>!y(e,t)||(n=!0,!1)))})),n}function E(e,t){if(!e.content.size)return!1;e.content.forEach((e=>{w(e,t),e.content.descendants((e=>(w(e,t),!0)))}))}function w(e,t){return y(e,t)&&(e.marks=e.marks.filter((e=>"annotation"!==e.type.name||function(e,t){const n=f(t);return n.annotations&&Object.keys(n.annotations).includes(e)}(e.attrs.id,t)))),e}},CHQz:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return u}));const o=/([a-zA-Z]:|\\)([^\/:*?<>"|]+\\)?([^\/:*?<>"| ]+(?=\s?))?/gim,r=/^(\$|{)/;class i{static create(){return new class{exec(e){const t=e.slice(0,e.length-1).split(" "),o=t[t.length-1],i=o.length>0;if(!e.endsWith(" ")||!i)return null;if(r.test(o))return null
;const s=n("Z7Qe").d.match(o);if(!s||0===s.length)return null;const a=s[s.length-1],c=s[s.length-1];return c.input=e.substring(a.index),c.length=c.lastIndex-c.index+1,c.index=e.lastIndexOf(o)+a.index,c}}}}function s(e){return e?Object(n("Z7Qe").c)(e)?e:Object(n("Z7Qe").f)(e):""}function a(e){return t=>Object(n("C0PT").e)(t,((t,o)=>{const r=!o||o.type!==e.nodes.codeBlock,i=t.type.schema.marks.link;if(void 0===i)throw new Error("Link not in schema - unable to linkify content");if(r&&t.isText&&!i.isInSet(t.marks)){const e=[],o=t.text,r=function(e){const t=[];let o=e&&n("Z7Qe").d.match(e);o&&o.length>0&&o.forEach((e=>{t.push({start:e.index,end:e.lastIndex,title:e.raw,href:e.url})}));return t}(o);let a=0;const c=d(o);return r.forEach((n=>{u(n.start,c)||(n.start>0&&e.push(t.cut(a,n.start)),e.push(t.cut(n.start,n.end).mark(i.create({href:s(n.href)}).addToSet(t.marks))),a=n.end)})),a<o.length&&e.push(t.cut(a)),e}return t}))}function c(e){
return e.toLowerCase().replace(/^(.*):\/\//,"").replace(/^(www\.)/,"").replace(/[:\/?#](.*)$/,"")}function l(e){if(!window||!window.location)return!1;return window.location.hostname===c(e)}const d=(e,t=0)=>{const n=new RegExp(o);let r;const i=[];for(;null!==(r=n.exec(e));){const e=r.index+t;let o=n.lastIndex+t;o-e>260&&(o=e+260),i.push({startIndex:e,endIndex:o})}return i},u=(e,t)=>{for(let n=0;n<t.length;n++)if(e>=t[n].startIndex&&e<t[n].endIndex)return!0;return!1}},CHoB:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}))
;const o=Object(n("AeFk").css)("width:",342,"px;padding:var(--ds-space-100, 8px) var(--ds-space-200, 16px) var(--ds-space-200, 16px);box-sizing:border-box;line-height:initial;"),r=Object(n("AeFk").css)(o," display:flex;align-items:center;justify-content:center;"),i=Object(n("AeFk").css)(r," min-height:",220,"px;"),s=Object(n("AeFk").css)(r," min-height:",142,"px;"),a=Object(n("AeFk").css)("margin-left:var(--ds-space-050, 4px);color:","var(--ds-icon, #42526E)",";cursor:default;"),c={name:"q77p33",styles:"margin-top:var(--ds-space-150, 12px);margin-left:calc(-1 * var(--ds-space-100, 8px));margin-right:calc(-1 * var(--ds-space-100, 8px))"},l={name:"1fttcpj",styles:"display:flex;flex-direction:column"},d={name:"18trwji",styles:"margin-top:var(--ds-space-200, 16px)"}},CI1p:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf")
;const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm2 3a1 1 0 100 2h8a1 1 0 000-2H4zm0 4a1 1 0 100 2h8a1 1 0 000-2H4zm0 4a1 1 0 000 2h4a1 1 0 000-2H4z"/></svg>'},e,{size:"small"}));i.displayName="Page16Icon";var s=i;t.default=s},CK61:function(e,t,n){"use strict";var o=n("AGgm"),r=n("Vlv/"),i=n("fMI+"),s=n("qRUV"),a=n("dpam"),c=n("TLR5"),l=n("si0k"),d=n("2KYT"),u=n("GYWy"),p={default:n("ijE+"),zero:n("HKru"),commonmark:n("Qo0+")},h=/^(vbscript|javascript|file|data):/,f=/^data:image\/(gif|png|jpeg|webp);/;function m(e){var t=e.trim().toLowerCase();return!h.test(t)||!!f.test(t)}var b=["http:","https:","mailto:"];function g(e){var t=d.parse(e,!0);if(t.hostname&&(!t.protocol||b.indexOf(t.protocol)>=0))try{t.hostname=u.toASCII(t.hostname)}catch(n){}return d.encode(d.format(t))}
function v(e){var t=d.parse(e,!0);if(t.hostname&&(!t.protocol||b.indexOf(t.protocol)>=0))try{t.hostname=u.toUnicode(t.hostname)}catch(n){}return d.decode(d.format(t),d.decode.defaultChars+"%")}function y(e,t){if(!(this instanceof y))return new y(e,t);t||o.isString(e)||(t=e||{},e="default"),this.inline=new c,this.block=new a,this.core=new s,this.renderer=new i,this.linkify=new l,this.validateLink=m,this.normalizeLink=g,this.normalizeLinkText=v,this.utils=o,this.helpers=o.assign({},r),this.options={},this.configure(e),t&&this.set(t)}y.prototype.set=function(e){return o.assign(this.options,e),this},y.prototype.configure=function(e){var t,n=this;if(o.isString(e)&&!(e=p[t=e]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach((function(t){e.components[t].rules&&n[t].ruler.enableOnly(e.components[t].rules),
e.components[t].rules2&&n[t].ruler2.enableOnly(e.components[t].rules2)})),this},y.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.enable(e,!0))}),this),n=n.concat(this.inline.ruler2.enable(e,!0));var o=e.filter((function(e){return n.indexOf(e)<0}));if(o.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+o);return this},y.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.disable(e,!0))}),this),n=n.concat(this.inline.ruler2.disable(e,!0));var o=e.filter((function(e){return n.indexOf(e)<0}));if(o.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+o);return this},y.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},y.prototype.parse=function(e,t){
if("string"!=typeof e)throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},y.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},y.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},y.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=y},CPx4:function(e,t,n){"use strict";var o=n("pVnL"),r=n.n(o),i=n("q1tI"),s=n.n(i),a=n("/MKj"),c=n("sEfC"),l=n.n(c),d=n("vN+2"),u=n.n(d),p=n("wSSu"),h=n.n(p);var f=({provider:e,intlLocale:t,createAnalyticsEvent:o})=>new Promise((async(r,i)=>{const a=await n.e("e68af7773573f249866456ed3087fcb6").then(n.bind(null,"iTXV")),c=(()=>{let e=document.getElementById("#attachment-reference-mount-point");return null===e&&(e=document.createElement("div"),e.id="#attachment-reference-mount-point",
document.body.appendChild(e)),e})();null===c&&i("Unable to mount modal, element not found"),h.a.render(s.a.createElement(a.default,{closeModal:()=>{try{c&&(h.a.unmountComponentAtNode(c),i())}catch(e){i({reason:"Unable to unmount modal, element not found",cause:e})}},onInsertAttachments:e=>{try{const t=(null!=e?e:[]).map((e=>(e=>e.mediaFileId?{type:"media",attrs:{type:"file",id:e.mediaFileId,collection:""}}:void 0)(e))).filter((e=>void 0!==e));0===t.length?i({reason:"There were no valid attachments inserted"}):r({type:"mediaGroup",content:t})}catch(t){i({reason:"Attachments were unable to be inserted",cause:t})}},provider:e,createAnalyticsEvent:o,intlLocale:t}),c)}));const m=({provider:e,intlLocale:t,createAnalyticsEvent:o})=>({title:`Attachments on this ${Object(n("v9Uh").a)(e.getProduct())}`,key:"attachment-reference",type:"com.atlassian.attachment.reference",description:`Insert an attachment already on this ${Object(n("v9Uh").a)(e.getProduct())}`,icons:{
48:()=>Promise.resolve().then(n.t.bind(null,"q3YI",7)).then((e=>e.default))},modules:{quickInsert:[{key:"item",featured:!0,action:()=>f({provider:e,intlLocale:t,createAnalyticsEvent:o}),keywords:["reference"]}]}}),b="canned-response-popup";var g=(e,t)=>({title:"Canned responses",type:"com.atlassian.cr.extensions",key:"canned-response",description:"Quickly reply to customers using predefined responses",icons:{48:()=>Promise.resolve().then(n.t.bind(null,"bw1R",7)).then((e=>e.default))},modules:{quickInsert:[{key:"canned-response-quick-insert",action:async()=>new Promise(((o,r)=>{let i=document.getElementById(b);i||(i=document.createElement("div"),i.id=b,document.body.appendChild(i)),h.a.render(s.a.createElement(n("1DRJ").AnalyticsProviders,null,s.a.createElement(n("pkxO").a,{isOpen:!0,onClose:()=>{i&&h.a.unmountComponentAtNode(i),Object(n("s27v").a)(t),r()},onInsert:(e,o)=>{i&&h.a.unmountComponentAtNode(i),Object(n("s27v").c)(e,o,t),r()},intlLocale:e})),i)}))}]}});const v={
fileName:n("P3El").e.FILENAME,fileSize:n("P3El").e.FILESIZE,uploadTime:n("P3El").e.CREATED,mimeType:n("P3El").e.MIMETYPE},y="JSM",O="JSW",E={startAt:0,maxResults:6,orderField:n("P3El").d,orderDirection:n("P3El").c};var w=e=>{const t=Object(i.useCallback)((t=>{const n=t.clipboardData;if(n){const t=n.getData("text");"string"==typeof t&&e.onPaste(t)}}),[e]),n=Object(i.useRef)(null);return Object(i.useEffect)((()=>{if(n.current){const e=n.current;return e.addEventListener("paste",t),()=>{e.removeEventListener("paste",t)}}}),[n,t]),s.a.createElement("div",{ref:n},e.children)};const S="issue.details.editor-content-placeholder.";var k=Object(n("D6b/").defineMessages)({invalidAltText:{id:"issue-view.common.component.editor.invalid-alt-text",defaultMessage:"The only accepted characters for alt text are letters, numbers, and these symbols: , ' . - _ ( )",description:"Message for invalid alt text"},attachmentReferencePlaceholder:{
id:"issue-view.common.component.editor.attachment-reference-placeholder",defaultMessage:"Insert an existing attachment with /reference",description:'Placeholder to tell the user about the attachment referencing slash command. The word "reference" should not be translated'},ariaLabelWithFieldName:{id:"issue-view.common.component.editor.aria-label-with-fieldname",defaultMessage:"{assistiveLabel} - Main content area, start typing to enter text.",description:"Message for Editor aria label along with field name"}});class x extends i.Component{constructor(...e){super(...e),this.jsonTransformer=void 0}componentDidMount(){this.props.sharedValue&&this.replaceSelection(),Object(n("wCyq").isCommandPaletteCommentCommandEnabled)()&&this.props.actionsRef&&(this.props.actionsRef.current=this.props.actions)}componentDidUpdate(e){this.props.sharedAtTimestamp!==e.sharedAtTimestamp&&this.props.sharedValue&&this.replaceSelection()}componentWillUnmount(){this.props.clearSharedValues()}replaceSelection(){
const{actions:e,sharedValue:t}=this.props;if(t){const o=Object(n("bmwK").i)(t).content;1===o.length?e.replaceSelection(o[0]):o.length>1&&(this.jsonTransformer||(this.jsonTransformer=new(n("pSE0").JSONTransformer)),e.getValue().then((t=>{const r=Object(n("bmwK").i)(this.jsonTransformer.encode(t)),i=Object(n("tur2").a)(...r.content,...o),s=this.jsonTransformer.parse(Object(n("bmwK").i)(i));e.replaceDocument(s)})))}}render(){return this.props.children}}x.displayName="ShareAsComment",n("3gNG"),n("3gNG"),n("3gNG"),n("3gNG"),n("3gNG"),n("3gNG"),n("3gNG"),n("3gNG");const C=Object(i.forwardRef)((({as:e="div",style:t,...o},s)=>i.createElement(e,r()({},o,{style:t,ref:s,className:Object(n("TCwg").a)(["_1x2nzo7u _1o48ijlo _1gouijlo _1yimijlo _wa8tzwnf _nh9ozwnf _1u5nijlo _qdx3ijlo _13utijlo _v5hfijlo _18guijlo _o9eyijlo _uq4eijlo _llkqijlo",o.className])}))));var T=e=>t=>{const o=(()=>{const e=Object(n("EPof").a)();return Object(n("vsOh").a)(e,n("61vS").a.JiraIssue)})()
;return s.a.createElement(e,r()({searchProvider:o},t))};const j=/^([\p{L}\p{N},'\.\s\-_\(\)])*$/u,A={provider:{getItems:e=>Promise.resolve(e)}},N=Object(n("cI+0").a)((()=>({enableFlexibleBlockCard:Object(n("wCyq").getEnableFlexibleBlockCardInIssueEditor)(),trackIframeDwellEvents:Object(n("wCyq").isTrackIframeDwellEvents)()})));class I extends i.Component{constructor(...e){super(...e),this.onCancel=()=>{const{onCancel:e}=this.props;"function"==typeof e&&e(this.akEditorRef)},this.onChange=e=>l()((()=>{e.getValue().then((e=>{try{void 0===e||this.props.isDisabled||this.props.onChange(Object(n("bmwK").i)(this.jsonTransformer.encode(e)))}catch(t){n("SMF5").a.safeErrorWithoutCustomerData("issue.details.editor.onChange","error with jsonTransformer.encode",t.messages)}}),u.a)}),50),this.onExpanded=()=>{const{onExpanded:e}=this.props;this.props.isExpanded||"function"!=typeof e||e()},this.onSave=e=>()=>{const{onSave:t,onChange:o}=this.props;e.getValue().then((e=>{try{if(void 0!==e){
const r=Object(n("bmwK").g)(Object(n("bmwK").i)(this.jsonTransformer.encode(e)));o(r),"function"==typeof t&&t(r)}}catch(r){n("SMF5").a.safeErrorWithoutCustomerData("issue.details.editor.onSave","error with jsonTransformer.encode",r.messages)}}),this.props.onSaveFailure)},this.altTextValidator=e=>{const{intl:t}=this.props;return j.test(e)?[]:[t.formatMessage(k.invalidAltText)]},this.setEditorReactComponentRef=e=>{this.akEditorRef=e},this.getPlaceholder=()=>{const{placeholder:e,intl:t,attachmentTotalCount:n}=this.props;if(void 0!==n&&n>=10)return t.formatMessage(k.attachmentReferencePlaceholder);if(e)return e;const o=(()=>[{id:`${S}0`,defaultMessage:"Press {helpShortcut} + / to learn time-saving keyboard shortcuts.",description:"Placeholder showing users how to access the help menu"},{id:`${S}1`,defaultMessage:"We support markdown! Try **bold**, `inline code`, or ``` for code blocks.",description:"Placeholder that indicates markdown support in the editor"},{id:`${S}2`,
defaultMessage:"Pro tip: Type / to add tables, images, code blocks, and more.",description:"Placeholder to prompt use of slash insert command"},{id:`${S}3`,defaultMessage:"Type @ to mention a teammate and notify them about this issue.",description:"Placeholder to prompt use of mentions"},{id:`${S}4`,defaultMessage:"Words not enough? Type : to add emoji. \ud83d\ude0d",description:"Placeholder to prompt use of emoji"}])(),r=(e=>Math.floor(Math.random()*e))(o.length),i=window&&window.navigator&&(e=>/^Mac/.test(e))(window.navigator.platform);return t.formatMessage(o[r],{helpShortcut:i?"\u2318":"Ctrl"})},this.jsonTransformer=new(n("pSE0").JSONTransformer),this.contextIdentifierPromise=void 0,this.mentionProviderPromise=void 0,this.activityProviderPromise=void 0,this.searchProviderPromise=void 0,this.emojiProviderPromise=void 0,this.extensionProviders=void 0,this.autoformattingProviderPromise=void 0,this.akEditorRef=void 0,this.placeholderText=void 0,this.scrollableElement=void 0,
this.assistiveLabelWithDefaultMessage=void 0,this.contentTransformerProvider=()=>({encode:e=>e,parse:e=>e})}UNSAFE_componentWillMount(){const{cloudId:e,loggedInUserAccountId:t,contextIdentifier:o,mentionProvider:r,activityProvider:i,searchProvider:s,autoformattingProvider:a,attachmentsReferenceProvider:c,intl:l,createAnalyticsEvent:d,isCannedResponseEnabled:u}=this.props;this.placeholderText=this.getPlaceholder(),r&&(this.mentionProviderPromise=Promise.resolve(r)),i&&(this.activityProviderPromise=Promise.resolve(i)),s&&(this.searchProviderPromise=Promise.resolve(s)),a&&(this.autoformattingProviderPromise=Promise.resolve(a)),this.emojiProviderPromise=Object(n("/gsq").b)(e&&Object(n("d/M9").e)(e),t),o&&(this.contextIdentifierPromise=Promise.resolve(o));const p=[Object(n("x3gE").a)({appKey:"l5albia6lf64r4n",canMountinIframe:!1}),m({provider:c,intlLocale:l.locale,createAnalyticsEvent:d})];this.extensionProviders=u?e=>[new(n("pP/b").a)([...p,g(l.locale,e)])]:[new(n("pP/b").a)(p)],
this.assistiveLabelWithDefaultMessage=this.props.assistiveLabel?l.formatMessage(k.ariaLabelWithFieldName,{assistiveLabel:this.props.assistiveLabel}):void 0}UNSAFE_componentWillReceiveProps(e){const{mentionProvider:t,activityProvider:n,searchProvider:o,contextIdentifier:r}=e;t!==this.props.mentionProvider&&(this.mentionProviderPromise=t?Promise.resolve(t):void 0),n!==this.props.activityProvider&&(this.activityProviderPromise=n?Promise.resolve(n):void 0),o!==this.props.searchProvider&&(this.searchProviderPromise=o?Promise.resolve(o):void 0),r!==this.props.contextIdentifier&&(this.contextIdentifierPromise=r?Promise.resolve(r):void 0)}render(){return s.a.createElement(n("jSih").a,{onArrowLeft:u.a,onArrowRight:u.a,onArrowUp:u.a,onArrowDown:u.a},s.a.createElement(n("ddZk").a,{onEscape:this.props.onBlur},s.a.createElement(w,{onPaste:this.props.onPaste},s.a.createElement("div",{className:n("X8m8").d}),s.a.createElement(n("GqfY").a,null,s.a.createElement(n("WdXo").a,{render:e=>{var t,o
;return s.a.createElement(x,r()({actions:e,sharedValue:this.props.sharedValue,sharedAtTimestamp:this.props.sharedAtTimestamp,clearSharedValues:this.props.clearSharedValues},(Object(n("wCyq").isCommandPaletteCommentCommandEnabled)()||Object(n("wCyq").isCommandPaletteDescriptionCommandEnabled)())&&{actionsRef:this.props.actionsRef}),s.a.createElement(C,null,s.a.createElement(n("Wtre").a,{isExpanded:this.props.isExpanded,onExpand:this.onExpanded,onFocus:this.onExpanded,placeholder:this.props.collapsedPlaceholder||this.props.placeholder},s.a.createElement(n("LVTJ").a,r()({contextIdentifierProvider:this.contextIdentifierPromise,appearance:"comment",defaultValue:this.props.defaultValue,shouldFocus:this.props.shouldFocus,disabled:this.props.isDisabled||this.props.isLoading,onCancel:this.props.onCancel?this.onCancel:void 0,onChange:this.onChange(e),onSave:this.props.onSave?this.onSave(e):void 0,contentTransformerProvider:this.contentTransformerProvider,
mentionProvider:this.mentionProviderPromise||void 0,activityProvider:this.activityProviderPromise,searchProvider:this.searchProviderPromise,emojiProvider:this.emojiProviderPromise||void 0,extensionProviders:this.extensionProviders||void 0,quickInsert:this.extensionProviders?A:void 0,autoformattingProvider:this.autoformattingProviderPromise,media:{provider:this.props.mediaProvider,allowMediaSingle:!0,allowResizing:!0,allowResizingInTables:!0,allowAltTextOnImages:!0,altTextValidator:this.altTextValidator,allowLinking:!0,featureFlags:Object(n("XXmi").a)()},popupsMountPoint:this.props.portalElement||void 0,popupsScrollableElement:this.props.scrollContainerElement||void 0,popupsBoundariesElement:void 0,UNSAFE_cards:this.props.jiraCards,placeholder:this.placeholderText,allowHelpDialog:!0,ref:this.setEditorReactComponentRef,allowAnalyticsGASV3:!0},Object(n("xltk").a)(),{secondaryToolbarComponents:this.props.isLoading?s.a.createElement(n("6UK4").a,{size:"medium"
}):this.props.secondaryToolbarComponents,performanceTracking:Object(n("wCyq").getPerformanceTrackingConfiguration)(),trackValidTransactions:Object(n("wCyq").getValidTransactionsTrackingConfiguration)(),featureFlags:{codeBidiWarnings:!0,"code-bidi-warnings":!0,ufo:Object(n("wCyq").isEditorUFOEnabled)(),useSomewhatSemanticTextColorNames:Object(n("wCyq").isUseSomewhatSemanticTextColorNamesEnabled)(),useBetterTypeaheadNavigation:Object(n("wCyq").isUseBetterTypeaheadNavigationEnabled)(),"floating-toolbar-link-settings-button":Object(n("wCyq").isEditorFloatingToolbarLinkSettingsButtonEnabled)()},useStickyToolbar:this.props.useStickyToolbar,primaryToolbarComponents:null===(t=(o=this.props).primaryToolbarComponents)||void 0===t?void 0:t.call(o,e),elementBrowser:{replacePlusMenu:!0,showModal:!0}},this.props.assistiveLabel&&{assistiveLabel:Object(n("wCyq").isIssueViewEditorCommentsA11YEnabled)()?this.props.intl.formatMessage(k.ariaLabelWithFieldName,{assistiveLabel:this.props.assistiveLabel
}):this.assistiveLabelWithDefaultMessage})))))}})),s.a.createElement("div",{className:n("X8m8").c}))))}}I.displayName="Editor",I.displayName="Editor",I.defaultProps={isExpanded:!1,isExpandedByDefault:!1,isCannedResponseEnabled:!1,isDisabled:!1,isLoading:!1,shouldFocus:!1,defaultValue:(e=>({version:1,type:"doc",content:[{type:"paragraph",content:e?[{type:"text",text:`${e}`}]:[]}]}))(""),mentionEncoder:u.a,clearSharedValues:u.a,mentionProvider:null,contextIdentifier:void 0,mediaProvider:void 0,activityProvider:null,searchProvider:void 0,collapsedPlaceholder:void 0,placeholder:"",portalElement:void 0,onCancel:void 0,onExpanded:u.a,onSave:void 0,onBlur:u.a,onChange:u.a,onExpandedFailure:u.a,onSaveFailure:u.a,onChangeFailure:u.a,onPaste:u.a,onHideSave:u.a};const P=e=>{const t=Object(n("6JHv").a)(),o=Object(n("GVy0").a)(),a=(e=>{
const t=Object(n("gZwB").n)(),o=Object(n("Iz9g").h)(t),r=Object(n("Iz9g").j)(o),s=Object(i.useCallback)((()=>e),[e]),a=Object(i.useCallback)((()=>r===n("JXwD").g?y:O),[r]);return{fetchAttachments:Object(i.useCallback)((async(e,o,r)=>{try{const i={...E,...r&&{orderDirection:r.sortOrder,orderField:v[r.sortableField]},...o&&{startAt:e*(o-1)},...e&&{maxResults:e}},s=await Object(n("E/1f").b)(t,i);if(!s)return Promise.reject(new Error("Null response received"));const{nodes:a,totalCount:c}=s,l=null==a?void 0:a.map((e=>{const{mediaApiFileId:t,filename:n,filesize:o,createdDate:r,mimetype:i,hasRestrictedParent:s}=e;return{mediaFileId:t,fileName:n,fileSize:o,uploadTime:r,mimeType:i,isPrivateAttachment:s}}));return Promise.resolve({totalCount:c,attachmentItems:l})}catch(i){return Promise.reject(i)}}),[t]),getMediaClientConfig:s,getTableMetaData:()=>{const{startAt:e,orderDirection:t,maxResults:n}=E;return{pageStartAt:e,sortOrder:t,attachmentCount:n}},getProduct:a}
})(e.viewMediaClientConfig),c=Object(n("gZwB").n)(),[{value:{totalCount:l}}]=Object(n("VBV9").a)(c),d=(()=>{const e=Object(n("Q4b/").c)();return Object(i.useMemo)((()=>void 0!==e?{offsetTop:e}:null),[e])})(),{createAnalyticsEvent:u}=Object(n("rZ/p").a)(),p=!!e.useStickyToolbar&&(d||!0),[h,f]=Object(i.useState)(null),m=Object(i.useCallback)((e=>{requestAnimationFrame((()=>{const t=Object(n("MQ5h").a)(e);t&&f(t)}))}),[]),{portalTarget:b,portalNode:g}=(e=>{const[t,o]=Object(i.useState)(void 0),r=Object(i.useRef)(null),a=Object(i.useCallback)((e=>{o(e||void 0)}),[]);return{portalTarget:t,portalNode:s.a.createElement(s.a.Fragment,null,s.a.createElement(n("8+lK").a,{zIndex:e},s.a.createElement("div",{ref:a})),s.a.createElement("div",{ref:r}))}})(n("5Uc4").a.editorTooltip),w=N();return s.a.createElement(n("mgK1").a,{featureFlags:w},s.a.createElement("div",{ref:m},s.a.createElement(I,r()({},e,{intl:t,portalElement:b||e.portalElement,scrollContainerElement:h,loggedInUserAccountId:o,
useStickyToolbar:p,attachmentsReferenceProvider:a,attachmentTotalCount:l,createAnalyticsEvent:u})),g))};P.displayName="EditorWithIssueContainerRef";const M=Object(n("EBSb").a)([Object(a.connect)((e=>({baseUrl:Object(n("q0Qf").f)(e),cloudId:Object(n("q0Qf").i)(e)})),{}),n("3izs").a,n("nb9S").a,n("s1gk").a,T,n("VYVV").a])(P);t.a=M},CWsV:function(e,t,n){"use strict";function o(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}o.prototype.attrIndex=function(e){var t,n,o;if(!this.attrs)return-1;for(n=0,o=(t=this.attrs).length;n<o;n++)if(t[n][0]===e)return n;return-1},o.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},o.prototype.attrSet=function(e,t){var n=this.attrIndex(e),o=[e,t];n<0?this.attrPush(o):this.attrs[n]=o},o.prototype.attrGet=function(e){var t=this.attrIndex(e),n=null;return t>=0&&(n=this.attrs[t][1]),n},
o.prototype.attrJoin=function(e,t){var n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},e.exports=o},CXva:function(e,t,n){"use strict";var o=n("CWsV"),r=n("AGgm").isWhiteSpace,i=n("AGgm").isPunctChar,s=n("AGgm").isMdAsciiPunct;function a(e,t,n,o){this.src=e,this.env=n,this.md=t,this.tokens=o,this.tokens_meta=Array(o.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1}a.prototype.pushPending=function(){var e=new o("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},a.prototype.push=function(e,t,n){this.pending&&this.pushPending();var r=new o(e,t,n),i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters
}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(i),r},a.prototype.scanDelims=function(e,t){var n,o,a,c,l,d,u,p,h,f=e,m=!0,b=!0,g=this.posMax,v=this.src.charCodeAt(e);for(n=e>0?this.src.charCodeAt(e-1):32;f<g&&this.src.charCodeAt(f)===v;)f++;return a=f-e,o=f<g?this.src.charCodeAt(f):32,u=s(n)||i(String.fromCharCode(n)),h=s(o)||i(String.fromCharCode(o)),d=r(n),(p=r(o))?m=!1:h&&(d||u||(m=!1)),d?b=!1:u&&(p||h||(b=!1)),t?(c=m,l=b):(c=m&&(!b||u),l=b&&(!m||h)),{can_open:c,can_close:l,length:a}},a.prototype.Token=o,e.exports=a},CYMq:function(e,t,n){var o=n("yQFZ");e.exports=function(e){return Object(o(e))}},Cd4y:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));let o=0;function r(e){var t,n
;const o=(e=>e.analyticsPlugin$)(e.state),r=o&&o.performanceTracking&&o.performanceTracking.nodeViewTracking||{},i=null!==(t=r.samplingRate)&&void 0!==t?t:100,s=null!==(n=r.slowThreshold)&&void 0!==n?n:7;return{trackingEnabled:!!r.enabled,samplingRate:i,slowThreshold:s}}function i({nodeTypeName:e}){Object(n("61k9").b)(`\ud83e\udd89${e}::ReactNodeView`)}function s({nodeTypeName:e,dispatchAnalyticsEvent:t,editorState:r,samplingRate:i,slowThreshold:s}){Object(n("61k9").c)(`\ud83e\udd89${e}::ReactNodeView`,(a=>{++o%i==0&&a>s&&t({action:n("+PNV").a.REACT_NODEVIEW_RENDERED,actionSubject:n("+PNV").b.EDITOR,eventType:n("+PNV").e.OPERATIONAL,attributes:{node:e,duration:a,participants:Object(n("eMYd").a)(r)}})}))}},Cepr:function(e,t,n){"use strict";function o(e){var t,n,o;const r={},i={},s=e.schema.nodes,a=[null===(t=s.extension)||void 0===t?void 0:t.name,null===(n=s.inlineExtension)||void 0===n?void 0:n.name,null===(o=s.bodiedExtension)||void 0===o?void 0:o.name];return e.doc.descendants((e=>{
var t;const n=e.type.name;n in r?r[n]++:r[n]=1;let o=n;var s;a.includes(o)&&null!==(t=e.attrs)&&void 0!==t&&t.extensionType&&(o=`${e.attrs.extensionType} - ${null===(s=e.attrs)||void 0===s?void 0:s.extensionKey}`,o in i?i[o]++:i[o]=1);return!0})),{nodeCount:r,extensionNodeCount:i}}n.d(t,"a",(function(){return o}))},CqIp:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"g",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return m})),n.d(t,"h",(function(){return v}));var o=n("V2qZ"),r=n("UxO+");function i(e){let t="";const n=e.content().content;for(let o=0;o<n.childCount;o++)t+=n.child(o).textContent;return t}const s=(e,t)=>t.map((({start:t,end:n},o)=>a(t,n,o===e))),a=(e,t,n)=>{let r="search-match"
;return n&&(r+=" selected-search-match"),o.a.inline(e,t,{class:r})};function c(e,t,n,o=0){let r=[];const i=t.length;let s=null;const a=e=>{if(!e)return;let{text:s,pos:a}=e;const c=o+a;n||(t=t.toLowerCase(),s=s.toLowerCase());let l=s.indexOf(t);for(;-1!==l;){const e=l+i;r.push({start:c+l,end:c+e}),l=s.indexOf(t,e)}};return i>0&&(e.descendants(((e,t)=>{e.isText?null===s?s={text:e.text,pos:t}:s.text=s.text+e.text:(a(s),s=null)})),s&&a(s)),r}function l(e,t,n=!1){if(n){let n=t.findIndex((t=>t.start>=e))-1;return n<0&&(n=t.length-1),n}return Math.max(t.findIndex((t=>t.start>=e)),0)}const d=(e,t)=>(e+1)%t,u=(e,t)=>(e-1+t)%t,p=(e,t,n,o,i=0)=>o[n]?r.TextSelection.create(t,o[n].start+i):e,h=(e,t)=>{if(!t)return;const n=e.find(t.start,t.end);return n.length?n.find((e=>e.from===t.start&&e.to===t.end)):void 0},f=(e,t,n)=>{const o=e.find(),r=(e=e.remove(t.map((e=>e.copy(e.from,e.to))))).find(),i=b(t,o,r);return i.length>0&&(e=e.add(n,i)),e
},m=(e,t,n)=>(t.filter((e=>!!e)).map((t=>h(e,t))).forEach((t=>{t&&(e=f(e,[t],n))})),e),b=(e,t,n)=>{let o=[];if(t.length-e.length>n.length){const r=e.length>0?e[0].from:0,i=g(t,r),s=g(n,r),a=Math.min(i,s),c=t.slice(a),l=n.slice(a),d=[],u=c.length-l.length;let p=!1,h=0;for(let t=0;t<c.length;t++){const n=c[t];if(e.find((e=>e.from===n.from))){h-=1;continue}let o=t+h;for(o>=l.length&&(d.push(n),d.length===u&&(p=!0));o<l.length;o++){const e=l[o];if(n.from===e.from)break;if(e.from>n.from||o===l.length-1){d.push(n),h-=1,d.length===u&&(p=!0);break}}if(p)break}o=d.filter((t=>!e.find((e=>t.from===e.from))))}return o},g=(e,t)=>{let n=0;for(let o=e.length-1;o>=0;o-=100){if(e[o].from<t){n=o;for(let r=o;r<=e.length-1&&e[r].from<=t;r++)n=r;break}o<100&&o>0&&(o=100)}return n},v=(e,t,n)=>{const{from:o,to:r,slice:i}=t,s=i.content.size;return o+s>=e.start&&r-s<=e.end||n.mapping.map(o)+s>=e.start&&n.mapping.map(r)-s<=e.end}},CuL1:function(e,t,n){var o=n("mHY4"),r=n("/tXR"),i=n("GRew")
;e.exports=function(e){var t=o(e),n=r.f;if(n)for(var s,a=n(e),c=i.f,l=0;a.length>l;)c.call(e,s=a[l++])&&t.push(s);return t}},CuOu:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>!!e&&(e.indexOf("image/")>-1||e.indexOf("video/")>-1)},CvEH:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"j",(function(){return p}));const o=(e,t)=>Object.keys(t).filter((n=>{const{details:o}=t[n];return o&&o.meta.definitionId===e})),r=(e,t)=>{if(t&&t.data){const e=(e=>e["atlassian:visitUrl"])(t.data);if(e)return e}return e},i=e=>{var t;return null==e||null===(t=e.meta)||void 0===t?void 0:t.definitionId},s=e=>{var t;return null==e||null===(t=e.meta)||void 0===t?void 0:t.key},a=e=>{var t
;return null==e||null===(t=e.meta)||void 0===t?void 0:t.resourceType},c=e=>{var t;return null==e||null===(t=e.meta)||void 0===t?void 0:t.product},l=e=>{var t;return null==e||null===(t=e.meta)||void 0===t?void 0:t.subproduct},d=e=>e&&e.meta.auth||[],u=({meta:e})=>{const{access:t,visibility:n}=e;switch(t){case"forbidden":return"not_found"===n?"not_found":"forbidden";case"unauthorized":return"unauthorized";default:return"resolved"}},p=e=>["unauthorized","forbidden","errored","resolved","not_found"].indexOf(e)>-1},D4z0:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"n",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"t",(function(){return u})),n.d(t,"p",(function(){return p})),n.d(t,"u",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"o",(function(){return m})),n.d(t,"j",(function(){return b})),n.d(t,"i",(function(){return g})),n.d(t,"k",(function(){return v})),
n.d(t,"l",(function(){return y})),n.d(t,"m",(function(){return O})),n.d(t,"g",(function(){return E})),n.d(t,"f",(function(){return w})),n.d(t,"e",(function(){return S})),n.d(t,"q",(function(){return k})),n.d(t,"r",(function(){return x})),n.d(t,"s",(function(){return C}));n("ABBN");var o=n("UxO+"),r=n("mG1W");function i(e){const{selection:t}=e;return!!(t instanceof o.NodeSelection&&Object(n("ceYy").d)(t.node))||(t instanceof o.TextSelection&&!t.empty||!Object(n("vRZh").b)(e))}function s(e){const{selection:t}=e;return!!(t instanceof o.NodeSelection&&Object(n("ceYy").d)(t.node))||(t instanceof o.TextSelection&&!t.empty||!Object(n("vRZh").d)(e))}function a(e){const t=e.$anchor.node(0),n=e.$anchor.node(1);return t.lastChild===n}function c(e){return e.$cursor||void 0}function l(e,t,n){const o=function(e,t){const n=["blockquote","bulletList","orderedList"];if(1===t.depth)return t;let o=t.node(t.depth),r=t;for(;t.depth>=1;)o=(t=e.resolve(t.before(t.depth))).node(t.depth),
o&&-1!==n.indexOf(o.type.name)&&(r=t);return r}(t,e.$to).depth;if(0===o)return!1;const r=t.resolve(e.$to.after(o));return!!r.nodeAfter&&n(r.nodeAfter)}const d=new(n("pSE0").JSONTransformer);function u(e){return d.encode(e)}function p(e){return d.encodeNode(e)}function h(){const e=document.createElement("fakeelement"),t={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd"};for(const n in t)if(void 0!==e.style[n])return t[n]}function f(e){const t=function(e){const t=[];if(e.selection){const{$from:n,$to:o}=e.selection,{blockquote:r,panel:i,orderedList:s,bulletList:a,listItem:c,codeBlock:l,decisionItem:d,decisionList:u,taskItem:p,taskList:h}=e.schema.nodes;e.doc.nodesBetween(n.pos,o.pos,(e=>{e.isBlock&&[r,i,s,a,c,l,d,u,p,h].indexOf(e.type)>=0&&t.push(e.type)}))}return t}(e),{panel:n}=e.schema.nodes;return t.filter((e=>e!==n)).length>0}const m=e=>0===e.indexOf("temporary:"),b=e=>{
const{doc:t,paragraph:o,codeBlock:r,blockquote:i,panel:s,heading:a,listItem:c,bulletList:l,orderedList:d,taskList:u,taskItem:p,decisionList:h,decisionItem:f,media:m,mediaGroup:b,mediaSingle:g}=e.nodes,v=e=>{switch(e.type){case m:case b:case g:return!1;case o:case r:case a:case p:case f:return 0===e.content.size;case i:case s:case c:return 2===e.content.size&&v(e.content.firstChild);case l:case d:return 4===e.content.size&&v(e.content.firstChild);case u:case h:return 2===e.content.size&&v(e.content.firstChild);case t:let y=!0;return e.content.forEach((e=>{y=y&&v(e)})),y;default:return Object(n("x+VZ").j)(e)}};return v},g=e=>{const{tableCell:t,tableHeader:n}=e.schema.nodes;return Object(r.hasParentNodeOfType)([t,n])(e.selection)},v=e=>Object(r.hasParentNodeOfType)(e.schema.nodes.layoutSection)(e.selection),y=e=>Object(r.hasParentNodeOfType)(e.schema.nodes.listItem)(e.selection),O=e=>{const{blockquote:t}=e.schema.nodes;return Object(r.hasParentNodeOfType)(t)(e.selection)}
;function E(e,t,n,o){const r=[];return e.nodesBetween(t,n,((e,t,n)=>{o(e,t,n)&&r.push({node:e,pos:t})})),r}function w(e=[],t=(e=>e)){const n=new Set;return e.forEach((e=>n.add(t(e)))),e.filter((e=>{const o=t(e);return!!n.has(o)&&(n.delete(o),!0)}))}function S(e,...t){const n=[e,...t];return function(e){return n.reduceRight(((e,t)=>t(e)),e)}}function k(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>t(e(...n))))}function x(e={},t={}){const n=Object.keys(e),o=Object.keys(t);return n.length===o.length&&n.reduce(((n,o)=>n&&e[o]===t[o]),!0)}function C(e,t){return e.reduce(((e,n)=>e+t(n)),0)}},DJAv:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o=Object(n("7w+A").gridSize)(),r=1.5*Object(n("7w+A").gridSize)()},DQ6B:function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),
n.d(t,"a",(function(){return u})),n.d(t,"k",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"i",(function(){return m})),n.d(t,"b",(function(){return v}));var o=n("CsC6"),r=n("UxO+"),i=n("mG1W");const s=e=>"paragraph"===e.parent.type.name,a=e=>{const t=e.node(-1);return Object(n("EvmU").c)(e.parent)||Object(n("EvmU").d)(e.parent)||Object(n("EvmU").c)(t)},c=(e,t)=>{const{$from:r,$to:i}=t;let s;if(t instanceof n("WE2A").a&&r.nodeAfter){const e=r.nodeAfter.nodeSize||1;s=r.blockRange(r.doc.resolve(r.pos+e))}else s=r.blockRange(i);if(!s)return!1;return!!Object(o.m)(s,e)},l=e=>{const{parent:t}=e.selection.$from,{listItem:o}=e.schema.nodes;return e.selection instanceof n("WE2A").a?Object(n("EvmU").c)(t):Object(i.hasParentNodeOfType)(o)(e.selection)&&Object(n("EvmU").e)(t)},d=e=>{const{tableCell:t,tableHeader:n}=e.schema.nodes;return!!Object(i.findParentNodeOfType)([t,n])(e.selection)},u=e=>{const{$from:t}=e.selection,o=e.doc.resolve(t.pos-1)
;let r=o?o.nodeBefore:null;return e.selection instanceof n("WE2A").a&&(r=t.nodeBefore),Object(n("EvmU").d)(r)},p=e=>{const{selection:{from:t,to:o}}=e;let r=null;return e.doc.nodesBetween(t,o,(e=>(Object(n("EvmU").d)(e)&&(r=e),!r))),r},h=e=>{let t=0;for(let o=e.depth-1;o>0;o--){const r=e.node(o);Object(n("EvmU").d)(r)&&(t+=1)}return t},f=e=>{const t=h(e)-1,o=Object(i.findParentNodeClosestToPos)(e,n("EvmU").c);return{indentLevel:t,itemIndex:e.index(o?o.depth-1:void 0)}},m=({selection:e,doc:t})=>{if(e.empty)return e;const{$from:n,$to:o}=e;if(e instanceof r.NodeSelection){const e=b(n);return new r.TextSelection(e,e)}const i=b(n),s=g(o);return new r.TextSelection(s,i)},b=e=>{const t=e.blockRange(e,n("EvmU").c);return t&&0===e.textOffset&&t.end-1===e.pos?r.Selection.near(e.doc.resolve(t.end+1),1).$from:e},g=e=>{const t=e.blockRange(e,n("EvmU").c);return t&&0===e.textOffset&&t.start+1===e.pos?r.Selection.near(e.doc.resolve(t.start-1),-1).$to:e},v=({selection:e})=>{
const{$from:t,$to:o}=e,r=t.blockRange(o,n("EvmU").d);return r||null}},DRvN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 11h10a1 1 0 010 2H7a1 1 0 010-2zm5 4h5a1 1 0 010 2h-5a1 1 0 010-2zM7 7h10a1 1 0 010 2H7a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorAlignRightIcon";var s=i;t.default=s},DgfI:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>t=>{const o=Object(n("zYPQ").c)(t);if(!o)return;const r=n("wYWE").b.get(o.node);return(Array.isArray(e)?e:[e]).filter((e=>e>=0&&e<=r.width-1)).reduce(((e,t)=>{const n=r.cellsInRect({left:t,right:t+1,top:0,bottom:r.height});return e.concat(n.map((e=>{const t=o.node.nodeAt(e),n=e+o.start;return{pos:n,
start:n+1,node:t,depth:o.depth+2}})))}),[])}},DoLF:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("pVnL"),r=n.n(o),i=n("q1tI"),s=n.n(i);const a=e=>s.a.createElement("svg",r()({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M13.8562 11.9112L16.5088 9.26C16.7433 9.02545 16.8751 8.70733 16.8751 8.37563C16.8751 8.04392 16.7433 7.7258 16.5088 7.49125C16.2742 7.2567 15.9561 7.12493 15.6244 7.12493C15.2927 7.12493 14.9746 7.2567 14.74 7.49125L12.09 10.1438L9.4375 7.49125C9.20295 7.25686 8.8849 7.12526 8.55331 7.12537C8.22172 7.12549 7.90376 7.25732 7.66937 7.49188C7.43499 7.72643 7.30338 8.04448 7.3035 8.37607C7.30361 8.70766 7.43545 9.02561 7.67 9.26L10.32 11.91L7.67 14.5625C7.4423 14.7983 7.31631 15.114 7.31916 15.4418C7.32201 15.7695 7.45347 16.083 7.68523 16.3148C7.91699 16.5465 8.2305 16.678 8.55825 16.6808C8.88599 16.6837 9.20175 16.5577 9.4375 16.33L12.0888 13.68L14.74 16.33C14.8561 16.4461 14.9939 16.5383 15.1455 16.6012C15.2972 16.664 15.4597 16.6964 15.6239 16.6965C15.7881 16.6966 15.9507 16.6643 16.1024 16.6015C16.2541 16.5387 16.392 16.4467 16.5081 16.3306C16.6243 16.2146 16.7164 16.0768 16.7793 15.9251C16.8422 15.7734 16.8746 15.6109 16.8746 15.4467C16.8747 15.2825 16.8424 15.1199 16.7796 14.9682C16.7168 14.8165 16.6248 14.6786 16.5088 14.5625L13.8562 11.9112V11.9112ZM12 22C9.34784 22 6.8043 20.9464 4.92893 19.0711C3.05357 17.1957 2 14.6522 2 12C2 9.34784 3.05357 6.8043 4.92893 4.92893C6.8043 3.05357 9.34784 2 12 2C14.6522 2 17.1957 3.05357 19.0711 4.92893C20.9464 6.8043 22 9.34784 22 12C22 14.6522 20.9464 17.1957 19.0711 19.0711C17.1957 20.9464 14.6522 22 12 22V22Z",
fill:"currentColor"})),c=e=>s.a.createElement(n("UnwW").b,r()({glyph:a},e))},DrT7:function(t,n,o){var r=o("ekG2"),i=o("d+lc"),s=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=o("nAx8")(Function.call,o("TSC6").f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(e){n=!0}return function(e,t){return s(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:s}},E261:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n("iCc5")),r=i(n("V7oC"));n("uUy6");function i(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){var n=t.cellCount,r=t.cellSizeGetter,i=t.estimatedCellSize;(0,o.default)(this,e),this._cellSizeAndPositionData={},this._lastMeasuredIndex=-1,this._lastBatchedIndex=-1,this._cellSizeGetter=r,this._cellCount=n,this._estimatedCellSize=i}return(0,r.default)(e,[{key:"areOffsetsAdjusted",
value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,n=e.estimatedCellSize,o=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=n,this._cellSizeGetter=o}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index "+e+" is outside of range 0.."+this._cellCount);if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),n=t.offset+t.size,o=this._lastMeasuredIndex+1;o<=e;o++){var r=this._cellSizeGetter({index:o});if(void 0===r||isNaN(r))throw Error("Invalid size returned for cell "+o+" of value "+r);null===r?(this._cellSizeAndPositionData[o]={offset:n,size:0},
this._lastBatchedIndex=e):(this._cellSizeAndPositionData[o]={offset:n,size:r},n+=r,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,o=e.containerSize,r=e.currentOffset,i=e.targetIndex;if(o<=0)return 0;var s=this.getSizeAndPositionOfCell(i),a=s.offset,c=a-o+s.size,l=void 0;switch(n){case"start":l=a;break;case"end":l=c;break;case"center":l=a-(o-s.size)/2;break;default:l=Math.max(c,Math.min(a,r))}var d=this.getTotalSize();return Math.max(0,Math.min(d-o,l))}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset
;if(0===this.getTotalSize())return{};var o=n+t,r=this._findNearestCell(n),i=this.getSizeAndPositionOfCell(r);n=i.offset+i.size;for(var s=r;n<o&&s<this._cellCount-1;)s++,n+=this.getSizeAndPositionOfCell(s).size;return{start:r,stop:s}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,t,n){for(;t<=e;){var o=t+Math.floor((e-t)/2),r=this.getSizeAndPositionOfCell(o).offset;if(r===n)return o;r<n?t=o+1:r>n&&(e=o-1)}return t>0?t-1:0}},{key:"_exponentialSearch",value:function(e,t){for(var n=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t;)e+=n,n*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),t)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset "+e+" specified");e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),n=Math.max(0,this._lastMeasuredIndex)
;return t.offset>=e?this._binarySearch(n,0,e):this._exponentialSearch(n,e)}}]),e}();t.default=s},E3sl:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return f}));var o=n("UxO+"),r=n("EcEN"),i=n.n(r);let s,a;!function(e){e.SHOW_INSERT_TOOLBAR="SHOW_INSERT_TOOLBAR",e.HIDE_TOOLBAR="HIDE_TOOLBAR",e.SELECTION_CHANGE="SELECTION_CHANGE",e.INSERT_LINK_TOOLBAR="INSERT",e.EDIT_INSERTED_TOOLBAR="EDIT_INSERTED_TOOLBAR"}(s||(s={})),function(e){e.EDIT_LINK_TOOLBAR="EDIT",e.INSERT_LINK_TOOLBAR="INSERT",e.EDIT_INSERTED_TOOLBAR="EDIT_INSERTED"}(a||(a={}));const c=(e,t)=>n=>{if(!n.doc.rangeHasMark(e,t,n.schema.marks.link)){const o=n.doc.resolve(e),r=n.doc.resolve(t),i=n.schema.marks.link;if(o.parent===r.parent&&o.parent.isTextblock&&o.parent.type.allowsMarkType(i)){let o=!0;return n.doc.nodesBetween(e,t,(e=>(o=o&&!e.marks.some((e=>e.type.excludes(i))),o))),o}}
return!1},l=(e,t)=>{if(e){if(e.type===a.EDIT_LINK_TOOLBAR||e.type===a.EDIT_INSERTED_TOOLBAR){const{pos:n,deleted:o}=t.mapping.mapResult(e.pos,1),r=t.doc.nodeAt(n);return!o&&r.type.schema.marks.link.isInSet(r.marks)?r===e.node&&n===e.pos?e:{...e,pos:n,node:r}:void 0}return e.type===a.INSERT_LINK_TOOLBAR?{...e,from:t.mapping.map(e.from),to:t.mapping.map(e.to)}:void 0}},d=(e,t,n)=>{if(!e)switch(t){case s.SHOW_INSERT_TOOLBAR:{const{from:e,to:t}=n.selection;return c(e,t)(n)?{type:a.INSERT_LINK_TOOLBAR,from:e,to:t}:void 0}case s.SELECTION_CHANGE:const e=u(n);return e?{...e,type:a.EDIT_LINK_TOOLBAR}:void 0;default:return}if(e.type===a.EDIT_LINK_TOOLBAR)switch(t){case s.EDIT_INSERTED_TOOLBAR:{const t=u(n);return t?t.pos===e.pos&&t.node===e.node?{...e,type:a.EDIT_INSERTED_TOOLBAR}:{...t,type:a.EDIT_INSERTED_TOOLBAR}:void 0}case s.SELECTION_CHANGE:const t=u(n);return t?t.pos===e.pos&&t.node===e.node?e:{...t,type:a.EDIT_LINK_TOOLBAR}:void 0;case s.HIDE_TOOLBAR:return;default:return e}
if(e.type===a.INSERT_LINK_TOOLBAR)switch(t){case s.SELECTION_CHANGE:case s.HIDE_TOOLBAR:return;default:return e}},u=e=>{const{selection:{$from:t}}=e;if((e=>!!e.doc.type.schema.marks.link.isInSet(e.selection.$from.marks()))(e)||(e=>{const{$from:t,$to:n}=e.selection,o=t.nodeAfter;return!!o&&0===t.textOffset&&n.pos-t.pos===o.nodeSize&&!!e.doc.type.schema.marks.link.isInSet(o.marks)})(e)){const n=t.pos-t.textOffset,o=e.doc.nodeAt(n);return o&&o.isText?{node:o,pos:n}:void 0}},p=e=>{const t=e.content();if(0!==t.size)return 1===t.content.childCount&&t.content.firstChild&&e instanceof o.TextSelection?t.content.firstChild.textContent:void 0},h=new o.PluginKey("hyperlinkPlugin"),f=(e,t)=>new(n("KkS8").a)({state:{init(e,n){const o=c(n.selection.from,n.selection.to)(n);return{activeText:p(n.selection),canInsertLink:o,timesViewed:0,activeLinkMark:d(void 0,s.SELECTION_CHANGE,n),editorAppearance:t}},apply(o,r,a,u){let f=r
;const m=o.getMeta(h)&&o.getMeta(h).type,b=o.getMeta(h)&&o.getMeta(h).inputMethod;if(o.docChanged&&(f={activeText:f.activeText,canInsertLink:c(u.selection.from,u.selection.to)(u),timesViewed:f.timesViewed,inputMethod:b,activeLinkMark:l(f.activeLinkMark,o),editorAppearance:t}),m){const e=[s.SHOW_INSERT_TOOLBAR,s.EDIT_INSERTED_TOOLBAR].includes(m)?{timesViewed:++f.timesViewed,searchSessionId:i()()}:{timesViewed:f.timesViewed,searchSessionId:f.searchSessionId};f={activeText:f.activeText,canInsertLink:f.canInsertLink,inputMethod:b,activeLinkMark:d(f.activeLinkMark,m,u),editorAppearance:t,...e}}const g=a.selection.from!==u.selection.from||a.selection.to!==u.selection.to;return o.selectionSet&&g&&(f={activeText:p(u.selection),canInsertLink:c(u.selection.from,u.selection.to)(u),activeLinkMark:d(f.activeLinkMark,s.SELECTION_CHANGE,u),timesViewed:f.timesViewed,searchSessionId:f.searchSessionId,inputMethod:b,editorAppearance:t}),Object(n("D4z0").r)(f,r)||e(h,f),f}},key:h,props:{handleDOMEvents:{
mouseup:(e,t)=>!!m(t)&&(t.preventDefault(),!0),mousedown:(e,t)=>{if(!t.shiftKey||!m(t))return!1;const{state:n}=e,{selection:{$anchor:r}}=n,i=e.posAtCoords({left:t.clientX,top:t.clientY});if(null!=(null==i?void 0:i.pos)&&i.pos!==r.pos){const t=n.tr.setSelection(o.TextSelection.create(n.doc,r.pos,i.pos));return e.dispatch(t),!0}return!1}}}});function m(e){return(null==e?void 0:e.target)instanceof HTMLElement&&"A"===e.target.tagName}},E40G:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>e?parseInt(e,10):0},"E7O/":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var o=n("q1tI"),r=n.n(o);const i=Object(n("D6b/").defineMessages)({createComment:{id:"fabric.editor.createComment",defaultMessage:"Comment",description:"Create/add an inline comment based on the users selection"},createCommentInvalid:{id:"fabric.editor.createCommentInvalid",defaultMessage:"You can only comment on text and headings",
description:"Error message to communicate to the user they can only do the current action in certain contexts"},toolbar:{id:"fabric.editor.annotationToolbar",defaultMessage:"Annotation toolbar",description:"A label for a toolbar (UI element) that creates annotations/comments in the document"}}),s=e=>(t,n)=>{const o=document.querySelector(`div[aria-label="${e}"]`);if(!o)return n;const r=t.dom.closest(".fabric-editor-popup-scroll-parent")||document.body,i=r.getBoundingClientRect(),s=window&&window.getSelection(),a=s&&!s.isCollapsed&&s.getRangeAt(0);if(!a)return n;const c=o.getBoundingClientRect(),{head:l,anchor:d}=t.state.selection,u=t.coordsAtPos(Math.min(l,d)),p=t.coordsAtPos(Math.max(l,d)-Math.min(a.endOffset,1)),h=(u.top||0)-1.5*c.height;let f=0;if(u.top!==p.top){f=l>d?Math.max(u.right,p.right):Math.min(u.left,p.left);const e=a.getClientRects()[0];e.right<f&&(f=e.left+e.width/2)}else f=u.left+(p.right-u.left)/2;return f-=c.width/2,{top:h-i.top+r.scrollTop,left:Math.max(0,f-i.left)}
},a=e=>(t,n)=>{const o=document.querySelector(`div[aria-label="${e}"]`);if(!o)return n;const r=t.dom.closest(".fabric-editor-popup-scroll-parent")||document.body,i=r.getBoundingClientRect(),s=window&&window.getSelection(),a=s&&!s.isCollapsed&&s.getRangeAt(0);if(!a)return n;const c=o.getBoundingClientRect(),{head:l,anchor:d}=t.state.selection;let u,p=t.coordsAtPos(Math.min(l,d)),h=t.coordsAtPos(Math.max(l,d)-Math.min(a.endOffset,1));u=l>d&&p.top!==h.top?(h.top||0)+c.height/1.15:(p.top||0)-1.5*c.height;const f=(l>d?h.right:p.left)-c.width/2;return{top:u-i.top+r.scrollTop,left:Math.max(0,f-i.left)}},c=(e,t,o=!1)=>{const{schema:c}=e,l=Object(n("CAky").j)(e);if(l===n("nnUN").a.INVALID)return;const d=t.formatMessage(i.createComment),u=t.formatMessage(i.createCommentInvalid),p={type:"button",showTitle:!0,disabled:l===n("nnUN").a.DISABLED,testId:n("nnUN").b.floatingToolbarCreateButton,icon:n.n(n("gEIt")).a,tooltipContent:l===n("nnUN").a.DISABLED?u:r.a.createElement(n("QNHL").a,{description:d,
keymap:n("QNHL").e}),title:d,onClick:(e,t)=>Object(n("gr0J").e)(!0)(e,t)},{annotation:h}=c.marks,f=Object.keys(c.nodes).reduce(((e,t)=>{const n=c.nodes[t];return n.allowsMarkType(h)&&e.push(n),e}),[]),m=t.formatMessage(i.toolbar);return{title:m,nodeType:f,items:[p],onPositionCalculated:(o?s:a)(m)}}},EHlN:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));const o=new(n("UxO+").PluginKey)("forceFocusStatePlugin");function r(e,t){if(t)return t.dispatch(t.state.tr.setMeta(o,{selector:e}))}function i(e){const t=null==e?void 0:e.state;if(t){const{selector:n}=o.getState(t);if(n){const t=document.querySelector(n);t&&(t.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),t.focus(),r(null,e))}}}t.b=()=>new(n("KkS8").a)({key:o,state:{init:()=>({selector:null}),apply:(e,t)=>{const n=e.getMeta(o);return n&&"selector"in n?{selector:n.selector}:t}}})},EJiy:function(e,t,n){"use strict";t.__esModule=!0
;var o=s(n("F+2o")),r=s(n("+JPL")),i="function"==typeof r.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};function s(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof r.default&&"symbol"===i(o.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":void 0===e?"undefined":i(e)}},ENu8:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"EYN+":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));let o=!1;function r(e,...t){o&&console.log(e,...t)}},EdO1:function(e,t,n){"use strict";function o(e){return"row"===e.parent.type.spec.tableRole&&e.nodeAfter}function r(e){for(let t=e.nodeAfter,{pos:n}=e;t;t=t.firstChild,n++){const o=t.type.spec.tableRole
;if("cell"===o||"header_cell"===o)return e.doc.resolve(n)}for(let t=e.nodeBefore,{pos:n}=e;t;t=t.lastChild,n--){const o=t.type.spec.tableRole;if("cell"===o||"header_cell"===o)return e.doc.resolve(n-t.nodeSize)}return null}function i(e){for(let t=e.depth-1;t>0;t--)if("row"===e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function s(e,t,o){const r=e.start(-1),i=n("wYWE").b.get(e.node(-1)).nextCell(e.pos-r,t,o);return null==i?null:e.node(0).resolve(r+i)}n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s}))},EfUG:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var o=n("lSNA"),r=n.n(o),i=n("UxO+");class s{constructor(){r()(this,"changeHandlers",[]),this.changeHandlers=[]}subscribe(e){this.changeHandlers.push(e)}unsubscribe(e){this.changeHandlers=this.changeHandlers.filter((t=>t!==e))}notifyNewSelection(e,t){
this.changeHandlers.forEach((n=>n(e,t)))}}const a=new i.PluginKey("reactNodeView"),c=new(n("KkS8").a)({state:{init:()=>new s,apply:(e,t)=>t},key:a,view:e=>{const t=a.getState(e.state);let n=-1,o=-1;return{update:e=>{const{from:r,to:i}=e.state.selection;r===n&&i===o||(t.notifyNewSelection(r,i),n=r,o=i)}}}})},EgMr:function(e,t,n){"use strict";var o=n("pVnL"),r=n.n(o),i=n("q1tI");const s=e=>{e.preventDefault()},a=Object(i.memo)(Object(i.forwardRef)((({component:e,cssFn:t=n("Sf9E").a,isDisabled:o=!1,isSelected:i=!1,onClick:a,testId:c,children:l,description:d,iconAfter:u,iconBefore:p,overrides:h,onMouseDown:f,shouldTitleWrap:m,shouldDescriptionWrap:b,...g},v)=>{const y=f;return e?(Object(n("y0sf").b)("@atlaskit/menu","cssFn",t!==n("Sf9E").a,""),Object(n("AeFk").jsx)(n("Zpig").a,r()({},g,{overrides:h,description:d,iconAfter:u,title:l,iconBefore:p,isSelected:i,isDisabled:o,shouldTitleWrap:m,shouldDescriptionWrap:b,css:Object(n("AeFk").css)(t({isDisabled:o,isSelected:i}))
}),(({children:t,className:i})=>Object(n("AeFk").jsx)(e,r()({"data-testid":c},g,{className:i,ref:v,draggable:!1,onDragStart:s,onMouseDown:o?s:y,onClick:o?s:a,tabIndex:o?-1:void 0,"aria-disabled":o}),t)))):null})));t.a=a},EjDT:function(e,t,n){"use strict";function o(e){if(!e)return 1;const t=n("uOGI").a.getState(e);return t&&t.participants?t.participants.size():1}n.d(t,"a",(function(){return o}))},EvmU:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return d}));var o=n("MEpN");function r(e){return Boolean(e&&e.type&&["orderedList","bulletList"].includes(e.type.name))}function i(e){return Boolean(e&&e.type&&"paragraph"===e.type.name)}function s(e){return Boolean(e&&e.type&&"listItem"===e.type.name)}function a(e){return Boolean(e&&e.type&&"bulletList"===e.type.name)}function c(e){const{bulletList:t}=e.type.schema.nodes
;if(!t)return!1;const n=o.Fragment.from(t.createAndFill());return!s(e)&&e.type.validContent(n)}let l;!function(e){e[e.LEFT=1]="LEFT",e[e.RIGHT=-1]="RIGHT"}(l||(l={}));const d=({tr:e,direction:t,forceListType:n})=>{const o={orderedList:0,bulletList:0},{doc:i,selection:{$from:a,$to:d},selection:u}=e,p=a.blockRange(d,c);if(!p)return o;const h=i.nodeAt(p.start),f=r(h)?p.start:0,m=r(h)?p.end:e.doc.content.size,b=[];if(i.nodesBetween(f,m,((o,a,c)=>{const d=i.resolve(a),{nodeBefore:u,nodeAfter:p}=d;if(!(u&&p&&r(u)&&r(p)))return;const h=s(c);if(!h&&u.type!==p.type&&!n)return;const m=d.index(),g=d.posAtIndex(m-1),v=d.posAtIndex(m),y=g>=f||u.type===n;if(n&&(y&&e.setNodeMarkup(g,n),e.setNodeMarkup(v,n)),h&&u.type!==p.type){const n=t===l.RIGHT?p.type:u.type;e.setNodeMarkup(g,n)}y&&b.push(a)})),u.empty&&h&&r(h)){const e=i.resolve(p.start+h.nodeSize),{nodeBefore:t,nodeAfter:n}=e;t&&n&&r(t)&&r(n)&&n.type===t.type&&b.push(e.pos)}for(let r=b.length-1;r>=0;r--){
const t=e.doc.nodeAt(b[r]),n=null==t?void 0:t.type.name;if(n&&("orderedList"===n||"bulletList"===n)){const e=o[n]||0;o[n]=e+1}e.join(b[r])}return o}},"F+2o":function(e,t,n){e.exports={default:n("UR8F"),__esModule:!0}},FOo9:function(e,t,n){"use strict";let o,r;n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),function(e){e.EMOJI="emojiTypeAhead",e.MENTION="mentionTypeAhead",e.QUICK_INSERT="quickInsertTypeAhead"}(o||(o={})),function(e){e.SHIFT_ENTER="shift-enter",e.ENTER="enter",e.SPACE="space",e.SELECTED="selected",e.TAB="tab"}(r||(r={}))},"FT/o":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c}));var o=n("CsC6");const r=(e,t,n,o)=>{e.forEachCell(((e,r)=>{t.nodesBetween(r,r+e.nodeSize,n,o)}))},i=["heading","codeBlock","blockquote"],s=["em","code","strike","strong","underline","textColor","subsup"],a={em:n("+PNV").c.FORMAT_ITALIC,code:n("+PNV").c.FORMAT_CODE,strike:n("+PNV").c.FORMAT_STRIKE,
strong:n("+PNV").c.FORMAT_STRONG,underline:n("+PNV").c.FORMAT_UNDERLINE,textColor:n("+PNV").c.FORMAT_COLOR,subsup:"subsup"};function c(e){return function(e){return function(t,o){const{tr:c}=t,d=[];return s.forEach((e=>{const{from:o,to:i}=c.selection,s=t.schema.marks[e];s&&(c.selection instanceof n("n1Ll").a?r(c.selection,c.doc,((n,o)=>n.type!==t.schema.nodes.tableCell&&n.type!==t.schema.nodes.tableHeader||(c.doc.rangeHasMark(o,o+n.nodeSize,s)&&(d.push(a[e]),c.removeMark(o,o+n.nodeSize,s)),!1))):c.doc.rangeHasMark(o,i,s)&&(d.push(a[e]),c.removeMark(o,i,s)))})),i.forEach((e=>{const o=t.schema.nodes[e],{$from:i,$to:s}=c.selection;c.selection instanceof n("n1Ll").a?r(c.selection,c.doc,l(t,c,o,e,d)):c.doc.nodesBetween(i.pos,s.pos,l(t,c,o,e,d))})),c.setStoredMarks([]),d.length&&e&&Object(n("SVcB").a)(t,c,{action:n("+PNV").a.FORMATTED,eventType:n("+PNV").e.TRACK,actionSubject:n("+PNV").b.TEXT,actionSubjectId:n("+PNV").c.FORMAT_CLEAR,attributes:{inputMethod:e,formattingCleared:d}}),o&&o(c),!0}
}(e)}function l(e,t,n,r,i){return function(s,a){if(s.type===n){if(n.isTextblock)return t.setNodeMarkup(a,e.schema.nodes.paragraph),i.push(r),!1;{let e=t.doc.resolve(a+1),n=t.doc.resolve(a+s.nodeSize-1);const c=e.blockRange(n);if(c){const e=Object(o.p)(c);(e||0===e)&&(i.push(r),t.lift(c,e))}}}return!0}}},FUCu:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const o={xxs:{gridItemGutter:"var(--ds-space-200, 16px)",gridMargin:"var(--ds-space-200, 16px)",min:"0rem",max:"29.99rem"},xs:{gridItemGutter:"var(--ds-space-200, 16px)",gridMargin:"var(--ds-space-200, 16px)",min:"30rem",max:"47.99rem"},sm:{gridItemGutter:"var(--ds-space-200, 16px)",gridMargin:"var(--ds-space-300, 24px)",min:"48rem",max:"63.99rem"},md:{gridItemGutter:"var(--ds-space-300, 24px)",gridMargin:"var(--ds-space-400, 32px)",min:"64rem",max:"89.99rem"},lg:{gridItemGutter:"var(--ds-space-400, 32px)",gridMargin:"var(--ds-space-400, 32px)",min:"90rem",max:"109.99rem"},xl:{gridItemGutter:"var(--ds-space-400, 32px)",
gridMargin:"var(--ds-space-500, 40px)",min:"110rem",max:null}},r=(Object.keys(o)[0],{above:{above:{xxs:"@media all",xs:`@media (min-width: ${o.xs.min})`,sm:`@media (min-width: ${o.sm.min})`,md:`@media (min-width: ${o.md.min})`,lg:`@media (min-width: ${o.lg.min})`,xl:`@media (min-width: ${o.xl.min})`},below:{xs:`@media not all and (min-width: ${o.xs.min})`,sm:`@media not all and (min-width: ${o.sm.min})`,md:`@media not all and (min-width: ${o.md.min})`,lg:`@media not all and (min-width: ${o.lg.min})`,xl:`@media not all and (min-width: ${o.xl.min})`},only:{xxs:`@media (min-width: ${o.xxs.min}) and (max-width: ${o.xxs.max})`,xs:`@media (min-width: ${o.xs.min}) and (max-width: ${o.xs.max})`,sm:`@media (min-width: ${o.sm.min}) and (max-width: ${o.sm.max})`,md:`@media (min-width: ${o.md.min}) and (max-width: ${o.md.max})`,lg:`@media (min-width: ${o.lg.min}) and (max-width: ${o.lg.max})`,xl:`@media (min-width: ${o.xl.min})`}}.above})},FUiX:function(e,t,n){"use strict";n.d(t,"a",(function(){
return a}));var o=n("lSNA"),r=n.n(o),i=n("NY1e");class s{constructor({url:e,cloudId:t,siteMasterList:n}){r()(this,"makePostRequest",((e,t)=>{const n={path:e,requestInit:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}};return i.b.requestService(this.serviceConfig,n)})),this.serviceConfig={url:e},this.cloudId=t,this.siteMasterList=n}async search({query:e,context:t,scopes:n,modelParams:o,resultLimit:r,filters:i=[],experience:a,sites:c=[]}){const l=this.cloudId,d=c.length>0?c:((e=[])=>e.slice(0,3))(this.siteMasterList).map((e=>e.cloudId)),u={query:e,cloudId:l,limit:r,scopes:n,filters:i,searchSession:t,...o.length>0?{modelParams:o}:{},experience:a,cloudIds:d},{result:p,durationMs:h}=await(async e=>{const t=Date.now();return{result:await e,durationMs:Date.now()-t}})(this.makePostRequest(s.QUICKSEARCH_API_URL,u));return{response:{rawData:p,retrieveScope:e=>p.scopes.find((t=>t.id===e))||null},requestDurationMs:h}}}r()(s,"QUICKSEARCH_API_URL","quicksearch/v1")
;const a=({cloudId:e,aggregatorUrl:t})=>{const n=new s({cloudId:e,url:t||"/gateway/api/xpsearch-aggregator",siteMasterList:[]});return{search:async function({query:e,scopes:t,resultLimit:o,analytics:r}){return n.search({query:e,context:{sessionId:r.sessionId?r.sessionId:"not-applicable",referrerId:null},scopes:t,modelParams:[],resultLimit:o,filters:[],experience:`external-${r.identifier}`})}}}},FYw3:function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("EJiy"));t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},FaP8:function(e,t,n){"use strict";const o={name:"89fuxm",styles:"display:flex;justify-content:center;margin-top:64px"};t.a=()=>Object(n("AeFk").jsx)("div",{css:o},Object(n("AeFk").jsx)(n("6UK4").a,{size:"small"}))},FgkJ:function(e,t){e.exports=function(e){
if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},Fn6O:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 7h10a1 1 0 010 2H7a1 1 0 110-2zm2.78 11a1 1 0 01-.97-.757L7.156 10.62A.5.5 0 017.64 10h8.72a.5.5 0 01.485.621l-1.656 6.622a1 1 0 01-.97.757H9.781zM11 6h2a1 1 0 011 1h-4a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorRemoveIcon";var s=i;t.default=s},G0K9:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var o=n("lSNA"),r=n.n(o),i=n("UxO+");const s=new WeakMap;class a{constructor(){r()(this,"update",(e=>{this.subscriptions.forEach((t=>t(e)))})),r()(this,"add",(e=>{this.subscriptions.push(e)})),r()(this,"remove",(e=>{
this.subscriptions=this.subscriptions.filter((t=>t!==e))})),this.subscriptions=[]}}const c=new i.PluginKey("viewUpdateSubscriptionKey");t.a=()=>{let e;const t={current:null,initial:null,transactions:[],queued:!1};return{name:"viewUpdateSubscription",pmPlugins:()=>[{name:"viewUpdateSubscription",plugin:()=>new(n("KkS8").a)({key:c,view:t=>(e=s.get(t),e||(e=new a,s.set(t,e)),{})})}],onEditorViewStateUpdated(n){t.current=n,t.transactions.push(...n.transactions),t.queued||(t.initial=n,t.queued=!0,queueMicrotask((()=>{if(t.current&&t.initial){var n;if(e)e.update({newEditorState:t.current.newEditorState,oldEditorState:null===(n=t.initial)||void 0===n?void 0:n.oldEditorState,transactions:t.transactions});t.queued=!1,t.current=null,t.transactions=[]}})))}}}},GD2S:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const o=(e,t)=>0===t.length?e:t.reduce(((t,n)=>Math.abs(n-e)<Math.abs(t-e)?n:t)),r=["left","right"],i={
left:"start",right:"end"}},GDZC:function(t,n,o){var r=o("bKEA"),i=o("ZDin").f,s={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==s.call(t)?function(t){try{return i(t)}catch(e){return a.slice()}}(t):i(r(t))}},GNay:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("q1tI"),r=n.n(o);const i=({children:e,emojiContextValue:t})=>{const i=Object(o.useMemo)((()=>t),[t]);return Object(o.useEffect)((()=>{!async function(){try{await(null==i?void 0:i.emoji.emojiProvider.fetchEmojiProvider())}catch(e){Object(n("wjyn").a)("fetchEmojiProvider error catched from outside",e)}}()}),[i]),r.a.createElement(n("N+td").a.Provider,{value:i},e)}},GQeE:function(e,t,n){e.exports={default:n("1GvH"),__esModule:!0}},GRew:function(e,t){t.f={}.propertyIsEnumerable},GVy0:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=()=>{const e=Object(n("QwAD").c)()
;return e&&e.atlassianAccountId||null}},GZ5e:function(e,t,n){"use strict";e.exports=function(e,t,n){var o,r,i,s,a,c,l,d,u,p,h=t+1,f=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(p=e.parentType,e.parentType="paragraph";h<n&&!e.isEmpty(h);h++)if(!(e.sCount[h]-e.blkIndent>3)){if(e.sCount[h]>=e.blkIndent&&(c=e.bMarks[h]+e.tShift[h])<(l=e.eMarks[h])&&(45===(u=e.src.charCodeAt(c))||61===u)&&(c=e.skipChars(c,u),(c=e.skipSpaces(c))>=l)){d=61===u?1:2;break}if(!(e.sCount[h]<0)){for(r=!1,i=0,s=f.length;i<s;i++)if(f[i](e,h,n,!0)){r=!0;break}if(r)break}}return!!d&&(o=e.getLines(t,h,e.blkIndent,!1).trim(),e.line=h+1,(a=e.push("heading_open","h"+String(d),1)).markup=String.fromCharCode(u),a.map=[t,e.line],(a=e.push("inline","",0)).content=o,a.map=[t,e.line-1],a.children=[],(a=e.push("heading_close","h"+String(d),-1)).markup=String.fromCharCode(u),e.parentType=p,!0)}},GZmM:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i
}));var o=n("UxO+");const r=e=>{if(e&&e instanceof o.NodeSelection){if("status"===e.node.type.name)return e.node.attrs||null}return null},i=e=>e&&(e.text&&0===e.text.trim().length||""===e.text)},Gbq5:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var o=n("UxO+");function r(e,t,o){const{state:r}=e;e.dispatch(r.tr.setSelection(new(n("WE2A").a)(r.doc.resolve(t),o)))}const i=({selection:e,doc:t},n)=>{if(e.$from.depth>1){if(n.attrs.layout&&"default"!==n.attrs.layout)return n.type.createChecked({...n.attrs,layout:"default"},n.content,n.marks);const e=t.type.schema.marks.breakout;if(e&&e.isInSet(n.marks)){const t=e.removeFromSet(n.marks);return n.type.createChecked(n.attrs,n.content,t)}}return n
},s=(e,t)=>e instanceof o.NodeSelection?o.NodeSelection.create(t,e.from):e instanceof o.TextSelection?o.TextSelection.create(t,e.from,e.to):e instanceof n("WE2A").a?new(n("WE2A").a)(t.resolve(e.from),e.side):e instanceof n("n1Ll").a?new(n("n1Ll").a)(t.resolve(e.$anchorCell.pos),t.resolve(e.$headCell.pos)):void 0},GfoU:function(e,t,n){var o=n("/F7N"),r=n("yQFZ");e.exports=function(e){return function(t,n){var i,s,a=String(r(t)),c=o(n),l=a.length;return c<0||c>=l?e?"":void 0:(i=a.charCodeAt(c))<55296||i>56319||c+1===l||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):i:e?a.slice(c,c+2):s-56320+(i-55296<<10)+65536}}},GhSp:function(t,n,o){var r=o("d+lc"),i=o("+vXQ"),s=o("M5dz"),a=Object.defineProperty;n.f=o("C61u")?Object.defineProperty:function(t,n,o){if(r(t),n=s(n,!0),r(o),i)try{return a(t,n,o)}catch(e){}if("get"in o||"set"in o)throw TypeError("Accessors not supported!");return"value"in o&&(t[n]=o.value),t}},GhYq:function(e,t,n){"use strict";function o(e,t){if(!e)return!1
;return e.toJSON().type===t}n.d(t,"a",(function(){return o}))},Gnrx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm8-8h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4a1 1 0 011-1zM6 5h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorAlignImageRightIcon";var s=i;t.default=s},GqfY:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),s=n.n(i),a=n("17x9"),c=n.n(a);const l=s.a.createContext({}),d=()=>s.a.useContext(l);class u extends s.a.Component{constructor(e){super(e),this.editorActions=e.editorActions||new(n("/7XU").a)}getChildContext(){return{
editorActions:this.editorActions}}render(){return s.a.createElement(l.Provider,{value:this.getChildContext()},this.props.children)}}u.displayName="LegacyEditorContext",r()(u,"childContextTypes",{editorActions:c.a.object})},GuFF:function(e,t,n){"use strict";t.a=()=>({name:"macro",pmPlugins:()=>[{name:"macro",plugin:({dispatch:e,providerFactory:t})=>((e,t)=>new(n("KkS8").a)({state:{init:()=>({macroProvider:null}),apply(t,o){const r=t.getMeta(n("YAmM").a);if(r){const t={...o,...r};return e(n("YAmM").a,t),t}return o}},key:n("YAmM").a,view:e=>{const o=(t,o)=>o&&Object(n("JkFw").c)(o)(e);return e.dom.parentNode&&t.subscribe("macroProvider",o),{destroy(){t.unsubscribe("macroProvider",o)}}}}))(e,t)}]})},GxTc:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),s=n.n(i);const a=s.a.createContext({width:0,positionedOverEditor:!1,broadcastWidth:()=>{},broadcastPosition:()=>{}})
;class c extends s.a.Component{constructor(e){super(e),r()(this,"state",{width:0,positionedOverEditor:!1}),r()(this,"broadcastSidebarWidth",(e=>{e!==this.state.width&&this.setState({width:e})})),r()(this,"broadcastPosition",(e=>{e!==this.state.positionedOverEditor&&this.setState({positionedOverEditor:e})}))}render(){const{width:e,positionedOverEditor:t}=this.state;return s.a.createElement(l,{value:{width:e,positionedOverEditor:t,broadcastWidth:this.broadcastSidebarWidth,broadcastPosition:this.broadcastPosition}},this.props.children)}}c.displayName="ContextPanelWidthProvider";const{Provider:l,Consumer:d}=a},H1L9:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));let o=!1;const r={setStatic(e){o=e},generate:()=>o||(()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})))()
},i=(e,t)=>t?e.createChecked(null,t):e.createAndFill(),s=({schema:e,rowsCount:t=3,colsCount:o=3,withHeaderRow:s=!0,cellContent:a})=>{const{cell:c,header_cell:l,row:d,table:u}=Object(n("p81E").a)(e),p=[],h=[];for(let n=0;n<o;n++){const e=i(c,a);if(e&&p.push(e),s){const e=i(l,a);e&&h.push(e)}}const f=[];for(let n=0;n<t;n++)f.push(d.createChecked(null,s&&0===n?h:p));return u.createChecked({localId:r.generate()},f)}},HAbh:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("lSNA"),r=n.n(o),i=n("UxO+");class s extends n("gVP2").a{constructor(e,t,o,s,a,c,l,d=!1,u,p=!1){super(e,t,o,s,a,c,l,d,u,p),r()(this,"isNodeInsideSelection",((e,t,n,o)=>(({pos:n,posEnd:o}=this.getPositionsWithDefault(n,o)),"number"==typeof n&&"number"==typeof o&&(e<=n&&t>=o)))),r()(this,"isSelectionInsideNode",((e,t,n,o)=>(({pos:n,posEnd:o}=this.getPositionsWithDefault(n,o)),"number"==typeof n&&"number"==typeof o&&(n<e&&t<o)))),r()(this,"isSelectedNode",(e=>{if(e instanceof i.NodeSelection){
const{selection:{from:t,to:n}}=this.view.state;return e.node===this.node||this.pos===t&&this.posEnd===n&&e.node.eq(this.node)}return!1})),r()(this,"insideSelection",(()=>{const{selection:{from:e,to:t}}=this.view.state;return this.isSelectedNode(this.view.state.selection)||this.isSelectionInsideNode(e,t)})),r()(this,"nodeInsideSelection",(()=>{const{selection:e}=this.view.state,{from:t,to:n}=e;return this.isSelectedNode(e)||this.isNodeInsideSelection(t,n)})),r()(this,"onSelectionChange",(()=>{this.update(this.node,[])})),this.updatePos(),this.oldSelection=t.state.selection,this.selectionChangeState=n("EfUG").b.getState(this.view.state),this.selectionChangeState.subscribe(this.onSelectionChange)}updatePos(){"boolean"!=typeof this.getPos&&(this.pos=this.getPos(),this.posEnd=this.pos+this.node.nodeSize)}getPositionsWithDefault(e,t){return{pos:"number"!=typeof e?this.pos:e,posEnd:"number"!=typeof t?this.posEnd:t}}viewShouldUpdate(e){const{state:{selection:t}}=this.view,n=this.oldSelection
;this.oldSelection=t;const{pos:o,posEnd:r}=this;this.updatePos();const{from:s,to:a}=t,{from:c,to:l}=n;if(this.node.type.spec.selectable){const e=t instanceof i.NodeSelection&&t.from===this.pos,o=n instanceof i.NodeSelection&&n.from===this.pos;if(e&&!o||o&&!e)return!0}const d=this.isNodeInsideSelection(s,a)&&!this.isNodeInsideSelection(c,l),u=!this.isNodeInsideSelection(s,a)&&this.isNodeInsideSelection(c,l),p=this.isNodeInsideSelection(s,a,o,r)&&!this.isNodeInsideSelection(s,a);return!!(d||u||p)}destroy(){this.selectionChangeState.unsubscribe(this.onSelectionChange),super.destroy()}}},HDaX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=f(n("QbLZ")),r=f(n("JO7F")),i=f(n("Yz+Y")),s=f(n("iCc5")),a=f(n("V7oC")),c=f(n("FYw3")),l=f(n("mRg0")),d=n("f0wc"),u=f(d),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("q1tI")),h=f(n("iuhU"));n("5SuN"),
f(n("17x9"));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,n,o,a;(0,s.default)(this,t);for(var l=arguments.length,d=Array(l),u=0;u<l;u++)d[u]=arguments[u];return n=o=(0,c.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(d))),o._cellRenderer=function(e){var t=e.parent,n=e.rowIndex,i=e.style,s=e.isScrolling,a=e.isVisible,c=e.key,l=o.props.rowRenderer;return(0,r.default)(i,"width").writable&&(i.width="100%"),l({index:n,style:i,isScrolling:s,isVisible:a,key:c,parent:t})},o._setRef=function(e){o.Grid=e},o._onScroll=function(e){var t=e.clientHeight,n=e.scrollHeight,r=e.scrollTop;(0,o.props.onScroll)({clientHeight:t,scrollHeight:n,scrollTop:r})},o._onSectionRendered=function(e){var t=e.rowOverscanStartIndex,n=e.rowOverscanStopIndex,r=e.rowStartIndex,i=e.rowStopIndex;(0,o.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:n,startIndex:r,stopIndex:i})},a=n,(0,c.default)(o,a)}return(0,l.default)(t,e),(0,
a.default)(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,o=e.rowIndex,r=void 0===o?0:o;this.Grid&&this.Grid.recomputeGridSize({rowIndex:r,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.noRowsRenderer,r=e.scrollToIndex,i=e.width,s=(0,h.default)("ReactVirtualized__List",t);return p.createElement(u.default,(0,o.default)({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:s,columnWidth:i,columnCount:1,noContentRenderer:n,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:r}))}}]),t}(p.PureComponent);m.defaultProps={autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:d.accessibilityOverscanIndicesGetter,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,
style:{}},m.propTypes=null,t.default=m},HHRn:function(e){e.exports=JSON.parse('{"a":"@atlaskit/emoji","b":"67.4.4"}')},HIib:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o={richText:"richText",plain:"plain",markdown:"markdown",binary:"binary"},r={text:"text",url:"url",code:"code",mediaSingle:"mediaSingle",mediaCard:"mediaCard",mediaGroup:"mediaGroup",tableCells:"tableCells",table:"table",expand:"expand",nestedExpand:"nestedExpand",mixed:"mixed",blockquote:"blockquote",blockCard:"blockCard",bodiedExtension:"bodiedExtension",bulletList:"bulletList",codeBlock:"codeBlock",decisionList:"decisionList",decisionItem:"decisionItem",extension:"extension",heading:"heading",layoutSection:"layoutSection",orderedList:"orderedList",panel:"panel",rule:"rule",tableHeader:"tableHeader",tableRow:"tableRow",taskItem:"taskItem",uncategorized:"uncategorized"}},HKEd:function(e,t,n){"use strict";t.a=Object(n("D6b/").defineMessages)({editedBy:{
id:"issue-comment-base.comment.edited-by",defaultMessage:"{timestamp} by {author}",description:"Text for showing when an activity item was edited by a user"},anonymous:{id:"issue-comment-base.comment.anonymous",defaultMessage:"Anonymous",description:"Text to show for an anonymous user"},edit:{id:"issue-comment-base.comment.edit",defaultMessage:"Edit",description:""},hide:{id:"issue-comment-base.comment.hide",defaultMessage:"Hide",description:"Text to show hide comment"},unhide:{id:"issue-comment-base.comment.unhide",defaultMessage:"Unhide",description:"Text to show unhide comment"},delete:{id:"issue-comment-base.comment.delete",defaultMessage:"Delete",description:""},edited:{id:"issue-comment-base.comment.edited",defaultMessage:"Edited",description:""},retrySave:{id:"issue-comment-base.comment.retry-save",defaultMessage:"Retry",description:""},cancelSave:{id:"issue-comment-base.comment.cancel-save",defaultMessage:"Cancel",description:""},saving:{id:"issue-comment-base.comment.saving",
defaultMessage:"Saving...",description:""},confirmationHeader:{id:"issue-comment-base.comment.confirmation-header",defaultMessage:"Delete this comment?",description:""},confirmationContent:{id:"issue-comment-base.comment.confirmation-content",defaultMessage:"Once you delete, it's gone for good.",description:""},cancelDelete:{id:"issue-comment-base.comment.cancel-delete",defaultMessage:"Cancel",description:"Text displayed on cancel button on delete comment confirmation modal"},confirmationActionText:{id:"issue-comment-base.comment.confirmation-action-text",defaultMessage:"Delete",description:""},internalNote:{id:"issue-comment-base.comment.internal-note",defaultMessage:"Internal note",description:"This text will be displayed next to lock icon if that comment is internal"},copy:{id:"issue-comment-base.comment.copy",defaultMessage:"Copy link to comment",description:"Tooltip shown on hover"},lozenge:{id:"issue-comment-base.comment.lozenge",defaultMessage:"Comments",
description:"This text will be displayed inside the comment lozenge"},addedCommentDescription:{id:"issue-comment-base.comment.added-comment-description",defaultMessage:"added a <span>Comment</span>",description:"Should read as part of a sentence: {author name} added a Comment {date and time}"},notRequestParticipant:{id:"issue-comment-base.comment.not-request-participant",defaultMessage:"(not a request participant)",description:"This text will get concatenated with author name if user is not a request participant"},comment:{id:"issue-comment-base.comment.comment",defaultMessage:"Comment",description:"Editor assisitive label for comment section"}})},HKru:function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]
}}}},HRS3:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o);const i=Object(n("AeFk").css)("background:","var(--ds-background-neutral, #F4F5F7)",";border-radius:50%;min-width:",4*Object(n("7w+A").gridSize)(),"px;margin-left:-",Object(n("7w+A").gridSize)()/2,"px;"),s=Object(n("AeFk").css)("margin-right:",Object(n("7w+A").gridSize)(),"px;display:flex;align-items:center;&&>ul{list-style-type:none;}div:last-child button.invite-to-edit{border-radius:50%;height:32px;width:32px;padding:2px;}"),a=e=>Object(n("AeFk").css)("display:block;position:absolute;right:1px;bottom:1px;width:13px;height:13px;z-index:",n("anI9").J,";border-radius:3px;background:",e,";color:var(--ds-text-inverse, #fff);font-size:",Object(n("anI9").fb)(9),";line-height:0;padding-top:7px;text-align:center;box-shadow:0 0 1px var(--ds-border-inverse, #fff);box-sizing:border-box;"),c=e=>{const t=Object(n("8PVD").d)(e.sessionId).color.solid,o=e.name.substr(0,1).toUpperCase();return Object(n("AeFk").jsx)("div",{css:a(t),
"data-testid":"editor-collab-badge"},o)};var l=Object(n("Wwog").a)((e=>({name:e.name,src:e.avatar,size:"medium",presence:r.a.createElement(c,{name:e.name,sessionId:e.sessionId})})),(function([e],[t]){return e.name===t.name&&e.avatar===t.avatar&&e.sessionId===t.sessionId}));const d=r.a.memo((e=>{const{sessionId:t,editorView:o,featureFlags:r}=e,i=e.participants.toArray(),a=i.sort((e=>e.sessionId===t?-1:1)).map(l);return a.length?Object(n("AeFk").jsx)("div",{css:s},Object(n("AeFk").jsx)(n("4XvU").a,{appearance:"stack",size:"medium",data:a,maxCount:3,onAvatarClick:(t,s,a)=>{if(!o)return;(null==r?void 0:r.collabAvatarScroll)&&a>0&&Object(n("8PVD").g)(o,i,e.sessionId,a)}}),e.children):null})),u=e=>Object(n("AeFk").jsx)(o.Fragment,null,e.children),p=e=>{const{Component:t,onClick:o,selected:s,title:a}=e,c=r.a.useMemo((()=>Object(n("AeFk").jsx)(n.n(n("umwh")).a,{label:a})),[a]);if(!t&&!o)return null;const l=t||u;return Object(n("AeFk").jsx)("div",{css:i
},Object(n("AeFk").jsx)(l,null,Object(n("AeFk").jsx)(n("aEOQ").a,{className:"invite-to-edit",onClick:o,selected:s,title:a,titlePosition:"bottom",iconBefore:c})))};t.a=Object(n("o5hF").c)((e=>{const t=e.intl.formatMessage(n("yYBl").a.inviteToEditButtonTitle),{isInviteToEditButtonSelected:o,inviteToEditHandler:i,inviteToEditComponent:s,editorView:a,featureFlags:c}=e,l=r.a.useCallback((({data:e})=>e?r.a.createElement(d,{sessionId:e.sessionId,participants:e.activeParticipants,editorView:a,featureFlags:c},r.a.createElement(p,{title:t,selected:o,onClick:i,Component:s})):null),[o,i,s,t,a,c]);return r.a.createElement(n("fd7e").a,{plugins:{data:n("uOGI").a},render:l,editorView:a})}))},Hb9x:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return h}));var o=n("UxO+"),r=n("V2qZ"),i=n("mG1W");const s=new o.PluginKey("listPlugin"),a=s,c={bulletListActive:!1,bulletListDisabled:!1,orderedListActive:!1,orderedListDisabled:!1,decorationSet:r.b.empty},l=(e,t,o)=>{
const i=[],s=[];return e.nodesBetween(0,e.content.size,((e,t)=>{if(s.length>0){let e=!0;for(;e&&s.length>0;){const n=s[s.length-1];e=t>=n.startPos+n.node.nodeSize,e&&s.pop()}}if(Object(n("EvmU").d)(e)){s.push({node:e,startPos:t});const c=t,l=t+e.nodeSize,d=s.length;if(i.push(r.a.node(c,l,{"data-indent-level":`${d}`})),null!=o&&o.restartNumberedLists){var a;const t=Object(n("NpU6").a)({itemsCount:null==e?void 0:e.childCount,order:null==e||null===(a=e.attrs)||void 0===a?void 0:a.order});t&&i.push(r.a.node(c,l,{style:Object(n("nSh4").a)(t,"string")}))}else e.childCount>=100&&i.push(r.a.node(c,l,{"data-child-count":"100+"}))}})),r.b.empty.add(e,i)},d=e=>(t,n,o)=>({...u(t,n),decorationSet:l(t.doc,0,e)}),u=(e,t)=>{const{bulletList:o,orderedList:r}=e.doc.type.schema.nodes,s=Object(i.findParentNodeOfType)([o,r])(e.selection),a=!!s&&s.node.type===o,c=!!s&&s.node.type===r,l=!(a||c||Object(n("DQ6B").h)(o,e.selection)),d=!(a||c||Object(n("DQ6B").h)(r,e.selection))
;if(a!==t.bulletListActive||c!==t.orderedListActive||l!==t.bulletListDisabled||d!==t.orderedListDisabled){return{...t,bulletListActive:a,orderedListActive:c,bulletListDisabled:l,orderedListDisabled:d}}return t},p=e=>t=>({...c,decorationSet:l(t.doc,0,e)}),h=(e,t)=>{const{getPluginState:o,createPluginState:r}=Object(n("pVB1").a)(s,(()=>e=>e)(),{onDocChanged:d(t),onSelectionChanged:u});return new(n("KkS8").a)({state:r(e,p(t)),key:s,props:{decorations(e){const{decorationSet:t}=o(e);return t},handleClick:(e,t,o)=>{const{state:r}=e;if(["LI","UL"].includes((null==o?void 0:o.target).tagName)){var i;const c=r.tr.doc.nodeAt(t),{listItem:l,codeBlock:d}=e.state.schema.nodes;if((null==c?void 0:c.type)===l&&(null==c||null===(i=c.firstChild)||void 0===i?void 0:i.type)===d){var s,a;const r=50
;if(Boolean(null===(s=document)||void 0===s||null===(a=s.elementFromPoint(o.clientX+(n("nSh4").b+r),o.clientY))||void 0===a?void 0:a.closest(`.${n("P7RL").a.CODEBLOCK_CONTAINER}`)))return Object(n("Gbq5").c)(e,t+1,n("WE2A").c.LEFT),!0}}return!1}}})}},HfFq:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>"medium"===e?80:"large"===e?160:0},HhhU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("codeBlockPlugin")},HixG:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n("lSNA"),r=n.n(o),i=n("17x9"),s=n.n(i),a=n("q1tI"),c=n.n(a),l=n("OhBV"),d=n("xk4V"),u=n.n(d);class p extends c.a.Component{constructor(e,t){super(e),r()(this,"handleSave",(e=>{var t,n;return null===(t=(n=this.props).onSave)||void 0===t?void 0:t.call(n,e)})),r()(this,"handleAnalyticsEvent",(e=>Object(n("ViYe").a)(this.createAnalyticsEvent)(e))),r()(this,"getFeatureFlags",(()=>Object(n("RxBR").a)(this.props))),
r()(this,"getExperienceStore",(()=>this.experienceStore)),Object(n("czPg").a)(e),this.editorActions=(t||{}).editorActions||new(n("/7XU").a),this.editorSessionId=u()(),this.startTime=performance.now(),this.onEditorCreated=this.onEditorCreated.bind(this),this.onEditorDestroyed=this.onEditorDestroyed.bind(this),this.getExperienceStore=this.getExperienceStore.bind(this),Object(n("9GOd").a)(this.editorActions,e.performanceTracking,(e=>this.handleAnalyticsEvent(e)))}onEditorCreated(e){Object(n("+13A").a)(e,this.props,(e=>this.experienceStore=e),this.getExperienceStore,(()=>this.createAnalyticsEvent),this.editorActions,this.startTime,((e,t,n)=>this.registerEditorForActions(e,t,n)))}onEditorDestroyed(e){var t,n;this.unregisterEditorFromActions(),null===(t=(n=this.props).onDestroy)||void 0===t||t.call(n)}registerEditorForActions(e,t,n){this.editorActions._privateRegisterEditor(e,t,n,this.getFeatureFlags)}unregisterEditorFromActions(){this.editorActions._privateUnregisterEditor()}render(){
return Object(n("AeFk").jsx)(l.e,{data:{packageName:"@atlaskit/editor-core",packageVersion:"182.1.0",componentName:"editorCore",appearance:Object(n("rJZJ").c)(this.props.appearance),editorSessionId:this.editorSessionId}},Object(n("AeFk").jsx)(n("6FEM").a,{render:e=>(this.createAnalyticsEvent=e)&&Object(n("AeFk").jsx)(n("tmH4").b,{props:this.props,handleAnalyticsEvent:this.handleAnalyticsEvent,createAnalyticsEvent:this.createAnalyticsEvent,preset:this.props.preset,handleSave:this.handleSave,editorActions:this.editorActions,getExperienceStore:this.getExperienceStore,onEditorCreated:this.onEditorCreated,onEditorDestroyed:this.onEditorDestroyed})}))}}p.displayName="EditorNext",r()(p,"defaultProps",n("QRYr").a),r()(p,"contextTypes",{editorActions:s.a.object}),r()(p,"propTypes",{...Object(n("QRYr").b)("minHeight only supports editor appearance chromeless and comment for EditorNext"),preset:({preset:e})=>e.has(n("3DM8").a)?null:new Error("Presets must contain the base plugin")})},
HoxM:function(e,t,n){"use strict";t.a=n("7Xhc").a},HtLz:function(e,t,n){"use strict";function o(e){return"string"==typeof e?e:`${e}px`}n.d(t,"a",(function(){return o}))},HuUl:function(e,t,n){"use strict";n.r(t),n.d(t,"MarkdownTransformer",(function(){return h}));var o=n("1M3H"),r=n.n(o),i=n("82ng"),s=n.n(i),a=function(e,t){e.block.ruler.before("paragraph","table",s.a,{alt:["paragraph","reference"]})},c=n("LgcO");const l=e=>{e.core.ruler.before("inline","media",function(){const e=/!\[[^\]]*\]\([^)]+\)/g,t=["th_open","td_open","list_item_open"];return function(n){const o=e=>{const t=n.md.helpers.parseLinkDestination(e,e.indexOf("(")+1,e.length);if(t.ok){const e=n.md.normalizeLink(t.str);if(n.md.validateLink(e))return e}return""},r=e=>{const t=new n.Token("media_single_open","",1),r=new n.Token("media","",0);return r.attrs=[["url",o(e)],["type","external"]],[t,r,new n.Token("media_single_close","",-1)]},i=(e,t,o)=>{if(!e||0===e.length)return[];const r=new n.Token("inline","",1)
;return r.content=e,r.children=[],[...t,r,...o]};let s=[];const a=n.tokens.reduce(((o,a,c,l)=>{if("inline"===a.type&&e.test(a.content)){const d=[];let u=c-1,p=l[u],h=[];for(;p&&p.level>0&&-1===t.indexOf(p.type);)d.unshift(p),u--,p=l[u];-1===t.indexOf(p.type)?d.unshift(p):u++;const f=d.map((e=>new n.Token(e.type.replace("_open","_close"),e.tag,-1))).reverse(),m=a.content.match(e);let b=a.content;m.forEach((e=>{const t=b.indexOf(e),n=b.substr(0,t);b=b.substr(t+e.length),h=[...h,...i(n,d,f),...r(e)]})),b.length&&(h=[...h,...i(b,d,f)]),s=[...s,...f.map((e=>e.type))],o=[...o.slice(0,u),...h]}else-1!==s.indexOf(a.type)?s.splice(s.indexOf(a.type),1):o.push(a);return o}),[]);return n.tokens=a,!0}}())};const d={nodes:{blockquote:"blockquote",paragraph:"paragraph",rule:"hr",heading:["heading","lheading"],codeBlock:["code","fence"],listItem:"list",image:"image"},marks:{em:"emphasis",strong:"text",link:["link","autolink","reference","linkify"],strike:"strikethrough",code:"backticks"}},u={
blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",attrs:e=>({href:e.attrGet("href"),title:e.attrGet("title")||null})},hr:{node:"rule"},heading:{block:"heading",attrs:e=>({level:+e.tag.slice(1)})},softbreak:{node:"hardBreak"},hardbreak:{node:"hardBreak"},code_block:{block:"codeBlock"},list_item:{block:"listItem"},bullet_list:{block:"bulletList"},ordered_list:{block:"orderedList",attrs:e=>({order:"number"==typeof e.attrGet("start")?e.attrGet("start"):1})},code_inline:{mark:"code"},fence:{block:"codeBlock",attrs:e=>({language:e.info&&e.info.trim()||null})},media_single:{block:"mediaSingle",attrs:()=>({})},media:{node:"media",attrs:e=>({url:e.attrGet("url"),type:"external"})},emoji:{node:"emoji",attrs:e=>({shortName:`:${e.markup}:`,text:e.content})},table:{block:"table"},tr:{block:"tableRow"},th:{block:"tableHeader"},td:{block:"tableCell"},s:{mark:"strike"}},p=r()("zero",{html:!1});p.enable(["entity","escape"]);class h{
constructor(e=n("tdrV").defaultSchema,t=p){["nodes","marks"].forEach((n=>{for(const o in d[n])e[n][o]&&t.enable(d[n][o])})),e.nodes.table&&t.use(a),e.nodes.media&&e.nodes.mediaSingle&&t.use(l),this.markdownParser=new c.a(e,t,function(e,t){return Object.keys(t).reduce(((n,o)=>{const r=t[o],i=r.block||r.node,s=r.mark;return(i&&e.nodes[i]||s&&e.marks[s])&&(n[o]=r),n}),{})}(e,u))}encode(e){throw new Error("This is not implemented yet")}parse(e){return this.markdownParser.parse(e)}}},HxAM:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));const o=new(n("UxO+").PluginKey)("focusStatePlugin");t.a=e=>new(n("KkS8").a)({key:o,state:{init:()=>!0,apply:(t,n)=>{const r=t.getMeta(o);return"boolean"==typeof r&&r!==n?(e(o,r),r):n}},props:{handleDOMEvents:{click:e=>(o.getState(e.state)||e.dispatch(e.state.tr.setMeta(o,e.hasFocus())),!1),focus:e=>(o.getState(e.state)||e.dispatch(e.state.tr.setMeta(o,!0)),!1),blur:e=>(o.getState(e.state)&&e.dispatch(e.state.tr.setMeta(o,!1)),!1)}}})},
"I90/":function(e,t,n){var o=n("aqg2"),r=n("zBWt")("iterator"),i=n("ig3W");e.exports=n("VSTI").getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||i[o(e)]}},IIKj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={container:n("P7RL").a.CODEBLOCK_CONTAINER,start:n("P7RL").a.CODEBLOCK_START,end:n("P7RL").a.CODEBLOCK_END,contentWrapper:n("P7RL").a.CODEBLOCK_CONTENT_WRAPPER,gutter:n("P7RL").a.CODEBLOCK_LINE_NUMBER_GUTTER,content:n("P7RL").a.CODEBLOCK_CONTENT}},IIUe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M9 9V7l-3 3 3 3v-2h2.51a.49.49 0 00.49-.505v-.99A.495.495 0 0011.51 9H9zm4-1.495c0-.279.228-.505.491-.505h5.018a.49.49 0 01.491.505v.99a.503.503 0 01-.491.505h-5.018A.49.49 0 0113 8.495v-.99zm0 4c0-.279.228-.505.491-.505h5.018a.49.49 0 01.491.505v.99a.503.503 0 01-.491.505h-5.018a.49.49 0 01-.491-.505v-.99zm-6 4c0-.279.229-.505.5-.505h11c.276 0 .5.214.5.505v.99a.506.506 0 01-.5.505h-11a.495.495 0 01-.5-.505v-.99z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorOutdentIcon";var s=i;t.default=s},IIUr:function(e,t,n){"use strict";e.exports=function(e){var t,n,o=0,r=e.tokens,i=e.tokens.length;for(t=n=0;t<i;t++)r[t].nesting<0&&o--,r[t].level=o,r[t].nesting>0&&o++,"text"===r[t].type&&t+1<i&&"text"===r[t+1].type?r[t+1].content=r[t].content+r[t+1].content:(t!==n&&(r[n]=r[t]),n++);t!==n&&(r.length=n)}},IS3e:function(e,t,n){"use strict"
;var o=n("pVnL"),r=n.n(o),i=n("q1tI");const s=Object(i.memo)(Object(i.forwardRef)(((e,t)=>{const{children:o,cssFn:i=n("Sf9E").a,description:s,iconAfter:a,iconBefore:c,isDisabled:l=!1,isSelected:d=!1,onClick:u,testId:p,overrides:h,onMouseDown:f,shouldTitleWrap:m,shouldDescriptionWrap:b,...g}=e,v=f;return o?(Object(n("y0sf").b)("@atlaskit/menu","cssFn",i!==n("Sf9E").a,""),Object(n("AeFk").jsx)(n("Zpig").a,r()({},g,{overrides:h,iconBefore:c,iconAfter:a,isDisabled:l,isSelected:d,description:s,title:o,shouldTitleWrap:m,shouldDescriptionWrap:b,css:i({isSelected:d,isDisabled:l})}),(({children:e,className:o})=>Object(n("AeFk").jsx)("button",r()({"data-testid":p},g,{className:o,ref:t,disabled:l,onClick:u,onMouseDown:v,type:"button"}),e)))):null})));t.a=s},IXso:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));const o=new(n("UxO+").PluginKey)("widthPlugin");t.a=()=>({name:"width",pmPlugins:()=>[{name:"width",plugin:({dispatch:e})=>function(e){return new(n("KkS8").a)({key:o,state:{
init:()=>({width:document.body.offsetWidth,containerWidth:document.body.offsetWidth}),apply(t,n){const r=t.getMeta(o);if(!r)return n;const i={...n,...r};return i&&(n.width!==i.width||n.lineLength!==i.lineLength)||n.containerWidth!==i.containerWidth?(e(o,i),i):n}}})}(e)}],contentComponent({editorView:e,containerElement:t}){const n={lineLength:e.dom.clientWidth};var r;t&&(n.width=t.offsetWidth,n.containerWidth=null===(r=t.parentElement)||void 0===r?void 0:r.offsetWidth);const i=e.state.tr.setMeta(o,n);return e.dispatch(i),null}})},IYQB:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c}));var o=n("lSNA"),r=n.n(o);const i={type:n("RbdO").b.Operation,performanceType:n("RbdO").a.Custom,platform:{component:"editor"}};let s;!function(e){e.loadEditor="load",e.typing="type",e.interaction="interact",e.editSession="editSession"}(s||(s={}));const a=3e4;class c{constructor(){this.experiences=new Map
;for(const e of Object.values(s)){const t=new(n("28p1").a)(e,i);this.experiences.set(e,t)}}static getInstance(e,t={}){if(!this.stores.get(e)||null!=t&&t.forceNewInstance){const t=new c;this.stores.set(e,t)}return this.stores.get(e)}get(e){return this.experiences.get(e)}getActive(e){const t=this.experiences.get(e);if(null==t||!t.state.final)return t}getAll(){return Array.from(this.experiences.values())}start(e,t){var n;null===(n=this.get(e))||void 0===n||n.start(t)}addMetadata(e,t){var n;null===(n=this.get(e))||void 0===n||n.addMetadata(t)}mark(e,t,n){var o;null===(o=this.get(e))||void 0===o||o.mark(t,n)}success(e,t){var n;return null===(n=this.getActive(e))||void 0===n?void 0:n.success({metadata:t})}fail(e,t){var n;null===(n=this.getActive(e))||void 0===n||n.failure({metadata:t})}abort(e,t){setTimeout((()=>{var n;null===(n=this.getActive(e))||void 0===n||n.abort({metadata:t})}),0)}abortAll(e){this.experiences.forEach((t=>{this.abort(t.id,e)}))}failAll(e){this.experiences.forEach((t=>{
this.fail(t.id,e)}))}}r()(c,"stores",new WeakMap)},Iiav:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("q1tI");const r=()=>{const e=Object(o.useContext)(n("N+td").a),[t,r]=Object(o.useState)(!1);if(!e)throw new Error("useEmoji must be used within EmojiContext");const{emojiProvider:i}=e.emoji;return Object(o.useEffect)((()=>{if((e=>{const t=e;return!!t.isUploadSupported&&!!t.uploadCustomEmoji&&!!t.prepareForUpload})(i)){(async()=>{try{const e=await i.isUploadSupported();r(e)}catch(e){return!1}})()}}),[i]),{emojiProvider:i,isUploadSupported:t}}},Ip2m:function(e,t,n){"use strict";var o=e=>{const{invokeSingle:t,invokeList:o}=Object(n("77QF").a)(e);return{getExtensions:()=>o("getExtensions"),getExtension:(e,n)=>t("getExtension",[e,n]),search:e=>o("search",[e]),getAutoConverter:()=>o("getAutoConverter")}};t.a=e=>Object(n("Wwog").a)((t=>function(e,t){if(t)return o("function"==typeof t?t(e):t)}(e(),t)))},IpZz:function(e,t,n){"use strict";n.d(t,"a",(function(){return o
}));const o=Object(n("D6b/").defineMessages)({alignLeft:{id:"fabric.editor.alignLeft",defaultMessage:"Align left",description:"Action to align/justify text to the left"},alignCenter:{id:"fabric.editor.alignCenter",defaultMessage:"Align center",description:"Action to align/justify text to the center/middle"},alignRight:{id:"fabric.editor.alignRight",defaultMessage:"Align right",description:"Action to align/justify text to the right"}})},"Ir+t":function(e,t,n){n("3+Ww"),n("C5kU"),n("ZY/g"),n("xXl2"),n("Nlwn"),n("XLeT"),e.exports=n("VSTI").Promise},Isu6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5.836 6.95l-3.825 9.97a.5.5 0 00.467.68h1.208a.5.5 0 00.47-.33l.683-1.877a.5.5 0 01.47-.33H9.12a.5.5 0 01.47.33l.683 1.878a.5.5 0 00.47.329h1.272a.5.5 0 00.468-.678L8.685 6.95a.7.7 0 00-.655-.45H6.49a.7.7 0 00-.654.45zm1.566 2.457l1.25 3.414a.2.2 0 01-.188.269H5.966a.2.2 0 01-.188-.269l1.249-3.414a.2.2 0 01.375 0zm10.148 6.465c1.222 0 2.142-1.01 2.142-2.603 0-1.594-.902-2.532-2.142-2.532-1.256 0-2.178.938-2.178 2.532 0 1.575.904 2.603 2.178 2.603zm2.161.602c-.372.833-1.276 1.433-2.445 1.433-2.567 0-4.266-2-4.266-4.638 0-2.551 1.664-4.569 4.195-4.569 1.56 0 2.284.833 2.497 1.329v-.34c0-.247.007-.392.213-.576.137-.122.344-.177.62-.165h.764a.581.581 0 01.496.165c.213.203.192.421.192.577v6.394c0 .227.008.526.023.899 0 .191-.041.336-.124.434a.628.628 0 01-.508.242h-.93c-.193 0-.45-.084-.533-.184-.083-.1-.165-.23-.183-.532a6.342 6.342 0 01-.01-.364v-.105z" fill="currentColor" fill-rule="evenodd"/></svg>'
},e));i.displayName="EmojiKeyboardIcon";var s=i;t.default=s},IxVf:function(e,t,n){"use strict";t.a=(e,t,n)=>{}},"J/+S":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>{const t=Object(n("zYPQ").c)(e.selection);if(!t)return[];const o=n("wYWE").b.get(t.node),r=new Set,i=[];return o.map.forEach((e=>{r.has(e)?i.push(e):r.add(e)})),i}},JE3G:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("extensionPlugin")},JI5p:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("q1tI"),r=n("sEfC"),i=n.n(r);function s(e){const t=Object(o.useMemo)((()=>i()(e.handleAnalyticsEvent,500)),[e.handleAnalyticsEvent]);return Object(n("NvID").a)({onRender:({renderCount:o,propsDifference:r})=>{o&&t({payload:{action:e.action,actionSubject:e.actionSubject,attributes:{count:o,propsDifference:r},eventType:n("+PNV").e.OPERATIONAL}})},propsDiffingOptions:{enabled:!0,props:e.componentProps,propsToIgnore:e.propsToIgnore,
useShallow:e.useShallow},zeroBasedCount:!0}),null}},JKKi:function(e,t,n){var o=n("d+lc"),r=n("ekG2"),i=n("8sL3");e.exports=function(e,t){if(o(e),r(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},JLWW:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return c}));const o=(e,t)=>{const{mediaNodes:n}=e;return n.reduce(((e,n)=>{if(e)return e;const{node:o}=n;return o.attrs.id===t?n:e}),null)},r=(e,t)=>{const n=t.doc.nodeAt(e);return n&&["media","mediaInline"].includes(n.type.name)},i=(e,t)=>(o,i)=>{let s;s=((e,t)=>{const{mediaNodes:n}=e;return n.filter((e=>e.node.attrs.id===t))})(n("wBzk").a.getState(o),e);const a=s.reduce(((e,{getPos:t})=>{const n=t();return isNaN(n)||"number"==typeof n&&!r(n,o)||e.push(n),e}),[]);if(0===a.length)return!1;const c=o.tr;return a.forEach((e=>c.step(new(n("ml8T").a)(e,t)))),
c.setMeta("addToHistory",!1),i&&i(c),!0},s=(e,t)=>(o,i)=>{const s=t.getPos();if(isNaN(s)||"number"==typeof s&&!r(s,o))return!1;const a=o.tr;return a.step(new(n("ml8T").a)(s,e)),a.setMeta("addToHistory",!1),i&&i(a),!0},a=(e,t)=>(i,s)=>{const a=n("wBzk").a.getState(i),c=o(a,e);if(!c)return!1;const l=i.tr,d=c.getPos();return!!r(d,i)&&(l.step(new(n("ml8T").a)(d,t)).setMeta("addToHistory",!1),s&&s(l),!0)},c=(e,t)=>(o,r)=>{const i=o.tr,s=i.doc.nodeAt(e);return!(!s||"media"!==s.type.name)&&(i.step(new(n("ml8T").a)(e,{type:"file",url:null,...t})).setMeta("addToHistory",!1),r&&r(i),!0)}},JO7F:function(e,t,n){e.exports={default:n("ZblS"),__esModule:!0}},JkFw:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d}));var o=n("7rlJ"),r=n.n(o),i=n("UxO+"),s=n("mG1W");const a=(e,t,o)=>async r=>{if(!e)return!1;const a=await e.openMacroBrowser(t);if(a&&t){const{state:e,dispatch:l}=r,d=t&&t.attrs.layout||"default",u=c(a,e,{layout:d
});if(!u)return!1;const{selection:p,schema:h}=e,{extension:f,inlineExtension:m,bodiedExtension:b}=h.nodes,g=Object(n("eFSV").c)(e);let v=n("P90U").a.CURRENT_SELECTION,{tr:y}=e;const O=!!Object(s.findSelectedNodeOfType)([b])(p);if(t.type!==b||O){if(Object(s.findSelectedNodeOfType)([f,b,m])(p))y=Object(s.replaceSelectedNode)(u)(y),y.setSelection(i.NodeSelection.create(y.doc,y.mapping.map(e.selection.anchor)));else if(g.element){const e=r.posAtDOM(g.element,-1);e>-1&&(y=y.replaceWith(e,e+t.nodeSize,u),y.setSelection(i.Selection.near(y.doc.resolve(e))),v=n("P90U").a.HTML_ELEMENT)}}else y=o?Object(s.replaceParentNodeOfType)(b,u)(y):Object(s.safeInsert)(u)(y),y.setSelection(i.TextSelection.create(y.doc,e.selection.anchor));if(l&&y.docChanged){const{extensionType:r,extensionKey:i,layout:s,localId:a}=t.attrs;Object(n("SVcB").a)(e,y,{action:n("+PNV").a.UPDATED,actionSubject:n("+PNV").b.EXTENSION,actionSubjectId:t.type.name,eventType:n("+PNV").e.TRACK,attributes:{
inputMethod:o?n("+PNV").f.MACRO_BROWSER:n("+PNV").f.TOOLBAR,extensionType:r,extensionKey:i,layout:s,localId:a,selection:y.selection.toJSON(),targetSelectionSource:v}}),l(y.scrollIntoView())}return!0}return!1},c=(e,t,o)=>{if(!e||!t)return null;const{schema:r}=t,{type:i,attrs:s}=Object(n("o/8C").c)(e,r);let a;return"extension"===i?a=r.nodes.extension.create({...s,...o}):"bodiedExtension"===i?a=r.nodes.bodiedExtension.create({...s,...o},r.nodeFromJSON(e).content):"inlineExtension"===i&&(a=r.nodes.inlineExtension.create(s)),Object(n("Gbq5").b)(t,a)},l=(e,t)=>{const o=n("YAmM").a.getState(e),r=o&&o.macroProvider;if(!r||!r.autoConvert)return null;const i=r.autoConvert(t);return i?c(i,e):null},d=e=>async t=>{let o;try{o=await e,r()(o&&o.openMacroBrowser,`MacroProvider promise did not resolve to a valid instance of MacroProvider - ${o}`)}catch(i){o=null}return t.dispatch(t.state.tr.setMeta(n("YAmM").a,{macroProvider:o})),!0}},JpO0:function(e,t,n){var o=n("CYMq"),r=n("znrX")
;n("czaS")("getPrototypeOf",(function(){return function(e){return r(o(e))}}))},Jt1Q:function(e,t,n){"use strict";var o=n("b08l"),r=n("ENu8"),i=n("kvAF"),s={};n("BRsN")(s,n("zBWt")("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=o(s,{next:r(1,n)}),i(e,t+" Iterator")}},Jvvb:function(e,t,n){"use strict";var o;n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l})),function(e){e.ISO_FORMAT="YYYY-MM-DD",e.CURRENT_YEAR_FORMAT_WITHOUT_YEAR="CURRENT_YEAR_FORMAT_WITHOUT_YEAR",e.LOCALIZED_FORMAT="LOCALIZED_FORMAT"}(o||(o={}));const r=e=>{const t=new Date(Number(e));return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}},i=()=>{const e=new Date(Date.now());return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()).toString()},s=(e,t,n)=>{if(!t||n===o.ISO_FORMAT)return a(e)
;const r=new Date(Number(e)),i=n===o.CURRENT_YEAR_FORMAT_WITHOUT_YEAR,s=!i;return t.formatDate(r,{timeZone:"UTC",weekday:i?"short":void 0,month:"short",day:"numeric",year:s?"numeric":void 0,formatMatcher:"best fit"})},a=e=>{const t=new Date(Number(e));return`${t.getUTCFullYear()}-${(e=>e<10?`0${e}`:e)(t.getUTCMonth()+1)}-${t.getUTCDate()}`},c=e=>Object(n("dndX").a)(new Date(Number(e)),new Date(Number(i()))),l=(e,t)=>{const r=new Date(Number(i())),a=new Date(Number(e)),c=Object(n("gXqy").a)(a,r),l=a.getUTCFullYear()===r.getUTCFullYear();return t&&[-1,0,1].indexOf(c)>-1?(e=>e.charAt(0).toUpperCase()+e.slice(1))(t.formatRelativeTime(c,"day",{numeric:"auto"})):s(e,t,l?o.CURRENT_YEAR_FORMAT_WITHOUT_YEAR:o.LOCALIZED_FORMAT)}},Jzj3:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"j",(function(){return h
})),n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return m})),n.d(t,"n",(function(){return b})),n.d(t,"m",(function(){return g})),n.d(t,"o",(function(){return v})),n.d(t,"q",(function(){return y})),n.d(t,"r",(function(){return O})),n.d(t,"s",(function(){return E})),n.d(t,"t",(function(){return w})),n.d(t,"p",(function(){return S})),n.d(t,"u",(function(){return k})),n.d(t,"v",(function(){return x})),n.d(t,"i",(function(){return C})),n.d(t,"h",(function(){return T})),n.d(t,"g",(function(){return j}));var o=n("q1tI"),r=n.n(o),i=n("CnBM"),s=n.n(i);const a=s()({loader:()=>n.e("@atlaskit-internal_editor-icon-action").then(n.bind(null,"fCfH")).then((e=>e.default)),loading:()=>null}),c=s()({loader:()=>n.e("@atlaskit-internal_editor-icon-code").then(n.bind(null,"epXi")).then((e=>e.default)),loading:()=>null}),l=s()({loader:()=>n.e("@atlaskit-internal_editor-icon-date").then(n.bind(null,"AmOo")).then((e=>e.default)),loading:()=>null}),d=s()({
loader:()=>n.e("@atlaskit-internal_editor-icon-decision").then(n.bind(null,"dE2x")).then((e=>e.default)),loading:()=>null}),u=s()({loader:()=>n.e("@atlaskit-internal_editor-icon-divider").then(n.bind(null,"GsFX")).then((e=>e.default)),loading:()=>null}),p=s()({loader:()=>n.e("@atlaskit-internal_editor-icon-emoji").then(n.bind(null,"2N+X")).then((e=>e.default)),loading:()=>null}),h=s()({loader:()=>n.e("@atlaskit-internal_editor-icon-images").then(n.bind(null,"LG/l")).then((e=>e.default)),loading:()=>null}),f=s()({loader:()=>n.e("@atlaskit-internal_editor-icon-layout").then(n.bind(null,"2DB0")).then((e=>e.default)),loading:()=>null}),m=s()({loader:()=>n.e("@atlaskit-internal_editor-icon-link").then(n.bind(null,"FF9a")).then((e=>e.default)),loading:()=>null}),b=s()({loader:()=>n.e("@atlaskit-internal_editor-icon-list-number").then(n.bind(null,"OH/3")).then((e=>e.default)),loading:()=>null}),g=s()({
loader:()=>n.e("@atlaskit-internal_editor-icon-list").then(n.bind(null,"BWai")).then((e=>e.default)),loading:()=>null}),v=s()({loader:()=>n.e("@atlaskit-internal_editor-icon-mention").then(n.bind(null,"Rxud")).then((e=>e.default)),loading:()=>null}),y=s()({loader:()=>n.e("@atlaskit-internal_editor-icon-panel-error").then(n.bind(null,"xjuY")).then((e=>e.default)),loading:()=>null}),O=s()({loader:()=>n.e("@atlaskit-internal_editor-icon-panel-note").then(n.bind(null,"4T6F")).then((e=>e.default)),loading:()=>null}),E=s()({loader:()=>n.e("@atlaskit-internal_editor-icon-panel-success").then(n.bind(null,"Srt6")).then((e=>e.default)),loading:()=>null}),w=s()({loader:()=>n.e("@atlaskit-internal_editor-icon-panel-warning").then(n.bind(null,"/LT8")).then((e=>e.default)),loading:()=>null}),S=s()({loader:()=>n.e("@atlaskit-internal_editor-icon-panel").then(n.bind(null,"/8nK")).then((e=>e.default)),loading:()=>null}),k=s()({
loader:()=>n.e("@atlaskit-internal_editor-icon-quote").then(n.bind(null,"ZRP5")).then((e=>e.default)),loading:()=>null}),x=s()({loader:()=>n.e("@atlaskit-internal_editor-icon-status").then(n.bind(null,"f6xl")).then((e=>e.default)),loading:()=>null});const C=({level:e,...t})=>{const o=s()({loader:()=>function(e){switch(e){case 1:return n.e("@atlaskit-internal_editor-icon-heading-1").then(n.bind(null,"G/Ob"));case 2:return n.e("@atlaskit-internal_editor-icon-heading-2").then(n.bind(null,"V+mL"));case 3:return n.e("@atlaskit-internal_editor-icon-heading-3").then(n.bind(null,"xNsZ"));case 4:return n.e("@atlaskit-internal_editor-icon-heading-4").then(n.bind(null,"KDSu"));case 5:return n.e("@atlaskit-internal_editor-icon-heading-5").then(n.bind(null,"xHBH"));default:return n.e("@atlaskit-internal_editor-icon-heading-6").then(n.bind(null,"CYZi"))}}(e).then((e=>e.default)),loading:()=>null});return r.a.createElement(o,t)},T=s()({
loader:()=>n.e("@atlaskit-internal_editor-icon-feedback").then(n.bind(null,"bR8a")).then((e=>e.default)),loading:()=>null}),j=s()({loader:()=>n.e("@atlaskit-internal_editor-icon-expand").then(n.bind(null,"kSQk")).then((e=>e.default)),loading:()=>null})},KG1a:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={FLOATING_TOOLBAR_COMPONENT:"pm-alt-text-alt-text-floating-toolbar"}},KOyK:function(e,t,n){"use strict";var o=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,r=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;e.exports=function(e,t){var n,i,s,a,c,l,d=e.pos;if(60!==e.src.charCodeAt(d))return!1;for(c=e.pos,l=e.posMax;;){if(++d>=l)return!1;if(60===(a=e.src.charCodeAt(d)))return!1;if(62===a)break}return n=e.src.slice(c+1,d),r.test(n)?(i=e.md.normalizeLink(n),!!e.md.validateLink(i)&&(t||((s=e.push("link_open","a",1)).attrs=[["href",i]],s.markup="autolink",s.info="auto",
(s=e.push("text","",0)).content=e.md.normalizeLinkText(n),(s=e.push("link_close","a",-1)).markup="autolink",s.info="auto"),e.pos+=n.length+2,!0)):!!o.test(n)&&(i=e.md.normalizeLink("mailto:"+n),!!e.md.validateLink(i)&&(t||((s=e.push("link_open","a",1)).attrs=[["href",i]],s.markup="autolink",s.info="auto",(s=e.push("text","",0)).content=e.md.normalizeLinkText(n),(s=e.push("link_close","a",-1)).markup="autolink",s.info="auto"),e.pos+=n.length+2,!0))}},KkS8:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("UxO+");class r extends o.Plugin{constructor(e){super(e)}}},KrvG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bpfrpt_proptype_CellMeasureCache=void 0;!function(e){e&&e.__esModule}(n("17x9"));t.bpfrpt_proptype_CellMeasureCache=null},Kuh0:function(e,t,n){"use strict";n.d(t,"k",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return a
})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"m",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return m})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return g}));const o={name:"normal",title:n("RJFP").a.normal,nodeName:"paragraph",tagName:"p"},r={name:"heading1",title:n("RJFP").a.heading1,nodeName:"heading",tagName:"h1",level:1},i={name:"heading2",title:n("RJFP").a.heading2,nodeName:"heading",tagName:"h2",level:2},s={name:"heading3",title:n("RJFP").a.heading3,nodeName:"heading",tagName:"h3",level:3},a={name:"heading4",title:n("RJFP").a.heading4,nodeName:"heading",tagName:"h4",level:4},c={name:"heading5",title:n("RJFP").a.heading5,nodeName:"heading",tagName:"h5",level:5},l={name:"heading6",title:n("RJFP").a.heading6,nodeName:"heading",tagName:"h6",level:6},d={name:"blockquote",title:n("RJFP").a.blockquote,
nodeName:"blockquote"},u={name:"codeblock",title:n("RJFP").a.codeblock,nodeName:"codeBlock"},p={name:"panel",title:n("RJFP").a.infoPanel,nodeName:"panel"},h={name:"other",title:n("RJFP").a.other,nodeName:""},f=[o,r,i,s,a,c,l],m=[d,u,p],b=(f.concat(m),f.reduce(((e,t)=>(t.level&&"heading"===t.nodeName&&(e[t.level]=t),e)),{})),g=f.reduce(((e,t)=>(t.level&&"heading"===t.nodeName&&(e[t.name]=t),e)),{})},KwUl:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("statusPlugin")},KzBb:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),s=n.n(i);class a extends s.a.Component{constructor(...e){super(...e),r()(this,"state",{errorCaptured:!1})}hasFallback(){return void 0!==this.props.fallbackComponent}shouldRecover(){return this.hasFallback()&&this.state.errorCaptured}componentDidCatch(e,t){this.props.dispatchAnalyticsEvent&&this.props.dispatchAnalyticsEvent({action:n("+PNV").a.EDITOR_CRASHED,
actionSubject:this.props.component,actionSubjectId:this.props.componentId,eventType:n("+PNV").e.OPERATIONAL,attributes:{error:e,errorInfo:t,errorRethrown:!this.hasFallback()}}),this.hasFallback()&&this.setState({errorCaptured:!0})}render(){return this.shouldRecover()?this.props.fallbackComponent:this.props.children}}a.displayName="ErrorBoundary"},L5pH:function(e,t){e.exports=function(){}},L92d:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n("pVnL"),r=n.n(o),i=n("lSNA"),s=n.n(i),a=n("q1tI"),c=n.n(a);const l={name:"1va67gy",styles:"&>div>div{display:flex;}"},d=Object(n("AeFk").css)("box-shadow:inset 0px 0px 0px 2px ","var(--ds-border-focused, #4C9AFF)",";outline:none;"),u=Object(n("7Xhc").a)(n("3zmQ").a);class p extends a.PureComponent{constructor(...e){super(...e),s()(this,"state",{popupPlacement:["bottom","left"],selectionIndex:-1}),s()(this,"popupRef",c.a.createRef()),s()(this,"handleRef",(e=>{this.setState({target:e||void 0})})),
s()(this,"updatePopupPlacement",(e=>{const{popupPlacement:t}=this.state;e[0]===t[0]&&e[1]===t[1]||this.setState({popupPlacement:e})})),s()(this,"handleCloseAndFocus",(()=>{var e,t;null===(e=this.state.target)||void 0===e||null===(t=e.querySelector("button"))||void 0===t||t.focus(),this.handleClose()})),s()(this,"handleClose",(()=>{this.props.onOpenChange&&this.props.onOpenChange({isOpen:!1})}))}renderDropdownMenu(){const{target:e,popupPlacement:t}=this.state,{items:o,mountTo:i,boundariesElement:s,scrollableElement:a,offset:c,fitHeight:l,fitWidth:d,isOpen:p,zIndex:h,shouldUseDefaultRole:m,onItemActivated:b,arrowKeyNavigationProviderOptions:g}=this.props,v=g.type===n("0ap2").a.COLOR?g:{...g,onSelection:e=>{let t=[];"function"==typeof b&&(t=o.reduce(((e,t)=>e.concat(t.items)),t),b({item:t[e],shouldCloseMenu:!1}))}};return Object(n("AeFk").jsx)(n("poXX").a,{target:p?e:void 0,mountTo:i,boundariesElement:s,scrollableElement:a,onPlacementChanged:this.updatePopupPlacement,fitHeight:l,
fitWidth:d,zIndex:h||n("anI9").p,offset:c},Object(n("AeFk").jsx)(n("AXDw").a,r()({},v,{handleClose:this.handleCloseAndFocus,closeOnTab:!0}),Object(n("AeFk").jsx)(u,{isOpen:!0,appearance:"tall",position:t.join(" "),shouldFlip:!1,shouldFitContainer:!0,isTriggerNotTabbable:!0,handleClickOutside:this.handleClose,handleEscapeKeydown:this.handleCloseAndFocus,targetRef:this.state.target},Object(n("AeFk").jsx)("div",{style:{height:0,minWidth:d||0}}),Object(n("AeFk").jsx)("div",{ref:this.popupRef},o.map(((e,t)=>Object(n("AeFk").jsx)(n("KVfY").a,{key:t,role:m?"group":"menu"},e.items.map((e=>{var t;return Object(n("AeFk").jsx)(f,{key:null!==(t=e.key)&&void 0!==t?t:String(e.content),item:e,onItemActivated:this.props.onItemActivated,shouldUseDefaultRole:this.props.shouldUseDefaultRole,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave})})))))))))}render(){const{children:e,isOpen:t}=this.props;return Object(n("AeFk").jsx)("div",{css:l},Object(n("AeFk").jsx)("div",{
ref:this.handleRef},e),t?this.renderDropdownMenu():null)}componentDidUpdate(e){const t=this.props.isOpen!==e.isOpen;if(this.props.isOpen&&t&&"function"==typeof this.props.shouldFocusFirstItem&&this.props.shouldFocusFirstItem()){var n;const e=new KeyboardEvent("keydown",{key:"ArrowDown",bubbles:!0});null===(n=this.state.target)||void 0===n||n.dispatchEvent(e)}}}p.displayName="DropdownMenuWrapper";const h=c.a.forwardRef(((e,t)=>{const{children:o,...i}=e;return Object(n("AeFk").jsx)("span",r()({ref:t},i),o)}));function f({item:e,onItemActivated:t,shouldUseDefaultRole:o,onMouseEnter:r,onMouseLeave:i}){var s;const[a,l]=c.a.useState(!1);if(!(e.onClick||e.value&&e.value.name))return Object(n("AeFk").jsx)("span",{key:String(e.content)},e.content);const u=Object(n("AeFk").jsx)("div",{
css:t=>((e,t)=>o=>e?Object(n("AeFk").css)(">span,>span:hover,>span:active{background:var(--ds-background-selected, #6c798f);color:var(--ds-text, #fff);}:focus>span[aria-disabled='false']{",d,";}:focus-visible,:focus-visible>span[aria-disabled='false']{outline:none;}"):Object(n("AeFk").css)(">span:hover[aria-disabled='false']{color:",Object(n("56zV").a)({light:"var(--ds-text, #091E42)",dark:"var(--ds-text, #B8C7E0)"})(o),";background-color:",Object(n("56zV").a)({light:"var(--ds-background-neutral-subtle-hovered, rgb(244, 245, 247))",dark:"var(--ds-background-neutral-subtle-hovered, rgb(59, 71, 92))"})(o),";}",!t&&`\n          > span:active[aria-disabled='false'] {\n            background-color: ${Object(n("56zV").a)({light:"var(--ds-background-neutral-subtle-pressed, rgb(179, 212, 255))",dark:"var(--ds-background-neutral-subtle-pressed, rgb(179, 212, 255))"})(o)};\n          }`,">span[aria-disabled='true']{color:",Object(n("56zV").a)({light:"var(--ds-text-disabled, #A5ADBA)",
dark:"var(--ds-text-disabled, #455166)"})(o),";}:focus>span[aria-disabled='false']{",d,";}:focus-visible,:focus-visible>span[aria-disabled='false']{outline:none;}"))(e.isActive,a)({theme:t}),tabIndex:-1,"aria-disabled":e.isDisabled?"true":"false",onMouseDown:e=>{l(!!e.target.closest(`.${n("OwO3").a.SUBMENU}`))}},Object(n("AeFk").jsx)(n("EgMr").a,{item:e,key:null!==(s=e.key)&&void 0!==s?s:String(e.content),testId:`dropdown-item__${String(e.content)}`,role:o?"button":"menuitem",iconBefore:e.elemBefore,iconAfter:e.elemAfter,isDisabled:e.isDisabled,onClick:()=>t&&t({item:e}),"aria-label":e["aria-label"]||String(e.content),"aria-pressed":o?e.isActive:void 0,"aria-keyshortcuts":e["aria-keyshortcuts"],onMouseDown:e=>{e.preventDefault()},component:h,onMouseEnter:()=>r&&r({item:e}),onMouseLeave:()=>i&&i({item:e})},e.content));var p;return e.tooltipDescription?Object(n("AeFk").jsx)(n("Yto1").a,{key:null!==(p=e.key)&&void 0!==p?p:String(e.content),content:e.tooltipDescription,
position:e.tooltipPosition},u):u}},LVTJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n("lSNA"),r=n.n(o),i=n("17x9"),s=n.n(i),a=n("q1tI"),c=n.n(a),l=n("OhBV"),d=n("xk4V"),u=n.n(d);class p extends c.a.Component{constructor(e,t){var o,i,s,a,c,l,d;(super(e),r()(this,"prepareExtensionProvider",Object(n("Ip2m").a)((()=>this.editorActions))),r()(this,"prepareQuickInsertProvider",((e,t)=>Object(n("klNK").a)(this.editorActions,e,t,this.createAnalyticsEvent))),r()(this,"handleSave",(e=>{var t,n;return null===(t=(n=this.props).onSave)||void 0===t?void 0:t.call(n,e)})),r()(this,"handleAnalyticsEvent",(e=>Object(n("ViYe").a)(this.createAnalyticsEvent)(e))),r()(this,"getFeatureFlags",(()=>Object(n("RxBR").a)(this.props))),r()(this,"getExperienceStore",(()=>this.experienceStore)),this.providerFactory=new(n("U7Mc").a),Object(n("czPg").a)(e),this.editorActions=(t||{}).editorActions||new(n("/7XU").a),this.editorSessionId=u()(),this.startTime=performance.now(),
this.onEditorCreated=this.onEditorCreated.bind(this),this.onEditorDestroyed=this.onEditorDestroyed.bind(this),this.getExperienceStore=this.getExperienceStore.bind(this),this.trackEditorActions(this.editorActions,e),Object(n("61k9").b)(n("lZxZ").a.EDITOR_MOUNTED),null!==(o=e.performanceTracking)&&void 0!==o&&null!==(i=o.ttiTracking)&&void 0!==i&&i.enabled||null!==(s=e.featureFlags)&&void 0!==s&&s.ufo)&&Object(n("TdfU").b)(((e,t,o)=>{Object(n("OL56").a)(e,t,o,this.props.performanceTracking,this.props.featureFlags,this.createAnalyticsEvent,this.experienceStore)}),null===(a=e.performanceTracking)||void 0===a||null===(c=a.ttiTracking)||void 0===c?void 0:c.ttiIdleThreshold,null===(l=e.performanceTracking)||void 0===l||null===(d=l.ttiTracking)||void 0===d?void 0:d.ttiCancelTimeout);const p=this.prepareExtensionProvider(e.extensionProviders),h=this.prepareQuickInsertProvider(p,e.quickInsert),f=Object(n("C4C2").a)(e,void 0,this.createAnalyticsEvent);this.state={extensionProvider:p,
quickInsertProvider:h,preset:f}}componentDidMount(){Object(n("61k9").c)(n("lZxZ").a.EDITOR_MOUNTED,Object(n("rh9/").a)(n("+PNV").a.EDITOR_MOUNTED,this.props,this.getExperienceStore,this.createAnalyticsEvent)),Object(n("cnTP").a)(this.providerFactory,Object(n("9GNJ").a)(this.props),this.state.extensionProvider,this.state.quickInsertProvider)}componentDidUpdate(e){const t=Object(n("c0hv").a)(e,this.props),o=t?Object(n("C4C2").a)(this.props,e,this.createAnalyticsEvent):this.state.preset,{extensionProviders:r,quickInsert:i}=this.props;if(r&&r!==e.extensionProviders||i&&i!==e.quickInsert){const e=this.prepareExtensionProvider(r),t=this.prepareQuickInsertProvider(e,i);this.setState({extensionProvider:e,quickInsertProvider:t,preset:o},(()=>Object(n("cnTP").a)(this.providerFactory,Object(n("9GNJ").a)(this.props),this.state.extensionProvider,this.state.quickInsertProvider)))}else t?this.setState({preset:o
}):Object(n("cnTP").a)(this.providerFactory,Object(n("9GNJ").a)(this.props),this.state.extensionProvider,this.state.quickInsertProvider)}componentWillUnmount(){var e,t,o,r,i;(this.unregisterEditorFromActions(),this.providerFactory.destroy(),Object(n("61k9").a)(n("lZxZ").a.EDITOR_MOUNTED),(null===(e=this.props)||void 0===e||null===(t=e.performanceTracking)||void 0===t||null===(o=t.onEditorReadyCallbackTracking)||void 0===o?void 0:o.enabled)&&Object(n("61k9").a)(n("lZxZ").a.ON_EDITOR_READY_CALLBACK),null!==(r=this.props.featureFlags)&&void 0!==r&&r.ufo)&&(null===(i=this.experienceStore)||void 0===i||i.abortAll({reason:"editor component unmounted"}))}trackEditorActions(e,t){return Object(n("9GOd").a)(e,t.performanceTracking,(e=>this.handleAnalyticsEvent(e)))}onEditorCreated(e){Object(n("+13A").a)(e,this.props,(e=>this.experienceStore=e),this.getExperienceStore,(()=>this.createAnalyticsEvent),this.editorActions,this.startTime,((e,t,n)=>this.registerEditorForActions(e,t,n)))}
onEditorDestroyed(e){var t,n;this.unregisterEditorFromActions(),null===(t=(n=this.props).onDestroy)||void 0===t||t.call(n)}registerEditorForActions(e,t,n){this.editorActions._privateRegisterEditor(e,t,n,this.getFeatureFlags)}unregisterEditorFromActions(){this.editorActions._privateUnregisterEditor()}render(){return Object(n("AeFk").jsx)(l.e,{data:{packageName:"@atlaskit/editor-core",packageVersion:"182.1.0",componentName:"editorCore",appearance:Object(n("rJZJ").c)(this.props.appearance),editorSessionId:this.editorSessionId}},Object(n("AeFk").jsx)(n("6FEM").a,{render:e=>(this.createAnalyticsEvent=e)&&Object(n("AeFk").jsx)(n("tmH4").a,{props:this.props,handleAnalyticsEvent:this.handleAnalyticsEvent,createAnalyticsEvent:this.createAnalyticsEvent,preset:this.state.preset,handleSave:this.handleSave,editorActions:this.editorActions,providerFactory:this.providerFactory,onEditorCreated:this.onEditorCreated,onEditorDestroyed:this.onEditorDestroyed})}))}}p.displayName="Editor",
r()(p,"defaultProps",n("QRYr").a),r()(p,"contextTypes",{editorActions:s.a.object}),r()(p,"propTypes",Object(n("QRYr").b)("minHeight only supports editor appearance chromeless and comment for Editor"))},Lb0w:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var o=n("1M3H"),r=n.n(o),i=n("+80P"),s=n.n(i);const a=(e,t,n)=>[].concat(e.slice(0,t),n,e.slice(t+1)),c=e=>/^<a[>\s]/i.test(e),l=e=>/^<\/a\s*>/i.test(e),d=e=>{const t=e.tokens,o=new s.a;for(let r=0,i=t.length;r<i;r++){if("inline"!==t[r].type||!o.pretest(t[r].content))continue;let i=t[r].children,s=0;for(let d=i.length-1;d>=0;d--){const u=i[d];if("link_close"!==u.type){if("html_inline"===u.type&&(c(u.content)&&s>0&&s--,l(u.content)&&s++),!(s>0)&&"text"===u.type&&o.test(u.content)){const s=u.content;let c=Object(n("Z7Qe").e)(s);c.length||(c=o.match(s)||[]);const l=[];let p=u.level,h=0;const f=Object(n("CHQz").b)(s);for(let t=0;t<c.length;t++){if(Object(n("CHQz").e)(c[t].index,f))continue
;const{url:o}=c[t],r=e.md.normalizeLink(o);if(!e.md.validateLink(r))continue;let i=c[t].text;i=c[t].schema?"mailto:"!==c[t].schema||/^mailto:/i.test(i)?e.md.normalizeLinkText(i):e.md.normalizeLinkText("mailto:"+i).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+i).replace(/^http:\/\//,"");const a=c[t].index;if(a>h){const t=new e.Token("text","",0);t.content=s.slice(h,a),t.level=p,l.push(t)}let d=new e.Token("link_open","a",1);d.attrs=[["href",r]],d.level=p++,d.markup="linkify",d.info="auto",l.push(d),d=new e.Token("text","",0),d.content=i,d.level=p,l.push(d),d=new e.Token("link_close","a",-1),d.level=--p,d.markup="linkify",d.info="auto",l.push(d),h=c[t].lastIndex}if(h<s.length){const t=new e.Token("text","",0);t.content=s.slice(h),t.level=p,l.push(t)}t[r].children=i=a(i,d,l)}}else for(d--;i[d].level!==u.level&&"link_open"!==i[d].type;)d--}}};const u=(e,t)=>{let n,o=e.pos;return 10===e.src.charCodeAt(o)&&(n=e.pending.length-1,
t||(n>=0&&32===e.pending.charCodeAt(n)?n>=1&&32===e.pending.charCodeAt(n-1)?e.push("hardbreak","br",0):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),o++,e.pos=o,!0)};const p=(e,t)=>{let n,o,r,i,s,a,c=t+1,l=e.md.block.ruler.getRules("paragraph"),d=e.lineMax;for(a=e.parentType,e.parentType="paragraph";c<d&&!e.isEmpty(c);c++)if(!(e.sCount[c]-e.blkIndent>3||e.sCount[c]<0)){for(o=!1,r=0,i=l.length;r<i;r++)if(l[r](e,c,d,!0)){o=!0;break}if(o)break}return n=e.getLines(t,c,e.blkIndent,!1),e.line=c,s=e.push("paragraph_open","p",1),s.map=[t,e.line],s=e.push("inline","",0),s.content=n,s.map=[t,e.line],s.children=[],s=e.push("paragraph_close","p",-1),e.parentType=a,!0};const h=r()("zero",{html:!1});h.enable(["entity","escape","newline"]),h.use((e=>e.block.ruler.at("paragraph",p))),h.use((e=>e.core.ruler.push("custom-linkify",d))),h.use((e=>e.inline.ruler.at("newline",u)))},LgcO:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),
n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return g}));var o=n("MEpN"),r=n("1M3H"),i=n.n(r),s=new o.Schema({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function(){return["p",0]}},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM:function(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return["div",["hr"]]}},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function(e){return["h"+e.attrs.level,0]}},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(e){return{params:e.getAttribute("data-params")||""}}}],
toDOM:function(e){return["pre",e.attrs.params?{"data-params":e.attrs.params}:{},["code",0]]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs:function(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1,tight:e.hasAttribute("data-tight")}}}],toDOM:function(e){return["ol",{start:1==e.attrs.order?null:e.attrs.order,"data-tight":e.attrs.tight?"true":null},0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:function(e){return{tight:e.hasAttribute("data-tight")}}}],toDOM:function(e){return["ul",{"data-tight":e.attrs.tight?"true":null},0]}},list_item:{content:"paragraph block*",defining:!0,parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(e){return{src:e.getAttribute("src"),
title:e.getAttribute("title"),alt:e.getAttribute("alt")}}}],toDOM:function(e){return["img",e.attrs]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:function(e){return"italic"==e&&null}}],toDOM:function(){return["em"]}},strong:{parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-weight",getAttrs:function(e){return/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}}],toDOM:function(){return["strong"]}},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM:function(e){return["a",e.attrs]}},code:{parseDOM:[{tag:"code"}],toDOM:function(){return["code"]}}}});var a=function(e,t){this.schema=e,this.stack=[{type:e.topNodeType,content:[]}],this.marks=o.Mark.none,this.tokenHandlers=t};function c(e,t,n,o){
return e.getAttrs?e.getAttrs(t,n,o):e.attrs instanceof Function?e.attrs(t):e.attrs}function l(e,t){return e.noCloseToken||"code_inline"==t||"code_block"==t||"fence"==t}function d(e){return"\n"==e[e.length-1]?e.slice(0,e.length-1):e}function u(){}a.prototype.top=function(){return this.stack[this.stack.length-1]},a.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},a.prototype.addText=function(e){if(e){var t,n=this.top().content,r=n[n.length-1],i=this.schema.text(e,this.marks);r&&(t=function(e,t){if(e.isText&&t.isText&&o.Mark.sameSet(e.marks,t.marks))return e.withText(e.text+t.text)}(r,i))?n[n.length-1]=t:n.push(i)}},a.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},a.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},a.prototype.parseTokens=function(e){for(var t=0;t<e.length;t++){var n=e[t],o=this.tokenHandlers[n.type];if(!o)throw new Error("Token type `"+n.type+"` not supported by Markdown parser");o(this,n,e,t)}},
a.prototype.addNode=function(e,t,n){var o=e.createAndFill(t,n,this.marks);return o?(this.push(o),o):null},a.prototype.openNode=function(e,t){this.stack.push({type:e,attrs:t,content:[]})},a.prototype.closeNode=function(){this.marks.length&&(this.marks=o.Mark.none);var e=this.stack.pop();return this.addNode(e.type,e.attrs,e.content)};var p=function(e,t,n){this.tokens=n,this.schema=e,this.tokenizer=t,this.tokenHandlers=function(e,t){var n=Object.create(null),o=function(o){var r=t[o];if(r.block){var i=e.nodeType(r.block);l(r,o)?n[o]=function(e,t,n,o){e.openNode(i,c(r,t,n,o)),e.addText(d(t.content)),e.closeNode()}:(n[o+"_open"]=function(e,t,n,o){return e.openNode(i,c(r,t,n,o))},n[o+"_close"]=function(e){return e.closeNode()})}else if(r.node){var s=e.nodeType(r.node);n[o]=function(e,t,n,o){return e.addNode(s,c(r,t,n,o))}}else if(r.mark){var a=e.marks[r.mark];l(r,o)?n[o]=function(e,t,n,o){e.openMark(a.create(c(r,t,n,o))),e.addText(d(t.content)),e.closeMark(a)}:(n[o+"_open"]=function(e,t,n,o){
return e.openMark(a.create(c(r,t,n,o)))},n[o+"_close"]=function(e){return e.closeMark(a)})}else{if(!r.ignore)throw new RangeError("Unrecognized parsing spec "+JSON.stringify(r));l(r,o)?n[o]=u:(n[o+"_open"]=u,n[o+"_close"]=u)}};for(var r in t)o(r);return n.text=function(e,t){return e.addText(t.content)},n.inline=function(e,t){return e.parseTokens(t.children)},n.softbreak=n.softbreak||function(e){return e.addText("\n")},n}(e,n)};function h(e,t){for(;++t<e.length;)if("list_item_open"!=e[t].type)return e[t].hidden;return!1}p.prototype.parse=function(e){var t,n=new a(this.schema,this.tokenHandlers);n.parseTokens(this.tokenizer.parse(e,{}));do{t=n.closeNode()}while(n.stack.length);return t||this.schema.topNodeType.createAndFill()};new p(s,i()("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:function(e,t,n){return{tight:h(t,n)}}},ordered_list:{block:"ordered_list",
getAttrs:function(e,t,n){return{order:+e.attrGet("start")||1,tight:h(t,n)}}},heading:{block:"heading",getAttrs:function(e){return{level:+e.tag.slice(1)}}},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:function(e){return{params:e.info||""}},noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:function(e){return{src:e.attrGet("src"),title:e.attrGet("title")||null,alt:e.children[0]&&e.children[0].content||null}}},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:function(e){return{href:e.attrGet("href"),title:e.attrGet("title")||null}}},code_inline:{mark:"code",noCloseToken:!0}});var f=function(e,t,n){this.nodes=e,this.marks=t,this.options=n||{}};f.prototype.serialize=function(e,t){t=Object.assign(this.options,t);var n=new g(this.nodes,this.marks,t);return n.renderContent(e),n.out};new f({blockquote:function(e,t){e.wrapBlock("> ",null,t,(function(){return e.renderContent(t)}))},
code_block:function(e,t){e.write("```"+(t.attrs.params||"")+"\n"),e.text(t.textContent,!1),e.ensureNewLine(),e.write("```"),e.closeBlock(t)},heading:function(e,t){e.write(e.repeat("#",t.attrs.level)+" "),e.renderInline(t),e.closeBlock(t)},horizontal_rule:function(e,t){e.write(t.attrs.markup||"---"),e.closeBlock(t)},bullet_list:function(e,t){e.renderList(t,"  ",(function(){return(t.attrs.bullet||"*")+" "}))},ordered_list:function(e,t){var n=t.attrs.order||1,o=String(n+t.childCount-1).length,r=e.repeat(" ",o+2);e.renderList(t,r,(function(t){var r=String(n+t);return e.repeat(" ",o-r.length)+r+". "}))},list_item:function(e,t){e.renderContent(t)},paragraph:function(e,t){e.renderInline(t),e.closeBlock(t)},image:function(e,t){e.write("!["+e.esc(t.attrs.alt||"")+"]("+t.attrs.src+(t.attrs.title?' "'+t.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break:function(e,t,n,o){for(var r=o+1;r<n.childCount;r++)if(n.child(r).type!=t.type)return void e.write("\\\n")},text:function(e,t){
e.text(t.text)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open:function(e,t,n,o){return b(t,n,o,1)?"<":"["},close:function(e,t,n,o){return b(t,n,o,-1)?">":"]("+t.attrs.href+(t.attrs.title?' "'+t.attrs.title.replace(/"/g,'\\"')+'"':"")+")"}},code:{open:function(e,t,n,o){return m(n.child(o),-1)},close:function(e,t,n,o){return m(n.child(o-1),1)},escape:!1}});function m(e,t){var n,o=/`+/g,r=0;if(e.isText)for(;n=o.exec(e.text);)r=Math.max(r,n[0].length);for(var i=r>0&&t>0?" `":"`",s=0;s<r;s++)i+="`";return r>0&&t<0&&(i+=" "),i}function b(e,t,n,o){if(e.attrs.title||!/^\w+:/.test(e.attrs.href))return!1;var r=t.child(n+(o<0?-1:0));if(!r.isText||r.text!=e.attrs.href||r.marks[r.marks.length-1]!=e)return!1;if(n==(o<0?1:t.childCount-1))return!0;var i=t.child(n+(o<0?-2:1));return!e.isInSet(i.marks)}var g=function(e,t,n){this.nodes=e,this.marks=t,this.delim=this.out="",this.closed=!1,
this.inTightList=!1,this.options=n||{},void 0===this.options.tightLists&&(this.options.tightLists=!1)};g.prototype.flushClose=function(e){if(this.closed){if(this.atBlank()||(this.out+="\n"),null==e&&(e=2),e>1){var t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(var o=1;o<e;o++)this.out+=t+"\n"}this.closed=!1}},g.prototype.wrapBlock=function(e,t,n,o){var r=this.delim;this.write(t||e),this.delim+=e,o(),this.delim=r,this.closeBlock(n)},g.prototype.atBlank=function(){return/(^|\n)$/.test(this.out)},g.prototype.ensureNewLine=function(){this.atBlank()||(this.out+="\n")},g.prototype.write=function(e){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),e&&(this.out+=e)},g.prototype.closeBlock=function(e){this.closed=e},g.prototype.text=function(e,t){for(var n=e.split("\n"),o=0;o<n.length;o++){var r=this.atBlank()||this.closed;this.write(),this.out+=!1!==t?this.esc(n[o],r):n[o],o!=n.length-1&&(this.out+="\n")}},g.prototype.render=function(e,t,n){
if("number"==typeof t)throw new Error("!");if(!this.nodes[e.type.name])throw new Error("Token type `"+e.type.name+"` not supported by Markdown renderer");this.nodes[e.type.name](this,e,t,n)},g.prototype.renderContent=function(e){var t=this;e.forEach((function(n,o,r){return t.render(n,e,r)}))},g.prototype.renderInline=function(e){var t=this,n=[],o="",r=function(r,i,s){var a=r?r.marks:[];r&&"hard_break"===r.type.name&&(a=a.filter((function(t){if(s+1==e.childCount)return!1;var n=e.child(s+1);return t.isInSet(n.marks)&&(!n.isText||/\S/.test(n.text))})));var c=o;if(o="",r&&r.isText&&a.some((function(e){var n=t.marks[e.type.name];return n&&n.expelEnclosingWhitespace}))){var l=/^(\s*)(.*?)(\s*)$/m.exec(r.text),d=(l[0],l[1]),u=l[2],p=l[3];c+=d,o=p,(d||p)&&((r=u?r.withText(u):null)||(a=n))}var h=a.length&&a[a.length-1],f=h&&!1===t.marks[h.type.name].escape,m=a.length-(f?1:0);e:for(var b=0;b<m;b++){var g=a[b];if(!t.marks[g.type.name].mixable)break;for(var v=0;v<n.length;v++){var y=n[v]
;if(!t.marks[y.type.name].mixable)break;if(g.eq(y)){b>v?a=a.slice(0,v).concat(g).concat(a.slice(v,b)).concat(a.slice(b+1,m)):v>b&&(a=a.slice(0,b).concat(a.slice(b+1,v)).concat(g).concat(a.slice(v,m)));continue e}}}for(var O=0;O<Math.min(n.length,m)&&a[O].eq(n[O]);)++O;for(;O<n.length;)t.text(t.markString(n.pop(),!1,e,s),!1);if(c&&t.text(c),r){for(;n.length<m;){var E=a[n.length];n.push(E),t.text(t.markString(E,!0,e,s),!1)}f&&r.isText?t.text(t.markString(h,!0,e,s)+r.text+t.markString(h,!1,e,s+1),!1):t.render(r,e,s)}};e.forEach(r),r(null,0,e.childCount)},g.prototype.renderList=function(e,t,n){var o=this;this.closed&&this.closed.type==e.type?this.flushClose(3):this.inTightList&&this.flushClose(1);var r=void 0!==e.attrs.tight?e.attrs.tight:this.options.tightLists,i=this.inTightList;this.inTightList=r,e.forEach((function(i,s,a){a&&r&&o.flushClose(1),o.wrapBlock(t,n(a),e,(function(){return o.render(i,e,a)}))})),this.inTightList=i},g.prototype.esc=function(e,t){
return e=e.replace(/[`*\\~\[\]_]/g,(function(t,n){return"_"==t&&n>0&&n+1<e.length&&e[n-1].match(/\w/)&&e[n+1].match(/\w/)?t:"\\"+t})),t&&(e=e.replace(/^[:#\-*+>]/,"\\$&").replace(/^(\s*\d+)\./,"$1\\.")),this.options.escapeExtraCharacters&&(e=e.replace(this.options.escapeExtraCharacters,"\\$&")),e},g.prototype.quote=function(e){var t=-1==e.indexOf('"')?'""':-1==e.indexOf("'")?"''":"()";return t[0]+e+t[1]},g.prototype.repeat=function(e,t){for(var n="",o=0;o<t;o++)n+=e;return n},g.prototype.markString=function(e,t,n,o){var r=this.marks[e.type.name],i=t?r.open:r.close;return"string"==typeof i?i:i(this,e,n,o)},g.prototype.getEnclosingWhitespace=function(e){return{leading:(e.match(/^(\s+)/)||[])[0],trailing:(e.match(/(\s+)$/)||[])[0]}}},LofH:function(e,t,n){"use strict";function o(e,t,o){const{storedMarks:r}=t,i=t.mapping.map(e.$from.pos);return t.step(new(n("NaFe").a)(i,o)),r&&t.setStoredMarks(r),t}function r(e){return e.steps.reduce(((e,t)=>t instanceof n("NaFe").a?{...e,...t.getMetadata()
}:e),{})}n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i}));const i=(e,t)=>(n,r,i)=>e(n,r?e=>{o(n.selection,e,t),r(e)}:r,i)},LpdB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getMaxElementSize=function(){return function(){return"undefined"!=typeof window}()&&function(){return!!window.chrome}()?16777100:15e5}},Lr1a:function(e,t,n){n("JpO0"),e.exports=n("VSTI").Object.getPrototypeOf},M3Ny:function(e,t,n){"use strict";function o(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}n.d(t,"a",(function(){return o}))},M5S8:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const o={name:"164tym6",styles:"display:flex;margin-right:8px;flex-grow:1;justify-content:flex-end;align-items:center"},r=e=>Object(n("AeFk").jsx)("div",{css:o,"data-testid":"before-primary-toolbar-components-plugin"},e.beforePrimaryToolbarComponents)},M5dz:function(e,t,n){var o=n("ekG2")
;e.exports=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},MBy0:function(e,t,n){n("4Zg2")("asyncIterator")},"MLD/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M11 15l-1-1-2 2h8v-1.8L14 12l-3 3zM6 6.5c0-.276.229-.5.5-.5h11c.276 0 .5.229.5.5v11c0 .276-.229.5-.5.5h-11a.504.504 0 01-.5-.5v-11zM9.5 11a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorImageIcon";var s=i;t.default=s},MSKp:function(e,t,n){
"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 14a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm-4.5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm9 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorMoreIcon";var s=i;t.default=s},MWUb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M14 16h-4s0-.5-1-2-2.5-3-2.5-5S7 4 12 4s5.5 3 5.5 5-1.5 3.5-2.5 5-1 2-1 2zm-4 1h4v1l-1.5 2h-1L10 18v-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorHintIcon";var s=i;t.default=s},MYyI:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"i",(function(){return O}));var o=n("UxO+"),r=n("V2qZ");const i=100,s=2e3;const a=new class{stop(){this.rafId&&cancelAnimationFrame(this.rafId)}async applyAllSearchDecorations(e,t,n,o){if(this.stop(),this.addDecorations=n,this.removeDecorations=o,!t)return;const r=t.querySelector(".ProseMirror");if(!r)return
;const i=this.calcDecorationPositions(e,t,r),{startPos:a,endPos:c,viewportStartPos:l,viewportEndPos:d}=i;let u=0,p=l,h=d-s;for(await this.updateDecorationsBetween(e,l,d);p>a||h<c;)if(u++%2==0&&p>a||h>=c){const t=p-a;p=Math.max(p-s,a),await this.updateDecorationsBetween(e,p,p+Math.min(t,s))}else h=Math.min(h+s,c),await this.updateDecorationsBetween(e,h,Math.min(h+s,c))}async updateDecorationsBetween(e,t,n){await this.removeDecorationsBetween(e,t,n),await this.addDecorationsBetween(e,t,n)}async addDecorationsBetween(e,t,o){const{selection:r}=e.state,{matches:s,decorationSet:a}=Object(n("vkwj").c)(e.state);if(0===s.length)return;const c=s.filter((e=>e.start>=t&&(void 0===o||e.start<o))),l=s.find((e=>e.start>=r.from)),d=c.findIndex((e=>e===l));return await this.batchRequests((e=>{let t=c.slice(e,e+i);if(0===t.length)return!1;let o=d>=e&&d<e+i;if(l&&o){Object(n("CqIp").c)(a,l)&&(t.splice(d%i,1),o=!1)}this.addDecorations&&this.addDecorations(Object(n("CqIp").b)(o?d%i:-1,t))}),{increment:i,
until:c.length})}async removeDecorationsBetween(e,t,o){const{decorationSet:r}=Object(n("vkwj").c)(e.state),s=r.find(t,o);if(0!==s.length)return await this.batchRequests((e=>{let n=s.slice(e,e+i);if(0===n.length)return!1;for(let o=0;o<n.length&&!(n[o].from>=t);o++)n=n.slice(1);this.removeDecorations&&this.removeDecorations(n)}),{increment:i,until:s.length})}calcDecorationPositions(e,t,n){const o=t.getBoundingClientRect(),r=n.getBoundingClientRect();return{viewportStartPos:this.getStartPos(e,0,r.left),viewportEndPos:this.getEndPos(e,o.top+o.height,r.left),startPos:1,endPos:e.state.doc.nodeSize}}getStartPos(e,t,n){const o=e.posAtCoords({top:t,left:n});return o?o.pos:1}getEndPos(e,t,n){const o=e.state.doc.nodeSize,r=e.posAtCoords({top:t,left:n});return r?r.pos:o}batchRequests(e,t){let n=0;const{increment:o,until:r}=t;return new Promise((t=>{const i=()=>{let s=e(n);for(;!1===s&&n<r;)n+=o,s=e(n);n<r?(n+=o,this.rafId=requestAnimationFrame(i)):(this.rafId=void 0,t())}
;this.rafId=requestAnimationFrame(i)}))}};var c=a;const l=()=>Object(n("vkwj").a)((e=>{const{selection:t}=e;let r,i,s;if(t instanceof o.TextSelection&&!t.empty){r=Object(n("CqIp").f)(t);const{shouldMatchCase:o}=Object(n("vkwj").c)(e);i=Object(n("CqIp").d)(e.doc,r,o),s=Object(n("CqIp").e)(t.from,i)}return{type:n("SjlK").a.ACTIVATE,findText:r,matches:i,index:s}})),d=(e,t,o)=>Object(n("+U5V").m)(Object(n("vkwj").a)((r=>{const{selection:i}=r,{shouldMatchCase:s}=Object(n("vkwj").c)(r),a=void 0!==o?Object(n("CqIp").d)(r.doc,o,s):[],l=Object(n("CqIp").e)(i.from,a);return c.applyAllSearchDecorations(e,t,(t=>b(t)(e.state,e.dispatch)),(t=>g(t)(e.state,e.dispatch))),{type:n("SjlK").a.FIND,findText:o||"",matches:a,index:l}}),((e,t)=>{const{selection:r}=t,{shouldMatchCase:i}=Object(n("vkwj").c)(t),s=void 0!==o?Object(n("CqIp").d)(t.doc,o,i):[];if(s.length>0){const t=Object(n("CqIp").e)(r.from,s);return e.setSelection(Object(n("CqIp").g)(e.selection,e.doc,t,s))}return e
}))),u=()=>Object(n("+U5V").m)(Object(n("vkwj").a)((e=>h(e,"next")),((e,t)=>{const{matches:o,index:r}=Object(n("vkwj").c)(t);let i=Object(n("CqIp").e)(t.selection.from,o);return i===r&&(i=Object(n("CqIp").i)(i,o.length)),e.setSelection(Object(n("CqIp").g)(e.selection,e.doc,i,o))}))),p=()=>Object(n("+U5V").m)(Object(n("vkwj").a)((e=>h(e,"previous")),((e,t)=>{const{matches:o}=Object(n("vkwj").c)(t),r=Object(n("CqIp").e)(t.selection.from,o,!0);return e.setSelection(Object(n("CqIp").g)(e.selection,e.doc,r,o))}))),h=(e,t)=>{const o=Object(n("vkwj").c)(e),{matches:r,findText:i}=o;let{decorationSet:s,index:a}=o;if(i){const o=Object(n("CqIp").e)(e.selection.from,r,"previous"===t);a=a===o?"next"===t?Object(n("CqIp").i)(a,r.length):Object(n("CqIp").j)(a,r.length):o,s=E(e,a)}return{type:"next"===t?n("SjlK").a.FIND_NEXT:n("SjlK").a.FIND_PREVIOUS,index:a,decorationSet:s}},f=e=>Object(n("+U5V").m)(Object(n("vkwj").a)((t=>{const o=Object(n("vkwj").c)(t),{findText:r}=o
;let{decorationSet:i,matches:s,index:a}=o;return i=E(t,Object(n("CqIp").i)(a,s.length)),-1===e.toLowerCase().indexOf(r.toLowerCase())?(i=Object(n("CqIp").l)(i,[s[a]],t.doc),s.splice(a,1),a>s.length-1&&(a=0)):a=Object(n("CqIp").i)(a,s.length),{type:n("SjlK").a.REPLACE,replaceText:e,decorationSet:i,matches:s,index:a}}),((t,o)=>{const{matches:r,index:i,findText:s}=Object(n("vkwj").c)(o);if(r[i]){const{start:o,end:a}=r[i],c=Object(n("CqIp").i)(i,r.length);t.insertText(e,o,a).setSelection(Object(n("CqIp").g)(t.selection,t.doc,c,r,0===c?0:e.length-s.length))}return t}))),m=e=>Object(n("vkwj").a)({type:n("SjlK").a.REPLACE_ALL,replaceText:e,decorationSet:r.b.empty,matches:[],index:0},((t,o)=>(Object(n("vkwj").c)(o).matches.forEach((n=>{t.insertText(e,t.mapping.map(n.start),t.mapping.map(n.end))})),t.setMeta("scrollIntoView",!1),t))),b=e=>Object(n("vkwj").a)((t=>{const{decorationSet:o}=Object(n("vkwj").c)(t);return{type:n("SjlK").a.UPDATE_DECORATIONS,decorationSet:o.add(t.doc,e)}
})),g=e=>Object(n("vkwj").a)((t=>{const{decorationSet:o}=Object(n("vkwj").c)(t);return{type:n("SjlK").a.UPDATE_DECORATIONS,decorationSet:Object(n("CqIp").k)(o,e,t.doc)}})),v=()=>Object(n("vkwj").a)((()=>(c.stop(),{type:n("SjlK").a.CANCEL}))),y=()=>Object(n("vkwj").a)({type:n("SjlK").a.BLUR}),O=()=>Object(n("vkwj").a)({type:n("SjlK").a.TOGGLE_MATCH_CASE}),E=(e,t)=>{let{decorationSet:o,index:r,matches:i}=Object(n("vkwj").c)(e);const s=i[r],a=i[t];if(r===t)return o;const c=Object(n("CqIp").c)(o,s),l=Object(n("CqIp").c)(o,a),d=[];return c&&d.push(c),l&&d.push(l),d.length>0&&(d.sort(((e,t)=>e.from<t.from?-1:1)),o=Object(n("CqIp").k)(o,d,e.doc)),s&&(o=o.add(e.doc,[Object(n("CqIp").a)(s.start,s.end)])),a&&(o=o.add(e.doc,[Object(n("CqIp").a)(a.start,a.end,!0)])),o}},"N+rM":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf")
;const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5h5a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1zm9 0h5a1 1 0 011 1v12a1 1 0 01-1 1h-5a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorLayoutTwoEqualIcon";var s=i;t.default=s},"N+td":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("q1tI");const r=Object(o.createContext)(null)},N1l4:function(e,t,n){"use strict";function o(e,t){return{action:n("+PNV").a.INSERTED,actionSubject:n("+PNV").b.DOCUMENT,actionSubjectId:n("+PNV").c.LINK,attributes:{inputMethod:e,fromCurrentDomain:Object(n("CHQz").d)(t)},eventType:n("+PNV").e.TRACK,nonPrivacySafeAttributes:{linkDomain:Object(n("CHQz").c)(t)}}}n.d(t,"a",(function(){return o}))},N3sK:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}))
;const o="\ufffc",r="input_rule_plugin_transaction"},N4c9:function(e,t,n){n("wYM1");var o=n("VSTI").Object;e.exports=function(e,t,n){return o.defineProperty(e,t,n)}},N6uE:function(e,t,n){"use strict";let o,r,i,s;n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),function(e){e.NATIVE="mobileNative",e.HYBRID="mobileHybrid",e.WEB="web"}(o||(o={})),function(e){e.RENDERER="renderer",e.EDITOR="editor"}(r||(r={})),function(e){e.FIXED_WIDTH="fixedWidth",e.FULL_WIDTH="fullWidth"}(i||(i={})),function(e){e.LOADING="loading",e.TYPING="typing",e.CLICKING="clicking",e.PASTING="pasting"}(s||(s={}))},N9Fx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><rect width="24" height="24" rx="3" fill="#fff" fill-opacity=".01"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.842 8.67a7 7 0 009.487 9.488l-1.12-1.121A5.47 5.47 0 0112 17.5 5.506 5.506 0 016.5 12a5.5 5.5 0 01.464-2.207L5.842 8.67zm11.195 5.539A5.47 5.47 0 0017.5 12c0-3.033-2.467-5.5-5.5-5.5a5.5 5.5 0 00-2.207.464L8.67 5.842a7 7 0 019.487 9.487l-1.12-1.12z" fill="currentColor"/><rect x="4.319" y="5.556" width="1.75" height="19.976" rx=".875" transform="rotate(-45 4.319 5.556)" fill="currentColor"/></svg>'},e));i.displayName="EditorRemoveEmojiIcon";var s=i;t.default=s},NAgD:function(e,t,n){"use strict";e.exports=function(e){var t;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},NZIM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
t.SCROLL_DIRECTION_VERTICAL=t.SCROLL_DIRECTION_HORIZONTAL=t.SCROLL_DIRECTION_FORWARD=t.SCROLL_DIRECTION_BACKWARD=void 0,t.default=function(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,i=e.startIndex,s=e.stopIndex;return n=Math.max(1,n),r===o?{overscanStartIndex:Math.max(0,i-1),overscanStopIndex:Math.min(t-1,s+n)}:{overscanStartIndex:Math.max(0,i-n),overscanStopIndex:Math.min(t-1,s+1)}};n("uUy6"),t.SCROLL_DIRECTION_BACKWARD=-1;var o=t.SCROLL_DIRECTION_FORWARD=1;t.SCROLL_DIRECTION_HORIZONTAL="horizontal",t.SCROLL_DIRECTION_VERTICAL="vertical"},NaFe:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("MEpN"),r=n("CsC6");class i extends r.f{constructor(e,t,n=!1){super(),this.pos=e,this.metadata=t,this.isInverted=n}getMetadata(){return this.metadata}invert(){const{sourceEvent:e,...t}=this.metadata;return new i(this.pos,t,!0)}apply(e){return r.h.ok(e)}map(e){let t=this.pos;return"number"==typeof t&&(t=e.map(t)),new i(t,this.metadata,this.isInverted)}
getMap(){return new r.g([this.pos||0,0,0])}merge(){return null}toJSON(){return{stepType:"replace",from:0,to:0}}static fromJSON(e,t){return new r.e(0,0,o.Slice.empty)}}r.f.jsonID("editor-linking-meta",i)},NdM7:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));const o={width:156,height:125},r={width:435,height:125},i={width:300,height:300},s=e=>"image"===e?o:"square"===e?i:"horizontal"===e?r:o},Ng0V:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("UxO+");const r=e=>(t,r)=>{const{textColor:i}=t.schema.marks;if(i){const i=n("BS0G").c.getState(t),s=Object(n("Z9Bk").b)(t),a=function(e,t,o){const r=o.find((({value:t})=>t===e)),i=o.find((({value:e})=>e===t)),s=r?r.label:e,a=i?i.label:t||"";return Object(n("SVcB").b)({action:n("+PNV").a.FORMATTED,actionSubject:n("+PNV").b.TEXT,actionSubjectId:n("+PNV").c.FORMAT_COLOR,eventType:n("+PNV").e.TRACK,attributes:{newColor:s.toLowerCase(),previousColor:a.toLowerCase()}})
}(e,s,i.palette);return!i.disabled&&(e===i.defaultColor?(a((()=>(e,t)=>{const{schema:r,selection:i}=e,{textColor:s}=r.marks;let a=e.tr;if(i instanceof o.TextSelection){const{from:t,to:n,$cursor:o}=i;a=o?e.tr.removeStoredMark(s):e.tr.removeMark(t,n,s)}return i instanceof n("n1Ll").a&&i.forEachCell(((e,t)=>{const n=t,o=t+e.nodeSize;a.doc.nodesBetween(a.mapping.map(n),a.mapping.map(o),((e,t)=>{if(!e.isText)return!0;const r=Math.max(t,a.mapping.map(n)),i=Math.min(t+e.nodeSize,a.mapping.map(o));return a.removeMark(r,i,s),!0}))})),t&&t(a.setMeta(n("BS0G").c,{action:n("BS0G").a.RESET_COLOR})),!0})())(t,r),!0):(a((e=>(t,o)=>{const{textColor:r}=t.schema.marks;let i=t.tr;return Object(n("x2he").a)(t)?(o&&o(i.setMeta(n("BS0G").c,{action:n("BS0G").a.DISABLE})),!1):(o&&(t.tr.setMeta(n("BS0G").c,{action:n("BS0G").a.SET_COLOR,color:e}),t.tr.scrollIntoView(),Object(n("+U5V").j)(r,{color:e})(t,o)),!0)})(e))(t,r),!0))}return!1}},NjQP:function(e,t,n){"use strict"
;var o=n("q1tI"),r=n.n(o),i=n("pVnL"),s=n.n(i),a=n("lSNA"),c=n.n(a);const l={name:"158icaa",styles:"margin-left:4px"},d=Object(n("AeFk").css)({width:"100%",border:"none",backgroundColor:"var(--ds-border, rgba(9, 30, 66, 0.08))",margin:"4px 0px",height:"1px",borderRadius:"1px"}),u={name:"t4rdkf",styles:"display:flex;flex-direction:column;> *:not(#replace-hr-element){margin:0px 4px;}"},p={name:"j547yk",styles:"display:flex;&>*{display:inline-flex;height:32px;flex:0 0 auto;}&>[data-ds--text-field--container]{display:flex;flex:1 1 auto;}"},h=Object(n("AeFk").css)({color:"var(--ds-text-subtlest, #B3BAC5)",fontSize:`${Object(n("anI9").fb)(12)}`,flex:"0 0 auto",justifyContent:"center",alignItems:"center",marginLeft:"4px",marginRight:"8px"});class f extends r.a.PureComponent{constructor(...e){super(...e),c()(this,"buttonRef",r.a.createRef()),c()(this,"handleClick",(()=>{this.props.onClick(this.buttonRef)}))}render(){
const{title:e,icon:t,keymapDescription:o,disabled:i,isPressed:a}=this.props,c={..."boolean"==typeof a&&{"aria-pressed":a}};return r.a.createElement(n("Yto1").a,{content:r.a.createElement(n("QNHL").a,{description:e,keymap:Object(n("QNHL").v)(o)}),hideTooltipOnClick:!0,position:"top"},r.a.createElement(n("340+").a,s()({label:e,appearance:"subtle",testId:e,ref:this.buttonRef,iconBefore:t,isDisabled:i,onClick:this.handleClick,isSelected:a,shouldFitContainer:!0},c)))}}f.displayName="FindReplaceTooltipButton",c()(f,"defaultProps",{keymapDescription:"no-keymap"});const m=Object(n("D6b/").defineMessages)({find:{id:"fabric.editor.find",defaultMessage:"Find",description:"The word or phrase to search for on the document"},matchCase:{id:"fabric.editor.matchCase",defaultMessage:"Match case",description:"Toggle whether should also match case when searching for text"},findNext:{id:"fabric.editor.findNext",defaultMessage:"Find next",
description:"Locate the next occurrence of the word or phrase that was searched for"},findPrevious:{id:"fabric.editor.findPrevious",defaultMessage:"Find previous",description:"Locate the previous occurrence of the word or phrase that was searched for"},closeFindReplaceDialog:{id:"fabric.editor.closeFindReplaceDialog",defaultMessage:"Close",description:'Cancel search and close the "Find and Replace" dialog'},noResultsFound:{id:"fabric.editor.noResultsFound",defaultMessage:"No results",description:"No matches were found for the word or phrase that was searched for"},resultsCount:{id:"fabric.editor.resultsCount",description:"Text for selected search match position and total results count",defaultMessage:"{selectedMatchPosition} of {totalResultsCount}"}});class b extends r.a.Component{constructor(e){super(e),c()(this,"findTextfieldRef",r.a.createRef()),c()(this,"isComposing",!1),c()(this,"syncFindText",(()=>{var e
;this.isComposing||this.props.findText===(null===(e=this.state)||void 0===e?void 0:e.localFindText)||this.updateFindValue(this.props.findText||"")})),c()(this,"skipWhileComposing",(e=>{this.isComposing||e()})),c()(this,"focusFindTextfield",(()=>{const e=this.findTextfieldRef.current;this.props.shouldFocus&&e&&e.select()})),c()(this,"handleFindChange",(e=>{this.updateFindValue(e.target.value)})),c()(this,"updateFindValue",(e=>{this.setState({localFindText:e}),this.skipWhileComposing((()=>{this.props.onFind(e)}))})),c()(this,"handleFindKeyDown",(e=>this.skipWhileComposing((()=>{"Enter"===e.key?e.shiftKey?this.props.onFindPrev({triggerMethod:n("+PNV").g.KEYBOARD}):this.props.onFindNext({triggerMethod:n("+PNV").g.KEYBOARD}):"ArrowDown"===e.key&&this.props.onArrowDown()})))),c()(this,"handleFindNextClick",(e=>this.skipWhileComposing((()=>{this.props.onFindNext({triggerMethod:n("+PNV").g.BUTTON})})))),c()(this,"handleFindPrevClick",(e=>this.skipWhileComposing((()=>{this.props.onFindPrev({
triggerMethod:n("+PNV").g.BUTTON})})))),c()(this,"handleCompositionStart",(()=>{this.isComposing=!0})),c()(this,"handleCompositionEnd",(e=>{this.isComposing=!1,this.updateFindValue(e.target.value)})),c()(this,"clearSearch",(()=>{this.props.onCancel({triggerMethod:n("+PNV").g.BUTTON})})),c()(this,"handleMatchCaseClick",(e=>{this.props.allowMatchCase&&this.props.onToggleMatchCase&&(this.props.onToggleMatchCase(),this.props.onFind(this.props.findText))}));const{intl:{formatMessage:t}}=e;this.find=t(m.find),this.closeFindReplaceDialog=t(m.closeFindReplaceDialog),this.noResultsFound=t(m.noResultsFound),this.findNext=t(m.findNext),this.findPrevious=t(m.findPrevious),this.matchCase=t(m.matchCase),this.matchCaseIcon=Object(n("AeFk").jsx)(n.n(n("Isu6")).a,{label:this.matchCase}),this.findNextIcon=Object(n("AeFk").jsx)(n.n(n("SI9v")).a,{label:this.findNext}),this.findPrevIcon=Object(n("AeFk").jsx)(n.n(n("X+Ng")).a,{label:this.findPrevious}),this.closeIcon=Object(n("AeFk").jsx)(n.n(n("8m3F")).a,{
label:this.closeFindReplaceDialog}),this.state={localFindText:""}}componentDidMount(){this.props.onFindTextfieldRefSet(this.findTextfieldRef),this.focusFindTextfield(),this.syncFindText()}componentDidUpdate(){this.focusFindTextfield(),this.syncFindText()}render(){const{findText:e,count:t,allowMatchCase:o,shouldMatchCase:r,intl:{formatMessage:i}}=this.props,s=i(m.resultsCount,{selectedMatchPosition:t.index+1,totalResultsCount:t.total});return Object(n("AeFk").jsx)("div",{css:p},Object(n("AeFk").jsx)(n("I4Rc").a,{name:"find",appearance:"none",placeholder:this.find,value:this.state.localFindText,ref:this.findTextfieldRef,autoComplete:"off",onChange:this.handleFindChange,onKeyDown:this.handleFindKeyDown,onBlur:this.props.onFindBlur,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd}),e&&Object(n("AeFk").jsx)("span",{"data-testid":"textfield-count",css:h},0===t.total?this.noResultsFound:s),o&&Object(n("AeFk").jsx)(f,{title:this.matchCase,
icon:this.matchCaseIcon,onClick:this.handleMatchCaseClick,isPressed:r}),Object(n("AeFk").jsx)(f,{title:this.findNext,icon:this.findNextIcon,keymapDescription:"Enter",onClick:this.handleFindNextClick,disabled:t.total<=1}),Object(n("AeFk").jsx)(f,{title:this.findPrevious,icon:this.findPrevIcon,keymapDescription:"Shift Enter",onClick:this.handleFindPrevClick,disabled:t.total<=1}),Object(n("AeFk").jsx)(f,{title:this.closeFindReplaceDialog,icon:this.closeIcon,keymapDescription:"Escape",onClick:this.clearSearch}))}}b.displayName="Find";var g=Object(n("o5hF").c)(b);const v=Object(n("D6b/").defineMessages)({replaceWith:{id:"fabric.editor.replaceWith",defaultMessage:"Replace with",description:"The value that will replace the word or phrase that was searched for"},replace:{id:"fabric.editor.replace",defaultMessage:"Replace",description:"Replace only the currently selected instance of the word or phrase"},replaceAll:{id:"fabric.editor.replaceAll",defaultMessage:"Replace all",
description:"Replace all instances of the word or phrase throughout the entire document"}});class y extends r.a.PureComponent{constructor(e){super(e),c()(this,"replaceTextfieldRef",r.a.createRef()),c()(this,"skipWhileComposing",(e=>{this.state.isComposing||e()})),c()(this,"handleReplaceClick",(()=>this.skipWhileComposing((()=>{this.props.onReplace({triggerMethod:n("+PNV").g.BUTTON,replaceText:this.state.replaceText})})))),c()(this,"handleReplaceChange",(e=>this.skipWhileComposing((()=>{this.updateReplaceValue(e.target.value)})))),c()(this,"updateReplaceValue",(e=>{const{dispatchAnalyticsEvent:t}=this.props;t&&t({eventType:n("+PNV").e.TRACK,action:n("+PNV").a.CHANGED_REPLACEMENT_TEXT,actionSubject:n("+PNV").b.FIND_REPLACE_DIALOG}),this.setState({replaceText:e})})),c()(this,"handleReplaceKeyDown",(e=>this.skipWhileComposing((()=>{"Enter"===e.key?this.props.onReplace({triggerMethod:n("+PNV").g.KEYBOARD,replaceText:this.state.replaceText}):"ArrowUp"===e.key&&this.props.onArrowUp()})))),
c()(this,"handleReplaceAllClick",(()=>this.skipWhileComposing((()=>{this.props.onReplaceAll({replaceText:this.state.replaceText})})))),c()(this,"handleCompositionStart",(()=>{this.setState({isComposing:!0})})),c()(this,"handleCompositionEnd",(e=>{this.setState({isComposing:!1}),this.updateReplaceValue(e.target.value)}));const{replaceText:t,intl:{formatMessage:o}}=e;this.state={replaceText:t||"",isComposing:!1},this.replaceWith=o(v.replaceWith),this.replace=o(v.replace),this.replaceAll=o(v.replaceAll)}componentDidMount(){this.props.onReplaceTextfieldRefSet(this.replaceTextfieldRef)}componentDidUpdate({replaceText:e}){const{replaceText:t}=this.props;t&&t!==e&&this.setState({replaceText:t,isComposing:!1})}render(){const{replaceText:e}=this.state,{canReplace:t}=this.props;return Object(n("AeFk").jsx)("div",{css:p},Object(n("AeFk").jsx)(n("I4Rc").a,{name:"replace",appearance:"none",placeholder:this.replaceWith,defaultValue:e,ref:this.replaceTextfieldRef,autoComplete:"off",
onChange:this.handleReplaceChange,onKeyDown:this.handleReplaceKeyDown,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd}),Object(n("AeFk").jsx)(n("340+").a,{css:l,testId:this.replace,onClick:this.handleReplaceClick,isDisabled:!t},this.replace),Object(n("AeFk").jsx)(n("340+").a,{css:l,testId:this.replaceAll,onClick:this.handleReplaceAllClick,isDisabled:!t},this.replaceAll))}}y.displayName="Replace";var O=Object(n("o5hF").c)(y);class E extends r.a.PureComponent{constructor(...e){super(...e),c()(this,"findTextfield",null),c()(this,"replaceTextfield",null),c()(this,"setFindTextfieldRef",(e=>{this.findTextfield=e.current})),c()(this,"setReplaceTextfieldRef",(e=>{this.replaceTextfield=e.current})),c()(this,"setFocusToFind",(()=>{this.findTextfield&&this.findTextfield.focus()})),c()(this,"setFocusToReplace",(()=>{this.replaceTextfield&&this.replaceTextfield.focus()}))}render(){
const{findText:e,count:t,shouldFocus:o,onFind:r,onFindBlur:i,onFindNext:s,onFindPrev:a,onCancel:c,replaceText:l,onReplace:p,onReplaceAll:h,dispatchAnalyticsEvent:f,allowMatchCase:m,shouldMatchCase:b,onToggleMatchCase:v}=this.props;return Object(n("AeFk").jsx)("div",{css:u},Object(n("AeFk").jsx)(g,{allowMatchCase:m,shouldMatchCase:b,onToggleMatchCase:v,findText:e,count:t,shouldFocus:o,onFind:r,onFindBlur:i,onFindPrev:a,onFindNext:s,onFindTextfieldRefSet:this.setFindTextfieldRef,onCancel:c,onArrowDown:this.setFocusToReplace}),Object(n("AeFk").jsx)("hr",{css:d,id:"replace-hr-element"}),Object(n("AeFk").jsx)(O,{canReplace:t.total>0,replaceText:l,onReplace:p,onReplaceAll:h,onReplaceTextfieldRefSet:this.setReplaceTextfieldRef,onArrowUp:this.setFocusToFind,dispatchAnalyticsEvent:f}))}}E.displayName="FindReplace";var w=E
;const S=Object(n("AeFk").css)("display:flex;flex:1 1 auto;flex-grow:0;justify-content:flex-end;align-items:center;padding:0 8px;@media (max-width: ",n("anI9").A,"px){justify-content:center;padding:0;}"),k={name:"1ff36h2",styles:"flex-grow:1"},x={name:"1fttcpj",styles:"display:flex;flex-direction:column"},C=Object(n("D6b/").defineMessages)({findReplaceToolbarButton:{id:"fabric.editor.findReplaceToolbarButton",defaultMessage:"Find and replace",description:'"Find" highlights all instances of a word or phrase on the document, and "Replace" changes one or all of those instances to something else'}});class T extends r.a.PureComponent{constructor(...e){super(...e),c()(this,"toggleOpen",(()=>{this.props.isActive?this.props.onCancel({triggerMethod:n("+PNV").g.TOOLBAR}):this.props.onActivate()}))}render(){
const{popupsMountPoint:e,popupsBoundariesElement:t,popupsScrollableElement:o,isReducedSpacing:r,findText:i,replaceText:a,isActive:c,index:l,numMatches:d,intl:{formatMessage:u},takeFullWidth:p}=this.props,h=u(C.findReplaceToolbarButton),f=n("anI9").p-1,m=Object(n("QNHL").v)("Find");return Object(n("AeFk").jsx)("div",{css:[S,p&&k]},Object(n("AeFk").jsx)(n("pYeG").a,{mountTo:e,boundariesElement:t,scrollableElement:o,isOpen:c,handleEscapeKeydown:()=>{c&&this.props.onCancel({triggerMethod:n("+PNV").g.KEYBOARD})},fitWidth:352,zIndex:f,arrowKeyNavigationProviderOptions:{type:n("0ap2").a.MENU,disableArrowKeyNavigation:!0},trigger:Object(n("AeFk").jsx)(n("aEOQ").a,{buttonId:n("Ssoj").a.FIND_REPLACE,spacing:r?"none":"default",selected:c,title:Object(n("AeFk").jsx)(n("QNHL").a,{description:h,keymap:m}),iconBefore:Object(n("AeFk").jsx)(n.n(n("kITC")).a,{label:h}),onClick:this.toggleOpen,"aria-expanded":c,"aria-haspopup":!0,"aria-label":m?Object(n("QNHL").ub)(m,h):h,
"aria-keyshortcuts":Object(n("QNHL").z)(m)})},Object(n("AeFk").jsx)("div",{css:x},Object(n("AeFk").jsx)(w,s()({findText:i,replaceText:a,count:{index:l,total:d}},this.props)))))}}T.displayName="FindReplaceToolbarButton";var j=Object(n("o5hF").c)(T);t.a=e=>{const{popupsBoundariesElement:t,popupsMountPoint:o,popupsScrollableElement:i,isToolbarReducedSpacing:s,editorView:a,containerElement:c,dispatchAnalyticsEvent:l,featureFlags:d}=e;if(!a)return null;const u=e=>{const t=document.activeElement;a.focus(),e(),null==t||t.focus()},p=e=>{const{state:t,dispatch:n}=a;e(t,n)},h=()=>{u((()=>p(Object(n("f2CN").a)({triggerMethod:n("+PNV").g.TOOLBAR}))))},f=e=>{u((()=>p(Object(n("f2CN").e)({editorView:a,containerElement:c,keyword:e}))))},m=({triggerMethod:e})=>{u((()=>p(Object(n("f2CN").c)({triggerMethod:e}))))},b=({triggerMethod:e})=>{u((()=>p(Object(n("f2CN").d)({triggerMethod:e}))))},g=({triggerMethod:e,replaceText:t})=>{u((()=>p(Object(n("f2CN").g)({triggerMethod:e,replaceText:t}))))
},v=({replaceText:e})=>{u((()=>p(Object(n("f2CN").f)({replaceText:e}))))},y=()=>{p(Object(n("MYyI").b)())},O=({triggerMethod:e})=>{p(Object(n("f2CN").b)({triggerMethod:e})),a.focus()},E=()=>{p(Object(n("MYyI").i)())},{findReplaceMatchCase:w}=d;return r.a.createElement(n("fd7e").a,{debounce:!1,plugins:{findReplaceState:n("ik3n").a},render:({findReplaceState:n})=>n?r.a.createElement(j,{allowMatchCase:w,shouldMatchCase:n.shouldMatchCase,onToggleMatchCase:E,isActive:n.isActive,findText:n.findText,index:n.index,numMatches:n.matches.length,replaceText:n.replaceText,shouldFocus:n.shouldFocus,popupsBoundariesElement:t,popupsMountPoint:o,popupsScrollableElement:i,isReducedSpacing:!!s,dispatchAnalyticsEvent:l,onFindBlur:y,onCancel:O,onActivate:h,onFind:f,onFindNext:m,onFindPrev:b,onReplace:g,onReplaceAll:v,takeFullWidth:!!e.takeFullWidth}):null})}},Nlwn:function(e,t,n){"use strict";var o=n("USwo"),r=n("VSTI"),i=n("7whZ"),s=n("2zfi"),a=n("JKKi");o(o.P+o.R,"Promise",{finally:function(e){
var t=s(this,r.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then((function(){return n}))}:e,n?function(n){return a(t,e()).then((function(){throw n}))}:e)}})},Novn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n("ifif"),r=n("ScxJ"),i=n("Rbo8"),s=";v=",a="[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}",c=[i.pattern(new RegExp(`^${a}$`,"i"))],l=[i.pattern(new RegExp(`^(${a}|static)$`,"i"))];class d{constructor(e){this.json=e,this.validate()}get appId(){return this.json.appId}get environmentId(){return this.json.environmentId}get version(){return this.json.version}get extensionGroupId(){return this.json.extensionGroupId}get extensionKey(){return this.json.extensionKey}toJSON(){return this.json}static parse(e){const{resourceOwner:t,resourceType:n,resourceId:r}=e
;if(t!==o.AppFamilyAri.resourceOwner)throw new o.NotAppFamilyAriError(e,`resourceOwner (${t}) must be ${o.AppFamilyAri.resourceOwner}`);if(!n||o.AppFamilyAri.appFamilyResourceTypes.indexOf(n)<0)throw new o.NotAppFamilyAriError(e,`resourceType must be one of ${o.AppFamilyAri.appFamilyResourceTypes}`);if(!r)throw new o.NotAppFamilyAriError(e,"resourceId is must be provided");const i=r.indexOf(s);if(i>0&&r.lastIndexOf(s)>i)throw new o.NotAppFamilyAriError(e,"can only include one version suffix");const[a,c]=r.split(s),l=a.split("/").map(u);if(l.length>4)throw new o.NotAppFamilyAriError(e,`no path segments can be added after extensionKey ${l.slice(4)}`);const[p,h,f,m]=l;if(!p)throw new o.NotAppFamilyAriError(e,"appId must be included");const b=f||(n===o.AppFamilyAri.extensionGroupResourceType||n===o.AppFamilyAri.extensionResourceType?"static":void 0)
;if(!(n!==o.AppFamilyAri.extensionResourceType||h&&f&&m))throw new o.NotAppFamilyAriError(e,`environmentId, extensionGroupId, extensionKey must all be provided for resourceType ${o.AppFamilyAri.extensionResourceType}`);if(!(n!==o.AppFamilyAri.extensionGroupResourceType||h&&b&&!m))throw new o.NotAppFamilyAriError(e,`environmentId, extensionGroupId must all be provided for resourceType ${o.AppFamilyAri.extensionGroupResourceType}`);if(n===o.AppFamilyAri.environmentResourceType&&(!h||f||m))throw new o.NotAppFamilyAriError(e,`environmentId must be provided for resourceType ${o.AppFamilyAri.environmentResourceType}`);if(n===o.AppFamilyAri.appResourceType&&(h||f||m))throw new o.NotAppFamilyAriError(e,`environmentId must be provided for resourceType ${o.AppFamilyAri.environmentResourceType}`);return new d({appId:p,environmentId:h,extensionGroupId:b,extensionKey:m,version:c})}asAppAri(){return this.returnIf((()=>this.isAppAri()),"app")}asAppEnvironmentAri(){
return this.returnIf((()=>this.isAppEnvironmentAri()),"environment")}asExtensionGroupAri(){return this.returnIf((()=>this.isExtensionGroupAri()),"extension-group")}asExtensionAri(){return this.returnIf((()=>this.isExtensionAri()),"extension")}isAppAri(){return!this.isAtLeastAppEnvironmentAri}isAppEnvironmentAri(){return this.isAtLeastAppEnvironmentAri&&!this.isAtLeastExtensionGroupAri}isExtensionGroupAri(){return this.isAtLeastExtensionGroupAri&&!this.isExtensionAri()}isExtensionAri(){return this.isAtLeastExtensionGroupAri&&void 0!==this.extensionKey}returnIf(e,t){if(!e())throw new o.NotExpectedAppFamilyAriTypeError(t,this);return this}get isAtLeastAppEnvironmentAri(){return void 0!==this.environmentId}get isAtLeastExtensionGroupAri(){return this.isAtLeastAppEnvironmentAri&&void 0!==this.extensionGroupId}validate(){const e=[i.validateField(this,"environmentId",c),i.validateField(this,"appId",c),i.validateField(this,"extensionGroupId",l)].filter((e=>e))
;if(e.length>0)throw r.InvalidAriError.withConstraintViolations(this.toString(),e)}toAri(){const e=o.AppFamilyAri.resourceOwner,{appId:t,environmentId:n,extensionGroupId:i,extensionKey:s,version:a}=this.toJSON();function c(e){const t=e.join("/");return a?`${t};v=${a}`:t}return this.isExtensionAri()?new r.ResourceIdentifier({resourceOwner:e,resourceType:o.AppFamilyAri.extensionResourceType,resourceId:c([t,n,i,s])}):this.isExtensionGroupAri()?new r.ResourceIdentifier({resourceOwner:e,resourceType:o.AppFamilyAri.extensionGroupResourceType,resourceId:c([t,n,i])}):this.isAppEnvironmentAri()?new r.ResourceIdentifier({resourceOwner:e,resourceType:o.AppFamilyAri.environmentResourceType,resourceId:c([t,n])}):new r.ResourceIdentifier({resourceOwner:e,resourceType:o.AppFamilyAri.appResourceType,resourceId:t})}toString(){return this.toAri().toString()}}function u(e){if(!e)return;const t=e.trim();return 0!==t.length?t:void 0}t.AppFamilyAriImpl=d},Nrp8:function(e,t,n){"use strict"
;n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"h",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return O})),n.d(t,"a",(function(){return w})),n.d(t,"l",(function(){return S})),n.d(t,"m",(function(){return T})),n.d(t,"b",(function(){return j}));var o=n("ABBN"),r=n("UxO+"),i=n("mG1W");const s=e=>!(!e||"external"!==e.type||!Object(n("WUE1").c)(e.url)),a=e=>v(e)||f(e)||d(e)||u(e),c=e=>{const{node:t}=e.selection;return t&&t.type!==e.schema.nodes.media&&t.isBlock},l=e=>{const{node:t}=e.selection;return t&&t.type===e.schema.nodes.mediaSingle},d=e=>{if(Object(n("vRZh").a)(e))return m(e,e.selection.$from)},u=e=>{const{selection:t}=e;if(t instanceof n("WE2A").a){const t=e.selection.$from,n=e.schema.nodes.mediaGroup;return p(t,n)||h(t,n)}},p=(e,t)=>{
if(e.nodeBefore&&e.nodeBefore.type===t)return e.pos-e.nodeBefore.nodeSize+1},h=(e,t)=>{if(e.nodeAfter&&e.nodeAfter.type===t)return e.pos+1},f=e=>{if(Object(n("vRZh").c)(e))return g(e,e.selection.$to)},m=(e,t)=>{let o,r;if(c(e)?(o=t.pos,r=t.nodeBefore):(o=Object(n("vRZh").f)(t)-1,r=e.doc.resolve(o).nodeBefore),r&&r.type===e.schema.nodes.mediaGroup)return o-r.nodeSize+1},b=e=>{const{$from:t}=e.selection;return t.parent.type===e.schema.nodes.paragraph&&Object(n("vRZh").a)(e)&&Object(n("vRZh").c)(e)},g=(e,t,o=!0)=>{let r,i;if(c(e)?(r=t.pos,i=t.nodeAfter):(r=Object(n("vRZh").e)(t),i=e.doc.nodeAt(r)),i&&i.type===e.schema.nodes.mediaGroup)return o?r+1:r+i.nodeSize-1},v=(e,t,o=!1)=>{const{$from:r}=e.selection;if((t=t||r).parent.type===e.schema.nodes.mediaGroup)return o?Object(n("vRZh").f)(t):Object(n("vRZh").e)(t)-1},y=(e,t,o)=>{const{id:s}=t.attrs,{state:a}=e,{tr:c,selection:l,doc:d}=a,u=o();c.deleteRange(u,u+t.nodeSize),Object(n("D4z0").o)(s)&&c.setMeta("addToHistory",!1)
;const p=d.resolve(u),{nodeBefore:h,parent:f}=p,m=p.index()===f.childCount-1;if(l.from===u&&!m&&!Object(n("vRZh").b)(a)&&h&&"media"===h.type.name){const e=Object(i.findPositionOfNodeBefore)(c.selection);e&&c.setSelection(r.NodeSelection.create(c.doc,e))}e.dispatch(c)},O=e=>{const{selection:t}=e.state;return t instanceof r.NodeSelection&&t.node.type===e.state.schema.nodes.media&&(Object(o.e)(e.state,e.dispatch),t.$to.nodeAfter?(Object(o.g)(e.state,e.dispatch),Object(n("t0jr").f)(!1)(e.state,e.dispatch)):Object(n("t0jr").e)(e.state,e.dispatch),!0)},E=e=>e.length>1&&"_"===e[0]&&"_"===e[1],w=(e,t)=>{Object.keys(t.attrs).filter(E).forEach((n=>{const o=n.substring(2),r=e[o];void 0!==r&&(t.attrs[n]=r)}))},S=(e,t)=>{const{mediaGroup:o,mediaSingle:r,media:i}=t.nodes;return Object(n("C0PT").e)(e,((e,t)=>t||e.type!==i?e:r&&(Object(n("CuOu").a)(e.attrs.__fileMimeType)||"external"===e.attrs.type)?r.createChecked({},e):o.createChecked({},[e])))
},k=e=>"0"===e.style.opacity||"none"===e.style.display||"hidden"===e.style.visibility,x=["DIV","TD"];function C(e){return!!e&&-1!==x.indexOf(e.tagName)}const T=e=>{const t=(new DOMParser).parseFromString(e,"text/html").body,o=t.querySelector('b[id^="docs-internal-guid-"]');o&&Object(n("uYq7").g)(t,o);const r=t.querySelectorAll("img");return r.length?(r.forEach((e=>{const o=e.parentElement;if(!o)return;if(k(o)||k(e))return void o.removeChild(e);if(C(o)||o instanceof HTMLSpanElement&&o.closest('[class*="emoji-common"]'))return;const r=Object(n("uYq7").h)(o,(e=>e.parentElement===t||C(e.parentElement)));r&&r.parentElement&&(r.parentElement.insertBefore(e,r.nextElementSibling||r),o.innerText=o.innerText.trim(),Object(n("uYq7").f)(o))})),t.lastElementChild&&"BR"===t.lastElementChild.tagName&&t.removeChild(t.lastElementChild),t.innerHTML):e},j=e=>{if(!l(e))return null;const t=e.tr,n=t.selection.from+1,o=t.doc.nodeAt(n);return o&&o.type===e.schema.nodes.media?o:null}},Nvcy:function(e,t,n){
"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"p",(function(){return p})),n.d(t,"q",(function(){return h})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return m})),n.d(t,"l",(function(){return b})),n.d(t,"m",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return y})),n.d(t,"a",(function(){return O}));var o=n("UxO+");const r=()=>(e,t)=>{const{code:o}=e.schema.marks,{empty:r,$cursor:i}=e.selection;if(!r||!i)return!1;const{storedMarks:s}=e.tr;if(o){const r=Object(n("lf5m").f)(e,o.create()),a=e.doc.rangeHasMark(i.pos,i.pos,o),c=e.doc.rangeHasMark(i.pos,i.pos+1,o),l=!(a||c||s&&!s.length),d=!a&&c&&(!s||!s.length);if(!r&&d)return t&&t(e.tr.addStoredMark(o.create())),!0
;if(r&&l)return t&&t(e.tr.removeStoredMark(o)),!0}return!1},i=()=>(e,t)=>{const{code:r}=e.schema.marks,{empty:i,$cursor:s}=e.selection;if(!i||!s)return!1;const{storedMarks:a}=e.tr;if(r){const i=r&&Object(n("lf5m").f)(e,r.create()),c=Object(n("lf5m").d)(e,s.pos),l=Object(n("lf5m").d)(e,s.pos-1),d=Object(n("lf5m").d)(e,s.pos-2),u=c&&!l&&Array.isArray(a),p=l&&!d&&(null===a||Array.isArray(a)&&!!a.length),h=(u&&Array.isArray(a)&&!a.length||!u&&null===a)&&!l&&d,f=!c&&l&&Array.isArray(a)&&!a.length;if(!i&&h){const n=e.tr.setSelection(o.Selection.near(e.doc.resolve(s.pos-1)));return t&&t(n.removeStoredMark(r)),!0}if(!i&&f)return t&&t(e.tr.addStoredMark(r.create())),!0;if(i&&p){const n=e.tr.setSelection(o.Selection.near(e.doc.resolve(s.pos-1)));return t&&t(n.addStoredMark(r.create())),!0}const m=0===s.index(s.depth-1);if(i&&(u||!s.nodeBefore&&m))return t&&t(e.tr.removeStoredMark(r)),!0}return!1},s=()=>(e,t)=>{const{em:o}=e.schema.marks;return!!o&&Object(n("+U5V").j)(o)(e,t)
},a=({inputMethod:e})=>Object(n("SVcB").b)({action:n("+PNV").a.FORMATTED,actionSubject:n("+PNV").b.TEXT,eventType:n("+PNV").e.TRACK,actionSubjectId:n("+PNV").c.FORMAT_ITALIC,attributes:{inputMethod:e}})(s()),c=()=>(e,t)=>{const{strike:o}=e.schema.marks;return!!o&&Object(n("+U5V").j)(o)(e,t)},l=({inputMethod:e})=>Object(n("SVcB").b)({action:n("+PNV").a.FORMATTED,actionSubject:n("+PNV").b.TEXT,eventType:n("+PNV").e.TRACK,actionSubjectId:n("+PNV").c.FORMAT_STRIKE,attributes:{inputMethod:e}})(c()),d=()=>(e,t)=>{const{strong:o}=e.schema.marks;return!!o&&Object(n("+U5V").j)(o)(e,t)},u=({inputMethod:e})=>Object(n("SVcB").b)({action:n("+PNV").a.FORMATTED,actionSubject:n("+PNV").b.TEXT,eventType:n("+PNV").e.TRACK,actionSubjectId:n("+PNV").c.FORMAT_STRONG,attributes:{inputMethod:e}})(d()),p=()=>(e,t)=>{const{underline:o}=e.schema.marks;return!!o&&Object(n("+U5V").j)(o)(e,t)},h=({inputMethod:e})=>Object(n("SVcB").b)({action:n("+PNV").a.FORMATTED,actionSubject:n("+PNV").b.TEXT,
eventType:n("+PNV").e.TRACK,actionSubjectId:n("+PNV").c.FORMAT_UNDERLINE,attributes:{inputMethod:e}})(p()),f=()=>(e,t)=>{const{subsup:o}=e.schema.marks;return!!o&&Object(n("+U5V").j)(o,{type:"sup"})(e,t)},m=({inputMethod:e})=>Object(n("SVcB").b)({action:n("+PNV").a.FORMATTED,actionSubject:n("+PNV").b.TEXT,eventType:n("+PNV").e.TRACK,actionSubjectId:n("+PNV").c.FORMAT_SUPER,attributes:{inputMethod:e}})(f()),b=()=>(e,t)=>{const{subsup:o}=e.schema.marks;return!!o&&Object(n("+U5V").j)(o,{type:"sub"})(e,t)},g=({inputMethod:e})=>Object(n("SVcB").b)({action:n("+PNV").a.FORMATTED,actionSubject:n("+PNV").b.TEXT,eventType:n("+PNV").e.TRACK,actionSubjectId:n("+PNV").c.FORMAT_SUB,attributes:{inputMethod:e}})(b()),v=()=>(e,t)=>{const{code:o}=e.schema.marks;return!!o&&Object(n("+U5V").j)(o)(e,t)},y=({inputMethod:e})=>Object(n("SVcB").b)({action:n("+PNV").a.FORMATTED,actionSubject:n("+PNV").b.TEXT,eventType:n("+PNV").e.TRACK,actionSubjectId:n("+PNV").c.FORMAT_CODE,attributes:{inputMethod:e}
})(v()),O=(e,t,o)=>Object(n("SVcB").b)({action:n("+PNV").a.FORMATTED,actionSubject:n("+PNV").b.TEXT,eventType:n("+PNV").e.TRACK,actionSubjectId:n("+PNV").c.FORMAT_CODE,attributes:{inputMethod:n("+PNV").f.FORMATTING}})(((e,t,o)=>(r,i)=>{if(r.selection.empty){const{nodeBefore:s}=r.doc.resolve(e),{nodeAfter:a}=r.doc.resolve(t),c=s&&s.text&&s.text.endsWith("`"),l=a&&a.text&&a.text.startsWith("`");if(c&&l){let s=r.tr.replaceRangeWith(e-1,t+1,r.schema.text(o));if(i){const o=r.schema.marks.code.create();s=Object(n("+U5V").a)(s.mapping.map(e-1),s.mapping.map(t+1),!1,o,s).setStoredMarks([o]),i(s)}return!0}}return!1})(e,t,o))},Nxm2:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={}
;if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("q1tI")),s={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}};t.Resizer=function(e){return i.createElement("div",{className:e.className||"",style:o({
position:"absolute",userSelect:"none"},s[e.direction],e.replaceStyles||{}),onMouseDown:function(t){e.onResizeStart(t,e.direction)},onTouchStart:function(t){e.onResizeStart(t,e.direction)}},e.children)}},O8Sv:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("cardPlugin")},OBSw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=void 0,r=(o="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||o.oRequestAnimationFrame||o.msRequestAnimationFrame||function(e){return o.setTimeout(e,1e3/60)},i=o.cancelAnimationFrame||o.webkitCancelAnimationFrame||o.mozCancelAnimationFrame||o.oCancelAnimationFrame||o.msCancelAnimationFrame||function(e){o.clearTimeout(e)};t.raf=r,t.caf=i},OC6D:function(e,t,n){"use strict";function o(e){const{$head:t}=e.selection;for(let n=t.depth;n>0;n--)if("row"===t.node(n).type.spec.tableRole)return!0
;return!1}function r(e,t){return e.depth===t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}))},OL56:function(e,t,n){"use strict";function o(e,t,o,r,i,s,a){var c;if(null!=r&&null!==(c=r.ttiTracking)&&void 0!==c&&c.enabled&&s){var l;const i={payload:{action:n("+PNV").a.EDITOR_TTI,actionSubject:n("+PNV").b.EDITOR,attributes:{tti:e,ttiFromInvocation:t,canceled:o},eventType:n("+PNV").e.OPERATIONAL}};if(null!==(l=r.ttiTracking)&&void 0!==l&&l.trackSeverity){const{ttiSeverityNormalThreshold:o,ttiSeverityDegradedThreshold:s,ttiFromInvocationSeverityNormalThreshold:a,ttiFromInvocationSeverityDegradedThreshold:c}=r.ttiTracking,{ttiSeverity:l,ttiFromInvocationSeverity:d}=Object(n("TdfU").a)(e,t,o,s,a,c);i.payload.attributes.ttiSeverity=l,i.payload.attributes.ttiFromInvocationSeverity=d}Object(n("ViYe").a)(s)(i)}null!=i&&i.ufo&&(null==a||a.mark(n("IYQB").a.loadEditor,n("+PNV").a.EDITOR_TTI,e),null==a||a.success(n("IYQB").a.loadEditor))
}n.d(t,"a",(function(){return o}))},OMlK:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("mG1W");const r=(e,t,r,a)=>{if(!e)return;const c=i(e,t);if(!c)return;let l=c.attrs.layout||"default";const{schema:d}=t,u=d.marks.breakout&&d.marks.breakout.isInSet(c.marks);u&&u.attrs.mode&&(l=u.attrs.mode);let p=s(l,r,a);if(c.type===d.nodes.layoutSection&&(p+=2*n("anI9").Y,r.width>n("anI9").eb)){p-=(n("DJAv").b+2)*(c.childCount-1);const r=t.doc.resolve(e),i=Object(o.findParentNodeOfTypeClosestToPos)(r,[t.schema.nodes.layoutColumn]);i&&i.node&&!isNaN(i.node.attrs.width)&&(p=Math.round(p*i.node.attrs.width*.01))}switch(c.type){case d.nodes.layoutSection:p-=2*n("DJAv").a;break;case d.nodes.bodiedExtension:p-=2*n("lobk").a;break;case d.nodes.expand:p-=2*Object(n("7w+A").gridSize)(),p+=1.5*Object(n("7w+A").gridSize)()*2,p-=Object(n("7w+A").gridSize)(),p-=4*Object(n("7w+A").gridSize)()-Object(n("7w+A").gridSize)()/2}return p-=2,p},i=(e,t)=>{if(void 0===e)return null
;const n=t.doc.resolve(e),r=Object(o.findParentNodeOfTypeClosestToPos)(n,[t.schema.nodes.bodiedExtension,t.schema.nodes.layoutSection,t.schema.nodes.expand]);return r?r.node:null},s=(e,t,o)=>o?Math.min(t.lineLength,n("anI9").s):Object(n("xEd5").a)(e,t.width)},OS0S:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return m}));var o=n("pVnL"),r=n.n(o),i=n("lSNA"),s=n.n(i);var a=({id:e,title:t,className:o})=>Object(n("AeFk").jsx)("div",{id:e,"data-category-id":e,className:o,"data-testid":"render-emoji-picker-categorty-heading",role:"rowheader"},Object(n("AeFk").jsx)("div",{css:n("nc8v").g},Object(n("l4Cm").m)(t)?Object(n("AeFk").jsx)(n("3e7Q").a,n("dBbw").a[t]):t)),c=n("q1tI");const l=({emojis:e,onSelected:t,onMouseMove:o,onFocus:r,title:i,showDelete:s,onDelete:a,virtualItemContext:c})=>{
const{currentEmojisFocus:l,setEmojisFocus:d}=Object(n("XWUL").a)(),u=(null==c?void 0:c.index)||0,{formatMessage:p}=Object(n("3NU0").a)(),h=e=>(t,n,o)=>{d({rowIndex:u,columnIndex:e}),r&&r(t,n,o)};return Object(n("AeFk").jsx)("div",{css:n("nc8v").m,role:"presentation"},e.map(((e,r)=>{const{shortName:c,id:d}=e,f=d?`${d}-${i}`:`${c}-${i}`,m=l.rowIndex===u&&l.columnIndex===r;return Object(n("AeFk").jsx)("span",{css:n("nc8v").h,key:f,role:"gridcell","aria-colindex":r+1},Object(n("AeFk").jsx)(n("sVlj").a,{emoji:e,selectOnHover:!0,onSelected:t,onMouseMove:o,onFocus:h(r),showDelete:s,onDelete:a,placeholderSize:24,"data-focus-index":`${u}-${r}`,tabIndex:m?0:-1,"aria-roledescription":p(n("dBbw").a.emojiButtonRoleDescription),shouldBeInteractive:!0}))})))};var d=Object(c.memo)(l);class u{constructor(e,t){this.props=e,this.height=t}}class p extends u{constructor(e){super(e,n("8ADI").a.emojiRowHeight),s()(this,"renderItem",(e=>Object(n("AeFk").jsx)(d,r()({},this.props,{virtualItemContext:e}))))}}
class h extends u{constructor(){super({},n("8ADI").a.loadingRowHeight),s()(this,"renderItem",(()=>Object(n("AeFk").jsx)("div",{css:n("nc8v").n},Object(n("AeFk").jsx)("div",null,Object(n("AeFk").jsx)(n("6UK4").a,{size:"medium"})))))}}class f extends u{constructor(e){super(e,n("8ADI").a.categoryHeadingHeight),s()(this,"renderItem",(()=>Object(n("AeFk").jsx)(a,this.props)))}}const m=(e,t)=>{const{index:o,key:r}=t,i=e[o];return Object(n("AeFk").jsx)("div",{key:r},i&&i.renderItem(t))}},OTpG:function(e,t,n){"use strict";var o=n("5ETA"),r=n("USwo"),i=n("ugGH"),s=n("BRsN"),a=n("ig3W"),c=n("Jt1Q"),l=n("kvAF"),d=n("znrX"),u=n("zBWt")("iterator"),p=!([].keys&&"next"in[].keys()),h="keys",f="values",m=function(){return this};e.exports=function(e,t,n,b,g,v,y){c(n,t,b);var O,E,w,S=function(e){if(!p&&e in T)return T[e];switch(e){case h:case f:return function(){return new n(this,e)}}return function(){return new n(this,e)}
},k=t+" Iterator",x=g==f,C=!1,T=e.prototype,j=T[u]||T["@@iterator"]||g&&T[g],A=j||S(g),N=g?x?S("entries"):A:void 0,I="Array"==t&&T.entries||j;if(I&&(w=d(I.call(new e)))!==Object.prototype&&w.next&&(l(w,k,!0),o||"function"==typeof w[u]||s(w,u,m)),x&&j&&j.name!==f&&(C=!0,A=function(){return j.call(this)}),o&&!y||!p&&!C&&T[u]||s(T,u,A),a[t]=A,a[k]=m,g)if(O={values:x?A:S(f),keys:v?A:S(h),entries:N},y)for(E in O)E in T||i(T,E,O[E]);else r(r.P+r.F*(p||C),t,O);return O}},"OVD/":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("q1tI"),r=n.n(o);const i=e=>e.emojiProvider?r.a.createElement(n("GNay").a,{emojiContextValue:{emoji:{emojiProvider:e.emojiProvider}}},e.children):r.a.createElement(r.a.Fragment,null,e.children)},Oa1h:function(e,t,n){var o=n("bKEA"),r=n("0WpP"),i=n("nRFE");e.exports=function(e){return function(t,n,s){var a,c=o(t),l=r(c.length),d=i(s,l);if(e&&n!=n){for(;l>d;)if((a=c[d++])!=a)return!0}else for(;l>d;d++)if((e||d in c)&&c[d]===n)return e||d||0
;return!e&&-1}}},OdEI:function(e,t,n){"use strict";var o=n("UxO+"),r=(n("q1tI"),n("5xi9"));const i={name:"3ix1vd",styles:"opacity:1"},s={name:"o9ww1u",styles:"opacity:0.5"},a=Object(n("o5hF").c)((e=>{const{text:t,color:o,localId:a,style:c,intl:{formatMessage:l}}=e,d=t||l(n("mIKu").a.placeholder);return Object(n("AeFk").jsx)("span",{css:t?i:s},Object(n("AeFk").jsx)(r.a,{text:d,color:o,localId:a,style:c,onClick:e=>{e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}}))})),c=e=>{const{view:t}=e,{text:o,color:r,localId:i,style:s}=e.node.attrs;return Object(n("AeFk").jsx)(a,{view:t,text:o,color:r,style:s,localId:i})};t.a=(e,t)=>new(n("KkS8").a)({state:{init:()=>({isNew:!1,showStatusPickerAt:null}),apply(t,r,i){const s=t.getMeta(n("KwUl").a);if(s){const t={...r,...s};return e.dispatch(n("KwUl").a,t),t}if(t.docChanged&&r.showStatusPickerAt){const{pos:o,deleted:i}=t.mapping.mapResult(r.showStatusPickerAt),s=i?null:o,a={...r,showStatusPickerAt:s}
;if(a.showStatusPickerAt!==r.showStatusPickerAt)return e.dispatch(n("KwUl").a,a),a}if(t.selectionSet){const s=t.selection.from,a=t.doc.nodeAt(s);let c=null;if(a&&a.type===i.schema.nodes.status&&t.selection instanceof o.NodeSelection&&(c=s),c!==r.showStatusPickerAt){const t={...r,isNew:!1,showStatusPickerAt:c};return e.dispatch(n("KwUl").a,t),t}}return r}},filterTransaction:(e,t)=>{if(e.selectionSet&&!e.steps.length&&e.isGeneric&&e.selection instanceof o.TextSelection&&t.selection instanceof o.NodeSelection){const{isNew:o,showStatusPickerAt:r}=n("KwUl").a.getState(t),i=e.doc.nodeAt(e.selection.from);if(o&&r&&i&&i.type===t.schema.nodes.status)return!1}return!0},appendTransaction:(e,t,o)=>{let r=!1,i=o.tr;if(e.find((e=>e.selectionSet))){let e=Object(n("GZmM").b)(t.selection),s=Object(n("GZmM").b)(o.selection);if(e&&(s&&e.localId!==s.localId||!s)&&Object(n("GZmM").a)(e)){const e=t.selection.from;i.delete(i.mapping.map(e),i.mapping.map(e+1)),r=!0}}return r?i:void 0},key:n("KwUl").a,props:{
nodeViews:{status:Object(n("iwHK").a)({pmPluginFactoryParams:e,Component:c,extraComponentProps:{options:t}})}}})},OdZc:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("analyticsPlugin")},OeyQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>!!e&&!Object(n("acaU").a)(e)},Ofic:function(e){e.exports=JSON.parse('{"a":"@atlaskit/mention","b":"22.1.2"}')},OqP8:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var o=n("q1tI"),r=n.n(o),i=n("lSNA"),s=n.n(i);const a=Object(n("D6b/").defineMessages)({story:{id:"fabric.editor.story",defaultMessage:"Story",description:"Alt text for Story"},epic:{id:"fabric.editor.epic",defaultMessage:"Epic",description:"Alt text for Epic"},task:{id:"fabric.editor.task",defaultMessage:"Task",description:"Alt text for Task"},bug:{id:"fabric.editor.bug",defaultMessage:"Bug",description:"Alt text for Bug"},subTask:{id:"fabric.editor.subTask",defaultMessage:"Sub-task",
description:"Alt text for Sub-task"},improvement:{id:"fabric.editor.improvement",defaultMessage:"Improvement",description:"Alt text for Improvement"},defaultAltText:{id:"fabric.editor.defaultAltText",defaultMessage:"List item",description:"Default alt text for ListItem image"}}),c=(e,t)=>{let n=t.formatMessage(a.defaultAltText);return e.includes("story.svg")&&(n=t.formatMessage(a.story)),e.includes("epic.svg")&&(n=t.formatMessage(a.epic)),e.includes("avatarId=10318")&&(n=t.formatMessage(a.task)),e.includes("avatarId=10303")&&(n=t.formatMessage(a.bug)),e.includes("avatarId=10518")&&(n=t.formatMessage(a.subTask)),e.includes("avatarId=10310")&&(n=t.formatMessage(a.improvement)),n};const l={name:"1j296l2",styles:"background-color:transparent;padding:8px 12px;cursor:pointer;display:flex;margin-top:0"},d=Object(n("AeFk").css)("background-color:","var(--ds-background-neutral-subtle-hovered, #F4F5F7)",";"),u={name:"d3v9zr",styles:"overflow:hidden"
},p=Object(n("AeFk").css)("color:","var(--ds-text, #172B4D)",";overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:20px;"),h=Object(n("AeFk").css)("color:","var(--ds-text-subtlest, #5E6C84)",";line-height:14px;font-size:",Object(n("anI9").fb)(Object(n("7w+A").fontSizeSmall)()),";"),f={name:"9k4ld4",styles:"min-width:16px;margin-top:3px;margin-right:12px;img{max-width:16px;}"};class m extends r.a.PureComponent{constructor(...e){super(...e),s()(this,"handleSelect",(e=>{e.preventDefault();const{item:t,onSelect:n}=this.props;n(t.url,t.name)})),s()(this,"handleMouseMove",(()=>{const{onMouseMove:e,item:t}=this.props;e&&e(t.objectId)})),s()(this,"handleMouseEnter",(()=>{const{onMouseEnter:e,item:t}=this.props;e&&e(t.objectId)})),s()(this,"handleMouseLeave",(()=>{const{onMouseLeave:e,item:t}=this.props;e&&e(t.objectId)}))}renderIcon(){const{item:{icon:e,iconUrl:t},intl:o}=this.props;return e?Object(n("AeFk").jsx)("span",{css:f},e):t?Object(n("AeFk").jsx)("span",{css:f
},Object(n("AeFk").jsx)("img",{src:t,alt:c(t,o)})):null}renderTimeStamp(){const{item:e,intl:t}=this.props,r=Object(n("S1WX").a)(t,e.lastViewedDate,e.lastUpdatedDate);return r&&Object(n("AeFk").jsx)(o.Fragment,null,"\xa0 \u2022",Object(n("AeFk").jsx)("span",{className:"link-search-timestamp","data-test-id":"link-search-timestamp"},"\xa0 ",r.pageAction," ",r.dateString," ",r.timeSince||""))}render(){const{item:e,selected:t,id:o,role:r}=this.props;return Object(n("AeFk").jsx)("li",{css:[l,t&&d],role:r,id:o,"aria-selected":t,"data-testid":"link-search-list-item",onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleSelect},this.renderIcon(),Object(n("AeFk").jsx)("span",{css:u},Object(n("AeFk").jsx)("div",{css:p},e.name),Object(n("AeFk").jsx)("div",{"data-testid":"link-search-list-item-container",css:h},e.container,this.renderTimeStamp())))}}m.displayName="LinkSearchListItem";var b=Object(n("o5hF").c)(m);const g={
name:"1n8met0",styles:"padding-top:0"},v={name:"18a7o2",styles:"text-align:center;min-height:80px;margin-top:30px"},y={name:"n1lsvi",styles:"padding:0;list-style:none"};class O extends o.PureComponent{render(){const{onSelect:e,onMouseMove:t,onMouseEnter:o,onMouseLeave:r,items:i,selectedIndex:s,isLoading:a,ariaControls:c,role:l,id:d}=this.props;let u,p;return i&&i.length>0&&(u=Object(n("AeFk").jsx)("ul",{css:y,id:d,role:l,"aria-controls":c},i.map(((i,a)=>Object(n("AeFk").jsx)(b,{id:`link-search-list-item-${a}`,role:l&&"option",item:i,selected:s===a,onMouseMove:t,onMouseEnter:o,onMouseLeave:r,onSelect:e,key:i.objectId}))))),a&&(p=Object(n("AeFk").jsx)("div",{css:v},Object(n("AeFk").jsx)(n("6UK4").a,{size:"medium"}))),Object(n("AeFk").jsx)("div",{css:g},u,p)}}O.displayName="LinkSearchList"},OqVw:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return d}));var o=n("UxO+");class r{
constructor(e,t,n){this.step=e,this.inverted=t,this.origin=n}}class i{constructor(e,t){this.version=e,this.unconfirmed=t}}const s=new o.PluginKey("collab");function a(e={}){let t={version:e.version||0,clientID:null==e.clientID?Math.floor(4294967295*Math.random()):e.clientID};return new o.Plugin({key:s,state:{init:()=>new i(t.version,[]),apply(e,t){let o=e.getMeta(s);return o||(e.docChanged?new i(t.version,t.unconfirmed.concat(function(e){let t=[];for(let o=0;o<e.steps.length;o++)e.steps[o]instanceof n("Wabn").a||t.push(new r(e.steps[o],e.steps[o].invert(e.docs[o]),e));return t}(e))):t)}},config:t,historyPreserveItems:!0})}function c(e,t,n,a={}){let c=s.getState(e),l=c.version+t.length,d=s.get(e).spec.config.clientID,u=0;for(;u<n.length&&n[u]==d;)++u;let p=c.unconfirmed.slice(u);if(!(t=u?t.slice(u):t).length)return e.tr.setMeta(s,new i(l,p));let h=p.length,f=e.tr;if(h)p=function(e,t,n){for(let r=e.length-1;r>=0;r--)n.step(e[r].inverted);for(let r=0;r<t.length;r++)n.step(t[r]);let o=[]
;for(let i=0,s=e.length;i<e.length;i++){let t=e[i].step.map(n.mapping.slice(s));s--,t&&!n.maybeStep(t).failed&&(n.mapping.setMirror(s,n.steps.length-1),o.push(new r(t,t.invert(n.docs[n.docs.length-1]),e[i].origin)))}return o}(p,t,f);else{for(let e=0;e<t.length;e++)f.step(t[e]);p=[]}let m=new i(l,p);return a&&a.mapSelectionBackward&&e.selection instanceof o.TextSelection&&(f.setSelection(o.TextSelection.between(f.doc.resolve(f.mapping.map(e.selection.anchor,-1)),f.doc.resolve(f.mapping.map(e.selection.head,-1)),-1)),f.updated&=-2),f.setMeta("rebased",h).setMeta("addToHistory",!1).setMeta(s,m)}function l(e){let t=s.getState(e);return 0==t.unconfirmed.length?null:{version:t.version,steps:t.unconfirmed.map((e=>e.step)),clientID:s.get(e).spec.config.clientID,get origins(){return this._origins||(this._origins=t.unconfirmed.map((e=>e.origin)))}}}function d(e){return s.getState(e).version}},OrwF:function(e,t,n){"use strict";t.a=Object(n("D6b/").defineMessages)({layoutFixedWidth:{
id:"fabric.editor.layoutFixedWidth",defaultMessage:"Back to center",description:"Display your element (image, table, extension, etc) as standard width"},layoutWide:{id:"fabric.editor.layoutWide",defaultMessage:"Go wide",description:"Display your element (image, table, extension, etc) wider than normal"},layoutFullWidth:{id:"fabric.editor.layoutFullWidth",defaultMessage:"Go full width",description:"Display your element (image, table, extension, etc) as full width"},alignImageRight:{id:"fabric.editor.alignImageRight",defaultMessage:"Align right",description:"Aligns image to the right"},alignImageCenter:{id:"fabric.editor.alignImageCenter",defaultMessage:"Align center",description:"Aligns image to the center"},alignImageLeft:{id:"fabric.editor.alignImageLeft",defaultMessage:"Align left",description:"Aligns image to the left"},remove:{id:"fabric.editor.remove",defaultMessage:"Remove",description:"Delete the element (image, panel, table, etc.) from your document"},removeEmoji:{
id:"fabric.editor.removeEmoji",defaultMessage:"Remove emoji",description:"Remove the emoji panel icon from custom panel"},visit:{id:"fabric.editor.visit",defaultMessage:"Open link in a new window",description:"Open the link in a new window"},inviteToEditButtonTitle:{id:"fabric.editor.editMode.inviteToEditButton.title",defaultMessage:"Invite to edit",description:"Invite another user to edit the current document"},saveButton:{id:"fabric.editor.saveButton",defaultMessage:"Save",description:"Submit and save a comment or document"},cancelButton:{id:"fabric.editor.cancelButton",defaultMessage:"Cancel",description:"Discard the current comment or document"},taskList:{id:"fabric.editor.tooltip.taskList",defaultMessage:"an action item",description:"an action item in the Editor"},bulletList:{id:"fabric.editor.tooltip.bulletList",defaultMessage:"a list",description:"a list item in the Editor"},nestedExpand:{id:"fabric.editor.tooltip.nestedExpand",defaultMessage:"a nested expand",
description:"expand node which is nested"},decisionList:{id:"fabric.editor.tooltip.decisionList",defaultMessage:"a decision list",description:"a list of decisions"},defaultBlockNode:{id:"fabric.editor.tooltip.defaultBlockNode",defaultMessage:"a block node",description:"a block node element"},panel:{id:"fabric.editor.tooltip.blockPanel",defaultMessage:"a panel",description:"Panel node in the Editor"},blockquote:{id:"fabric.editor.blockquote",defaultMessage:"a quote",description:"a quote node"},timeUpdated:{id:"fabric.editor.time.updated",defaultMessage:"Updated",description:"Time last updated"},timeViewed:{id:"fabric.editor.time.viewed",defaultMessage:"Viewed",description:"Time last viewed"},timeAgo:{id:"fabric.editor.time.ago",defaultMessage:"ago",description:"Some time ago"},copyToClipboard:{id:"fabric.editor.copyToClipboard",defaultMessage:"Copy",description:"Copy the whole content of the element to your clipboard"},copiedToClipboard:{id:"fabric.editor.copiedToClipboard",
defaultMessage:"Copied!",description:"Copied the whole content of the element to clipboard"}})},OwO3:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={SUBMENU:"pm-dropdown-submenu"}},P2sY:function(e,t,n){e.exports={default:n("uccp"),__esModule:!0}},P90U:function(e,t,n){"use strict";let o,r;n.d(t,"a",(function(){return r})),function(e){e.LEFT="left",e.RIGHT="right"}(o||(o={})),function(e){e.CURRENT_SELECTION="currentSelection",e.HTML_ELEMENT="htmlElement"}(r||(r={}))},PAtx:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),s=n.n(i),a=n("wSSu"),c=n.n(a);function l(e){return class extends i.PureComponent{constructor(...e){super(...e),r()(this,"handleClick",(e=>{const t=c.a.findDOMNode(this);(!t||e.target instanceof Node&&!t.contains(e.target))&&this.props.handleClickOutside&&this.props.handleClickOutside(e)})),r()(this,"handleKeydown",(e=>{
"Escape"===e.code&&this.props.handleEscapeKeydown&&this.props.handleEscapeKeydown(e)}))}componentDidMount(){this.props.handleClickOutside&&document.addEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown&&document.addEventListener("keydown",this.handleKeydown,!1)}componentWillUnmount(){this.props.handleClickOutside&&document.removeEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown&&document.removeEventListener("keydown",this.handleKeydown,!1)}render(){return s.a.createElement(e,this.props)}}}},Pcg1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){
for(var t=e.cellCache,n=e.cellRenderer,o=e.columnSizeAndPositionManager,r=e.columnStartIndex,i=e.columnStopIndex,s=e.deferredMeasurementCache,a=e.horizontalOffsetAdjustment,c=e.isScrolling,l=e.isScrollingOptOut,d=e.parent,u=e.rowSizeAndPositionManager,p=e.rowStartIndex,h=e.rowStopIndex,f=e.styleCache,m=e.verticalOffsetAdjustment,b=e.visibleColumnIndices,g=e.visibleRowIndices,v=[],y=o.areOffsetsAdjusted()||u.areOffsetsAdjusted(),O=!c&&!y,E=p;E<=h;E++)for(var w=u.getSizeAndPositionOfCell(E),S=r;S<=i;S++){var k=o.getSizeAndPositionOfCell(S),x=S>=b.start&&S<=b.stop&&E>=g.start&&E<=g.stop,C=E+"-"+S,T=void 0;O&&f[C]?T=f[C]:s&&!s.has(E,S)?T={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(T={height:w.size,left:k.offset+a,position:"absolute",top:w.offset+m,width:k.size},f[C]=T);var j={columnIndex:S,isScrolling:c,isVisible:x,key:C,parent:d,rowIndex:E,style:T},A=void 0;!l&&!c||a||m?A=n(j):(t[C]||(t[C]=n(j)),A=t[C]),null!=A&&!1!==A&&v.push(A)}return v};n("uUy6")},
PeA7:function(e,t,n){"use strict";var o=n("q1tI");const r=n.n(o).a.lazy((()=>n.e("@atlaskit-internal_@atlaskit/mention/no-access-tooltip").then(n.bind(null,"Hfdo")).then((e=>({default:e.NoAccessTooltip})))));t.a=r},"Q+CF":function(e,t,n){"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||""}},QDVM:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const o=()=>(e,t)=>(t&&t(e.tr.setMeta(n("89Qp").a,{isElementBrowserModalOpen:!0})),!0),r=()=>(e,t)=>(t&&t(e.tr.setMeta(n("89Qp").a,{isElementBrowserModalOpen:!1})),!0),i=e=>(t,o)=>{const r=e.action(((e,o={})=>Object(n("hSri").a)(e,o)(t,t.tr,t.selection.head)),t);return r&&o&&o(r),!0}},QIUw:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),
n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s}));const o=()=>Object(n("zCFh").a)("display-outsider-comment-field_4x7u7",!1),r=()=>Object(n("zCFh").a)("sptn-505-flip-outsider-comment-property-value",!1),i=()=>Object(n("zCFh").a)("jsm-timelines-phase-2_70gja",!1),s=()=>Object(n("zCFh").a)("issue-view.editor-a11y-assistive-label-comments_jca11y-35_er6ww",!1)},QNHL:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"K",(function(){return s})),n.d(t,"L",(function(){return a})),n.d(t,"eb",(function(){return c})),n.d(t,"nb",(function(){return l})),n.d(t,"tb",(function(){return d})),n.d(t,"pb",(function(){return u})),n.d(t,"qb",(function(){return p})),n.d(t,"rb",(function(){return h})),n.d(t,"gb",(function(){return f})),n.d(t,"R",(function(){return m})),n.d(t,"m",(function(){return b})),n.d(t,"U",(function(){return g})),n.d(t,"hb",(function(){return v})),n.d(t,"ib",(function(){return y})),n.d(t,"jb",(function(){return O})),
n.d(t,"kb",(function(){return E})),n.d(t,"lb",(function(){return w})),n.d(t,"mb",(function(){return S})),n.d(t,"ob",(function(){return k})),n.d(t,"o",(function(){return x})),n.d(t,"fb",(function(){return C})),n.d(t,"db",(function(){return T})),n.d(t,"C",(function(){return j})),n.d(t,"V",(function(){return A})),n.d(t,"Z",(function(){return N})),n.d(t,"ab",(function(){return I})),n.d(t,"D",(function(){return P})),n.d(t,"vb",(function(){return M})),n.d(t,"J",(function(){return R})),n.d(t,"G",(function(){return _})),n.d(t,"H",(function(){return L})),n.d(t,"I",(function(){return D})),n.d(t,"B",(function(){return F})),n.d(t,"P",(function(){return B})),n.d(t,"T",(function(){return V})),n.d(t,"N",(function(){return z})),n.d(t,"f",(function(){return H})),n.d(t,"e",(function(){return U})),n.d(t,"bb",(function(){return W})),n.d(t,"r",(function(){return K})),n.d(t,"W",(function(){return $})),n.d(t,"cb",(function(){return q})),n.d(t,"A",(function(){return G})),n.d(t,"O",(function(){return Y})),
n.d(t,"k",(function(){return Q})),n.d(t,"q",(function(){return X})),n.d(t,"y",(function(){return Z})),n.d(t,"Y",(function(){return J})),n.d(t,"s",(function(){return ee})),n.d(t,"M",(function(){return te})),n.d(t,"S",(function(){return ne})),n.d(t,"X",(function(){return oe})),n.d(t,"sb",(function(){return re})),n.d(t,"h",(function(){return ie})),n.d(t,"g",(function(){return se})),n.d(t,"c",(function(){return ae})),n.d(t,"d",(function(){return ce})),n.d(t,"p",(function(){return le})),n.d(t,"n",(function(){return de})),n.d(t,"Q",(function(){return ue})),n.d(t,"j",(function(){return pe})),n.d(t,"t",(function(){return he})),n.d(t,"i",(function(){return fe})),n.d(t,"ub",(function(){return ve})),n.d(t,"a",(function(){return ye})),n.d(t,"v",(function(){return Oe})),n.d(t,"w",(function(){return Ee})),n.d(t,"x",(function(){return we})),n.d(t,"z",(function(){return Se})),n.d(t,"F",(function(){return xe})),n.d(t,"E",(function(){return Ce})),n.d(t,"l",(function(){return Te})),n.d(t,"u",(function(){
return je}));var o=n("q1tI"),r=n.n(o)
;const i=Ce("Add Alt Text","Mod-Alt-y"),s=Ce("Navigate to editor toolbar","Alt-F9"),a=Ce("Navigate to floating toolbar","Alt-F10"),c=Ce("Bold","Mod-b"),l=Ce("Italic","Mod-i"),d=Ce("Underline","Mod-u"),u=Ce("Strikethrough","Mod-Shift-s"),p=Ce("Subscript","Mod-Shift-,"),h=Ce("Superscript","Mod-Shift-."),f=Ce("Code","Mod-Shift-m"),m=Ce("Paste Plain Text","Mod-Shift-v"),b=Ce("Clear formatting","Mod-\\"),g=Ce("Normal text","Mod-Alt-0"),v=Ce("Heading 1","Mod-Alt-1"),y=Ce("Heading 2","Mod-Alt-2"),O=Ce("Heading 3","Mod-Alt-3"),E=Ce("Heading 4","Mod-Alt-4"),w=Ce("Heading 5","Mod-Alt-5"),S=Ce("Heading 6","Mod-Alt-6"),k=Ce("Numbered list","Mod-Shift-7"),x=Ce("Cmd + Backspace","Mod-Backspace"),C=Ce("Bullet list","Mod-Shift-8"),T=Ce("Quote","Mod-Shift-9"),j=Ce("Insert new line","Shift-Enter"),A=Ce("Shift Backspace","Shift-Backspace"),N=Ce("Split code block","Enter"),I=Ce("Split list item","Enter"),P=Ce("Insert horizontal rule","Mod-Shift--"),M=Ce("Undo","Mod-z"),R=Ce("Move up","ArrowUp"),_=Ce("Move down","ArrowDown"),L=Ce("Move left","ArrowLeft"),D=Ce("Move right","ArrowRight"),F=Ce("Indent List","Tab"),B=Ce("Outdent List","Shift-Tab"),V=xe("Redo","Ctrl-y","Mod-Shift-z"),z=Ce("Open Help","Mod-/"),H=Ce("Link","Mod-k"),U=Ce("Annotate","Mod-Alt-c"),W=Ce("Submit Content","Mod-Enter"),K=Ce("Enter","Enter"),$=Ce("Shift Enter","Shift-Enter"),q=Ce("Tab","Tab"),G=Ce("Indent","Tab"),Y=Ce("Outdent","Shift-Tab"),Q=Ce("Backspace","Backspace"),X=Ce("Delete","Delete"),Z=xe("Forward Delete","","Ctrl-d"),J=Ce("Space","Space"),ee=Ce("Escape","Escape"),te=Ce("Next cell","Tab"),ne=Ce("Previous cell","Shift-Tab"),oe=Ce("Shift Tab","Shift-Tab"),re=Ce("Table","Shift-Alt-t"),ie=Ce("Add Row Above","Ctrl-Alt-ArrowUp"),se=Ce("Add Row Below","Ctrl-Alt-ArrowDown"),ae=Ce("Add Column After","Ctrl-Alt-ArrowRight"),ce=Ce("Add Column Before","Ctrl-Alt-ArrowLeft"),le=Ce("Cut","Mod-x"),de=Ce("Copy","Mod-c"),ue=Ce("Paste","Mod-v"),pe=Ce("Paste","Mod-Shift-v"),he=Ce("Find","Mod-f"),fe=Ce("Align Left","Mod-Shift-l"),me={
ARROWLEFT:"\u2190",ARROWRIGHT:"\u2192",ARROWUP:"\u2191",ARROWDOWN:"\u2193"},be=Object(n("AeFk").css)("border-radius:2px;background-color:","var(--ds-background-inverse-subtle, #505F79)",";padding:0 2px;label:tooltip-shortcut;");function ge(e){let t;t=n("j5wO").a.mac?e.mac.replace(/Cmd/i,"\u2318").replace(/Shift/i,"\u21e7").replace(/Ctrl/i,"\u2303").replace(/Alt/i,"\u2325").replace(/Backspace/i,"\u232b").replace(/Enter/i,"\u23ce"):e.windows.replace(/Backspace/i,"\u232b");const o=t.split("-");let r=o[o.length-1];return 1===r.length&&(r=r.toUpperCase()),o[o.length-1]=me[r.toUpperCase()]||r,o.join(n("j5wO").a.mac?"":"+")}function ve(e,t){if(e){const n=ge(e);return t?`${t} ${n}`:n}}const ye=r.a.memo((({description:e,shortcutOverride:t,keymap:r})=>{const i=t||r&&ge(r);return i||e?Object(n("AeFk").jsx)(o.Fragment,null,e,i&&e&&"\xa0",i&&Object(n("AeFk").jsx)("span",{css:be},i)):null}));function Oe(e){return ke.filter((t=>t.description.toUpperCase()===e.toUpperCase()))[0]}function Ee(e){
const t=Oe(e);if(t)return we(t)}function we(e){return n("j5wO").a.mac?e.mac:e.windows}function Se(e){let t;return"string"==typeof e?t=e:"object"==typeof e&&(t=e[n("j5wO").a.mac?"mac":"windows"]),t?t.toLowerCase().split("-").map((e=>{switch(e){case"cmd":return"Meta";case"ctrl":return"Control";case"alt":return"Alt";case"shift":return"Shift";case"enter":return"Enter";case"esc":return"Esc";case"tab":return"Tab";case"space":return"Space";case"backspace":return"Backspace";default:return e.split("").join(" ")}})).join("+"):void 0}const ke=[k,C,c,l,d,u,p,h,f,g,v,y,O,E,w,S,T,j,P,N,I,V,M,he,ee,K,$];function xe(e,t,n,o){return{description:e,windows:t.replace(/Mod/i,"Ctrl"),mac:n.replace(/Mod/i,"Cmd"),common:o}}function Ce(e,t){return xe(e,t.replace(/Mod/i,"Ctrl"),t.replace(/Mod/i,"Cmd"),t)}function Te(e,t,n){const o=n[e];let r=t;n[e]&&(r=(e,n,r)=>o(e,n)||t(e,n,r)),n[e]=r}function je(e){if(e)return n("j5wO").a.mac?e.mac:e.windows}},QNcB:function(e,t,n){"use strict";n.d(t,"b",(function(){return o
}));const o=new(n("UxO+").PluginKey)("editorDisabledPlugin");const{createPluginState:r,getPluginState:i}=Object(n("pVB1").a)(o,(function(e,t){return t}));t.a=()=>({name:"editorDisabled",getSharedState:e=>e?o.getState(e):{editorDisabled:!1},pmPlugins:()=>[{name:"editorDisabled",plugin:({dispatch:e})=>function(e){return new(n("KkS8").a)({key:o,state:r(e,{editorDisabled:!1}),view:()=>({update(e){if(i(e.state).editorDisabled!==!e.editable){const t=e.state.tr.setMeta(o,{editorDisabled:!e.editable});t.setMeta("isLocal",!0),e.dispatch(t)}}})})}(e)}]})},QRYr:function(e,t,n){"use strict";function o(e){return{minHeight:({appearance:t,minHeight:n})=>n&&t&&!["comment","chromeless"].includes(t)?new Error(e):null}}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const r={appearance:"comment",disabled:!1,extensionHandlers:{},allowHelpDialog:!0,allowNewInsertionBehaviour:!0,quickInsert:!0}},QRdY:function(e,t,n){n("xfML"),e.exports=n("VSTI").Object.setPrototypeOf},
QXBo:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const o=[n("+PNV").a.INVOKED,n("+PNV").a.OPENED],r=({payload:e,editorState:t,tr:r,channel:i})=>{e=Object(n("6o/e").a)(t,e),e=Object(n("zyRD").a)(e);const{storedMarks:s}=r,a=r.mapping.map(t.selection.$from.pos,-1);r.step(new(n("Wabn").a)([{payload:e,channel:i}],o,a)),s&&r.setStoredMarks(s)}},QbLZ:function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("P2sY"));t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}},QdCa:function(e,t,n){"use strict";n.d(t,"a",(function(){return W}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),s=n.n(i),a=n("17x9"),c=n.n(a),l=n("UxO+"),d=n("V2qZ");const u=Object(n("D6b/").defineMessages)({editorAssistiveLabel:{id:"fabric.editor.editorAssistiveLabel",defaultMessage:"Main content area, start typing to enter text.",
description:"Text that is read out by screen reader when the main editor is in focus"}}),p=({dispatchAnalyticsEvent:e,pluginKey:t,analyticsOnly:o})=>{const r=()=>{if(e&&e({action:n("+PNV").a.TRANSACTION_MUTATED_AFTER_DISPATCH,actionSubject:n("+PNV").b.EDITOR,eventType:n("+PNV").e.OPERATIONAL,attributes:{pluginKey:t||"unknown"},nonPrivacySafeAttributes:{stack:(new Error).stack}}),!o)throw new Error("Setting an unsafe property on transaction after dispatch!")};return{get:function(e,t,n){return(e=>["setSelection"].includes(e.toString()))(t)&&r(),Reflect.get(e,t,n)},set:function(e,t,n){return(e=>["doc","docs","steps","selection"].includes(e.toString()))(t)&&r(),Reflect.set(e,t,n)}}};class h extends n("KkS8").a{constructor(e,t={},o){const{transactionTracking:r={enabled:!1},uiTracking:i={enabled:!1},saferDispatchedTransactions:s=!1,saferDispatchedTransactionsAnalyticsOnly:a=!1,dispatchAnalyticsEvent:c}=t;if((r.enabled&&o||s||a)&&e.state){const t=e.state.apply.bind(e.state)
;e.state.apply=(e,n,i,l)=>{const d=s||a?new Proxy(e,p({dispatchAnalyticsEvent:c,pluginKey:this.key,analyticsOnly:a})):e;if(!(null==o?void 0:o.shouldTrackTransaction(r))||!o)return t(d,n,i,l);const{startMeasure:u,stopMeasure:h}=o.getMeasureHelpers(r),f=`\ud83e\udd89${this.key}::apply`;u(f);const m=t(d,n,i,l);return h(f),m}}if(i.enabled&&e.view){const t=e.view.bind(e);e.view=e=>{const o=`\ud83e\udd89${this.key}::view::update`,r=t(e);if(r.update){const e=r.update;r.update=(t,r)=>{Object(n("61k9").b)(o),e(t,r),Object(n("61k9").c)(o,(()=>{}))}}return r}}super(e)}static fromPlugin(e,t,n){return new h(e.spec,t,n)}}function f(e){const t=e.reduce(((e,t)=>(t.pluginsOptions&&Object.keys(t.pluginsOptions).forEach((n=>{e[n]||(e[n]=[]),e[n].push(t.pluginsOptions[n])})),e)),{});return e.reduce(((e,n)=>(n.pmPlugins&&e.pmPlugins.push(...n.pmPlugins(n.name?t[n.name]:void 0)),n.nodes&&e.nodes.push(...n.nodes()),n.marks&&e.marks.push(...n.marks()),
n.contentComponent&&e.contentComponents.push(n.contentComponent),n.primaryToolbarComponent&&e.primaryToolbarComponents.push(n.primaryToolbarComponent),n.secondaryToolbarComponent&&e.secondaryToolbarComponents.push(n.secondaryToolbarComponent),n.onEditorViewStateUpdated&&e.onEditorViewStateUpdatedCallbacks.push({pluginName:n.name,callback:n.onEditorViewStateUpdated}),e)),{nodes:[],marks:[],pmPlugins:[],contentComponents:[],primaryToolbarComponents:[],secondaryToolbarComponents:[],onEditorViewStateUpdatedCallbacks:[]})}const m={enabled:!1};function b(e){const{editorConfig:t,performanceTracking:o={},transactionTracker:r,featureFlags:i,dispatchAnalyticsEvent:s}=e,{uiTracking:a=m,transactionTracking:c=m}=o,l=i.saferDispatchedTransactions,d=i.saferDispatchedTransactionsAnalyticsOnly;const u=a.enabled||c.enabled||l||d?e=>h.fromPlugin(e,{uiTracking:a,transactionTracking:c,saferDispatchedTransactions:l,saferDispatchedTransactionsAnalyticsOnly:d,dispatchAnalyticsEvent:s},r):e=>e
;return t.pmPlugins.sort(Object(n("0ryS").a)("plugins")).map((({plugin:t})=>t({schema:e.schema,dispatch:e.dispatch,eventDispatcher:e.eventDispatcher,providerFactory:e.providerFactory,errorReporter:e.errorReporter,portalProviderAPI:e.portalProviderAPI,reactContext:e.reactContext,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,featureFlags:e.featureFlags||{},getIntl:e.getIntl}))).filter((e=>void 0!==e)).map(u)}var g=n("MEpN");function v(e){const t=function(e){const t=Object.keys(e),n=new Set(t.map((t=>e[t].group)));return t.forEach((t=>{const o=e[t];o.excludes&&(o.excludes=o.excludes.split(" ").filter((e=>n.has(e))).join(" "))})),e}(e.marks.sort(Object(n("0ryS").a)("marks")).reduce(((e,t)=>(e[t.name]=t.mark,e)),{})),o=Object(n("T1Rc").b)(e.nodes.sort(Object(n("0ryS").a)("nodes")).reduce(((e,t)=>(e[t.name]=t.node,e)),{}),t);return new g.Schema({nodes:o,marks:t})}const y=(e,t)=>{const n=e.sort(((e,t)=>e-t)),o=n.length*t,r=Math.floor(o);if(o-r>0)return n[r];const i=n[r-1],s=n[r]
;return void 0!==i&&void 0!==s?(i+s)/2:void 0},O=(e,t)=>{const n=y(e,.25),o=y(e,.75);if(void 0===n||void 0===o)return;return o+(o-n)*t},E="\ud83e\udd89 EditorView::state::apply",w="\ud83e\udd89 EditorView::updateState",S="\ud83e\udd89 EditorView::onEditorViewStateUpdated",k="\ud83e\udd89 ReactEditorView::onChange",x="\ud83e\udd89 ReactEditorView::dispatchTransaction",C=!1,T=100,j=()=>{};class A{constructor(){r()(this,"dispatchCallCounter",0),r()(this,"measureMap",new Map),r()(this,"measureListeners",[]),r()(this,"bumpDispatchCounter",(e=>{const{enabled:t,samplingRate:n=T}=e;return t&&(this.dispatchCallCounter>=n&&(this.dispatchCallCounter=0),this.dispatchCallCounter++),this.dispatchCallCounter})),r()(this,"getMeasureHelpers",(e=>{const{usePerformanceMarks:t=C}=e;return this.shouldTrackTransaction(e)?{startMeasure:t?n("61k9").b:this.startMeasureSimple,stopMeasure:t?n("61k9").c:this.stopMeasureSimple}:{startMeasure:j,stopMeasure:j}})),r()(this,"startMeasureSimple",(e=>{
Object(n("X0Cu").a)()&&this.measureMap.set(e,performance.now())})),r()(this,"stopMeasureSimple",((e,t)=>{if(!Object(n("X0Cu").a)())return;const o=this.measureMap.get(e);if(o){const r=Object(n("aMlB").a)(o);this.measureMap.delete(e),t&&t(r,o),this.measureListeners.forEach((t=>t({name:e,duration:r,startTime:o})))}}))}addMeasureListener(e){this.measureListeners.push(e)}removeMeasureListener(e){const t=this.measureListeners.indexOf(e);t>-1&&this.measureListeners.splice(t,1)}shouldTrackTransaction(e){const{enabled:t,samplingRate:n=T}=e;return t&&this.dispatchCallCounter===n}}class N{constructor(e){r()(this,"count",0),r()(this,"pluginNames",[]),r()(this,"nodes",{}),r()(this,"extensionNodes",{}),r()(this,"nodesDuration",0),r()(this,"plugins",{}),r()(this,"slowPlugins",{}),r()(this,"options",{samplingRate:100,slowThreshold:300,outlierThreshold:30,outlierFactor:3}),r()(this,"isChild",(e=>e.startTime>=this.entry.startTime&&e.startTime+e.duration<=this.entry.startTime+this.entry.duration)),
this.entry=e}static fromEntry(e){return new N(e)}getEntryByName(e,t){return e.getEntriesByName(t).find(this.isChild)}getMethodSum(e){return Object.values(e).reduce(((e,t)=>e+t),0)}greaterEquals(e,t){return"number"==typeof t&&e>=t}hasOutlierMethods(e,t){return this.greaterEquals(e.stateApply,t.stateApplyOutlier)||this.greaterEquals(e.viewUpdate,t.viewUpdateOutlier)}get trigger(){return this.entry.duration>this.options.slowThreshold?"slow":this.hasSlowPlugins&&this.entry.duration>this.options.outlierThreshold?"distribution":this.count>0&&this.count%this.options.samplingRate==0?"sample":"none"}get hasSlowPlugins(){return Object.keys(this.slowPlugins).length>0}withEntryList(e){return this.entryList=e,this.stateApplied=this.getEntryByName(e,E),this.viewUpdated=this.getEntryByName(e,w),this.onChangeCalled=this.getEntryByName(e,k),this.onEditorViewStateUpdatedCalled=this.getEntryByName(e,S),this.withPlugins(this.pluginNames),this}withPlugins(e){const t={duration:0};if(this.pluginNames=e,
this.plugins=e.reduce(((e,n)=>{const o=this.entryList&&this.getEntryByName(this.entryList,`\ud83e\udd89${n}::apply`)||t,r=this.entryList&&this.getEntryByName(this.entryList,`\ud83e\udd89${n}::view::update`)||t,i=this.entryList&&this.getEntryByName(this.entryList,`\ud83e\udd89${n}::onEditorViewStateUpdated`)||t;return e[n]={stateApply:o.duration,viewUpdate:r.duration,onEditorViewStateUpdated:i.duration},e}),{}),this.stateApplied&&e.length>0){const e=Object.entries(this.plugins),t=O(e.map((([,{stateApply:e}])=>e)),this.options.outlierFactor),n=O(e.map((([,{viewUpdate:e}])=>e)),this.options.outlierFactor),o=this.options.outlierThreshold/e.length,r=([,e])=>this.getMethodSum(e)>o&&this.hasOutlierMethods(e,{stateApplyOutlier:t,viewUpdateOutlier:n});this.slowPlugins=e.filter(r).reduce(((e,[t,n])=>({...e,[t]:n})),{})}return this}withNodes(e,t=0){return this.nodes=e.nodeCount,this.extensionNodes=e.extensionNodeCount,this.nodesDuration=t,this}withCount(e){return this.count=e,this}withOptions(e){
return Object.assign(this.options,e),this}toJSON(){return{trigger:this.trigger,duration:this.entry.duration,nodes:this.nodes,extensionNodes:this.extensionNodes,plugins:this.plugins,slowPlugins:this.slowPlugins,stepDurations:{stateApply:this.stateApplied?this.stateApplied.duration:0,viewUpdate:this.viewUpdated?this.viewUpdated.duration:0,onChange:this.onChangeCalled?this.onChangeCalled.duration:0,onEditorViewStateUpdated:this.onEditorViewStateUpdatedCalled?this.onEditorViewStateUpdatedCalled.duration:0,countNodes:this.nodesDuration}}}}const I=[E,w,S,k,x];class P{constructor(){r()(this,"currentBatch",[]),r()(this,"pluginNameCache",new Set),r()(this,"setPluginNames",(e=>{this.pluginNameCache=new Set(e)})),r()(this,"setOnObservation",(e=>{this.observationCallback=e})),r()(this,"createPerformanceEntry",(e=>({entryType:"mark",name:e.name,startTime:e.startTime,duration:e.duration,toJSON:()=>JSON.stringify({entryType:"mark",name:e.name,startTime:e.startTime,duration:e.duration})}))),
r()(this,"convertToEntryList",(e=>({getEntries:()=>e,getEntriesByName:(t,n)=>e.filter((e=>e.name===t)),getEntriesByType:t=>e}))),r()(this,"observed",(e=>{const{name:t}=e;if(t.startsWith("\ud83e\udd89")){var n;const o=(null===(n=t.split(":")[0])||void 0===n?void 0:n.split("\ud83e\udd89")[1])||"",r=this.pluginNameCache.has(o),i=I.includes(t);0,(r||i)&&this.currentBatch.push(this.createPerformanceEntry(e))}if(t===x){if(this.observationCallback){const e=this.convertToEntryList([...this.currentBatch]);this.observationCallback(e)}this.currentBatch=[]}}))}}class M{constructor(e){r()(this,"getNodeCounts",(()=>[{nodeCount:{},extensionNodeCount:{}},0])),r()(this,"getPlugins",(()=>[])),r()(this,"getOptions",(()=>({}))),r()(this,"reportCount",0),r()(this,"simpleObserver",new P),r()(this,"onObserveration",(e=>{
e.getEntriesByName(x).map((t=>N.fromEntry(t).withCount(++this.reportCount).withEntryList(e).withNodes(...this.getNodeCounts()).withPlugins(this.getPlugins()).withOptions(this.getOptions()).toJSON())).filter((e=>"none"!==e.trigger)).forEach((e=>this.callback(e)))})),this.callback=e,this.observer=window.PerformanceObserver?new PerformanceObserver(this.onObserveration):{observe(){},disconnect(){},takeRecords:()=>[]}}get isSimpleTracking(){const{usePerformanceMarks:e=!1}=this.getOptions();return!e}withNodeCounts(e){return this.getNodeCounts=()=>{const t=performance.now();return[e(),performance.now()-t]},this}withPlugins(e){return this.getPlugins=e,this}withOptions(e){return this.getOptions=e,this}withTransactionTracker(e){return this.getTransactionTracker=e,this}observe(){if(this.isSimpleTracking)this.simpleObserver.setPluginNames(this.getPlugins()),this.simpleObserver.setOnObservation((e=>{this.onObserveration(e,this.observer)})),
this.getTransactionTracker&&this.getTransactionTracker().addMeasureListener(this.simpleObserver.observed);else try{this.observer.observe({buffered:!1,type:"measure"})}catch(e){this.observer.observe({entryTypes:["measure"]})}}disconnect(){this.isSimpleTracking?this.getTransactionTracker&&this.getTransactionTracker().removeMeasureListener(this.simpleObserver.observed):this.observer.disconnect()}takeRecords(){return this.observer.takeRecords()}}var R=n("kaPT").a,_=n("Y+p1"),L=n.n(_),D=n("DzJC");function F(e){return"function"==typeof e.getSharedState}const B=n.n(D)()((({listeners:e,updatesToNotifyQueue:t})=>{const n=[];for(let[o,r]of t.entries()){(e.get(o)||[]).forEach((e=>{r.forEach((t=>{n.push(e.bind(e,t))}))}))}t.clear(),0!==n.length&&n.reverse().forEach((e=>{e()}))}),0);class V{createAPI(e){return e&&function(e){return"object"==typeof e.actions}(e)?new Proxy(e.actions||{},{get:function(e,t,n){return Reflect.get(e,t)}}):{}}}class z{constructor({getEditorState:e}){
r()(this,"updatesToNotifyQueue",new Map),this.getEditorState=e,this.listeners=new Map}createAPI(e){if(!e)return{currentState:()=>{},onChange:e=>()=>{}};const t=e.name;return{currentState:()=>{if(!F(e))return;const t=this.getEditorState();return e.getSharedState(t)},onChange:e=>{const n=this.listeners.get(t)||new Set;return n.add(e),this.listeners.set(t,n),()=>this.cleanupSubscription(t,e)}}}cleanupSubscription(e,t){(this.listeners.get(e)||new Set).delete(t)}notifyListeners({newEditorState:e,oldEditorState:t,plugins:n}){const{listeners:o,updatesToNotifyQueue:r}=this,i=(({listeners:e,plugins:t})=>Array.from(e.keys()).map((e=>t.get(e))).filter((e=>void 0!==e&&F(e))))({plugins:n,listeners:o}),s=(({oldEditorState:e,newEditorState:t,plugins:n})=>{const o=!e&&t,r=new Map;for(let i of n){if(!i||!F(i))continue;const n=i.getSharedState(t),s=!o&&e?i.getSharedState(e):void 0,a=L()(s,n);!o&&a||r.set(i.name,{nextSharedState:n,prevSharedState:s})}return r})({oldEditorState:t,newEditorState:e,
plugins:i});if(0!==s.size){for(let[e,t]of s){const n=r.get(e)||[];r.set(e,[...n,t])}B({updatesToNotifyQueue:r,listeners:o})}}destroy(){this.listeners.clear(),this.updatesToNotifyQueue.clear()}}class H{constructor({getEditorState:e}){r()(this,"onEditorViewUpdated",(({newEditorState:e,oldEditorState:t})=>{this.sharedStateAPI.notifyListeners({newEditorState:e,oldEditorState:t,plugins:this.plugins})})),r()(this,"onEditorPluginInitialized",(e=>{this.addPlugin(e)})),r()(this,"addPlugin",(e=>{this.plugins.set(e.name,e)})),r()(this,"getPluginByName",(e=>this.plugins.get(e))),this.sharedStateAPI=new z({getEditorState:e}),this.plugins=new Map,this.actionsAPI=new V}api(){const{sharedStateAPI:e,actionsAPI:t,getPluginByName:n}=this;return{dependencies:new Proxy({},{get:function(o,r,i){if("toJSON"===r)return Reflect.get(o,r);const s=n(r);if(!s)return void console.error(`Plugin: ${r} does not exist`);return{sharedState:e.createAPI(s),actions:t.createAPI(s)}}})}}}function U(e){
if(!e.hasFocus())return window.setTimeout((()=>{e.focus()}),0)}class W extends s.a.Component{get transactionTracking(){var e,t;return null!==(e=null===(t=this.props.editorProps.performanceTracking)||void 0===t?void 0:t.transactionTracking)&&void 0!==e?e:{enabled:!1}}getPluginNames(){return this.editorState.plugins.map((e=>e.key))}countNodes(){return Object(n("Cepr").a)(this.editorState)}constructor(e,t){super(e,t),r()(this,"editorRef",s.a.createRef()),r()(this,"canDispatchTransactions",!0),r()(this,"onPluginObservation",((e,t)=>{this.dispatchAnalyticsEvent({action:n("+PNV").a.TRANSACTION_DISPATCHED,actionSubject:n("+PNV").b.EDITOR,eventType:n("+PNV").e.OPERATIONAL,attributes:{report:e,participants:Object(n("EjDT").a)(t)}})})),r()(this,"getEditorState",(()=>{var e;return null===(e=this.view)||void 0===e?void 0:e.state})),r()(this,"formatFullWidthAppearance",(e=>"full-width"===e?n("N6uE").b.FULL_WIDTH:n("N6uE").b.FIXED_WIDTH)),
r()(this,"resetEditorState",(({doc:e,shouldScrollToBottom:t})=>{var o,r;this.view&&(this.blur(),this.featureFlags=Object(n("RxBR").a)(this.props.editorProps),this.editorState=this.createEditorState({props:this.props,context:this.context,doc:e,resetting:!0,selectionAtStart:!t}),this.view.updateState(this.editorState),null===(o=(r=this.props.editorProps).onChange)||void 0===o||o.call(r,this.view,{source:"local"}))})),r()(this,"blur",(()=>{if(!this.view)return;this.view.dom instanceof HTMLElement&&this.view.hasFocus()&&this.view.dom.blur();const e=this.view.root.getSelection();e&&e.removeAllRanges()})),r()(this,"handleAnalyticsEvent",(e=>{this.props.allowAnalyticsGASV3&&Object(n("ViYe").a)(this.props.createAnalyticsEvent)(e)})),r()(this,"editorPlugins",[]),r()(this,"createEditorState",(e=>{let t;if(this.view){if(!e.resetting)return console.warn("The editor does not support changing the schema dynamically."),this.editorState;t=this.view.state.schema
}else this.config=f(this.getPlugins(e.props.preset)),t=v(this.config);const{contentTransformerProvider:o}=e.props.editorProps,r=b({schema:t,dispatch:this.dispatch,errorReporter:this.errorReporter,editorConfig:this.config,eventDispatcher:this.eventDispatcher,providerFactory:e.props.providerFactory,portalProviderAPI:this.props.portalProviderAPI,reactContext:()=>e.context,dispatchAnalyticsEvent:this.dispatchAnalyticsEvent,performanceTracking:this.props.editorProps.performanceTracking,transactionTracker:this.transactionTracker,featureFlags:this.featureFlags,getIntl:()=>this.props.intl});let i,s;this.contentTransformer=o?o(t):void 0,e.doc&&(i=Object(n("x+VZ").n)(t,e.doc,e.props.providerFactory,e.props.editorProps.sanitizePrivateContent,this.contentTransformer,this.dispatchAnalyticsEvent)),i&&(s=e.selectionAtStart?l.Selection.atStart(i):l.Selection.atEnd(i));const a=s&&l.Selection.findFrom(s.$head,-1,!0)||void 0;return l.EditorState.create({schema:t,plugins:r,doc:i,selection:a})})),
r()(this,"onEditorViewStateUpdated",(({originalTransaction:e,transactions:t,oldEditorState:o,newEditorState:r})=>{const{enabled:i}=this.transactionTracking;this.config.onEditorViewStateUpdatedCallbacks.forEach((s=>{i&&Object(n("61k9").b)(`\ud83e\udd89 ${s.pluginName}::onEditorViewStateUpdated`),s.callback({originalTransaction:e,transactions:t,oldEditorState:o,newEditorState:r}),i&&Object(n("61k9").c)(`\ud83e\udd89 ${s.pluginName}::onEditorViewStateUpdated`)}))})),r()(this,"trackValidTransactions",(()=>{const{editorProps:e}=this.props;if(null!=e&&e.trackValidTransactions){this.validTransactionCount++;const t="object"==typeof e.trackValidTransactions&&e.trackValidTransactions.samplingRate||100;this.validTransactionCount>=t&&(this.dispatchAnalyticsEvent({action:n("+PNV").a.DISPATCHED_VALID_TRANSACTION,actionSubject:n("+PNV").b.EDITOR,eventType:n("+PNV").e.OPERATIONAL}),this.validTransactionCount=0)}})),r()(this,"dispatchTransaction",(e=>{if(!this.view)return
;this.transactionTracker.bumpDispatchCounter(this.transactionTracking);const{startMeasure:t,stopMeasure:o}=this.transactionTracker.getMeasureHelpers(this.transactionTracking);var r;(t(x),this.transactionTracker.shouldTrackTransaction(this.transactionTracking))&&(null===(r=this.experienceStore)||void 0===r||r.start(n("IYQB").a.interaction));const i=Object(n("ceYy").b)(e),s=Object(n("ceYy").k)(i),a=this.featureFlags.saferDispatchedTransactions||this.featureFlags.saferDispatchedTransactionsAnalyticsOnly?new Proxy(e,p({dispatchAnalyticsEvent:this.dispatchAnalyticsEvent,pluginKey:"unknown-reacteditorview",analyticsOnly:this.featureFlags.saferDispatchedTransactionsAnalyticsOnly})):e;if(s){const e=this.view.state;t(E);const{state:r,transactions:i}=this.view.state.applyTransaction(a);if(o(E,((e,t)=>{var o;null===(o=this.experienceStore)||void 0===o||o.mark(n("IYQB").a.interaction,"stateApply",t+e)})),this.trackValidTransactions(),r===e)return;if(t(w),this.view.updateState(r),o(w,((e,t)=>{var o
;null===(o=this.experienceStore)||void 0===o||o.mark(n("IYQB").a.interaction,"viewUpdateState",t+e)})),this.pluginInjectionAPI.onEditorViewUpdated({newEditorState:r,oldEditorState:e}),t(S),this.onEditorViewStateUpdated({originalTransaction:a,transactions:i,oldEditorState:e,newEditorState:r}),o(S,((e,t)=>{var o;null===(o=this.experienceStore)||void 0===o||o.mark(n("IYQB").a.interaction,"onEditorViewStateUpdated",t+e)})),this.props.editorProps.onChange&&a.docChanged){const e=a.getMeta("isRemote")?"remote":"local";t(k),this.props.editorProps.onChange(this.view,{source:e}),o(k,((e,t)=>{var o,r,i;null===(o=this.experienceStore)||void 0===o||o.mark(n("IYQB").a.interaction,"onChange",t+e),!0===(null===(r=this.props.editorProps.performanceTracking)||void 0===r||null===(i=r.onChangeCallbackTracking)||void 0===i?void 0:i.enabled)&&this.dispatchAnalyticsEvent({action:n("+PNV").a.ON_CHANGE_CALLBACK,actionSubject:n("+PNV").b.EDITOR,eventType:n("+PNV").e.OPERATIONAL,attributes:{duration:e,
startTime:t}})}))}this.editorState=r,o(x,((e,t)=>{var o,r;null===(o=this.experienceStore)||void 0===o||o.mark(n("IYQB").a.interaction,"dispatchTransaction",t+e),null===(r=this.experienceStore)||void 0===r||r.success(n("IYQB").a.interaction)}))}else{var c;const e=i.filter((e=>!Object(n("ceYy").j)(e))).map((e=>Object(n("hmSr").a)(e,{compact:!0})));this.dispatchAnalyticsEvent({action:n("+PNV").a.DISPATCHED_INVALID_TRANSACTION,actionSubject:n("+PNV").b.EDITOR,eventType:n("+PNV").e.OPERATIONAL,attributes:{analyticsEventPayloads:Object(n("R8yl").a)(a),invalidNodes:e}}),null===(c=this.experienceStore)||void 0===c||c.fail(n("IYQB").a.interaction,{reason:"invalid transaction",invalidNodes:e.toString()})}})),r()(this,"getDirectEditorProps",(e=>({state:e||this.editorState,dispatchTransaction:e=>{this.canDispatchTransactions&&this.dispatchTransaction(e)},editable:e=>!this.props.editorProps.disabled,attributes:{"data-gramm":"false"}}))),r()(this,"createEditorView",(e=>{
Object(n("Xvyu").b)(n("lZxZ").a.PROSEMIRROR_RENDERED,(({duration:e,startTime:t,distortedDuration:o})=>{var r,i,s,a;const c=null===(r=this.props.editorProps)||void 0===r||null===(i=r.performanceTracking)||void 0===i?void 0:i.proseMirrorRenderedTracking,l=void 0===c&&Object(n("dxwe").a)();if(this.proseMirrorRenderedSeverity=l||null!=c&&c.trackSeverity?Object(n("rJZJ").e)(e,null!==(s=null==c?void 0:c.severityNormalThreshold)&&void 0!==s?s:2e3,null!==(a=null==c?void 0:c.severityDegradedThreshold)&&void 0!==a?a:3e3):void 0,this.view){var d,u;const r=Object(n("x+VZ").d)(this.view.state.doc),i=Object(n("Nkwt").a)();var p;if(this.dispatchAnalyticsEvent({action:n("+PNV").a.PROSEMIRROR_RENDERED,actionSubject:n("+PNV").b.EDITOR,attributes:{duration:e,startTime:t,nodes:r,ttfb:i,severity:this.proseMirrorRenderedSeverity,objectId:null===(d=Object(n("Wx28").b)(this.editorState))||void 0===d?void 0:d.objectId,distortedDuration:o},eventType:n("+PNV").e.OPERATIONAL}),
!o)null===(p=this.experienceStore)||void 0===p||p.mark(n("IYQB").a.loadEditor,n("+PNV").a.PROSEMIRROR_RENDERED,t+e);null===(u=this.experienceStore)||void 0===u||u.addMetadata(n("IYQB").a.loadEditor,{nodes:r,ttfb:i})}})),this.view=new d.c({mount:e},this.getDirectEditorProps()),this.pluginInjectionAPI.onEditorViewUpdated({newEditorState:this.view.state,oldEditorState:void 0})})),r()(this,"handleEditorViewRef",(e=>{if(!this.view&&e){this.createEditorView(e);const t=this.view;this.props.onEditorCreated({view:t,config:this.config,eventDispatcher:this.eventDispatcher,transformer:this.contentTransformer}),this.props.editorProps.shouldFocus&&t.props.editable&&t.props.editable(t.state)&&(this.focusTimeoutId=U(t)),this.featureFlags.ufo&&(this.experienceStore=n("IYQB").b.getInstance(t),this.experienceStore.start(n("IYQB").a.editSession),this.experienceStore.addMetadata(n("IYQB").a.editSession,{reliabilityInterval:n("IYQB").c}),this.reliabilityInterval=window.setInterval((()=>{var e,t
;null===(e=this.experienceStore)||void 0===e||null===(t=e.success(n("IYQB").a.editSession))||void 0===t||t.finally((()=>{var e,t;null===(e=this.experienceStore)||void 0===e||e.start(n("IYQB").a.editSession),null===(t=this.experienceStore)||void 0===t||t.addMetadata(n("IYQB").a.editSession,{reliabilityInterval:n("IYQB").c})}));const o={action:n("+PNV").a.UFO_SESSION_COMPLETE,actionSubject:n("+PNV").b.EDITOR,attributes:{interval:n("IYQB").c},eventType:n("+PNV").e.OPERATIONAL};this.dispatchAnalyticsEvent(o)}),n("IYQB").c)),this.forceUpdate()}else if(this.view&&!e){this.props.onEditorDestroyed({view:this.view,config:this.config,eventDispatcher:this.eventDispatcher,transformer:this.contentTransformer});const e=this.eventDispatcher.has(n("rJZJ").b,this.handleAnalyticsEvent);e||this.eventDispatcher.on(n("rJZJ").b,this.handleAnalyticsEvent),this.view.destroy(),e||this.eventDispatcher.off(n("rJZJ").b,this.handleAnalyticsEvent),this.view=void 0}})),r()(this,"dispatchAnalyticsEvent",(e=>{
if(this.props.allowAnalyticsGASV3&&this.eventDispatcher){Object(n("SMi2").b)(this.eventDispatcher)(n("rJZJ").b,{payload:e})}})),r()(this,"createEditor",(e=>s.a.createElement("div",{className:K(),key:"ProseMirror",ref:this.handleEditorViewRef,"aria-label":e||this.props.intl.formatMessage(u.editorAssistiveLabel),role:"textbox"}))),r()(this,"editor",this.createEditor(this.props.editorProps.assistiveLabel)),this.pluginInjectionAPI=new H({getEditorState:this.getEditorState}),this.eventDispatcher=new(n("SMi2").a),this.dispatch=Object(n("SMi2").b)(this.eventDispatcher),this.errorReporter=function(e){const t=new(n("AG9f").a);return e&&(t.handler=e),t}(e.editorProps.errorReporterHandler),this.transactionTracker=new A,this.pluginPerformanceObserver=new M((e=>this.onPluginObservation(e,this.editorState))).withPlugins((()=>this.getPluginNames())).withNodeCounts((()=>this.countNodes())).withOptions((()=>this.transactionTracking)).withTransactionTracker((()=>this.transactionTracker)),
this.validTransactionCount=0,this.featureFlags=Object(n("RxBR").a)(this.props.editorProps);const o=this.featureFlags?Object(n("/DVK").a)(this.featureFlags):[];this.props.createAnalyticsEvent&&(this.props.createAnalyticsEvent.__queueAnalytics=this.featureFlags.queueAnalytics),this.eventDispatcher.on(n("rJZJ").b,this.handleAnalyticsEvent),this.eventDispatcher.on("resetEditorState",this.resetEditorState),this.editorState=this.createEditorState({props:e,context:t,doc:e.editorProps.defaultValue,selectionAtStart:Object(n("9TOn").a)(e.editorProps.appearance)}),this.dispatchAnalyticsEvent({action:n("+PNV").a.STARTED,actionSubject:n("+PNV").b.EDITOR,attributes:{platform:n("N6uE").d.WEB,featureFlags:o},eventType:n("+PNV").e.UI})}UNSAFE_componentWillReceiveProps(e){if(e.createAnalyticsEvent&&e.createAnalyticsEvent!==this.props.createAnalyticsEvent){const t=Object(n("RxBR").a)(e.editorProps);e.createAnalyticsEvent.__queueAnalytics=t.queueAnalytics}
this.view&&this.props.editorProps.disabled!==e.editorProps.disabled&&(this.view.setProps({editable:t=>!e.editorProps.disabled}),!e.editorProps.disabled&&e.editorProps.shouldFocus&&(this.focusTimeoutId=U(this.view)));const{appearance:t}=this.props.editorProps,{appearance:o}=e.editorProps;this.props.preset!==e.preset&&this.reconfigureState(e),o!==t&&("full-width"!==o&&"full-width"!==t||this.dispatchAnalyticsEvent({action:n("+PNV").a.CHANGED_FULL_WIDTH_MODE,actionSubject:n("+PNV").b.EDITOR,eventType:n("+PNV").e.TRACK,attributes:{previousMode:this.formatFullWidthAppearance(t),newMode:this.formatFullWidthAppearance(o)}})),this.transactionTracking.enabled||this.pluginPerformanceObserver.disconnect(),e.editorProps.assistiveLabel!==this.props.editorProps.assistiveLabel&&(this.editor=this.createEditor(e.editorProps.assistiveLabel))}reconfigureState(e){if(!this.view)return;this.blur();const t=this.getPlugins(e.preset);this.config=f(t);const o=this.editorState,r=b({schema:o.schema,
dispatch:this.dispatch,errorReporter:this.errorReporter,editorConfig:this.config,eventDispatcher:this.eventDispatcher,providerFactory:e.providerFactory,portalProviderAPI:e.portalProviderAPI,reactContext:()=>this.context,dispatchAnalyticsEvent:this.dispatchAnalyticsEvent,performanceTracking:e.editorProps.performanceTracking,transactionTracker:this.transactionTracker,featureFlags:Object(n("RxBR").a)(e.editorProps),getIntl:()=>this.props.intl}),i=o.reconfigure({plugins:r});return this.view.updateState(i),this.view.update({...this.view.props,state:i})}componentDidMount(){this.canDispatchTransactions=!0,this.transactionTracking.enabled&&this.pluginPerformanceObserver.observe()}componentWillUnmount(){if(this.canDispatchTransactions=!1,clearTimeout(this.focusTimeoutId),this.reliabilityInterval&&clearInterval(this.reliabilityInterval),this.pluginPerformanceObserver.disconnect(),this.view){const e=this.view.state;e.plugins.forEach((t=>{const n=t.getState(e);n&&n.destroy&&n.destroy()}))}
this.eventDispatcher.destroy()}getPlugins(e){const t=e.build({pluginInjectionAPI:this.pluginInjectionAPI});return this.editorPlugins=t,this.editorPlugins}render(){var e,t;const o=null===(e=this.props.editorProps.performanceTracking)||void 0===e||null===(t=e.renderTracking)||void 0===t?void 0:t.reactEditorView,r=null==o?void 0:o.enabled,i=null==o?void 0:o.useShallow;return s.a.createElement(R.Provider,{value:{editorRef:this.editorRef,editorView:this.view}},r&&s.a.createElement(n("JI5p").a,{componentProps:this.props,action:n("+PNV").a.RE_RENDERED,actionSubject:n("+PNV").b.REACT_EDITOR_VIEW,handleAnalyticsEvent:this.handleAnalyticsEvent,useShallow:i}),this.props.render?this.props.render({editor:this.editor,view:this.view,config:this.config,eventDispatcher:this.eventDispatcher,transformer:this.contentTransformer,dispatchAnalyticsEvent:this.dispatchAnalyticsEvent,editorRef:this.editorRef}):this.editor)}}function K(){
return n("j5wO").a.chrome?"ua-chrome":n("j5wO").a.ie?"ua-ie":n("j5wO").a.gecko?"ua-firefox":n("j5wO").a.safari?"ua-safari":""}W.displayName="ReactEditorView",r()(W,"contextTypes",{getAtlaskitAnalyticsEventHandlers:c.a.func})},Qesr:function(e,t,n){"use strict";let o;n.d(t,"a",(function(){return o})),function(e){e[e.UPDATE_INLINE_COMMENT_STATE=0]="UPDATE_INLINE_COMMENT_STATE",e[e.SET_INLINE_COMMENT_DRAFT_STATE=1]="SET_INLINE_COMMENT_DRAFT_STATE",e[e.INLINE_COMMENT_UPDATE_MOUSE_STATE=2]="INLINE_COMMENT_UPDATE_MOUSE_STATE",e[e.INLINE_COMMENT_CLEAR_DIRTY_MARK=3]="INLINE_COMMENT_CLEAR_DIRTY_MARK",e[e.ADD_INLINE_COMMENT=4]="ADD_INLINE_COMMENT",e[e.INLINE_COMMENT_SET_VISIBLE=5]="INLINE_COMMENT_SET_VISIBLE",e[e.CLOSE_COMPONENT=6]="CLOSE_COMPONENT"}(o||(o={}))},Qi0S:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"j",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),
n.d(t,"h",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"i",(function(){return p})),n.d(t,"b",(function(){return h}));var o=n("UxO+");function r(e){return t=>{const n=t.doc.nodeAt(e);return!!n&&n.isText}}function i(e){return t=>{const n=t.doc.nodeAt(e);return!!n&&t.schema.marks.link.isInSet(n.marks)}}function s(e,t,o,r){return(i,s)=>{const a=i.doc.resolve(o),c=i.doc.nodeAt(o);if(!c)return!1;const l=Object(n("CHQz").g)(e),d=i.schema.marks.link.isInSet(c.marks),u=i.schema.marks.link,p=r&&o!==r?r:o-a.textOffset+c.nodeSize,h=i.tr;if(!l&&t)h.removeMark(o,p,u),h.insertText(t,o,p);else{if(!l)return!1;{h.insertText(t,o,p);const e={...d&&d.attrs||{},href:l};h.addMark(o,o+t.length,u.create(e)),h.setMeta(n("E3sl").e,{type:n("E3sl").b.HIDE_TOOLBAR})}}return s&&s(h),!0}}function a(e,t,i,s,a,c,l){return(d,u)=>{const p=d.schema.marks.link,{tr:h}=d;if(i.trim()){const f=Object(n("CHQz").g)(i),m=n("E3sl").e.getState(d).activeText;let b=t;const g=a||s||i
;return a&&a===m||(h.insertText(g,e,t),b=r(e)(d)?e+g.length:e+g.length+1),h.addMark(e,b,p.create({href:f})),h.setSelection(o.Selection.near(h.doc.resolve(b))),a&&a!==i||Object(n("X6Aa").e)(d,h,c,n("+PNV").a.INSERTED,!1,l),h.setMeta(n("E3sl").e,{type:n("E3sl").b.HIDE_TOOLBAR}),u&&u(h),!0}return h.setMeta(n("E3sl").e,{type:n("E3sl").b.HIDE_TOOLBAR}),u&&u(h),!1}}const c=(e,t,o,r,i,s,c=!1,l)=>!c||i||s?Object(n("SVcB").b)(Object(n("N1l4").a)(e,r))(a(t,o,r,i,s,e,l)):a(t,o,r,i,s,e,l),l=(e,t,o,r,i,s)=>Object(n("SVcB").b)(Object(n("N1l4").a)(e,r))(a(t,o,r,i,s,e));function d(e){return Object(n("LofH").b)(function(e,t,o,i){return Object(n("+U5V").c)(r(t),((r,s)=>{const a=r.doc.resolve(t),c=r.doc.nodeAt(t),l=r.schema.marks.link,d=l.isInSet(c.marks),u=Object(n("CHQz").g)(e);if(d&&d.attrs.href===u)return!1;const p=o&&t!==o?o:t-a.textOffset+c.nodeSize,h=r.tr.removeMark(t,p,l);return e.trim()?h.addMark(t,p,l.create({...d&&d.attrs||{},href:u
})):Object(n("SVcB").a)(r,h,Object(n("WzQf").d)(n("+PNV").c.HYPERLINK)),i||h.setMeta(n("E3sl").e,{type:n("E3sl").b.HIDE_TOOLBAR}),s&&s(h),!0}))}("",e),{action:n("+PNV").a.UNLINK})}function u(){return(e,t)=>(t&&t(Object(n("SVcB").a)(e,e.tr.setMeta(n("E3sl").e,{type:n("E3sl").b.EDIT_INSERTED_TOOLBAR,inputMethod:n("+PNV").f.FLOATING_TB}),Object(n("WzQf").a)(n("+PNV").c.HYPERLINK))),!0)}function p(e=n("+PNV").f.TOOLBAR){return function(t,o){if(o){let r=t.tr.setMeta(n("E3sl").e,{type:n("E3sl").b.SHOW_INSERT_TOOLBAR,inputMethod:e});r=Object(n("SVcB").a)(t,r,{action:n("+PNV").a.INVOKED,actionSubject:n("+PNV").b.TYPEAHEAD,actionSubjectId:n("+PNV").c.TYPEAHEAD_LINK,attributes:{inputMethod:e},eventType:n("+PNV").e.UI}),o(r)}return!0}}function h(){return function(e,t){return t&&t(e.tr.setMeta(n("E3sl").e,{type:n("E3sl").b.HIDE_TOOLBAR})),!0}}},QiND:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),
n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return a}));const o=e=>t=>{const{tableRef:o}=Object(n("dGVe").c)(t);if(!o)return;if(!o.querySelector("tr"))return;const r=o.parentElement;if(!r||!r.parentElement)return;const i=r.parentElement.querySelectorAll(`.${n("p3BF").b.ROW_CONTROLS_BUTTON_WRAP}`),s=r.parentElement.querySelectorAll(n("p3BF").b.NUMBERED_COLUMN_BUTTON);a(o);const c=Object(n("VnTS").d)(o);for(let e=0,n=i.length;e<n;e++){const t=c[e];t&&(i[e].style.height=`${t}px`,s.length&&(s[e].style.height=`${t}px`))}const l=r.parentElement.querySelectorAll(`.${n("p3BF").b.TABLE_RIGHT_SHADOW}`),d=r.parentElement.querySelectorAll(`.${n("p3BF").b.TABLE_LEFT_SHADOW}`);Object(n("ZX1i").a)(e)(t,r,o,l,d)},r=(e,t)=>{const n=t.x-e.clientX,o=t.y-e.clientY;return n*n+o*o<100},i=(e,t,o)=>{const r=t.target;if(!Object(n("uYq7").c)(r,n("p3BF").b.RESIZE_HANDLE_DECORATION))return null;const i=Object(n("uYq7").b)(r,"td, th");if(!i)return null;return e.posAtDOM(i,0)-1},s=e=>{
const t=e.querySelector("tr.sticky");if(!t)return void(e.style.marginTop="");const o=Object(n("uYq7").e)(window.getComputedStyle(t).paddingTop||"")||0,r=t.getBoundingClientRect().height-o-n("9ehW").c;e.style.marginTop=`${n("9ehW").g+r}px`},a=e=>{if(!e)return;const t=e.querySelector("tr[data-header-row]");t&&(((e,t)=>{const o=Object(n("8cLp").a)(e,t);o&&(t.style.gridTemplateColumns=o)})(e.querySelector("colgroup"),t),c(e,t))},c=(e,t)=>{const n=e.querySelector("tbody"),o=e.parentElement;if(n&&o){const e=Math.min(n.offsetWidth+1,o.offsetWidth);t.style.width=`${e}px`,t.scrollLeft=o.scrollLeft}}},QjYF:function(e,t,n){"use strict";var o=n("AGgm").isSpace;e.exports=function(e,t){var n,r,i,s=e.pos;if(10!==e.src.charCodeAt(s))return!1;if(n=e.pending.length-1,r=e.posMax,!t)if(n>=0&&32===e.pending.charCodeAt(n))if(n>=1&&32===e.pending.charCodeAt(n-1)){for(i=n-1;i>=1&&32===e.pending.charCodeAt(i-1);)i--;e.pending=e.pending.slice(0,i),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),
e.push("softbreak","br",0);else e.push("softbreak","br",0);for(s++;s<r&&o(e.src.charCodeAt(s));)s++;return e.pos=s,!0}},"Qo0+":function(e,t,n){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},Qvlh:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return a}));const o=24;function r(e,t,n){return(t+o)/n*e-o}function i(e,t,n){return(e+o)*n/(t+o)}function s(e,t){return(t+o)*e-o}function a(e,t){return(e+o)/(t+o)}},
"QzQ+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12.002 15.504a3.502 3.502 0 110-7.004 3.502 3.502 0 010 7.004m6.732-1.987a1.605 1.605 0 01-.001-3.034.386.386 0 00.253-.462 7.2 7.2 0 00-.672-1.604.384.384 0 00-.481-.156c-.31.127-.668.16-1.039.065a1.6 1.6 0 01-1.129-1.124 1.641 1.641 0 01.061-1.043.385.385 0 00-.157-.48 7.225 7.225 0 00-1.59-.665.385.385 0 00-.461.252 1.604 1.604 0 01-3.032 0 .387.387 0 00-.463-.252c-.57.16-1.11.39-1.613.677a.378.378 0 00-.159.468 1.611 1.611 0 01-2.088 2.108.385.385 0 00-.479.158 7.2 7.2 0 00-.67 1.604.386.386 0 00.248.46 1.605 1.605 0 010 3.021.385.385 0 00-.249.46c.143.504.34.986.582 1.44.096.179.318.24.502.156.479-.22 1.08-.213 1.693.191a.881.881 0 01.243.242c.424.643.412 1.272.16 1.76a.381.381 0 00.134.506 7.197 7.197 0 001.697.721.381.381 0 00.459-.251A1.605 1.605 0 0112 17.645c.707 0 1.302.457 1.518 1.09.066.19.265.306.459.251a7.212 7.212 0 001.677-.71.38.38 0 00.134-.508c-.256-.49-.271-1.12.154-1.766a.884.884 0 01.243-.243c.62-.411 1.228-.413 1.71-.185a.384.384 0 00.505-.153c.244-.454.441-.937.585-1.443a.385.385 0 00-.252-.461" fill="currentColor" fill-rule="evenodd"/></svg>'
},e));i.displayName="EditorSettingsIcon";var s=i;t.default=s},R4az:function(e,t,n){"use strict";var o=n("pVnL"),r=n.n(o),i=n("q1tI"),s=n.n(i);const a={};t.a=e=>{const{children:t}=e,o=Object(n("3NU0").a)(),i=(e=>{const[t,o]=s.a.useState(a);return s.a.useEffect((()=>{let t=!1;return o(a),Object(n("Rwff").d)(e).then((e=>{t||o(e)})).catch((e=>{console.error(e)})),()=>{t=!0}}),[e]),t})(o.locale);return s.a.createElement(n("UO0f").b,r()({},o,{messages:i}),t)}},R7Pf:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var o=n("q1tI"),r=n.n(o);var i=(e,t)=>{let n,o="",r="",i=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",
r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(let s in i){const t=i[s];if(t.r.test(e)){o=t.s;break}}switch(/Windows/.test(o)&&(n=/Windows (.*)/.exec(o),r=n&&n[1],o="Windows"),o){case"Mac OS X":n=/Mac OS X (10[\.\_\d]+)/.exec(e),r=n&&n[1];break;case"Android":n=/Android ([\.\_\d]+)/.exec(e),r=n&&n[1];break;case"iOS":n=/OS (\d+)_(\d+)_?(\d+)?/.exec(t),r=n&&n[1]+"."+n[2]+"."+(n[3]||0)}return`${o} ${r}`};var s=e=>{let t,n,o,r,i
;return-1!==(r=e.indexOf("OPR/"))?(t="Opera",n=e.substring(r+4)):-1!==(r=e.indexOf("Opera"))?(t="Opera",n=-1!==(r=e.indexOf("Version"))?e.substring(r+8):e.substring(r+6)):-1!==(r=e.indexOf("MSIE"))?(t="Microsoft Internet Explorer",n=e.substring(r+5)):-1!==(r=e.indexOf("Chrome"))?(t="Chrome",n=e.substring(r+7)):-1!==(r=e.indexOf("Safari"))?(t="Safari",n=-1!==(r=e.indexOf("Version"))?e.substring(r+8):e.substring(r+7)):-1!==(r=e.indexOf("Firefox"))?(t="Firefox",n=e.substring(r+8)):(o=e.lastIndexOf(" ")+1)<(r=e.lastIndexOf("/"))?(t=e.substring(o,r),n=e.substring(r+1),t.toLowerCase()===t.toUpperCase()&&(t=navigator.appName)):(t=navigator.appName,n=""+parseFloat(navigator.appVersion)),-1!==(i=n.indexOf(";"))&&(n=n.substring(0,i)),-1!==(i=n.indexOf(" "))&&(n=n.substring(0,i)),`${t} ${n}`};var a=(e,t,n,o,r,a,c)=>new Promise((async(l,d)=>{window.jQuery?(window.ATL_JQ_PAGE_PROPS={triggerFunction:e=>{"function"==typeof e?l(e):d("Failed to initialize showCollectorDialog")},fieldValues:{
description:"Please describe the problem you're having or feature you'd like to see:\n\n\n",customfield_11711:e||[],customfield_11712:`version: ${t}@${o} (${n})\n              Browser: ${s(navigator.userAgent)}\n              OS: ${i(navigator.userAgent,navigator.appVersion)}`},environment:{"Editor Package":t,"Editor Version":o,"Editor Core Version":n,sessionId:r,contentId:a,tabId:c},priority:"1",components:"15306"},window.jQuery.ajax({url:"https://product-fabric.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/-w0bwo4/b/14/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=98644b9c",type:"get",cache:!0,dataType:"script"})):d("jQuery is not defined")}));let c,l,d;const u=async e=>new Promise((async(t,n)=>{const o={product:"n/a",labels:[],packageName:"",packageVersion:"",
sessionId:"",contentId:"",tabId:"",...d,...e},r=(e=>{const{product:t,packageName:n,packageVersion:o,labels:r}=e;return[t,n,o,...r||[]].join("|")})(o);if(!c||l!==r)try{c=await a([o.product,...o.labels],o.packageName,"182.1.0",o.packageVersion,o.sessionId,o.contentId,o.tabId),l=r}catch(i){n(i)}t(window.setTimeout(c,0))}));t.a=e=>(d=e,{name:"feedbackDialog",pluginsOptions:{quickInsert:({formatMessage:t})=>[{id:"feedbackdialog",title:t(n("ViDr").a.feedbackDialog),description:t(n("ViDr").a.feedbackDialogDescription),priority:400,keywords:["bug"],icon:()=>r.a.createElement(n("Jzj3").h,null),action(t,o){const r=t("");return u(e),Object(n("SVcB").a)(o,r,{action:n("+PNV").a.OPENED,actionSubject:n("+PNV").b.FEEDBACK_DIALOG,attributes:{inputMethod:n("+PNV").f.QUICK_INSERT},eventType:n("+PNV").e.UI})}}]}})},R8yl:function(e,t,n){"use strict";function o(e){return e.steps.filter((e=>e instanceof n("Wabn").a)).reduce(((e,t)=>[...e,...t.analyticsEvents]),[])}n.d(t,"a",(function(){return o}))},
RB5l:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));const o=new(n("UxO+").PluginKey)("mobileDimensions"),{createPluginState:r,getPluginState:i,createCommand:s}=Object(n("pVB1").a)(o,(function(e,t){switch(t.type){case n("WXBT").a.SET_KEYBOARD_HEIGHT:return{...e,keyboardHeight:t.keyboardHeight};case n("WXBT").a.SET_WINDOW_HEIGHT:return{...e,windowHeight:t.windowHeight};case n("WXBT").a.SET_MOBILE_PADDING_TOP:return{...e,mobilePaddingTop:t.paddingTop};case n("WXBT").a.SET_IS_EXPANDED:return{...e,isExpanded:t.isExpanded}}return e}))},RFJY:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>({decorationSet:t,tr:n})=>e.reduce(((e,t)=>t({decorationSet:e,tr:n})),t)},RHST:function(e,t,n){"use strict";t.a=function(e,t){const n=e.split(".");return{eventType:n[0],actionSubject:n[1],action:n[2],actionSubjectId:n[3],attributes:t}}},RJFP:function(e,t,n){"use strict";n.d(t,"a",(function(){return o
}));const o=Object(n("D6b/").defineMessages)({normal:{id:"fabric.editor.normal",defaultMessage:"Normal text",description:"This is the default text style"},heading1:{id:"fabric.editor.heading1",defaultMessage:"Heading 1",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading1Description:{id:"fabric.editor.heading1Description",defaultMessage:"Use this for a top level heading",description:"Description of the main heading, heading 1"},heading2:{id:"fabric.editor.heading2",defaultMessage:"Heading 2",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading2Description:{id:"fabric.editor.heading2Description",defaultMessage:"Use this for key sections",description:"Description of a subtitle heading or secondary heading"},heading3:{id:"fabric.editor.heading3",defaultMessage:"Heading 3",
description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading3Description:{id:"fabric.editor.heading3Description",defaultMessage:"Use this for sub sections and group headings",description:""},heading4:{id:"fabric.editor.heading4",defaultMessage:"Heading 4",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading4Description:{id:"fabric.editor.heading4Description",defaultMessage:"Use this for deep headings",description:""},heading5:{id:"fabric.editor.heading5",defaultMessage:"Heading 5",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading5Description:{id:"fabric.editor.heading5Description",defaultMessage:"Use this for grouping list items",description:""},heading6:{id:"fabric.editor.heading6",defaultMessage:"Heading 6",
description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading6Description:{id:"fabric.editor.heading6Description",defaultMessage:"Use this for low level headings",description:""},blockquote:{id:"fabric.editor.blockquote2",defaultMessage:"Quote",description:"Quote some text"},blockquoteDescription:{id:"fabric.editor.blockquote.description",defaultMessage:"Insert a quote or citation",description:"Quote some text"},codeblock:{id:"fabric.editor.codeblock",defaultMessage:"Code snippet",description:"Insert a snippet/segment of code (code block)"},codeblockDescription:{id:"fabric.editor.codeblock.description",defaultMessage:"Display code with syntax highlighting",description:"Insert a snippet/segment of code (code block)"},infoPanel:{id:"fabric.editor.infoPanel",defaultMessage:"Info panel",description:"Visually distinguishes your text by adding a background colour (blue, purple, yellow, green, red)"},infoPanelDescription:{
id:"fabric.editor.infoPanel.description",defaultMessage:"Highlight information in a colored panel",description:"Visually distinguishes your text by adding a background colour (blue, purple, yellow, green, red)"},notePanel:{id:"fabric.editor.notePanel",defaultMessage:"Note panel",description:"Visually distinguishes your text by adding a note panel"},notePanelDescription:{id:"fabric.editor.notePanel.description",defaultMessage:"Add a note in a colored panel",description:"Visually distinguishes your text by adding a note panel"},successPanel:{id:"fabric.editor.successPanel",defaultMessage:"Success panel",description:"Visually distinguishes your text by adding a success panel"},successPanelDescription:{id:"fabric.editor.successPanel.description",defaultMessage:"Add tips in a colored panel",description:"Visually distinguishes your text by adding a success panel"},warningPanel:{id:"fabric.editor.warningPanel",defaultMessage:"Warning panel",
description:"Visually distinguishes your text by adding a warning panel"},warningPanelDescription:{id:"fabric.editor.warningPanel.description",defaultMessage:"Add a note of caution in a colored panel",description:"Visually distinguishes your text by adding a warning panel"},errorPanel:{id:"fabric.editor.errorPanel",defaultMessage:"Error panel",description:"Visually distinguishes your text by adding a error panel"},errorPanelDescription:{id:"fabric.editor.errorPanel.description",defaultMessage:"Call out errors in a colored panel",description:"Visually distinguishes your text by adding a error panel"},customPanel:{id:"fabric.editor.customPanel",defaultMessage:"Custom panel",description:"Visually distinguishes your panel by adding a emoji icon and background color"},customPanelDescription:{id:"fabric.editor.customPanel.description",defaultMessage:"Add a note with an emoji and colored background",description:"Visually distinguishes your panel by adding a emoji icon and background color "},
other:{id:"fabric.editor.other",defaultMessage:"Others...",description:"Other text formatting"}})},RKh7:function(e,t,n){"use strict";e.exports=function(e,t){var n,o,r,i,s,a,c=t+1,l=e.md.block.ruler.getRules("paragraph"),d=e.lineMax;for(a=e.parentType,e.parentType="paragraph";c<d&&!e.isEmpty(c);c++)if(!(e.sCount[c]-e.blkIndent>3||e.sCount[c]<0)){for(o=!1,r=0,i=l.length;r<i;r++)if(l[r](e,c,d,!0)){o=!0;break}if(o)break}return n=e.getLines(t,c,e.blkIndent,!1).trim(),e.line=c,(s=e.push("paragraph_open","p",1)).map=[t,e.line],(s=e.push("inline","",0)).content=n,s.map=[t,e.line],s.children=[],s=e.push("paragraph_close","p",-1),e.parentType=a,!0}},RLN1:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s}));const o=(e,t,n)=>{for(let o=0;o<t.length;o++){const{$from:r,$to:i}=t[o];let s=0===r.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(r.pos,i.pos,(e=>{if(s)return!1
;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return s}return!1},r=(e,t)=>!!t&&t.some((t=>t.type!==e&&t.type.excludes(e))),i=(e,t)=>{const{selection:n,schema:o}=e;let{tr:r}=e;const i=t.filter(Boolean);if(0===i.length)return;let s=!1;const a=e=>i.indexOf(e.type)>-1;return e.doc.nodesBetween(n.from,n.to,((t,n)=>{if(t.type===o.nodes.paragraph&&t.marks.some(a)){s=!0;const o=e.doc.resolve(n),i=t.marks.filter((e=>t=>!e(t))(a));r=r.setNodeMarkup(o.pos,void 0,t.attrs,i)}})),s?r:void 0},s=(e,t)=>{const{from:n,to:o}=e.selection,r=[];return e.doc.nodesBetween(n,o,((i,s,a)=>!i.isText&&(!(!["expand","layoutSection"].includes(i.type.name)||!(s<n||s>o))||void i.marks.forEach((n=>{if(!a.type.allowsMarkType(n.type)||t&&!t.allowsMarkType(n.type)){const t=i.marks.filter((e=>e.type!==n.type)),o=s>0?s:0,a=i.marks.filter((e=>e.type===n.type));r.push({node:i,marksRemoved:a}),e.setNodeMarkup(o,void 0,i.attrs,t)}}))))),r}},RSEn:function(t,n,o){"use strict";o.d(n,"b",(function(){return O}))
;var r=o("q1tI"),i=o.n(r);function s(e){return[{title:e.formatMessage(a.all),name:"all"},{title:e.formatMessage(a.formatting),name:"formatting"},{title:e.formatMessage(a["confluence-content"]),name:"confluence-content"},{title:e.formatMessage(a.media),name:"media"},{title:e.formatMessage(a.visuals),name:"visuals"},{title:e.formatMessage(a.navigation),name:"navigation"},{title:e.formatMessage(a["external-content"]),name:"external-content"},{title:e.formatMessage(a.communication),name:"communication"},{title:e.formatMessage(a.reporting),name:"reporting"},{title:e.formatMessage(a.admin),name:"admin"},{title:e.formatMessage(a.development),name:"development"}]}const a=Object(o("D6b/").defineMessages)({all:{id:"fabric.editor.elementbrowser.categorylist.category-all",defaultMessage:"All",description:"all"},formatting:{id:"fabric.editor.elementbrowser.categorylist.category-formatting",defaultMessage:"Formatting",description:"formatting"},"confluence-content":{
id:"fabric.editor.elementbrowser.categorylist.category-confluence-content",defaultMessage:"Confluence content",description:"confluence-content"},media:{id:"fabric.editor.elementbrowser.categorylist.category-media",defaultMessage:"Media",description:"media"},visuals:{id:"fabric.editor.elementbrowser.categorylist.category-visuals",defaultMessage:"Visuals & images",description:"visuals"},navigation:{id:"fabric.editor.elementbrowser.categorylist.category-navigation",defaultMessage:"Navigation",description:"navigation"},"external-content":{id:"fabric.editor.elementbrowser.categorylist.category-external-content",defaultMessage:"External content",description:"external-content"},communication:{id:"fabric.editor.elementbrowser.categorylist.category-communication",defaultMessage:"Communication",description:"communication"},reporting:{id:"fabric.editor.elementbrowser.categorylist.category-reporting",defaultMessage:"Reporting",description:"reporting"},admin:{
id:"fabric.editor.elementbrowser.categorylist.category-admin",defaultMessage:"Administration",description:"admin"},development:{id:"fabric.editor.elementbrowser.categorylist.category-development",defaultMessage:"Development",description:"development"}}),c=Object(o("D6b/").defineMessages)({help:{id:"fabric.editor.elementBrowser.help",defaultMessage:"Help",description:"Element browser help button label"}});const l={name:"1c56j2d",styles:"display:inline-flex;margin:0 -4px"},d={name:"1btu1ks",styles:"flex:1 0 auto;margin:0 4px"},u=Object(o("AeFk").css)("display:flex;flex:1 1 auto;box-sizing:border-box;padding:",16,"px ",16,"px 0 10px;overflow:hidden;background-color:",Object(o("56zV").a)({light:"var(--ds-surface-overlay, #FFFFFF)",dark:"var(--ds-surface-overlay, #283447)"})(),";border-radius:",Object(o("7w+A").borderRadius)(),"px;"),p=Object(o("AeFk").css)("display:flex;padding:",16,"px;position:relative;align-items:center;justify-content:space-between;"),h=e=>{
const[t,n]=Object(r.useState)(),{helpUrl:i,intl:a}=e,l=Object(r.useCallback)((e=>{n(e)}),[n]),d=Object(r.useCallback)((t=>{e.onInsertItem(t)}),[e]),p=Object(r.useCallback)((()=>Object(o("AeFk").jsx)(m,{onInsert:()=>d(t),beforeElement:i?b(i,a.formatMessage(c.help)):void 0})),[d,t,i,a]),h=Object(r.useCallback)((t=>{"Escape"===t.key&&e.onClose()}),[e]),g=Object(r.useCallback)((()=>Object(o("AeFk").jsx)("div",{css:u},Object(o("AeFk").jsx)(o("Wi02").a,{categories:s(e.intl),getItems:e.getItems,showSearch:!0,showCategories:!0,mode:"full",onSelectItem:l,onInsertItem:d,emptyStateHandler:e.emptyStateHandler}))),[e.intl,e.getItems,l,d,e.emptyStateHandler]);return Object(o("AeFk").jsx)("div",{"data-editor-popup":!0,onClick:f,onKeyDown:h},Object(o("AeFk").jsx)(o("GPgl").a,null,e.isOpen&&Object(o("AeFk").jsx)(o("xGEt").a,{testId:"element-browser-modal-dialog",stackIndex:0,key:"element-browser-modal",onClose:e.onClose,height:"664px",width:"x-large",autoFocus:!1,shouldCloseOnEscapePress:!1
},Object(o("AeFk").jsx)(g,null),Object(o("AeFk").jsx)(p,null))))};h.displayName="ModalElementBrowser";const f=e=>e.stopPropagation(),m=({onInsert:e,beforeElement:t})=>{const{onClose:n}=Object(o("djpI").a)();return Object(o("AeFk").jsx)("div",{css:p},t||Object(o("AeFk").jsx)("span",null),Object(o("AeFk").jsx)("div",{css:l},Object(o("AeFk").jsx)("div",{css:d},Object(o("AeFk").jsx)(o("0+Gd").a,{appearance:"primary",onClick:e,testId:"ModalElementBrowser__insert-button"},"Insert")),Object(o("AeFk").jsx)("div",{css:d},Object(o("AeFk").jsx)(o("0+Gd").a,{appearance:"subtle",onClick:n,testId:"ModalElementBrowser__close-button"},"Close"))))},b=(e,t)=>Object(o("AeFk").jsx)(o("0+Gd").a,{iconBefore:Object(o("AeFk").jsx)(o.n(o("epF8")).a,{label:"",size:"medium"}),appearance:"subtle-link",href:e,target:"_blank",testId:"ModalElementBrowser__help-button"},t);var g=Object(o("o5hF").c)(h);const v=({quickInsertState:e,editorView:t,helpUrl:n})=>{
const s=Object(r.useCallback)(((t,n)=>Object(o("dbDw").b)(e,{})(t,n)),[e]),a=Object(r.useCallback)((()=>{t.hasFocus()||t.focus()}),[t]),c=Object(r.useCallback)((e=>{Object(o("QDVM").a)()(t.state,t.dispatch),a(),Object(o("QDVM").b)(e)(t.state,t.dispatch)}),[t.dispatch,t.state,a]),l=Object(r.useCallback)((()=>{Object(o("QDVM").a)()(t.state,t.dispatch),a()}),[t.dispatch,t.state,a]);return i.a.createElement(g,{getItems:s,onInsertItem:c,helpUrl:n,isOpen:e&&e.isElementBrowserModalOpen||!1,emptyStateHandler:e&&e.emptyStateHandler,onClose:l})};var y=({editorView:e,helpUrl:t})=>{const n=Object(r.useCallback)((({quickInsertState:n})=>i.a.createElement(v,{quickInsertState:n,editorView:e,helpUrl:t})),[e,t]);return i.a.createElement(o("fd7e").a,{plugins:{quickInsertState:o("89Qp").a},render:n})};n.a=t=>({name:"quickInsert",pmPlugins:n=>[{name:"quickInsert",plugin:({providerFactory:r,getIntl:i,dispatch:s})=>function(t,n,r,i,s){return new(o("KkS8").a)({key:o("89Qp").a,state:{init:()=>({
isElementBrowserModalOpen:!1,emptyStateHandler:s,lazyDefaultItems:()=>O(t||[],r())}),apply(e,t){const n=e.getMeta(o("89Qp").a);if(n){if(Object.keys(n).some((e=>t[e]!==n[e]))){const e={...t,...n};return i(o("89Qp").a,e),e}}return t}},view(t){const r=async(n,r)=>{if(r)try{const e=await r,n=await e.getItems();(e=>(t,n)=>(n&&n(t.tr.setMeta(o("89Qp").a,e)),!0))({provider:e,providedItems:n})(t.state,t.dispatch)}catch(e){console.error("Error getting items from quick insert provider",e)}};return n.subscribe("quickInsertProvider",r),{destroy(){n.unsubscribe("quickInsertProvider",r)}}}})}(n,r,i,s,null==t?void 0:t.emptyStateHandler)}],pluginsOptions:{typeAhead:{id:o("FOo9").b.QUICK_INSERT,trigger:"/",headless:t?t.headless:void 0,getItems({query:e,editorState:n}){const r=o("89Qp").a.getState(n);return Promise.resolve(Object(o("dbDw").b)(r,t)(e))},selectItem:(e,t,n)=>t.action(n,e)}},contentComponent:({editorView:e})=>t&&t.enableElementBrowser?i.a.createElement(y,{editorView:e,
helpUrl:t.elementBrowserHelpUrl}):null});const O=Object(o("Wwog").a)(((e,t,n)=>{const o=e.reduce(((e,n)=>{if("function"==typeof n){const o=n(t);return e.concat(o)}return e.concat(n)}),[]);return E(o,n)})),E=(e,t)=>t?e.map((e=>{const n=e.id;if(n&&t[n]){const o=e.action;e.action=(r,i)=>{const s=o(r,i);return t[n](e),s}}return e})):e},RWB8:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o=(e,t)=>{if(!t)return!1;for(let n=e.depth+1;n>0;n--){const o=e.node(n);if(o&&o.eq(t.node))break;if(n>1&&e.before(n)!==e.before(n-1)+1)return!1}return!0},r=(e,t)=>{if(!t)return!1;for(let n=e.depth+1;n>0;n--){const o=e.node(n);if(o&&o.eq(t.node))break;if(n>1&&e.after(n)!==e.after(n-1)-1)return!1}return!0}},RbdO:function(e,t,n){"use strict";let o,r;n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),function(e){e.Load="load",e.Experience="experience",e.Operation="operation"}(o||(o={})),function(e){e.PageLoad="page-load",
e.PageSegmentLoad="page-segment-load",e.InlineResult="inline-result",e.Custom="custom"}(r||(r={}))},Rbo8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n("VOS0");class r{constructor(e,t){this.min=e,this.max=t}get description(){return`length must be between ${this.min} and ${this.max}`}isValid(e){return!e||e.length>=this.min&&e.length<=this.max}}t.LengthConstraint=r;class i{constructor(e){this.regex=e}get description(){return`value must match regex ${this.regex.source}`}isValid(e){return!e||this.regex.test(e)}}t.RegexConstraint=i;t.GeneralValidationError=class{constructor(e){this.error=e}toString(){return this.error}};class s{constructor(e,t,n){this.fieldName=e,this.value=t,this.constraints=n}toString(){const e=this.constraints.map((e=>`  - ${e.description}`)).join("\n");return`'${this.value}' is not a valid value for ${this.fieldName} as it violates the following constraints:\n${e}`}}t.ConstraintViolation=s,t.lengthBetween=function(e,t){
return new r(e,t)},t.pattern=function(e){return new i(e)},t.validateField=function(e,t,n){const r=e[t],i=n.map((e=>e.isValid(r)?void 0:e)).filter(o.isDefined);return i.length>0?new s(t,r,i):void 0}},Rl6m:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>t=>{const o=Object(n("zYPQ").c)(t);if(!o)return;const r=n("wYWE").b.get(o.node);return(Array.isArray(e)?e:[e]).filter((e=>e>=0&&e<=r.height-1)).reduce(((e,t)=>{const n=r.cellsInRect({left:0,right:r.width,top:t,bottom:t+1});return e.concat(n.map((e=>{const t=o.node.nodeAt(e),n=e+o.start;return{pos:n,start:n+1,node:t,depth:o.depth+2}})))}),[])}},Ro5u:function(e,t,n){"use strict";t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.literal,o=t.overlap,r=n?e:["&"].concat(e);function i(e){if("object"!=typeof e||null==e)return[];if(Array.isArray(e))return e.map(i);var t={},s={},a={};return Object.keys(e).forEach((function(c){var l=e[c];if(!Array.isArray(l)&&n&&(l=[l]),
(n||Array.isArray(l))&&38!==c.charCodeAt(0)){var d=void 0;l.forEach((function(e,i){if((!o||d!==e)&&null!=e)if(d=e,0!==i||n)if(void 0===t[r[i]]){var s;t[r[i]]=((s={})[c]=e,s)}else t[r[i]][c]=e;else a[c]=e}))}else"object"==typeof l?s[c]=i(l):a[c]=l})),r.forEach((function(e){t[e]&&(a[e]=t[e])})),Object.assign(a,s),a}return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(i)}}},RoQj:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var o=n("q1tI"),r=n.n(o);const i=Object(o.createContext)({currentEmojisFocus:{rowIndex:0,columnIndex:0},setEmojisFocus:()=>{}}),s=e=>{const[t,n]=Object(o.useState)(e.initialEmojisFocus);return r.a.createElement(i.Provider,{value:{currentEmojisFocus:t,setEmojisFocus:n}},e.children)}},Rwff:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return u}))
;var o=n("pVnL"),r=n.n(o),i=n("q1tI"),s=n.n(i);const a=e=>({values:t,children:o})=>{const{formatMessage:i}=Object(n("3NU0").a)(),a=i(e,t);return"function"==typeof o?o(a):s.a.createElement(n("3e7Q").a,r()({values:t},e))},c=a(n("lntL").a.unknownUserError),l=a(n("lntL").a.noAccessWarning),d=a(n("lntL").a.noAccessLabel),u=(a(n("lntL").a.defaultHeadline),a(n("lntL").a.defaultAdvisedAction),a(n("lntL").a.loginAgain),a(n("lntL").a.differentText),async e=>{switch(e){case"cs":return n.e("@atlaskit-internal_mention-i18n-cs").then(n.bind(null,"sZQn")).then((e=>e.default));case"da":return n.e("@atlaskit-internal_mention-i18n-da").then(n.bind(null,"vfaj")).then((e=>e.default));case"de":return n.e("@atlaskit-internal_mention-i18n-de").then(n.bind(null,"m5OR")).then((e=>e.default));case"en":return n.e("@atlaskit-internal_mention-i18n-en").then(n.bind(null,"oPCw")).then((e=>e.default));case"en_GB":return n.e("@atlaskit-internal_mention-i18n-en_GB").then(n.bind(null,"RDCh")).then((e=>e.default))
;case"es":return n.e("@atlaskit-internal_mention-i18n-es").then(n.bind(null,"sHVK")).then((e=>e.default));case"et":return n.e("@atlaskit-internal_mention-i18n-et").then(n.bind(null,"RQ63")).then((e=>e.default));case"fi":return n.e("@atlaskit-internal_mention-i18n-fi").then(n.bind(null,"S/qG")).then((e=>e.default));case"fr":return n.e("@atlaskit-internal_mention-i18n-fr").then(n.bind(null,"5qTX")).then((e=>e.default));case"hu":return n.e("@atlaskit-internal_mention-i18n-hu").then(n.bind(null,"p9hd")).then((e=>e.default));case"is":return n.e("@atlaskit-internal_mention-i18n-is").then(n.bind(null,"aGz0")).then((e=>e.default));case"it":return n.e("@atlaskit-internal_mention-i18n-it").then(n.bind(null,"3i51")).then((e=>e.default));case"ja":return n.e("@atlaskit-internal_mention-i18n-ja").then(n.bind(null,"e+3A")).then((e=>e.default));case"ko":return n.e("@atlaskit-internal_mention-i18n-ko").then(n.bind(null,"T5WJ")).then((e=>e.default));case"nb":
return n.e("@atlaskit-internal_mention-i18n-nb").then(n.bind(null,"HVzi")).then((e=>e.default));case"nl":return n.e("@atlaskit-internal_mention-i18n-nl").then(n.bind(null,"0Ac5")).then((e=>e.default));case"pl":return n.e("@atlaskit-internal_mention-i18n-pl").then(n.bind(null,"Bits")).then((e=>e.default));case"pt_BR":case"pt-BR":return n.e("@atlaskit-internal_mention-i18n-pt_BR").then(n.bind(null,"U45f")).then((e=>e.default));case"pt_PT":case"pt-PT":return n.e("@atlaskit-internal_mention-i18n-pt_PT").then(n.bind(null,"+CBQ")).then((e=>e.default));case"ro":return n.e("@atlaskit-internal_mention-i18n-ro").then(n.bind(null,"PY/c")).then((e=>e.default));case"ru":return n.e("@atlaskit-internal_mention-i18n-ru").then(n.bind(null,"52DM")).then((e=>e.default));case"sk":return n.e("@atlaskit-internal_mention-i18n-sk").then(n.bind(null,"Nwd4")).then((e=>e.default));case"sv":return n.e("@atlaskit-internal_mention-i18n-sv").then(n.bind(null,"o27w")).then((e=>e.default));case"th":
return n.e("@atlaskit-internal_mention-i18n-th").then(n.bind(null,"ONyO")).then((e=>e.default));case"tr":return n.e("@atlaskit-internal_mention-i18n-tr").then(n.bind(null,"DTLt")).then((e=>e.default));case"uk":return n.e("@atlaskit-internal_mention-i18n-uk").then(n.bind(null,"xBUx")).then((e=>e.default));case"vi":return n.e("@atlaskit-internal_mention-i18n-vi").then(n.bind(null,"ld3F")).then((e=>e.default));case"zh_TW":return n.e("@atlaskit-internal_mention-i18n-zh_TW").then(n.bind(null,"1Dgu")).then((e=>e.default));case"zh":return n.e("@atlaskit-internal_mention-i18n-zh").then(n.bind(null,"CNtD")).then((e=>e.default));default:{const t=e.split(/[_-]/);return 2===t.length?u(t[0]):n.e("@atlaskit-internal_mention-i18n-en").then(n.bind(null,"oPCw")).then((e=>e.default))}}})},RxBR:function(t,n,o){"use strict";function r(t){try{return JSON.parse(t)}catch(e){return}}function i(e){
return null!=e&&e.disableSpellcheckByBrowser?"object"==typeof(null==e?void 0:e.disableSpellcheckByBrowser)?null==e?void 0:e.disableSpellcheckByBrowser:"string"==typeof(null==e?void 0:e.disableSpellcheckByBrowser)?r(null==e?void 0:e.disableSpellcheckByBrowser):void 0:null!=e&&e["disable-spellcheck-by-browser"]?"object"==typeof(null==e?void 0:e["disable-spellcheck-by-browser"])?null==e?void 0:e["disable-spellcheck-by-browser"]:"string"==typeof(null==e?void 0:e["disable-spellcheck-by-browser"])?r(null==e?void 0:e["disable-spellcheck-by-browser"]):void 0:void 0}function s(e){var t,n,r,s,a,c,l,d,u,p,h,f,m,b,g,v,y,O,E,w,S,k,x,C,T,j,A,N,I,P,M,R,_,L,D,F,B,V,z,H,U,W,K,$,q,G,Y,Q,X,Z,J,ee,te,ne,oe,re,ie,se,ae,ce,le
;const de=Object(o("/DVK").b)(e.featureFlags),ue=de.tableCellOptionsInFloatingToolbar||(null===(t=e.featureFlags)||void 0===t?void 0:t.tableCellOptionsInFloatingToolbar)||void 0,pe=null!==(n=null!==(r=null===(s=e.featureFlags)||void 0===s?void 0:s["use-better-typeahead-navigation"])&&void 0!==r?r:null===(a=e.featureFlags)||void 0===a?void 0:a.useBetterTypeaheadNavigation)&&void 0!==n?n:null;return{...de,newInsertionBehaviour:e.allowNewInsertionBehaviour,interactiveExpand:"boolean"==typeof e.allowExpand?e.allowExpand:Boolean(e.allowExpand&&!1!==e.allowExpand.allowInteractiveExpand),placeholderBracketHint:!!e.placeholderBracketHint,findReplace:!!e.allowFindReplace,findReplaceMatchCase:"object"==typeof e.allowFindReplace&&Boolean(e.allowFindReplace.allowMatchCase),addColumnWithCustomStep:!(!e.allowTables||"boolean"==typeof e.allowTables)&&Boolean(e.allowTables.allowAddColumnWithCustomStep),
singleLayout:"object"==typeof e.allowLayouts&&!(null===(c=e.allowLayouts)||void 0===c||!c.UNSAFE_allowSingleColumnLayout),undoRedoButtons:e.allowUndoRedoButtons,catchAllTracking:null===(l=e.performanceTracking)||void 0===l||null===(d=l.catchAllTracking)||void 0===d?void 0:d.enabled,stickyHeadersOptimization:"boolean"==typeof(null===(u=e.featureFlags)||void 0===u?void 0:u.stickyHeadersOptimization)?!(null===(p=e.featureFlags)||void 0===p||!p.stickyHeadersOptimization):"object"==typeof e.allowTables&&!(null===(h=e.allowTables)||void 0===h||!h.stickyHeadersOptimization),initialRenderOptimization:"boolean"==typeof(null===(f=e.featureFlags)||void 0===f?void 0:f.initialRenderOptimization)?!(null===(m=e.featureFlags)||void 0===m||!m.initialRenderOptimization):"object"==typeof e.allowTables&&!(null===(b=e.allowTables)||void 0===b||!b.initialRenderOptimization),
mouseMoveOptimization:"boolean"==typeof(null===(g=e.featureFlags)||void 0===g?void 0:g.mouseMoveOptimization)?!(null===(v=e.featureFlags)||void 0===v||!v.mouseMoveOptimization):"object"==typeof e.allowTables&&!(null===(y=e.allowTables)||void 0===y||!y.mouseMoveOptimization),tableRenderOptimization:"boolean"==typeof(null===(O=e.featureFlags)||void 0===O?void 0:O.tableRenderOptimization)?!(null===(E=e.featureFlags)||void 0===E||!E.tableRenderOptimization):"object"!=typeof e.allowTables||"boolean"!=typeof(null===(w=e.allowTables)||void 0===w?void 0:w.tableRenderOptimization)||(null===(S=e.allowTables)||void 0===S?void 0:S.tableRenderOptimization),tableOverflowShadowsOptimization:"boolean"==typeof(null===(k=e.featureFlags)||void 0===k?void 0:k.tableOverflowShadowsOptimization)?!(null===(x=e.featureFlags)||void 0===x||!x.tableOverflowShadowsOptimization):"object"==typeof e.allowTables&&!(null===(C=e.allowTables)||void 0===C||!C.tableOverflowShadowsOptimization),
extendFloatingToolbar:Boolean("object"==typeof e.allowExtension&&(null===(T=e.allowExtension)||void 0===T?void 0:T.allowExtendFloatingToolbars)),showAvatarGroupAsPlugin:Boolean("boolean"==typeof(null===(j=e.featureFlags)||void 0===j?void 0:j.showAvatarGroupAsPlugin)&&!(null===(A=e.featureFlags)||void 0===A||!A.showAvatarGroupAsPlugin)),errorBoundaryDocStructure:Boolean("boolean"==typeof(null===(N=e.featureFlags)||void 0===N?void 0:N.useErrorBoundaryDocStructure)&&!(null===(I=e.featureFlags)||void 0===I||!I.useErrorBoundaryDocStructure)),synchronyErrorDocStructure:Boolean("boolean"==typeof(null===(P=e.featureFlags)||void 0===P?void 0:P.synchronyErrorDocStructure)&&!(null===(M=e.featureFlags)||void 0===M||!M.synchronyErrorDocStructure)),enableViewUpdateSubscription:Boolean("boolean"==typeof(null===(R=e.featureFlags)||void 0===R?void 0:R.enableViewUpdateSubscription)&&!(null===(_=e.featureFlags)||void 0===_||!_.enableViewUpdateSubscription)),
collabAvatarScroll:Boolean("boolean"==typeof(null===(L=e.featureFlags)||void 0===L?void 0:L.collabAvatarScroll)&&!(null===(D=e.featureFlags)||void 0===D||!D.collabAvatarScroll)),ufo:Boolean("boolean"==typeof(null===(F=e.featureFlags)||void 0===F?void 0:F.ufo)&&!(null===(B=e.featureFlags)||void 0===B||!B.ufo)),twoLineEditorToolbar:Boolean("boolean"==typeof(null===(V=e.featureFlags)||void 0===V?void 0:V.twoLineEditorToolbar)&&!(null===(z=e.featureFlags)||void 0===z||!z.twoLineEditorToolbar)),saferDispatchedTransactions:Boolean("boolean"==typeof de.saferDispatchedTransactions&&!!de.saferDispatchedTransactions||"boolean"==typeof(null===(H=e.featureFlags)||void 0===H?void 0:H.saferDispatchedTransactions)&&!(null===(U=e.featureFlags)||void 0===U||!U.saferDispatchedTransactions)),
saferDispatchedTransactionsAnalyticsOnly:Boolean("boolean"==typeof de.saferDispatchedTransactionsAnalyticsOnly&&!!de.saferDispatchedTransactionsAnalyticsOnly||"boolean"==typeof(null===(W=e.featureFlags)||void 0===W?void 0:W.saferDispatchedTransactionsAnalyticsOnly)&&!(null===(K=e.featureFlags)||void 0===K||!K.saferDispatchedTransactionsAnalyticsOnly)),useNativeCollabPlugin:Boolean("boolean"==typeof(null===($=e.collabEdit)||void 0===$?void 0:$.useNativePlugin)&&!(null===(q=e.collabEdit)||void 0===q||!q.useNativePlugin)),chromeCursorHandlerFixedVersion:"string"==typeof(null===(G=e.featureFlags)||void 0===G?void 0:G.chromeCursorHandlerFixedVersion)&&Number(e.featureFlags.chromeCursorHandlerFixedVersion)||void 0,tableCellOptionsInFloatingToolbar:"boolean"==typeof ue&&ue,showHoverPreview:Boolean("boolean"==typeof(null===(Y=e.featureFlags)||void 0===Y?void 0:Y.showHoverPreview)&&!(null===(Q=e.featureFlags)||void 0===Q||!Q.showHoverPreview)),
indentationButtonsInTheToolbar:Boolean("boolean"==typeof de.indentationButtonsInTheToolbar&&!!de.indentationButtonsInTheToolbar||"boolean"==typeof(null===(X=e.featureFlags)||void 0===X?void 0:X.indentationButtonsInTheToolbar)&&!(null===(Z=e.featureFlags)||void 0===Z||!Z.indentationButtonsInTheToolbar)),floatingToolbarCopyButton:Boolean("boolean"==typeof de.floatingToolbarCopyButton&&!!de.floatingToolbarCopyButton||"boolean"==typeof(null===(J=e.featureFlags)||void 0===J?void 0:J.floatingToolbarCopyButton)&&!(null===(ee=e.featureFlags)||void 0===ee||!ee.floatingToolbarCopyButton)),floatingToolbarLinkSettingsButton:"string"==typeof(null===(te=e.featureFlags)||void 0===te?void 0:te["floating-toolbar-link-settings-button"])&&e.featureFlags["floating-toolbar-link-settings-button"]||void 0,disableSpellcheckByBrowser:i(e.featureFlags),restartNumberedLists:!0===de.restartNumberedLists||!0===(null===(ne=e.featureFlags)||void 0===ne?void 0:ne.restartNumberedLists),
listNumberContinuity:!0===de.listNumberContinuity||!0===(null===(oe=e.featureFlags)||void 0===oe?void 0:oe.listNumberContinuity),restartNumberedListsToolbar:!0===de.restartNumberedListsToolbar||!0===(null===(re=e.featureFlags)||void 0===re?void 0:re.restartNumberedListsToolbar),useSomewhatSemanticTextColorNames:Boolean("boolean"==typeof de.useSomewhatSemanticTextColorNames&&!!de.useSomewhatSemanticTextColorNames||"boolean"==typeof(null===(ie=e.featureFlags)||void 0===ie?void 0:ie.useSomewhatSemanticTextColorNames)&&!(null===(se=e.featureFlags)||void 0===se||!se.useSomewhatSemanticTextColorNames)),lpLinkPickerFocusTrap:Boolean(de.lpLinkPickerFocusTrap),preventPopupOverflow:Boolean("boolean"==typeof(null===(ae=e.featureFlags)||void 0===ae?void 0:ae["prevent-popup-overflow"])&&!(null===(ce=e.featureFlags)||void 0===ce||!ce["prevent-popup-overflow"])),useEditorNext:!0===de.useEditorNext||!0===(null===(le=e.featureFlags)||void 0===le?void 0:le.useEditorNext),
useBetterTypeaheadNavigation:Boolean("boolean"!=typeof pe||!!pe)}}o.d(n,"a",(function(){return s}))},RxM9:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var o=n("q1tI"),r=n.n(o),i=n("lSNA"),s=n.n(i);class a extends r.a.PureComponent{static moduleImporter(e){n.e("@atlaskit-internal_smartcard-datacardcontent").then(n.bind(null,"KiMs")).then((t=>{a.CardContent=t.CardWithDataContent,e.forceUpdate()}))}componentDidMount(){null===a.CardContent&&(this.props.importer||a.moduleImporter)(this)}render(){const{id:e,appearance:t,data:n,isSelected:o,onClick:i,onResolve:s,testId:c,showActions:l,inlinePreloaderStyle:d}=this.props;if(!n)throw new Error("@atlaskit/smart-cards: you are trying to render a card with data, but does not provide any");return a.CardContent?r.a.createElement(a.CardContent,{id:e,inlinePreloaderStyle:d,appearance:t,data:n,isSelected:o,onClick:i,onResolve:s,testId:c,showActions:l}):r.a.createElement("div",{"data-card-with-data":!0})}}
a.displayName="CardWithDataRenderer",s()(a,"CardContent",null);var c=n("EcEN"),l=n.n(c);const d=Object(o.lazy)((()=>Object(n("i11D").d)((()=>n.e("@atlaskit-internal_smartcard-urlcardcontent").then(n.bind(null,"qgVy"))))));function u(e){const[t]=Object(o.useState)((()=>e.id?e.id:l()()));Object(o.useEffect)((()=>()=>{Object(n("wUXh").a)(t),Object(n("wUXh").b)(t)}),[t]);const{url:i,appearance:s,isSelected:a,isFrameVisible:c,frameStyle:u,onClick:h,container:f,onResolve:m,onError:b,testId:g,showActions:v,showServerActions:y,inheritDimensions:O,platform:E,embedIframeRef:w,embedIframeUrlType:S,inlinePreloaderStyle:k,createAnalyticsEvent:x,children:C,ui:T,showHoverPreview:j,showAuthTooltip:A,analyticsEvents:N,placeholder:I}=e,P=Object(o.useCallback)((e=>{e&&e.attributes&&(e.attributes.display||(e.attributes.display=s)),Object(n("Yto3").g)(e,x)}),[s,x]),M=Object(n("vtDw").a)(null!=i?i:"",P,t),R=Object(o.useCallback)(((e,n)=>{const{componentStack:o}=n,r={componentStack:o}
;throw"ChunkLoadError"===e.name?M.operational.chunkloadFailedEvent({display:s,error:e,errorInfo:r}):"APIError"!==e.name&&M.ui.renderFailedEvent({display:s,id:t,error:e,errorInfo:r}),e}),[M.operational,M.ui,s,t]);if(!i)throw new Error("@atlaskit/smart-card: url property is missing.");const _={id:t,url:i,appearance:s,onClick:h,isSelected:a,isFrameVisible:c,frameStyle:u,dispatchAnalytics:P,container:f,onResolve:m,onError:b,testId:g,showActions:v,showServerActions:y,inheritDimensions:O,platform:E,embedIframeRef:w,embedIframeUrlType:S,inlinePreloaderStyle:k,ui:T,showHoverPreview:j,showAuthTooltip:A,analyticsEvents:N,placeholder:I};return r.a.createElement(n("6JX1").ErrorBoundary,{FallbackComponent:p,onError:R},r.a.createElement(o.Suspense,{fallback:r.a.createElement(n("Z4Gi").a,_)},r.a.createElement(d,_,C)))}const p=()=>null;class h extends r.a.PureComponent{render(){const e=Object(n("i11D").e)(this.props)?r.a.createElement(a,this.props):r.a.createElement(u,this.props)
;return this.props.intl?e:r.a.createElement(n("UO0f").b,{locale:"en"},e)}}h.displayName="PlainCard";const f=Object(n("ibeh").a)(n("Yto3").f)(Object(n("VHV8").a)()(Object(n("o5hF").c)(h,{enforceContext:!1})))},"Ryn/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M4.101 13.569c-.247.5-.026 1.095.493 1.333.52.237 1.142.025 1.388-.473C7.011 12.351 9.193 11 11.63 11c2.266 0 4.319 1.167 5.425 3.021.286.479.922.645 1.421.371a.98.98 0 00.386-1.366C17.389 10.557 14.65 9 11.63 9c-3.247 0-6.158 1.802-7.529 4.569z"/><path d="M17.497 10v3h-2.995a1 1 0 100 2h3.896c.608 0 1.102-.493 1.102-1.1V10a1.001 1.001 0 00-2.003 0z"/></g></svg>'},e));i.displayName="RedoIcon";var s=i
;t.default=s},S1WX:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const o=(e,t,o)=>{let r="";switch(t){case"updated":r=o.formatMessage(n("yYBl").a.timeUpdated);break;case"viewed":r=o.formatMessage(n("yYBl").a.timeViewed)}return Object(n("gXqy").a)(e,Date.now())<-7?{pageAction:r,dateString:Object(n("sWYD").a)(e,"MMMM dd, yyyy")}:{pageAction:r,dateString:Object(n("FVam").a)(e,Date.now()),timeSince:o.formatMessage(n("yYBl").a.timeAgo)}},r=(e,t,n)=>t?o(t,"viewed",e):n?o(n,"updated",e):void 0},S4vA:function(t,n){t.exports=function(t){try{return!!t()}catch(e){return!0}}},S5tn:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=({emoji:e})=>Object(n("AeFk").jsx)("div",{css:n("+OC9").G},Object(n("AeFk").jsx)("span",{css:n("+OC9").I},Object(n("AeFk").jsx)(n("sVlj").a,{key:e.id||e.shortName,emoji:e})),Object(n("AeFk").jsx)("div",{css:n("+OC9").J},e.name&&Object(n("AeFk").jsx)("div",{css:n("+OC9").q},e.name),Object(n("AeFk").jsx)("div",{css:n("+OC9").u
},e.shortName)))},SEkw:function(e,t,n){e.exports={default:n("N4c9"),__esModule:!0}},SINd:function(e,t,n){"use strict";function o(){this.__rules__=[],this.__cache__=null}o.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},o.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},o.prototype.at=function(e,t,n){var o=this.__find__(e),r=n||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__[o].fn=t,this.__rules__[o].alt=r.alt||[],this.__cache__=null},o.prototype.before=function(e,t,n,o){var r=this.__find__(e),i=o||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),
this.__cache__=null},o.prototype.after=function(e,t,n,o){var r=this.__find__(e),i=o||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},o.prototype.push=function(e,t,n){var o=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null},o.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var o=this.__find__(e);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[o].enabled=!0,n.push(e)}),this),this.__cache__=null,n},o.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},o.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var o=this.__find__(e);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[o].enabled=!1,n.push(e)
}),this),this.__cache__=null,n},o.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=o},SMi2:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var o=n("lSNA"),r=n.n(o);class i{constructor(){r()(this,"listeners",{})}on(e,t){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(t)}has(e,t){return!!this.listeners[e]&&this.listeners[e].has(t)}off(e,t){this.listeners[e]&&this.listeners[e].has(t)&&this.listeners[e].delete(t)}emit(e,t){this.listeners[e]&&this.listeners[e].forEach((e=>e(t)))}destroy(){this.listeners={}}}function s(e){return(t,n)=>{if(!t)throw new Error("event name is required!");const o="string"==typeof t?t:t.key;e.emit(o,n)}}},SPzD:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}))
;const o="\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n\n  &::-webkit-scrollbar {\n    height: var(--ds-space-100, 8px);\n    width: var(--ds-space-100, 8px);\n  }\n\n  &::-webkit-scrollbar-corner {\n    display: none;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: var(--ds-background-neutral-subtle, rgba(0, 0, 0, 0));\n  }\n\n  &:hover::-webkit-scrollbar-thumb {\n    background-color: var(--ds-background-neutral-bold, rgba(0, 0, 0, 0.2));\n    border-radius: 8px;\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background-color: var(--ds-background-neutral-bold-hovered, rgba(0, 0, 0, 0.4));\n  }\n"},SU7v:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("pVnL"),r=n.n(o),i=n("q1tI"),s=n.n(i);const a=e=>s.a.createElement("svg",r()({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M13.4897 4.34592L21.8561 18.8611C21.9525 19.0288 22.0021 19.2181 21.9999 19.4101C21.9977 19.6021 21.9438 19.7903 21.8435 19.9559C21.7432 20.1215 21.6001 20.2588 21.4282 20.3542C21.2563 20.4497 21.0616 20.4999 20.8636 20.5H3.13707C2.93882 20.5 2.74401 20.4498 2.57196 20.3543C2.39992 20.2588 2.25663 20.1213 2.15631 19.9556C2.05598 19.7898 2.00212 19.6015 2.00006 19.4093C1.998 19.2171 2.04782 19.0278 2.14456 18.86L10.5121 4.34592C10.6602 4.08939 10.8762 3.87577 11.1377 3.72708C11.3993 3.57838 11.6971 3.5 12.0003 3.5C12.3036 3.5 12.6013 3.57838 12.8629 3.72708C13.1245 3.87577 13.3404 4.08939 13.4885 4.34592H13.4897ZM12.0003 7.82538C11.8232 7.82537 11.6482 7.86212 11.4869 7.93317C11.3257 8.00423 11.182 8.10793 11.0656 8.2373C10.9492 8.36668 10.8627 8.51872 10.8119 8.68321C10.7611 8.8477 10.7473 9.02083 10.7713 9.19093L11.3546 13.3416C11.3754 13.4933 11.4523 13.6326 11.5711 13.7334C11.6899 13.8343 11.8424 13.8899 12.0003 13.8899C12.1582 13.8899 12.3107 13.8343 12.4295 13.7334C12.5483 13.6326 12.6253 13.4933 12.6461 13.3416L13.2293 9.19093C13.2533 9.02083 13.2395 8.8477 13.1887 8.68321C13.138 8.51872 13.0515 8.36668 12.935 8.2373C12.8186 8.10793 12.6749 8.00423 12.5137 7.93317C12.3525 7.86212 12.1774 7.82537 12.0003 7.82538V7.82538ZM12.0003 17.3369C12.3395 17.3369 12.6649 17.2062 12.9047 16.9737C13.1446 16.7412 13.2793 16.4258 13.2793 16.0969C13.2793 15.7681 13.1446 15.4527 12.9047 15.2202C12.6649 14.9877 12.3395 14.857 12.0003 14.857C11.6611 14.857 11.3358 14.9877 11.0959 15.2202C10.8561 15.4527 10.7213 15.7681 10.7213 16.0969C10.7213 16.4258 10.8561 16.7412 11.0959 16.9737C11.3358 17.2062 11.6611 17.3369 12.0003 17.3369V17.3369Z",
fill:"currentColor"})),c=e=>s.a.createElement(n("UnwW").b,r()({glyph:a},e))},SVcB:function(e,t,n){"use strict";function o(e,t,o,r=n("+WSe").b){return function(e){var t;return null===(t=n("OdZc").a.getState(e))||void 0===t?void 0:t.createAnalyticsEvent}(e)?(Object(n("QXBo").a)({tr:t,editorState:e,payload:o,channel:r}),t):t}function r(e,t){return n=>(r,i,s)=>n(r,(n=>{if(i)if(e instanceof Function){const s=e(r);s&&i(o(r,n,s,t))}else i(o(r,n,e,t))}),s)}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}))},ScxJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n("mrSG"),r=n("Rbo8");o.__exportStar(n("ifif"),t);class i extends Error{constructor(e,t){super(`Invalid ari string: ${e}${t?". "+t:""}`),this.ariString=e,Object.setPrototypeOf(this,i.prototype)}static withConstraintViolations(e,t){return new i(e,t.map((e=>e.toString())).join("\n"))}}function s(e,t){return e===t||void 0===e}t.InvalidAriError=i
;const a=r.pattern(/^[a-z][a-z.-]*$/),c=r.pattern(/^[a-z][a-z.-]*$/i),l=[r.lengthBetween(3,255),a],d=[r.lengthBetween(3,255),c],u=[r.lengthBetween(3,255)],p="site",h=/[\w-._~:@#]/.source,f=[r.pattern(new RegExp(`^${h}+(/${h}*)*(;v=${h}*)*$`))];class m{get cloudId(){return this.resourceType===p?this.internalCloudId?this.internalCloudId:this.resourceId:this.internalCloudId}constructor(e){const{resourceId:t,resourceOwner:n,resourceType:o,cloudId:r}=function(e){const{resourceId:t,resourceOwner:n,cloudId:o}=e;return!t&&o?{resourceOwner:n,resourceType:p,resourceId:o}:e}(e);this.resourceOwner=n,this.internalCloudId=r,this.resourceType=o,this.resourceId=t,this.validate()}static parse(e){if(!e)throw new i(e);const t=e.match(/^ari:cloud:([^:/]+):([^:/]*):([^:/]*)\/(.*)$/);if(!t||5!==t.length)throw new i(e);const n=t.map((e=>e&&e.length>0?e:void 0)),o=n[1];if(!o)throw new i(e);return new m({resourceOwner:o,cloudId:n[2],resourceType:n[3],resourceId:n[4]})}static parseEncoded(e){
return b(decodeURIComponent(e))}toString(){if(!this.ariString){const e=this.resourceType===p&&this.internalCloudId?this.internalCloudId:this.resourceId||"",t=this.resourceType||"",n=this.resourceType===p?"":this.internalCloudId||"";this.ariString=`ari:cloud:${this.resourceOwner}:${n}:${t}/${e}`}return this.ariString}toJSON(){return this.toString()}equals(e){return e instanceof m&&this.resourceOwner===e.resourceOwner&&this.cloudId===e.cloudId&&this.resourceType===e.resourceType&&this.resourceId===e.resourceId}contains(e){return this.matches(new m(e))}matches(e){return s(this.resourceOwner,e.resourceOwner)&&s(this.cloudId,e.cloudId)&&(this.resourceType===p&&!!e.resourceType||s(this.resourceType,e.resourceType))&&(this.resourceType===p&&!!e.resourceType||s(this.resourceId,e.resourceId))}validateSiteWide(){const{resourceType:e,cloudId:t}=this;if(e===p&&!t)return new r.GeneralValidationError("site wide ARIs must have a cloudId")}validate(){
const e=[r.validateField(this,"resourceOwner",l),r.validateField(this,"resourceType",d),r.validateField(this,"resourceId",f),r.validateField(this,"cloudId",u),this.validateSiteWide()].filter((e=>e));if(e.length>0)throw i.withConstraintViolations(this.toString(),e);if(void 0!==this.resourceId&&void 0===this.resourceType)throw new i(this.toString(),"The resource type must be specified if the resource id is defined.")}urlEncode(){return encodeURIComponent(this.toString())}urlDecode(){return decodeURIComponent(this.toString())}}function b(e){return m.parse(e)}t.ResourceIdentifier=m,t.parse=b,t.parseEncoded=function(e){return m.parseEncoded(e)}},SdCE:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return a}));const o={default:n("anI9").i,wide:n("anI9").X,"full-width":n("anI9").s};function r(e,t=0,r){const{isFullWidthModeEnabled:i}=r
;if(i)return t?Math.min(t-2*n("anI9").u,n("anI9").s):n("anI9").s;const s=Object(n("9ehW").b)(e,t,!0);return s.endsWith("px")?parseInt(s,10):o[e]||t}function i(e){return"row"===e.parent.type.spec.tableRole&&e.nodeAfter}function s(e,t,{colspan:n,colwidth:o}){let r=o&&o[o.length-1];if(r)return r;let i=e.domAtPos(t+1).node.offsetWidth,s=n||0;if(o)for(let a=0;a<(n||0);a++)o[a]&&(i-=o[a],s--);return i/s}const a=({table:e,tableStart:t,state:o,layout:i,getEditorContainerWidth:s})=>{const a=s();let c=Object(n("OMlK").a)(t,o,a)||r(i,a.width,{});return e.attrs.isNumberColumnEnabled&&(c-=n("anI9").R),c}},"ShL/":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("UxO+"),r=n("MEpN");const i=({selection:e})=>{const{$from:t,$to:o}=e,r=t.blockRange(o,n("EvmU").d);return r||null},s=({tr:e,normalizedSelection:t,originalSelection:r,hasPreviousNestedList:i})=>{const s=i?2:0,{$from:a,$to:c}=t;if(t instanceof n("WE2A").a){const o=e.doc.resolve(a.pos-s);return new(n("WE2A").a)(o,t.side)}
if(r instanceof o.NodeSelection)return o.NodeSelection.create(e.doc,a.pos-s);const{$from:l}=o.Selection.near(e.doc.resolve(a.pos-s)),{$to:d}=o.Selection.near(e.doc.resolve(c.pos-s),-1);return new o.TextSelection(l,d)},a=({tr:e,from:t,to:n,listNodeType:o,range:i})=>{const s=e.doc.slice(t,n-2),a=r.Fragment.from(o.create(null,s.content)),c=e.doc.slice(n,i.end-2),l=e.doc.slice(t-1,i.end).openStart;return[new r.Slice(a,l,0),c]};var c=n("hyZr");function l(e=n("+PNV").f.KEYBOARD){return function(t,o){const{tr:r,selection:{$from:l}}=t;if(!Object(n("DQ6B").d)(t))return!1;Object(c.a)(r);const d=Object(n("DQ6B").c)(l),u=Object(n("ytXc").b)(l);if(!u||d&&0===d.indentLevel&&0===d.itemIndex)return!Object(n("DQ6B").e)(t);const p=u.node,h=Object(n("EvmU").b)(p)?n("+PNV").c.FORMAT_LIST_BULLET:n("+PNV").c.FORMAT_LIST_NUMBER;(e=>{const t=e.selection,o=Object(n("DQ6B").i)({selection:t,doc:e.doc}),{$from:r,$to:c}=o,l=i({selection:o});if(!l)return!1;const d={from:Object(n("ytXc").a)(r),
to:Object(n("ytXc").a)(c)};if(null===d.from||null===d.to)return null;const u=e.doc.resolve(d.from.pos),p=u.index(),h=u.posAtIndex(p-1),f=e.doc.nodeAt(h);if(!f||!Object(n("EvmU").c)(f))return null;if(Object(n("EvmU").c)(f)&&0===p)return null;const m=l.parent,b=Object(n("EvmU").d)(f.lastChild)?f.lastChild:null,g=b?b.type:m.type,v=d.to.node.lastChild,y=v&&Object(n("EvmU").d)(v)?v.nodeSize:0,O=d.from.pos,E=d.to.pos+d.to.node.nodeSize-y,[w,S]=a({tr:e,listNodeType:g,range:l,from:O,to:E}),k=Boolean(b),x=O-1;e.replaceRange(k?x-1:x,l.end,w);const C=e.mapping.map(E)-2;0===S.openStart?e.insert(C,S.content):e.replace(C-S.openStart,C-S.openStart,S);const T=s({originalSelection:t,normalizedSelection:o,tr:e,hasPreviousNestedList:k});e.setSelection(T)})(r);return!Object(n("3G5u").b)({tr:r,maxIndentation:6})||!r.docChanged||(Object(n("SVcB").a)(t,r,{action:n("+PNV").a.INDENTED,actionSubject:n("+PNV").b.LIST,actionSubjectId:h,eventType:n("+PNV").e.TRACK,attributes:{...Object(n("2xgt").a)(t),
inputMethod:e}}),o&&o(r),!0)}}},SjlK:function(e,t,n){"use strict";let o;n.d(t,"a",(function(){return o})),function(e){e.ACTIVATE="ACTIVATE",e.FIND="FIND",e.UPDATE_DECORATIONS="UPDATE_DECORATIONS",e.FIND_NEXT="FIND_NEXT",e.FIND_PREVIOUS="FIND_PREVIOUS",e.REPLACE="REPLACE",e.REPLACE_ALL="REPLACE_ALL",e.CANCEL="CANCEL",e.BLUR="BLUR",e.TOGGLE_MATCH_CASE="TOGGLE_MATCH_CASE"}(o||(o={}))},SpRm:function(e,t,n){"use strict";e.exports=function(e,t){var n,o,r,i,s,a,c,l,d=e.pos;if(96!==e.src.charCodeAt(d))return!1;for(n=d,d++,o=e.posMax;d<o&&96===e.src.charCodeAt(d);)d++;if(c=(r=e.src.slice(n,d)).length,e.backticksScanned&&(e.backticks[c]||0)<=n)return t||(e.pending+=r),e.pos+=c,!0;for(s=a=d;-1!==(s=e.src.indexOf("`",a));){for(a=s+1;a<o&&96===e.src.charCodeAt(a);)a++;if((l=a-s)===c)return t||((i=e.push("code_inline","code",0)).markup=r,i.content=e.src.slice(d,s).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=a,!0;e.backticks[l]=s}return e.backticksScanned=!0,t||(e.pending+=r),e.pos+=c,!0}},
Ssoj:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("q1tI"),r=n.n(o),i=n("zuKv"),s=n("pVnL"),a=n.n(s),c=r.a.forwardRef(((e,t)=>r.a.createElement(n("340+").a,a()({ref:t},e,{style:{alignItems:"center"}}))));const l=n("vREE").a,d={name:"15currb",styles:"display:flex;height:100%"},u=r.a.forwardRef(((e,t)=>{const{buttonId:r,testId:s,className:a="",href:l,iconAfter:u,iconBefore:p,disabled:h,selected:f,spacing:m,target:b,children:g,hideTooltip:v,title:y,titlePosition:O="top",item:E,"aria-label":w,"aria-haspopup":S,"aria-expanded":k,"aria-pressed":x,"aria-keyshortcuts":C,onClick:T,onKeyDown:j,onItemClick:A}=e,N=Object(o.useCallback)(((e,t)=>{h||(r&&t.update((e=>({...e,action:n("+PNV").a.CLICKED,actionSubject:n("+PNV").b.TOOLBAR_BUTTON,actionSubjectId:r,eventType:n("+PNV").e.UI}))).fire(i.FabricChannel.editor),T&&T(e),E&&A&&A(E))}),[h,T,A,E,r]),I=r?`editor-toolbar__${r}`:void 0,P=Object(n("AeFk").jsx)(c,{id:I,ref:t,appearance:"subtle",testId:s,className:a,href:l,
iconAfter:u,iconBefore:p,isDisabled:h,isSelected:f,onClick:N,spacing:m||"default",target:b,shouldFitContainer:!0,"aria-expanded":k,"aria-haspopup":S,"aria-label":w,"aria-pressed":x,"aria-keyshortcuts":C,onKeyDown:j},g);if(!y)return P;const M=v?null:y;return Object(n("AeFk").jsx)(n("Yto1").a,{content:M,hideTooltipOnClick:!0,position:O},Object(n("AeFk").jsx)("div",{css:d},P))}));t.b=u},Sz5L:function(e,t,n){"use strict";var o=n("AGgm").isSpace;function r(e,t){var n,r,i,s;return r=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],42!==(n=e.src.charCodeAt(r++))&&45!==n&&43!==n||r<i&&(s=e.src.charCodeAt(r),!o(s))?-1:r}function i(e,t){var n,r=e.bMarks[t]+e.tShift[t],i=r,s=e.eMarks[t];if(i+1>=s)return-1;if((n=e.src.charCodeAt(i++))<48||n>57)return-1;for(;;){if(i>=s)return-1;if(!((n=e.src.charCodeAt(i++))>=48&&n<=57)){if(41===n||46===n)break;return-1}if(i-r>=10)return-1}return i<s&&(n=e.src.charCodeAt(i),!o(n))?-1:i}e.exports=function(e,t,n,o){
var s,a,c,l,d,u,p,h,f,m,b,g,v,y,O,E,w,S,k,x,C,T,j,A,N,I,P,M,R=!1,_=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[t]-e.listIndent>=4&&e.sCount[t]<e.blkIndent)return!1;if(o&&"paragraph"===e.parentType&&e.sCount[t]>=e.blkIndent&&(R=!0),(j=i(e,t))>=0){if(p=!0,N=e.bMarks[t]+e.tShift[t],v=Number(e.src.slice(N,j-1)),R&&1!==v)return!1}else{if(!((j=r(e,t))>=0))return!1;p=!1}if(R&&e.skipSpaces(j)>=e.eMarks[t])return!1;if(g=e.src.charCodeAt(j-1),o)return!0;for(b=e.tokens.length,p?(M=e.push("ordered_list_open","ol",1),1!==v&&(M.attrs=[["start",v]])):M=e.push("bullet_list_open","ul",1),M.map=m=[t,0],M.markup=String.fromCharCode(g),O=t,A=!1,P=e.md.block.ruler.getRules("list"),S=e.parentType,e.parentType="list";O<n;){for(T=j,y=e.eMarks[O],u=E=e.sCount[O]+j-(e.bMarks[t]+e.tShift[t]);T<y;){if(9===(s=e.src.charCodeAt(T)))E+=4-(E+e.bsCount[O])%4;else{if(32!==s)break;E++}T++}if((d=(a=T)>=y?1:E-u)>4&&(d=1),l=u+d,(M=e.push("list_item_open","li",1)).markup=String.fromCharCode(g),
M.map=h=[t,0],p&&(M.info=e.src.slice(N,j-1)),C=e.tight,x=e.tShift[t],k=e.sCount[t],w=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=l,e.tight=!0,e.tShift[t]=a-e.bMarks[t],e.sCount[t]=E,a>=y&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,t,n,!0),e.tight&&!A||(_=!1),A=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=w,e.tShift[t]=x,e.sCount[t]=k,e.tight=C,(M=e.push("list_item_close","li",-1)).markup=String.fromCharCode(g),O=t=e.line,h[1]=O,a=e.bMarks[t],O>=n)break;if(e.sCount[O]<e.blkIndent)break;if(e.sCount[t]-e.blkIndent>=4)break;for(I=!1,c=0,f=P.length;c<f;c++)if(P[c](e,O,n,!0)){I=!0;break}if(I)break;if(p){if((j=i(e,O))<0)break;N=e.bMarks[O]+e.tShift[O]}else if((j=r(e,O))<0)break;if(g!==e.src.charCodeAt(j-1))break}return(M=p?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(g),m[1]=O,e.line=O,e.parentType=S,_&&function(e,t){var n,o,r=e.level+2;for(n=t+2,
o=e.tokens.length-2;n<o;n++)e.tokens[n].level===r&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}(e,b),!0}},TBml:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("lSNA"),r=n.n(o);class i{constructor(){r()(this,"startedAt",0),r()(this,"endedAt",0),r()(this,"keyCount",{arrowUp:0,arrowDown:0}),r()(this,"increaseArrowUp",(()=>{this.keyCount.arrowUp+=1})),r()(this,"increaseArrowDown",(()=>{this.keyCount.arrowDown+=1})),r()(this,"serialize",(()=>{var e,t;return{startedAt:this.startedAt,endedAt:performance.now(),keyCount:{arrowUp:(null===(e=this.keyCount)||void 0===e?void 0:e.arrowUp)||0,arrowDown:(null===(t=this.keyCount)||void 0===t?void 0:t.arrowDown)||0}}})),this.startedAt=performance.now(),this.keyCount={arrowUp:0,arrowDown:0}}}},TCYN:function(e,t,n){"use strict";var o=/\r\n?|\n/g,r=/\0/g;e.exports=function(e){var t;t=(t=e.src.replace(o,"\n")).replace(r,"\ufffd"),e.src=t}},TLR5:function(e,t,n){"use strict"
;var o=n("SINd"),r=[["text",n("usqY")],["newline",n("QjYF")],["escape",n("bgCn")],["backticks",n("SpRm")],["strikethrough",n("kiyR").tokenize],["emphasis",n("yKnv").tokenize],["link",n("zQ/W")],["image",n("ky0j")],["autolink",n("KOyK")],["html_inline",n("wtjL")],["entity",n("W1Rp")]],i=[["balance_pairs",n("g40J")],["strikethrough",n("kiyR").postProcess],["emphasis",n("yKnv").postProcess],["text_collapse",n("IIUr")]];function s(){var e;for(this.ruler=new o,e=0;e<r.length;e++)this.ruler.push(r[e][0],r[e][1]);for(this.ruler2=new o,e=0;e<i.length;e++)this.ruler2.push(i[e][0],i[e][1])}s.prototype.skipToken=function(e){var t,n,o=e.pos,r=this.ruler.getRules(""),i=r.length,s=e.md.options.maxNesting,a=e.cache;if(void 0===a[o]){if(e.level<s)for(n=0;n<i&&(e.level++,t=r[n](e,!0),e.level--,!t);n++);else e.pos=e.posMax;t||e.pos++,a[o]=e.pos}else e.pos=a[o]},s.prototype.tokenize=function(e){for(var t,n,o=this.ruler.getRules(""),r=o.length,i=e.posMax,s=e.md.options.maxNesting;e.pos<i;){
if(e.level<s)for(n=0;n<r&&!(t=o[n](e,!1));n++);if(t){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},s.prototype.parse=function(e,t,n,o){var r,i,s,a=new this.State(e,t,n,o);for(this.tokenize(a),s=(i=this.ruler2.getRules("")).length,r=0;r<s;r++)i[r](a)},s.prototype.State=n("CXva"),e.exports=s},TSC6:function(t,n,o){var r=o("GRew"),i=o("ENu8"),s=o("bKEA"),a=o("M5dz"),c=o("nA4W"),l=o("+vXQ"),d=Object.getOwnPropertyDescriptor;n.f=o("C61u")?d:function(t,n){if(t=s(t),n=a(n,!0),l)try{return d(t,n)}catch(e){}if(c(t,n))return i(!r.f.call(t,n),t[n])}},TSYQ:function(e,t,n){var o;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o)){if(o.length){var s=r.apply(null,o);s&&e.push(s)}}else if("object"===i)if(o.toString===Object.prototype.toString)for(var a in o)n.call(o,a)&&o[a]&&e.push(a);else e.push(o.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()},TYje:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},Temt:function(e,t){e.exports=function(e,t,n){var o=void 0===n;switch(t.length){case 0:return o?e():e.call(n);case 1:return o?e(t[0]):e.call(n,t[0]);case 2:return o?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},TnF5:function(e,t,n){n("4Zg2")("observable")},
Trx6:function(e,t,n){var o=n("TYje");e.exports=Array.isArray||function(e){return"Array"==o(e)}},TypY:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("undoRedoPlugin")},UIbH:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),i=n("lSNA"),s=n.n(i),a=n("pVnL"),c=n.n(a);const l=e=>r.a.createElement("svg",c()({},e,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"}),r.a.createElement("path",{d:"M14 12.5h-4l-.874 2.186A.5.5 0 0 1 8.66 15H7.273a.5.5 0 0 1-.456-.705l4.05-9A.5.5 0 0 1 11.323 5h1.354a.5.5 0 0 1 .456.295l4.05 9a.5.5 0 0 1-.456.705h-1.388a.5.5 0 0 1-.465-.314L14 12.5zm-.6-1.5L12 7.5 10.6 11h2.8z",fill:"currentColor",fillRule:"evenodd"})),d=()=>r.a.createElement(n("UnwW").b,{glyph:l,label:""});const u=e=>`\n    linear-gradient(\n      to right,\n      ${e.map(((t,n)=>{const o=100/e.length,r=n+1
;return 0===n?`${t} ${r*o}%,`:n===e.length-1?`${t} ${(r-1)*o}%`:`\n            ${t} ${(r-1)*o}%,\n            ${t} ${r*o}%,\n          `})).join("\n")}\n    );\n    `,p=u(["#6554C0","#00B8D9","#FF991F","#DE350B"]),h=u(["#97A0AF","#B3BAC5","#DFE1E6","#B3BAC5"]),f={name:"bjn8wh",styles:"position:relative"},m=Object(n("AeFk").css)("position:absolute;left:0;right:0;top:16px;margin:auto;width:12px;height:3px;border-radius:",Object(n("7w+A").borderRadius)()+"px",";background:",p,";"),b=Object(n("AeFk").css)("background:",h,";"),g=Object(n("D6b/").defineMessages)({textColor:{id:"fabric.editor.textColor",defaultMessage:"Text color",description:""}});class v extends r.a.Component{constructor(...e){super(...e),s()(this,"state",{isOpen:!1,isOpenedByKeyboard:!1}),s()(this,"toolbarItemRef",r.a.createRef()),s()(this,"changeColor",(e=>n("Ng0V").a(e)(this.props.editorView.state,this.props.editorView.dispatch))),s()(this,"onOpenChange",(e=>{this.handleOpenChange({isOpen:e.isOpen,logCloseEvent:!0,
event:e.event})})),s()(this,"changeTextColor",((e,t)=>{var n,o;if(!t){var r;const{pluginState:{palette:t}}=this.props,n=t.find((t=>t.value===e));this.dispatchAnalyticsEvent(this.buildAnalyticsSelectColor({color:(n?n.label:e).toLowerCase()})),this.handleOpenChange({isOpen:!1,logCloseEvent:!1}),this.changeColor(e),null===(r=this.props.editorView)||void 0===r||r.focus()}return null===(n=this.toolbarItemRef)||void 0===n||null===(o=n.current)||void 0===o||o.focus(),!1})),s()(this,"toggleOpen",(()=>{this.handleOpenChange({isOpen:!this.state.isOpen,logCloseEvent:!0})})),s()(this,"onKeyDown",(e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.setState({isOpenedByKeyboard:!0}),this.toggleOpen())})),s()(this,"handleOpenChange",(({isOpen:e,logCloseEvent:t,event:o})=>{var r,i;(this.setState({isOpen:e}),e||this.setState({isOpenedByKeyboard:!1}),t&&this.dispatchAnalyticsEvent(this.buildAnalyticsPalette(e?n("+PNV").a.OPENED:n("+PNV").a.CLOSED,{noSelect:!1===e})),
!e&&o instanceof KeyboardEvent&&"Escape"===(null==o?void 0:o.key))&&(null===(r=this.toolbarItemRef)||void 0===r||null===(i=r.current)||void 0===i||i.focus())})),s()(this,"hide",(e=>{const{isOpen:t}=this.state;var o,r;!0===t&&(this.dispatchAnalyticsEvent(this.buildAnalyticsPalette(n("+PNV").a.CLOSED,{noSelect:!0})),this.setState({isOpen:!1}),e instanceof KeyboardEvent&&"Escape"===e.key&&(null===(o=this.toolbarItemRef)||void 0===o||null===(r=o.current)||void 0===r||r.focus()))})),s()(this,"hideonEsc",(e=>{var t,n;this.hide(e),null===(t=this.toolbarItemRef)||void 0===t||null===(n=t.current)||void 0===n||n.focus()}))}render(){const{isOpen:e,isOpenedByKeyboard:t}=this.state,{popupsMountPoint:o,popupsBoundariesElement:r,popupsScrollableElement:i,isReducedSpacing:s,pluginState:a,intl:{formatMessage:c},disabled:l,featureFlags:u}=this.props,p=c(g.textColor),h=a.palette,{useSomewhatSemanticTextColorNames:v}=u;let y;document.body.clientWidth<=740&&(y=242)
;const O=a.color!==a.defaultColor&&a.color,{selectedRowIndex:E,selectedColumnIndex:w}=Object(n("UdR0").b)(h,a.color);return Object(n("AeFk").jsx)("span",{css:n("mw/U").j},Object(n("AeFk").jsx)(n("pYeG").a,{mountTo:o,boundariesElement:r,scrollableElement:i,isOpen:e&&!a.disabled,handleClickOutside:this.hide,handleEscapeKeydown:this.hideonEsc,zIndex:n("anI9").y,fitWidth:y,onOpenChange:this.onOpenChange,closeOnTab:!0,arrowKeyNavigationProviderOptions:{type:n("0ap2").a.COLOR,selectedRowIndex:E,selectedColumnIndex:w,isOpenedByKeyboard:t,isPopupPositioned:!0},trigger:Object(n("AeFk").jsx)(n("aEOQ").a,{buttonId:n("Ssoj").a.TEXT_COLOR,spacing:s?"none":"default",disabled:l||a.disabled,selected:e,"aria-label":p,"aria-expanded":e,"aria-haspopup":!0,title:p,onClick:this.toggleOpen,onKeyDown:this.onKeyDown,ref:this.toolbarItemRef,iconBefore:Object(n("AeFk").jsx)("div",{css:n("mw/U").h},Object(n("AeFk").jsx)("div",{css:f},Object(n("AeFk").jsx)(d,null),Object(n("AeFk").jsx)("div",{
css:[m,O?`background: ${O};`:a.disabled&&b]})),Object(n("AeFk").jsx)("span",{css:n("mw/U").f},Object(n("AeFk").jsx)(n.n(n("1YpF")).a,{label:""})))})},Object(n("AeFk").jsx)("div",{"data-testid":"text-color-palette"},Object(n("AeFk").jsx)(n("auKG").a,{onClick:e=>this.changeTextColor(e,a.disabled),selectedColor:a.color,paletteOptions:{palette:h,hexToPaletteColor:n("UiXF").a,paletteColorTooltipMessages:n("aDti").d,showSomewhatSemanticTooltips:v}}))),Object(n("AeFk").jsx)("span",{css:n("mw/U").g}))}getCommonAnalyticsAttributes(){return{experiment:"editor.toolbarTextColor.moreColors",experimentGroup:"control"}}buildAnalyticsPalette(e,t){return{action:e,actionSubject:n("+PNV").b.TOOLBAR,actionSubjectId:n("+PNV").c.FORMAT_COLOR,eventType:n("+PNV").e.TRACK,attributes:{...this.getCommonAnalyticsAttributes(),...t}}}buildAnalyticsSelectColor(e){return{action:n("+PNV").a.FORMATTED,actionSubject:n("+PNV").b.TEXT,actionSubjectId:n("+PNV").c.FORMAT_COLOR,eventType:n("+PNV").e.TRACK,attributes:{
...this.getCommonAnalyticsAttributes(),...e}}}dispatchAnalyticsEvent(e){const{dispatchAnalyticsEvent:t}=this.props;t&&t(e)}}v.displayName="ToolbarTextColor";var y=Object(n("o5hF").c)(v);t.a=(e,t)=>{var o,i;const s=(null==t||null===(o=t.dependencies)||void 0===o||null===(i=o.featureFlags)||void 0===i?void 0:i.sharedState.currentState())||{};return{name:"textColor",marks:()=>[{name:"textColor",mark:n("50qd").b}],pmPlugins:()=>[{name:"textColor",plugin:({dispatch:t})=>Object(n("BS0G").b)(t,(e=>{if(e&&"boolean"!=typeof e)return e})(e))}],primaryToolbarComponent:({editorView:e,popupsMountPoint:t,popupsBoundariesElement:o,popupsScrollableElement:i,isToolbarReducedSpacing:a,dispatchAnalyticsEvent:c,disabled:l})=>r.a.createElement(n("fd7e").a,{plugins:{textColor:n("BS0G").c},render:({textColor:n})=>r.a.createElement(y,{pluginState:n,isReducedSpacing:a,editorView:e,popupsMountPoint:t,popupsBoundariesElement:o,popupsScrollableElement:i,dispatchAnalyticsEvent:c,disabled:l,featureFlags:s})})}}},
UR8F:function(e,t,n){n("C5kU"),n("ZY/g"),e.exports=n("/NTb").f("iterator")},USwo:function(e,t,n){var o=n("7whZ"),r=n("VSTI"),i=n("nAx8"),s=n("BRsN"),a=n("nA4W"),c=function(e,t,n){var l,d,u,p=e&c.F,h=e&c.G,f=e&c.S,m=e&c.P,b=e&c.B,g=e&c.W,v=h?r:r[t]||(r[t]={}),y=v.prototype,O=h?o:f?o[t]:(o[t]||{}).prototype;for(l in h&&(n=t),n)(d=!p&&O&&void 0!==O[l])&&a(v,l)||(u=d?O[l]:n[l],v[l]=h&&"function"!=typeof O[l]?n[l]:b&&d?i(u,o):g&&O[l]==u?function(e){var t=function(t,n,o){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,o)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(u):m&&"function"==typeof u?i(Function.call,u):u,m&&((v.virtual||(v.virtual={}))[l]=u,e&c.R&&y&&!y[l]&&s(y,l,u)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},UdR0:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));function o(e,t=7){return e.reduce(((e,n,o)=>{
const r=Math.floor(o/t);return e[r]=e[r]||[],e[r].push(n),e}),[])}function r(e,t,n=7){return function(e,t){let n=-1,o=-1;return e.forEach(((e,r)=>{e.forEach((({value:e},i)=>{e===t&&(n=r,o=i)}))})),{selectedRowIndex:n,selectedColumnIndex:o}}(o(e,n),t)}},UgDi:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("mentionPlugin")},UkcH:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));const o={platform:{component:"smart-links"},type:n("RbdO").b.Experience,performanceType:n("RbdO").a.InlineResult},r={platform:{component:"smart-links"},type:n("RbdO").b.Load,performanceType:n("RbdO").a.PageSegmentLoad},i={"smart-link-rendered":new(n("boKy").a)("smart-link-rendered",r),"smart-link-authenticated":new(n("boKy").a)("smart-link-authenticated",o),"smart-link-action-invocation":new(n("boKy").a)("smart-link-action-invocation",o)},s=(e,t,n)=>{
const o=i[e].getInstance(t);o.start(),n&&o.addMetadata(n)},a=(e,t,n)=>{i[e].getInstance(t).success({metadata:n})},c=(e,t,n)=>{i[e].getInstance(t).failure({metadata:n})},l=(e,t,n)=>{i[e].getInstance(t).addMetadata(n)}},UmKr:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=Object(n("D6b/").defineMessages)({underline:{id:"fabric.editor.underline",defaultMessage:"Underline",description:"Whether the text selection has underlined text"},strike:{id:"fabric.editor.strike",defaultMessage:"Strikethrough",description:"Whether the text selection has crossed out text"},code:{id:"fabric.editor.code",defaultMessage:"Code",description:"Whether the text selection has monospaced/code font"},codeOn:{id:"fabric.editor.code.on",defaultMessage:"{textFormattingOff}, Code On",description:"Reports that code formatting has been turned on"},subscript:{id:"fabric.editor.subscript",defaultMessage:"Subscript",
description:"Whether the text selection is written below the line in a slightly smaller size"},subscriptOffSuperscriptOn:{id:"fabric.editor.subscript.off.superscript.on",defaultMessage:"Subscript Off, Superscript On",description:"Reports text formatting in case when subscript off and superscript on"},superscript:{id:"fabric.editor.superscript",defaultMessage:"Superscript",description:"Whether the text selection is written above the line in a slightly smaller size"},superscriptOffSubscriptOn:{id:"fabric.editor.superscript.off.subscript.on",defaultMessage:"Superscript Off, Subscript On",description:"Describe text formatting in case when Superscript Off and Subscript on"},clearFormatting:{id:"fabric.editor.clearFormatting",defaultMessage:"Clear formatting",description:"Remove all rich text formatting from the selected text"},moreFormatting:{id:"fabric.editor.moreFormatting",defaultMessage:"More formatting",description:"Clicking this will show a menu with additional formatting options"},
bold:{id:"fabric.editor.bold",defaultMessage:"Bold",description:"This refers to bold or \u201cstrong\u201d formatting, indicates that its contents have strong importance, seriousness, or urgency."},italic:{id:"fabric.editor.italic",defaultMessage:"Italic",description:"This refers to italics or emphasized formatting."},on:{id:"fabric.editor.on",defaultMessage:"{formattingType} On",description:"Reports that text formatting has been turned on"},off:{id:"fabric.editor.off",defaultMessage:"{formattingType} Off",description:"Reports that text formatting has been turned off"},textFormattingOff:{id:"fabric.editor.text.formatting.off",defaultMessage:"Text formatting Off",description:"Reports that text formatting has been turned off"},navigateToEditorToolbar:{id:"fabric.editor.navigate.toolbar.editor",defaultMessage:"Navigate to editor toolbar",description:"Navigate to the main editor toolbar."},navigateToFloatingToolbar:{id:"fabric.editor.navigate.toolbar.floating",
defaultMessage:"Navigate to floating toolbar",description:"Navigate to a floating toolbar for relevant nodes (e.g. tables or panels)."}})},V2qZ:function(t,n,o){"use strict";o.d(n,"a",(function(){return Pt})),o.d(n,"b",(function(){return Lt})),o.d(n,"c",(function(){return qt}));var r=o("UxO+"),i=o("MEpN"),s=o("CsC6"),a={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var c=/Edge\/(\d+)/.exec(navigator.userAgent),l=/MSIE \d/.test(navigator.userAgent),d=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),u=a.ie=!!(l||d||c);a.ie_version=l?document.documentMode||6:d?+d[1]:c?+c[1]:null,a.gecko=!u&&/gecko\/(\d+)/i.test(navigator.userAgent),a.gecko_version=a.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var p=!u&&/Chrome\/(\d+)/.exec(navigator.userAgent);a.chrome=!!p,a.chrome_version=p&&+p[1],a.safari=!u&&/Apple Computer/.test(navigator.vendor),a.ios=a.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),
a.mac=a.ios||/Mac/.test(navigator.platform),a.android=/Android \d/.test(navigator.userAgent),a.webkit="webkitFontSmoothing"in document.documentElement.style,a.webkit_version=a.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var h=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},f=function(e){var t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t},m=null,b=function(e,t,n){var o=m||(m=document.createRange());return o.setEnd(e,null==n?e.nodeValue.length:n),o.setStart(e,t||0),o},g=function(e,t,n,o){return n&&(y(e,t,n,o,-1)||y(e,t,n,o,1))},v=/^(img|br|input|textarea|hr)$/i;function y(e,t,n,o,r){for(;;){if(e==n&&t==o)return!0;if(t==(r<0?0:O(e))){var i=e.parentNode;if(1!=i.nodeType||E(e)||v.test(e.nodeName)||"false"==e.contentEditable)return!1;t=h(e)+(r<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(r<0?-1:0)]).contentEditable)return!1;t=r<0?O(e):0}}}function O(e){
return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function E(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var w=function(e){var t=e.isCollapsed;return t&&a.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function S(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function k(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function x(e,t){return"number"==typeof e?e:e[t]}function C(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,o=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*o}}function T(e,t,n){for(var o=e.someProp("scrollThreshold")||0,r=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument,s=n||e.dom;s;s=f(s))if(1==s.nodeType){var a=s==i.body||1!=s.nodeType,c=a?k(i):C(s),l=0,d=0
;if(t.top<c.top+x(o,"top")?d=-(c.top-t.top+x(r,"top")):t.bottom>c.bottom-x(o,"bottom")&&(d=t.bottom-c.bottom+x(r,"bottom")),t.left<c.left+x(o,"left")?l=-(c.left-t.left+x(r,"left")):t.right>c.right-x(o,"right")&&(l=t.right-c.right+x(r,"right")),l||d)if(a)i.defaultView.scrollBy(l,d);else{var u=s.scrollLeft,p=s.scrollTop;d&&(s.scrollTop+=d),l&&(s.scrollLeft+=l);var h=s.scrollLeft-u,m=s.scrollTop-p;t={left:t.left-h,top:t.top-m,right:t.right-h,bottom:t.bottom-m}}if(a)break}}function j(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=n);e=f(e));return t}function A(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=o.dom,i=o.top,s=o.left;r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}var N=null;function I(e,t){for(var n,o,r=2e8,i=0,s=t.top,a=t.top,c=e.firstChild,l=0;c;c=c.nextSibling,l++){var d=void 0;if(1==c.nodeType)d=c.getClientRects();else{if(3!=c.nodeType)continue;d=b(c).getClientRects()}for(var u=0;u<d.length;u++){var p=d[u]
;if(p.top<=s&&p.bottom>=a){s=Math.max(p.bottom,s),a=Math.min(p.top,a);var h=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(h<r){n=c,r=h,o=h&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==c.nodeType&&h&&(i=l+(t.left>=(p.left+p.right)/2?1:0));continue}}!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(i=l+1)}}return n&&3==n.nodeType?function(e,t){for(var n=e.nodeValue.length,o=document.createRange(),r=0;r<n;r++){o.setEnd(e,r+1),o.setStart(e,r);var i=_(o,1);if(i.top!=i.bottom&&P(t,i))return{node:e,offset:r+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}(n,o):!n||r&&1==n.nodeType?{node:e,offset:i}:I(n,o)}function P(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function M(e,t,n){var o=e.childNodes.length;if(o&&n.top<n.bottom)for(var r=Math.max(0,Math.min(o-1,Math.floor(o*(t.top-n.top)/(n.bottom-n.top))-2)),i=r;;){var s=e.childNodes[i]
;if(1==s.nodeType)for(var a=s.getClientRects(),c=0;c<a.length;c++){var l=a[c];if(P(t,l))return M(s,t,l)}if((i=(i+1)%o)==r)break}return e}function R(e,t){var n,o,r,i,s=e.dom.ownerDocument;if(s.caretPositionFromPoint)try{var c=s.caretPositionFromPoint(t.left,t.top);c&&(r=(n=c).offsetNode,i=n.offset)}catch(v){}if(!r&&s.caretRangeFromPoint){var l=s.caretRangeFromPoint(t.left,t.top);l&&(r=(o=l).startContainer,i=o.startOffset)}var d,u=(e.root.elementFromPoint?e.root:s).elementFromPoint(t.left,t.top+1);if(!u||!e.dom.contains(1!=u.nodeType?u.parentNode:u)){var p=e.dom.getBoundingClientRect();if(!P(t,p))return null;if(!(u=M(e.dom,t,p)))return null}if(a.safari)for(var h=u;r&&h;h=f(h))h.draggable&&(r=i=null);if(u=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(u,t),r){if(a.gecko&&1==r.nodeType&&(i=Math.min(i,r.childNodes.length))<r.childNodes.length){var m,b=r.childNodes[i]
;"IMG"==b.nodeName&&(m=b.getBoundingClientRect()).right<=t.left&&m.bottom>t.top&&i++}r==e.dom&&i==r.childNodes.length-1&&1==r.lastChild.nodeType&&t.top>r.lastChild.getBoundingClientRect().bottom?d=e.state.doc.content.size:0!=i&&1==r.nodeType&&"BR"==r.childNodes[i-1].nodeName||(d=function(e,t,n,o){for(var r=-1,i=t;i!=e.dom;){var s=e.docView.nearestDesc(i,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>o.left||a.top>o.top)r=s.posBefore;else{if(!(a.right<o.left||a.bottom<o.top))break;r=s.posAfter}}i=s.dom.parentNode}return r>-1?r:e.docView.posFromDOM(t,n)}(e,r,i,t))}null==d&&(d=function(e,t,n){var o=I(t,n),r=o.node,i=o.offset,s=-1;if(1==r.nodeType&&!r.firstChild){var a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(r,i,s)}(e,u,t));var g=e.docView.nearestDesc(u,!0);return{pos:d,inside:g?g.posAtStart-g.border:-1}}function _(e,t){var n=e.getClientRects()
;return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}var L=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function D(e,t,n){var o=e.docView.domFromPos(t,n<0?-1:1),r=o.node,i=o.offset,s=a.webkit||a.gecko;if(3==r.nodeType){if(!s||!L.test(r.nodeValue)&&(n<0?i:i!=r.nodeValue.length)){var c=i,l=i,d=n<0?1:-1;return n<0&&!i?(l++,d=-1):n>=0&&i==r.nodeValue.length?(c--,d=1):n<0?c--:l++,F(_(b(r,c,l),d),d<0)}var u=_(b(r,i,i),n);if(a.gecko&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){var p=_(b(r,i-1,i-1),-1);if(p.top==u.top){var h=_(b(r,i,i+1),-1);if(h.top!=u.top)return F(h,h.left<p.left)}}return u}if(!e.state.doc.resolve(t).parent.inlineContent){if(i&&(n<0||i==O(r))){var f=r.childNodes[i-1];if(1==f.nodeType)return B(f.getBoundingClientRect(),!1)}if(i<O(r)){var m=r.childNodes[i];if(1==m.nodeType)return B(m.getBoundingClientRect(),!0)}return B(r.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==O(r))){
var g=r.childNodes[i-1],v=3==g.nodeType?b(g,O(g)-(s?0:1)):1!=g.nodeType||"BR"==g.nodeName&&g.nextSibling?null:g;if(v)return F(_(v,1),!1)}if(i<O(r)){for(var y=r.childNodes[i];y.pmViewDesc&&y.pmViewDesc.ignoreForCoords;)y=y.nextSibling;var E=y?3==y.nodeType?b(y,0,s?0:1):1==y.nodeType?y:null:null;if(E)return F(_(E,-1),!0)}return F(_(3==r.nodeType?b(r):r,-n),n>=0)}function F(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function B(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function V(e,t,n){var o=e.state,r=e.root.activeElement;o!=t&&e.updateState(t),r!=e.dom&&e.focus();try{return n()}finally{o!=t&&e.updateState(o),r!=e.dom&&r&&r.focus()}}var z=/[\u0590-\u08ac]/;var H=null,U=null,W=!1;function K(e,t,n){return H==t&&U==n?W:(H=t,U=n,W="up"==n||"down"==n?function(e,t,n){var o=t.selection,r="up"==n?o.$from:o.$to;return V(e,t,(function(){
for(var t=e.docView.domFromPos(r.pos,"up"==n?-1:1).node;;){var o=e.docView.nearestDesc(t,!0);if(!o)break;if(o.node.isBlock){t=o.dom;break}t=o.dom.parentNode}for(var i=D(e,r.pos,1),s=t.firstChild;s;s=s.nextSibling){var a=void 0;if(1==s.nodeType)a=s.getClientRects();else{if(3!=s.nodeType)continue;a=b(s,0,s.nodeValue.length).getClientRects()}for(var c=0;c<a.length;c++){var l=a[c];if(l.bottom>l.top+1&&("up"==n?i.top-l.top>2*(l.bottom-i.top):l.bottom-i.bottom>2*(i.bottom-l.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){var o=t.selection.$head;if(!o.parent.isTextblock)return!1;var r=o.parentOffset,i=!r,s=r==o.parent.content.size,a=e.root.getSelection();return z.test(o.parent.textContent)&&a.modify?V(e,t,(function(){var t=a.getRangeAt(0),r=a.focusNode,i=a.focusOffset,s=a.caretBidiLevel;a.modify("move",n,"character");var c=!(o.depth?e.docView.domAfterPos(o.before()):e.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||r==a.focusNode&&i==a.focusOffset
;return a.removeAllRanges(),a.addRange(t),null!=s&&(a.caretBidiLevel=s),c})):"left"==n||"backward"==n?i:s}(e,t,n))}var $=function(e,t,n,o){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=o,this.dirty=0},q={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};$.prototype.matchesWidget=function(){return!1},$.prototype.matchesMark=function(){return!1},$.prototype.matchesNode=function(){return!1},$.prototype.matchesHack=function(e){return!1},$.prototype.parseRule=function(){return null},$.prototype.stopEvent=function(){return!1},q.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},q.border.get=function(){return 0},$.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null)
;for(var e=0;e<this.children.length;e++)this.children[e].destroy()},$.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var o=this.children[t];if(o==e)return n;n+=o.size}},q.posBefore.get=function(){return this.parent.posBeforeChild(this)},q.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},q.posAfter.get=function(){return this.posBefore+this.size},q.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},$.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var o,r;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&(!(r=o.pmViewDesc)||r.parent!=this);)o=o.previousSibling;return o?this.posBeforeChild(r)+r.size:this.posAtStart}var i,s;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode
;i=e.nextSibling}for(;i&&(!(s=i.pmViewDesc)||s.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}var a;if(e==this.dom&&this.contentDOM)a=t>h(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var c=e;;c=c.parentNode){if(c==this.dom){a=!1;break}if(c.parentNode.firstChild!=c)break}if(null==a&&t==e.childNodes.length)for(var l=e;;l=l.parentNode){if(l==this.dom){a=!0;break}if(l.parentNode.lastChild!=l)break}}return(null==a?n>0:a)?this.posAtEnd:this.posAtStart},$.prototype.nearestDesc=function(e,t){for(var n=!0,o=e;o;o=o.parentNode){var r=this.getDesc(o);if(r&&(!t||r.node)){if(!n||!r.nodeDOM||(1==r.nodeDOM.nodeType?r.nodeDOM.contains(1==e.nodeType?e:e.parentNode):r.nodeDOM==e))return r;n=!1}}},$.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},$.prototype.posFromDOM=function(e,t,n){
for(var o=e;o;o=o.parentNode){var r=this.getDesc(o);if(r)return r.localPosFromDOM(e,t,n)}return-1},$.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var o=this.children[t],r=n+o.size;if(n==e&&r!=n){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<r)return o.descAt(e-n-o.border);n=r}},$.prototype.domFromPos=function(e,t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,o=0,r=0;n<this.children.length;n++){var i=this.children[n],s=r+i.size;if(s>e||i instanceof te){o=e-r;break}r=s}if(o)return this.children[n].domFromPos(o-this.children[n].border,t);for(var a=void 0;n&&!(a=this.children[n-1]).size&&a instanceof Y&&a.widget.type.side>=0;n--);if(t<=0){for(var c,l=!0;(c=n?this.children[n-1]:null)&&c.dom.parentNode!=this.contentDOM;n--,l=!1);return c&&t&&l&&!c.border&&!c.domAtom?c.domFromPos(c.size,t):{node:this.contentDOM,offset:c?h(c.dom)+1:0}}
for(var d,u=!0;(d=n<this.children.length?this.children[n]:null)&&d.dom.parentNode!=this.contentDOM;n++,u=!1);return d&&u&&!d.border&&!d.domAtom?d.domFromPos(0,t):{node:this.contentDOM,offset:d?h(d.dom):this.contentDOM.childNodes.length}},$.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var o=-1,r=-1,i=n,s=0;;s++){var a=this.children[s],c=i+a.size;if(-1==o&&e<=c){var l=i+a.border;if(e>=l&&t<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,t,l);e=i;for(var d=s;d>0;d--){var u=this.children[d-1];if(u.size&&u.dom.parentNode==this.contentDOM&&!u.emptyChildAt(1)){o=h(u.dom)+1;break}e-=u.size}-1==o&&(o=0)}if(o>-1&&(c>t||s==this.children.length-1)){t=c;for(var p=s+1;p<this.children.length;p++){var f=this.children[p];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){r=h(f.dom);break}t+=f.size}
-1==r&&(r=this.contentDOM.childNodes.length);break}i=c}return{node:this.contentDOM,from:e,to:t,fromOffset:o,toOffset:r}},$.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},$.prototype.domAfterPos=function(e){var t=this.domFromPos(e,0),n=t.node,o=t.offset;if(1!=n.nodeType||o==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[o]},$.prototype.setSelection=function(e,t,n,o){for(var r=Math.min(e,t),i=Math.max(e,t),s=0,c=0;s<this.children.length;s++){var l=this.children[s],d=c+l.size;if(r>c&&i<d)return l.setSelection(e-c-l.border,t-c-l.border,n,o);c=d}var u=this.domFromPos(e,e?-1:1),p=t==e?u:this.domFromPos(t,t?-1:1),f=n.getSelection(),m=!1;if((a.gecko||a.safari)&&e==t){var b=u.node,v=u.offset;if(3==b.nodeType){if((m=v&&"\n"==b.nodeValue[v-1])&&v==b.nodeValue.length)for(var y=b,O=void 0;y;y=y.parentNode){
if(O=y.nextSibling){"BR"==O.nodeName&&(u=p={node:O.parentNode,offset:h(O)+1});break}var E=y.pmViewDesc;if(E&&E.node&&E.node.isBlock)break}}else{var w=b.childNodes[v-1];m=w&&("BR"==w.nodeName||"false"==w.contentEditable)}}if(a.gecko&&f.focusNode&&f.focusNode!=p.node&&1==f.focusNode.nodeType){var S=f.focusNode.childNodes[f.focusOffset];S&&"false"==S.contentEditable&&(o=!0)}if(o||m&&a.safari||!g(u.node,u.offset,f.anchorNode,f.anchorOffset)||!g(p.node,p.offset,f.focusNode,f.focusOffset)){var k=!1;if((f.extend||e==t)&&!m){f.collapse(u.node,u.offset);try{e!=t&&f.extend(p.node,p.offset),k=!0}catch(T){if(!(T instanceof DOMException))throw T}}if(!k){if(e>t){var x=u;u=p,p=x}var C=document.createRange();C.setEnd(p.node,p.offset),C.setStart(u.node,u.offset),f.removeAllRanges(),f.addRange(C)}}},$.prototype.ignoreMutation=function(e){return!this.contentDOM&&"selection"!=e.type},q.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},
$.prototype.markDirty=function(e,t){for(var n=0,o=0;o<this.children.length;o++){var r=this.children[o],i=n+r.size;if(n==i?e<=i&&t>=n:e<i&&t>n){var s=n+r.border,a=i-r.border;if(e>=s&&t<=a)return this.dirty=e==n||t==i?2:1,void(e!=s||t!=a||!r.contentLost&&r.dom.parentNode==this.contentDOM?r.markDirty(e-s,t-s):r.dirty=3);r.dirty=r.dom==r.contentDOM&&r.dom.parentNode==this.contentDOM?2:3}n=i}this.dirty=2},$.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n)}},q.domAtom.get=function(){return!1},q.ignoreForCoords.get=function(){return!1},Object.defineProperties($.prototype,q);var G=[],Y=function(e){function t(t,n,o,r){var i,s=n.type.toDOM;if("function"==typeof s&&(s=s(o,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:r}))),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}e.call(this,t,G,s,null),
this.widget=n,i=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection},t.prototype.destroy=function(){this.widget.type.destroy(this.dom),e.prototype.destroy.call(this)},n.domAtom.get=function(){return!0},Object.defineProperties(t.prototype,n),t}($),Q=function(e){function t(t,n,o,r){e.call(this,t,G,n,null),this.textDOM=o,this.text=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){
return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,n),t}($),X=function(e){function t(t,n,o,r){e.call(this,t,[],o,r),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,o,r){var s=r.nodeViews[n.type.name],a=s&&s(n,r,o);return a&&a.dom||(a=i.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n,o))),new t(e,n,a.dom,a.contentDOM||a.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),0!=this.dirty){for(var o=this.parent;!o.node;)o=o.parent
;o.dirty<this.dirty&&(o.dirty=this.dirty),this.dirty=0}},t.prototype.slice=function(e,n,o){var r=t.create(this.parent,this.mark,!0,o),i=this.children,s=this.size;n<s&&(i=fe(i,n,s,o)),e>0&&(i=fe(i,0,e,o));for(var a=0;a<i.length;a++)i[a].parent=r;return r.children=i,r},t}($),Z=function(e){function t(t,n,o,r,i,s,a,c,l){e.call(this,t,n.isLeaf?G:[],i,s),this.nodeDOM=a,this.node=n,this.outerDeco=o,this.innerDeco=r,s&&this.updateChildren(c,l)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return t.create=function(e,n,o,r,s,a){var c,l,d=s.nodeViews[n.type.name],u=d&&d(n,s,(function(){return l?l.parent?l.parent.posBeforeChild(l):void 0:a}),o,r),p=u&&u.dom,h=u&&u.contentDOM;if(n.isText)if(p){if(3!=p.nodeType)throw new RangeError("Text must be rendered as a DOM text node")
}else p=document.createTextNode(n.text);else p||(p=(c=i.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n))).dom,h=c.contentDOM);h||n.isText||"BR"==p.nodeName||(p.hasAttribute("contenteditable")||(p.contentEditable=!1),n.type.spec.draggable&&(p.draggable=!0));var f=p;return p=le(p,o,n),u?l=new ne(e,n,o,r,p,h,f,u,s,a+1):n.isText?new ee(e,n,o,r,p,f,s):new t(e,n,o,r,p,h,f,s,a+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?i.Fragment.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&de(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},
t.prototype.updateChildren=function(e,t){var n=this,o=this.node.inlineContent,r=t,s=e.composing&&this.localCompositionInfo(e,t),c=s&&s.pos>-1?s:null,l=s&&s.pos<0,d=new pe(this,c&&c.node);!function(e,t,n,o){var r=t.locals(e),i=0;if(0==r.length){for(var s=0;s<e.childCount;s++){var a=e.child(s);o(a,r,t.forChild(i,a),s),i+=a.nodeSize}return}for(var c=0,l=[],d=null,u=0;;){if(c<r.length&&r[c].to==i){for(var p=r[c++],h=void 0;c<r.length&&r[c].to==i;)(h||(h=[p])).push(r[c++]);if(h){h.sort(he);for(var f=0;f<h.length;f++)n(h[f],u,!!d)}else n(p,u,!!d)}var m=void 0,b=void 0;if(d)b=-1,m=d,d=null;else{if(!(u<e.childCount))break;b=u,m=e.child(u++)}for(var g=0;g<l.length;g++)l[g].to<=i&&l.splice(g--,1);for(;c<r.length&&r[c].from<=i&&r[c].to>i;)l.push(r[c++]);var v=i+m.nodeSize;if(m.isText){var y=v;c<r.length&&r[c].from<y&&(y=r[c].from);for(var O=0;O<l.length;O++)l[O].to<y&&(y=l[O].to);y<v&&(d=m.cut(y-i),m=m.cut(0,y-i),v=y,b=-1)}o(m,l.length?m.isInline&&!m.isLeaf?l.filter((function(e){return!e.inline
})):l.slice():G,t.forChild(i,m),b),i=v}}(this.node,this.innerDeco,(function(t,s,a){t.spec.marks?d.syncToMarks(t.spec.marks,o,e):t.type.side>=0&&!a&&d.syncToMarks(s==n.node.childCount?i.Mark.none:n.node.child(s).marks,o,e),d.placeWidget(t,e,r)}),(function(t,n,i,a){var c;d.syncToMarks(t.marks,o,e),d.findNodeMatch(t,n,i,a)||l&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(c=d.findIndexWithChild(s.node))>-1&&d.updateNodeAt(t,n,i,c,e)||d.updateNextNode(t,n,i,e,a)||d.addNode(t,n,i,e,r),r+=t.nodeSize})),d.syncToMarks(G,o,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||2==this.dirty)&&(c&&this.protectLocalComposition(e,c),oe(this.contentDOM,this.children,e),a.ios&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))},t.prototype.localCompositionInfo=function(e,t){var n=e.state.selection,o=n.from,i=n.to
;if(!(!(e.state.selection instanceof r.TextSelection)||o<t||i>t+this.node.content.size)){var s=e.root.getSelection(),a=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=O(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(s.focusNode,s.focusOffset);if(a&&this.dom.contains(a.parentNode)){if(this.node.inlineContent){var c=a.nodeValue,l=function(e,t,n,o){for(var r=0,i=0;r<e.childCount&&i<=o;){var s=e.child(r++),a=i;if(i+=s.nodeSize,s.isText){for(var c=s.text;r<e.childCount;){var l=e.child(r++);if(i+=l.nodeSize,!l.isText)break;c+=l.text}if(i>=n){var d=c.lastIndexOf(t,o-a);if(d>=0&&d+t.length+a>=n)return a+d}}}return-1}(this.node.content,c,o-t,i-t);return l<0?null:{node:a,pos:l,text:c}}return{node:a,pos:-1}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,o=t.pos,r=t.text;if(!this.getDesc(n)){
for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var s=new Q(this,i,n,r);e.compositionNodes.push(s),this.children=fe(this.children,o,o+r.length,e,s)}},t.prototype.update=function(e,t,n,o){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,o),!0)},t.prototype.updateInner=function(e,t,n,o){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=0},t.prototype.updateOuterDeco=function(e){if(!de(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=ae(this.dom,this.nodeDOM,se(this.outerDeco,this.node,t),se(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),
!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(t.prototype,n),t}($);function J(e,t,n,o,r){return le(o,t,e),new Z(null,e,t,n,o,o,o,r,0)}var ee=function(e){function t(t,n,o,r,i,s,a){e.call(this,t,n,o,r,i,null,s,a)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.parseRule=function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}},t.prototype.update=function(e,t,n,o){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),
0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=0,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,o){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,o)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type&&"selection"!=e.type},t.prototype.slice=function(e,n,o){var r=this.node.cut(e,n),i=document.createTextNode(r.text);return new t(this.parent,r,this.outerDeco,this.innerDeco,i,i,o)},t.prototype.markDirty=function(t,n){e.prototype.markDirty.call(this,t,n),this.dom==this.nodeDOM||0!=t&&n!=this.nodeDOM.nodeValue.length||(this.dirty=3)},n.domAtom.get=function(){return!1},
Object.defineProperties(t.prototype,n),t}(Z),te=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(e){return 0==this.dirty&&this.dom.nodeName==e},n.domAtom.get=function(){return!0},n.ignoreForCoords.get=function(){return"IMG"==this.dom.nodeName},Object.defineProperties(t.prototype,n),t}($),ne=function(e){function t(t,n,o,r,i,s,a,c,l,d){e.call(this,t,n,o,r,i,s,a,l,d),this.spec=c}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,o,r){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(t,n,o);return i&&this.updateInner(t,n,o,r),i}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,o,r)},t.prototype.selectNode=function(){
this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,n,o,r){this.spec.setSelection?this.spec.setSelection(t,n,o):e.prototype.setSelection.call(this,t,n,o,r)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(Z);function oe(e,t,n){for(var o=e.firstChild,r=!1,i=0;i<t.length;i++){var s=t[i],a=s.dom;if(a.parentNode==e){for(;a!=o;)o=ue(o),r=!0;o=o.nextSibling}else r=!0,e.insertBefore(a,o);if(s instanceof X){var c=o?o.previousSibling:e.lastChild;oe(s.contentDOM,s.children,n),o=c?c.nextSibling:e.firstChild}}for(;o;)o=ue(o),r=!0
;r&&n.trackWrites==e&&(n.trackWrites=null)}function re(e){e&&(this.nodeName=e)}re.prototype=Object.create(null);var ie=[new re];function se(e,t,n){if(0==e.length)return ie;for(var o=n?ie[0]:new re,r=[o],i=0;i<e.length;i++){var s=e[i].type.attrs;if(s)for(var a in s.nodeName&&r.push(o=new re(s.nodeName)),s){var c=s[a];null!=c&&(n&&1==r.length&&r.push(o=new re(t.isInline?"span":"div")),"class"==a?o.class=(o.class?o.class+" ":"")+c:"style"==a?o.style=(o.style?o.style+";":"")+c:"nodeName"!=a&&(o[a]=c))}}return r}function ae(e,t,n,o){if(n==ie&&o==ie)return t;for(var r=t,i=0;i<o.length;i++){var s=o[i],a=n[i];if(i){var c=void 0;a&&a.nodeName==s.nodeName&&r!=e&&(c=r.parentNode)&&c.tagName.toLowerCase()==s.nodeName||((c=document.createElement(s.nodeName)).pmIsDeco=!0,c.appendChild(r),a=ie[0]),r=c}ce(r,a||ie[0],s)}return r}function ce(e,t,n){for(var o in t)"class"==o||"style"==o||"nodeName"==o||o in n||e.removeAttribute(o)
;for(var r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){for(var i=t.class?t.class.split(" ").filter(Boolean):G,s=n.class?n.class.split(" ").filter(Boolean):G,a=0;a<i.length;a++)-1==s.indexOf(i[a])&&e.classList.remove(i[a]);for(var c=0;c<s.length;c++)-1==i.indexOf(s[c])&&e.classList.add(s[c]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style)for(var l,d=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;l=d.exec(t.style);)e.style.removeProperty(l[1]);n.style&&(e.style.cssText+=n.style)}}function le(e,t,n){return ae(e,e,ie,se(t,n,1!=e.nodeType))}function de(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function ue(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var pe=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1,this.preMatch=function(e,t){
var n=t,o=n.children.length,r=e.childCount,i=new Map,s=[];e:for(;r>0;){for(var a=void 0;;)if(o){var c=n.children[o-1];if(!(c instanceof X)){a=c,o--;break}n=c,o=c.children.length}else{if(n==t)break e;o=n.parent.children.indexOf(n),n=n.parent}var l=a.node;if(l){if(l!=e.child(r-1))break;--r,i.set(a,r),s.push(a)}}return{index:r,matched:i,matches:s.reverse()}}(e.node.content,e)};function he(e,t){return e.type.side-t.type.side}function fe(e,t,n,o,r){for(var i=[],s=0,a=0;s<e.length;s++){var c=e[s],l=a,d=a+=c.size;l>=n||d<=t?i.push(c):(l<t&&i.push(c.slice(0,t-l,o)),r&&(i.push(r),r=null),d>n&&i.push(c.slice(n-l,c.size,o)))}return i}function me(e,t){var n=e.root.getSelection(),o=e.state.doc;if(!n.focusNode)return null;var i=e.docView.nearestDesc(n.focusNode),s=i&&0==i.size,a=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(a<0)return null;var c,l,d=o.resolve(a);if(w(n)){for(c=d;i&&!i.node;)i=i.parent
;if(i&&i.node.isAtom&&r.NodeSelection.isSelectable(i.node)&&i.parent&&(!i.node.isInline||!function(e,t,n){for(var o=0==t,r=t==O(e);o||r;){if(e==n)return!0;var i=h(e);if(!(e=e.parentNode))return!1;o=o&&0==i,r=r&&i==O(e)}}(n.focusNode,n.focusOffset,i.dom))){var u=i.posBefore;l=new r.NodeSelection(a==u?d:o.resolve(u))}}else{var p=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(p<0)return null;c=o.resolve(p)}l||(l=ke(e,c,d,"pointer"==t||e.state.selection.head<d.pos&&!s?1:-1));return l}function be(e){return e.editable?e.hasFocus():xe(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function ge(e,t){var n=e.state.selection;if(we(e,n),be(e)){if(!t&&e.mouseDown&&e.mouseDown.allowDefault)return e.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection();if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),n=document.createRange(),o=e.cursorWrapper.dom,r="IMG"==o.nodeName;r?n.setEnd(o.parentNode,h(o)+1):n.setEnd(o,0)
;n.collapse(!1),t.removeAllRanges(),t.addRange(n),!r&&!e.state.selection.visible&&a.ie&&a.ie_version<=11&&(o.disabled=!0,o.disabled=!1)}(e);else{var o,i,s=n.anchor,c=n.head;!ve||n instanceof r.TextSelection||(n.$from.parent.inlineContent||(o=ye(e,n.from)),n.empty||n.$from.parent.inlineContent||(i=ye(e,n.to))),e.docView.setSelection(s,c,e.root,t),ve&&(o&&Ee(o),i&&Ee(i)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),o=n.anchorNode,r=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==o&&n.anchorOffset==r||(t.removeEventListener("selectionchange",e.hideSelectionGuard),setTimeout((function(){be(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),
e.domObserver.connectSelection()}}pe.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},pe.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},pe.prototype.syncToMarks=function(e,t,n){for(var o=0,r=this.stack.length>>1,i=Math.min(r,e.length);o<i&&(o==r-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&!1!==e[o].type.spec.spanning;)o++;for(;o<r;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<e.length;){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(e[r])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var c=X.create(this.top,e[r],t,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}
this.index=0,r++}},pe.prototype.findNodeMatch=function(e,t,n,o){var r,i=-1;if(o>=this.preMatch.index&&(r=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&r.matchesNode(e,t,n))i=this.top.children.indexOf(r,this.index);else for(var s=this.index,a=Math.min(this.top.children.length,s+5);s<a;s++){var c=this.top.children[s];if(c.matchesNode(e,t,n)&&!this.preMatch.matched.has(c)){i=s;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)},pe.prototype.updateNodeAt=function(e,t,n,o,r){return!!this.top.children[o].update(e,t,n,r)&&(this.destroyBetween(this.index,o),this.index=o+1,!0)},pe.prototype.findIndexWithChild=function(e){for(;;){var t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){var n=e.pmViewDesc;if(n)for(var o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==n)return o;return-1}e=t}},pe.prototype.updateNextNode=function(e,t,n,o,r){for(var i=this.index;i<this.top.children.length;i++){var s=this.top.children[i]
;if(s instanceof Z){var a=this.preMatch.matched.get(s);if(null!=a&&a!=r)return!1;var c=s.dom;if(!(this.lock&&(c==this.lock||1==c.nodeType&&c.contains(this.lock.parentNode))&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&3!=s.dirty&&de(t,s.outerDeco)))&&s.update(e,t,n,o))return this.destroyBetween(this.index,i),s.dom!=c&&(this.changed=!0),this.index++,!0;break}}return!1},pe.prototype.addNode=function(e,t,n,o,r){this.top.children.splice(this.index++,0,Z.create(this.top,e,t,n,o,r)),this.changed=!0},pe.prototype.placeWidget=function(e,t,n){var o=this.index<this.top.children.length?this.top.children[this.index]:null;if(!o||!o.matchesWidget(e)||e!=o.widget&&o.widget.type.toDOM.parentNode){var r=new Y(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++},pe.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof X;)e=e.children[e.children.length-1]
;e&&e instanceof ee&&!/\n$/.test(e.node.text)||((a.safari||a.chrome)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG"),this.addHackNode("BR"))},pe.prototype.addHackNode=function(e){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(e))this.index++;else{var t=document.createElement(e);"IMG"==e&&(t.className="ProseMirror-separator"),"BR"==e&&(t.className="ProseMirror-trailingBreak"),this.top.children.splice(this.index++,0,new te(this.top,G,t,null)),this.changed=!0}};var ve=a.safari||a.chrome&&a.chrome_version<63;function ye(e,t){var n=e.docView.domFromPos(t,0),o=n.node,r=n.offset,i=r<o.childNodes.length?o.childNodes[r]:null,s=r?o.childNodes[r-1]:null;if(a.safari&&i&&"false"==i.contentEditable)return Oe(i);if(!(i&&"false"!=i.contentEditable||s&&"false"!=s.contentEditable)){if(i)return Oe(i);if(s)return Oe(s)}}function Oe(e){return e.contentEditable="true",a.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Ee(e){
e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function we(e,t){if(t instanceof r.NodeSelection){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Se(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Se(e)}function Se(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function ke(e,t,n,o){return e.someProp("createSelectionBetween",(function(o){return o(e,t,n)}))||r.TextSelection.between(t,n,o)}function xe(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function Ce(e,t){var n=e.selection,o=n.$anchor,i=n.$head,s=t>0?o.max(i):o.min(i),a=s.parent.inlineContent?s.depth?e.doc.resolve(t>0?s.after():s.before()):null:s;return a&&r.Selection.findFrom(a,t)}function Te(e,t){
return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function je(e,t,n){var o=e.state.selection;if(!(o instanceof r.TextSelection)){if(o instanceof r.NodeSelection&&o.node.isInline)return Te(e,new r.TextSelection(t>0?o.$to:o.$from));var i=Ce(e.state,t);return!!i&&Te(e,i)}if(!o.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var s=Ce(e.state,t);return!!(s&&s instanceof r.NodeSelection)&&Te(e,s)}if(!(a.mac&&n.indexOf("m")>-1)){var c,l=o.$head,d=l.textOffset?null:t<0?l.nodeBefore:l.nodeAfter;if(!d||d.isText)return!1;var u=t<0?l.pos-d.nodeSize:l.pos;return!!(d.isAtom||(c=e.docView.descAt(u))&&!c.contentDOM)&&(r.NodeSelection.isSelectable(d)?Te(e,new r.NodeSelection(t<0?e.state.doc.resolve(l.pos-d.nodeSize):l)):!!a.webkit&&Te(e,new r.TextSelection(e.state.doc.resolve(t<0?u:u+d.nodeSize))))}}function Ae(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Ne(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)
}function Ie(e){var t=e.root.getSelection(),n=t.focusNode,o=t.focusOffset;if(n){var r,i,s=!1;for(a.gecko&&1==n.nodeType&&o<Ae(n)&&Ne(n.childNodes[o])&&(s=!0);;)if(o>0){if(1!=n.nodeType)break;var c=n.childNodes[o-1];if(Ne(c))r=n,i=--o;else{if(3!=c.nodeType)break;o=(n=c).nodeValue.length}}else{if(Me(n))break;for(var l=n.previousSibling;l&&Ne(l);)r=n.parentNode,i=h(l),l=l.previousSibling;if(l)o=Ae(n=l);else{if((n=n.parentNode)==e.dom)break;o=0}}s?Re(e,t,n,o):r&&Re(e,t,r,i)}}function Pe(e){var t=e.root.getSelection(),n=t.focusNode,o=t.focusOffset;if(n){for(var r,i,s=Ae(n);;)if(o<s){if(1!=n.nodeType)break;if(!Ne(n.childNodes[o]))break;r=n,i=++o}else{if(Me(n))break;for(var a=n.nextSibling;a&&Ne(a);)r=a.parentNode,i=h(a)+1,a=a.nextSibling;if(a)o=0,s=Ae(n=a);else{if((n=n.parentNode)==e.dom)break;o=s=0}}r&&Re(e,t,r,i)}}function Me(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Re(e,t,n,o){if(w(t)){var r=document.createRange();r.setEnd(n,o),r.setStart(n,o),t.removeAllRanges(),
t.addRange(r)}else t.extend&&t.extend(n,o);e.domObserver.setCurSelection();var i=e.state;setTimeout((function(){e.state==i&&ge(e)}),50)}function _e(e,t,n){var o=e.state.selection;if(o instanceof r.TextSelection&&!o.empty||n.indexOf("s")>-1)return!1;if(a.mac&&n.indexOf("m")>-1)return!1;var i=o.$from,s=o.$to;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var c=Ce(e.state,t);if(c&&c instanceof r.NodeSelection)return Te(e,c)}if(!i.parent.inlineContent){var l=t<0?i:s,d=o instanceof r.AllSelection?r.Selection.near(l,t):r.Selection.findFrom(l,t);return!!d&&Te(e,d)}return!1}function Le(e,t){if(!(e.state.selection instanceof r.TextSelection))return!0;var n=e.state.selection,o=n.$head,i=n.$anchor,s=n.empty;if(!o.sameParent(i))return!0;if(!s)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var a=!o.textOffset&&(t<0?o.nodeBefore:o.nodeAfter);if(a&&!a.isText){var c=e.state.tr;return t<0?c.delete(o.pos-a.nodeSize,o.pos):c.delete(o.pos,o.pos+a.nodeSize),e.dispatch(c),!0
}return!1}function De(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Fe(e,t){var n=t.keyCode,o=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||a.mac&&72==n&&"c"==o?Le(e,-1)||Ie(e):46==n||a.mac&&68==n&&"c"==o?Le(e,1)||Pe(e):13==n||27==n||(37==n?je(e,-1,o)||Ie(e):39==n?je(e,1,o)||Pe(e):38==n?_e(e,-1,o)||Ie(e):40==n?function(e){if(a.safari&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,o=t.focusOffset;if(n&&1==n.nodeType&&0==o&&n.firstChild&&"false"==n.firstChild.contentEditable){var r=n.firstChild;De(e,r,!0),setTimeout((function(){return De(e,r,!1)}),20)}}}(e)||_e(e,1,o)||Pe(e):o==(a.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function Be(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(a.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div")
;return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||a.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function Ve(e,t,n,o,s){if(t<0){var c=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,l=me(e,c);if(l&&!e.state.selection.eq(l)){var d=e.state.tr.setSelection(l);"pointer"==c?d.setMeta("pointer",!0):"key"==c&&d.scrollIntoView(),e.dispatch(d)}}else{var u=e.state.doc.resolve(t),p=u.sharedDepth(n);t=u.before(p+1),n=e.state.doc.resolve(n).after(p+1);var h=e.state.selection,f=function(e,t,n){var o=e.docView.parseRange(t,n),r=o.node,s=o.fromOffset,c=o.toOffset,l=o.from,d=o.to,u=e.root.getSelection(),p=null,h=u.anchorNode;if(h&&e.dom.contains(1==h.nodeType?h:h.parentNode)&&(p=[{node:h,offset:u.anchorOffset}],w(u)||p.push({node:u.focusNode,offset:u.focusOffset})),a.chrome&&8===e.lastKeyCode)for(var f=c;f>s;f--){
var m=r.childNodes[f-1],b=m.pmViewDesc;if("BR"==m.nodeName&&!b){c=f;break}if(!b||b.size)break}var g=e.state.doc,v=e.someProp("domParser")||i.DOMParser.fromSchema(e.state.schema),y=g.resolve(l),O=null,E=v.parse(r,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:s,to:c,preserveWhitespace:!y.parent.type.spec.code||"full",editableContent:!0,findPositions:p,ruleFromNode:Be,context:y});if(p&&null!=p[0].pos){var S=p[0].pos,k=p[1]&&p[1].pos;null==k&&(k=S),O={anchor:S+l,head:k+l}}return{doc:E,sel:O,from:l,to:d}}(e,t,n);if(a.chrome&&e.cursorWrapper&&f.sel&&f.sel.anchor==e.cursorWrapper.deco.from){var m=e.cursorWrapper.deco.type.toDOM.nextSibling,b=m&&m.nodeValue?m.nodeValue.length:1;f.sel={anchor:f.sel.anchor+b,head:f.sel.anchor+b}}var g,v,y=e.state.doc,O=y.slice(f.from,f.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(g=e.state.selection.to,v="end"):(g=e.state.selection.from,v="start"),e.lastKeyCode=null;var E=function(e,t,n,o,r){var i=e.findDiffStart(t,n)
;if(null==i)return null;var s=e.findDiffEnd(t,n+e.size,n+t.size),a=s.a,c=s.b;if("end"==r){o-=a+Math.max(0,i-Math.min(a,c))-i}if(a<i&&e.size<t.size){c=(i-=o<=i&&o>=a?i-o:0)+(c-a),a=i}else if(c<i){a=(i-=o<=i&&o>=c?i-o:0)+(a-c),c=i}return{start:i,endA:a,endB:c}}(O.content,f.doc.content,f.from,g,v);if(!E){if(!(o&&h instanceof r.TextSelection&&!h.empty&&h.$head.sameParent(h.$anchor))||e.composing||f.sel&&f.sel.anchor!=f.sel.head){if((a.ios&&e.lastIOSEnter>Date.now()-225||a.android)&&s.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName}))&&e.someProp("handleKeyDown",(function(t){return t(e,S(13,"Enter"))})))return void(e.lastIOSEnter=0);if(f.sel){var k=ze(e,e.state.doc,f.sel);k&&!k.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(k))}return}E={start:h.from,endA:h.to,endB:h.to}}e.domChangeCount++,
e.state.selection.from<e.state.selection.to&&E.start==E.endB&&e.state.selection instanceof r.TextSelection&&(E.start>e.state.selection.from&&E.start<=e.state.selection.from+2?E.start=e.state.selection.from:E.endA<e.state.selection.to&&E.endA>=e.state.selection.to-2&&(E.endB+=e.state.selection.to-E.endA,E.endA=e.state.selection.to)),a.ie&&a.ie_version<=11&&E.endB==E.start+1&&E.endA==E.start&&E.start>f.from&&" \xa0"==f.doc.textBetween(E.start-f.from-1,E.start-f.from+1)&&(E.start--,E.endA--,E.endB--);var x,C=f.doc.resolveNoCache(E.start-f.from),T=f.doc.resolveNoCache(E.endB-f.from),j=C.sameParent(T)&&C.parent.inlineContent;if((a.ios&&e.lastIOSEnter>Date.now()-225&&(!j||s.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!j&&C.pos<f.doc.content.size&&(x=r.Selection.findFrom(f.doc.resolve(C.pos+1),1,!0))&&x.head==T.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,S(13,"Enter"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>E.start&&function(e,t,n,o,r){
if(!o.parent.isTextblock||n-t<=r.pos-o.pos||He(o,!0,!1)<r.pos)return!1;var i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var s=e.resolve(He(i,!0,!0));if(!s.parent.isTextblock||s.pos>n||He(s,!0,!1)<n)return!1;return o.parent.content.cut(o.parentOffset).eq(s.parent.content)}(y,E.start,E.endA,C,T)&&e.someProp("handleKeyDown",(function(t){return t(e,S(8,"Backspace"))})))a.android&&a.chrome&&e.domObserver.suppressSelectionUpdates();else{a.chrome&&a.android&&E.toB==E.from&&(e.lastAndroidDelete=Date.now()),a.android&&!j&&C.start()!=T.start()&&0==T.parentOffset&&C.depth==T.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==E.endA&&(E.endB-=2,T=f.doc.resolveNoCache(E.endB-f.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,S(13,"Enter"))}))}),20));var A,N,I,P,M=E.start,R=E.endA;if(j)if(C.pos==T.pos)a.ie&&a.ie_version<=11&&0==C.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return ge(e)
}),20)),A=e.state.tr.delete(M,R),N=y.resolve(E.start).marksAcross(y.resolve(E.endA));else if(E.endA==E.endB&&(P=y.resolve(E.start))&&(I=function(e,t){for(var n,o,r,s=e.firstChild.marks,a=t.firstChild.marks,c=s,l=a,d=0;d<a.length;d++)c=a[d].removeFromSet(c);for(var u=0;u<s.length;u++)l=s[u].removeFromSet(l);if(1==c.length&&0==l.length)o=c[0],n="add",r=function(e){return e.mark(o.addToSet(e.marks))};else{if(0!=c.length||1!=l.length)return null;o=l[0],n="remove",r=function(e){return e.mark(o.removeFromSet(e.marks))}}for(var p=[],h=0;h<t.childCount;h++)p.push(r(t.child(h)));if(i.Fragment.from(p).eq(e))return{mark:o,type:n}}(C.parent.content.cut(C.parentOffset,T.parentOffset),P.parent.content.cut(P.parentOffset,E.endA-P.start()))))A=e.state.tr,"add"==I.type?A.addMark(M,R,I.mark):A.removeMark(M,R,I.mark);else if(C.parent.child(C.index()).isText&&C.index()==T.index()-(T.textOffset?0:1)){var _=C.parent.textBetween(C.parentOffset,T.parentOffset);if(e.someProp("handleTextInput",(function(t){
return t(e,M,R,_)})))return;A=e.state.tr.insertText(_,M,R)}if(A||(A=e.state.tr.replace(M,R,f.doc.slice(E.start-f.from,E.endB-f.from))),f.sel){var L=ze(e,A.doc,f.sel);L&&!(a.chrome&&a.android&&e.composing&&L.empty&&(E.start!=E.endB||e.lastAndroidDelete<Date.now()-100)&&(L.head==M||L.head==A.mapping.map(R)-1)||a.ie&&L.empty&&L.head==M)&&A.setSelection(L)}N&&A.ensureMarks(N),e.dispatch(A.scrollIntoView())}}}function ze(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:ke(e,t.resolve(n.anchor),t.resolve(n.head))}function He(e,t,n){for(var o=e.depth,r=t?e.end():e.pos;o>0&&(t||e.indexAfter(o)==e.node(o).childCount);)o--,r++,t=!1;if(n)for(var i=e.node(o).maybeChild(e.indexAfter(o));i&&!i.isLeaf;)i=i.firstChild,r++;return r}function Ue(e,t){for(var n=[],o=t.content,r=t.openStart,s=t.openEnd;r>1&&s>1&&1==o.childCount&&1==o.firstChild.childCount;){r--,s--;var a=o.firstChild;n.push(a.type.name,a.attrs!=a.type.defaultAttrs?a.attrs:null),o=a.content}
var c=e.someProp("clipboardSerializer")||i.DOMSerializer.fromSchema(e.state.schema),l=Ze(),d=l.createElement("div");d.appendChild(c.serializeFragment(o,{document:l}));for(var u,p=d.firstChild;p&&1==p.nodeType&&(u=Qe[p.nodeName.toLowerCase()]);){for(var h=u.length-1;h>=0;h--){for(var f=l.createElement(u[h]);d.firstChild;)f.appendChild(d.firstChild);d.appendChild(f),"tbody"!=u[h]&&(r++,s++)}p=d.firstChild}return p&&1==p.nodeType&&p.setAttribute("data-pm-slice",r+" "+s+" "+JSON.stringify(n)),{dom:d,text:e.someProp("clipboardTextSerializer",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,"\n\n")}}function We(t,n,o,r,s){var c,l,d=s.parent.type.spec.code;if(!o&&!n)return null;var u=n&&(r||d||!o);if(u){if(t.someProp("transformPastedText",(function(e){n=e(n,d||r)})),d)return n?new i.Slice(i.Fragment.from(t.state.schema.text(n.replace(/\r\n?/g,"\n"))),0,0):i.Slice.empty;var p=t.someProp("clipboardTextParser",(function(e){return e(n,s,r)}));if(p)l=p;else{
var h=s.marks(),f=t.state.schema,m=i.DOMSerializer.fromSchema(f);c=document.createElement("div"),n.split(/(?:\r\n?|\n)+/).forEach((function(e){var t=c.appendChild(document.createElement("p"));e&&t.appendChild(m.serializeNode(f.text(e,h)))}))}}else t.someProp("transformPastedHTML",(function(e){o=e(o)})),c=function(e){var t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,o=Ze().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e);(n=r&&Qe[r[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""));if(o.innerHTML=e,n)for(var i=0;i<n.length;i++)o=o.querySelector(n[i])||o;return o}(o),a.webkit&&function(e){for(var t=e.querySelectorAll(a.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<t.length;n++){var o=t[n];1==o.childNodes.length&&"\xa0"==o.textContent&&o.parentNode&&o.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),o)}}(c)
;var b=c&&c.querySelector("[data-pm-slice]"),g=b&&/^(\d+) (\d+) (.*)/.exec(b.getAttribute("data-pm-slice"));if(!l){var v=t.someProp("clipboardParser")||t.someProp("domParser")||i.DOMParser.fromSchema(t.state.schema);l=v.parseSlice(c,{preserveWhitespace:!(!u&&!g),context:s,ruleFromNode:function(e){if("BR"==e.nodeName&&!e.nextSibling)return{ignore:!0}}})}if(g)l=function(t,n){if(!t.size)return t;var o,r=t.content.firstChild.type.schema;try{o=JSON.parse(n)}catch(e){return t}for(var s=t.content,a=t.openStart,c=t.openEnd,l=o.length-2;l>=0;l-=2){var d=r.nodes[o[l]];if(!d||d.hasRequiredAttrs())break;s=i.Fragment.from(d.create(o[l+1],s)),a++,c++}return new i.Slice(s,a,c)}(Ye(l,+g[1],+g[2]),g[3]);else if(l=i.Slice.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(n){var o=t.node(n).contentMatchAt(t.index(n)),r=void 0,s=[];if(e.forEach((function(e){if(s){var t,n=o.findWrapping(e.type);if(!n)return s=null;if(t=s.length&&r.length&&$e(n,r,e,s[s.length-1],0))s[s.length-1]=t;else{
s.length&&(s[s.length-1]=qe(s[s.length-1],r.length));var i=Ke(e,n);s.push(i),o=o.matchType(i.type,i.attrs),r=n}}})),s)return{v:i.Fragment.from(s)}},o=t.depth;o>=0;o--){var r=n(o);if(r)return r.v}return e}(l.content,s),!0),l.openStart||l.openEnd){for(var y=0,O=0,E=l.content.firstChild;y<l.openStart&&!E.type.spec.isolating;y++,E=E.firstChild);for(var w=l.content.lastChild;O<l.openEnd&&!w.type.spec.isolating;O++,w=w.lastChild);l=Ye(l,y,O)}return t.someProp("transformPasted",(function(e){l=e(l)})),l}function Ke(e,t,n){void 0===n&&(n=0);for(var o=t.length-1;o>=n;o--)e=t[o].create(null,i.Fragment.from(e));return e}function $e(e,t,n,o,r){if(r<e.length&&r<t.length&&e[r]==t[r]){var s=$e(e,t,n,o.lastChild,r+1);if(s)return o.copy(o.content.replaceChild(o.childCount-1,s));if(o.contentMatchAt(o.childCount).matchType(r==e.length-1?n.type:e[r+1]))return o.copy(o.content.append(i.Fragment.from(Ke(n,e,r+1))))}}function qe(e,t){if(0==t)return e
;var n=e.content.replaceChild(e.childCount-1,qe(e.lastChild,t-1)),o=e.contentMatchAt(e.childCount).fillBefore(i.Fragment.empty,!0);return e.copy(n.append(o))}function Ge(e,t,n,o,r,s){var a=t<0?e.firstChild:e.lastChild,c=a.content;return r<o-1&&(c=Ge(c,t,n,o,r+1,s)),r>=n&&(c=t<0?a.contentMatchAt(0).fillBefore(c,e.childCount>1||s<=r).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(i.Fragment.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(c))}function Ye(e,t,n){return t<e.openStart&&(e=new i.Slice(Ge(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new i.Slice(Ge(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}var Qe={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Xe=null;function Ze(){return Xe||(Xe=document.implementation.createHTMLDocument("title"))}var Je={childList:!0,characterData:!0,
characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},et=a.ie&&a.ie_version<=11,tt=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};tt.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},tt.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var nt=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)n.queue.push(e[t]);a.ie&&a.ie_version<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new tt,et&&(this.onCharData=function(e){n.queue.push({
target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};nt.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))},nt.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},nt.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Je),et&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},nt.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}et&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},
nt.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},nt.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},nt.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},nt.prototype.onSelectionChange=function(){if(function(e){return(!e.editable||e.root.activeElement==e.dom)&&xe(e)}(this.view)){if(this.suppressingSelectionUpdates)return ge(this.view);if(a.ie&&a.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&g(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}},nt.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},nt.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0
;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},nt.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&xe(this.view)&&!this.ignoreSelectionChange(t),o=-1,r=-1,i=!1,s=[];if(this.view.editable)for(var c=0;c<e.length;c++){var l=this.registerMutation(e[c],s);l&&(o=o<0?l.from:Math.min(l.from,o),r=r<0?l.to:Math.max(l.to,r),l.typeOver&&(i=!0))}if(a.gecko&&s.length>1){var d=s.filter((function(e){return"BR"==e.nodeName}));if(2==d.length){var u=d[0],p=d[1];u.parentNode&&u.parentNode.parentNode==p.parentNode?p.remove():u.remove()}}(o>-1||n)&&(o>-1&&(this.view.docView.markDirty(o,r),function(e){if(ot)return
;ot=!0,"normal"==getComputedStyle(e.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(o,r,i,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||ge(this.view),this.currentSelection.set(t))}},nt.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(var o=0;o<e.addedNodes.length;o++)t.push(e.addedNodes[o]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};var r=e.previousSibling,i=e.nextSibling
;if(a.ie&&a.ie_version<=11&&e.addedNodes.length)for(var s=0;s<e.addedNodes.length;s++){var c=e.addedNodes[s],l=c.previousSibling,d=c.nextSibling;(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(r=l),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d)}var u=r&&r.parentNode==e.target?h(r)+1:0,p=n.localPosFromDOM(e.target,u,-1),f=i&&i.parentNode==e.target?h(i):e.target.childNodes.length;return{from:p,to:n.localPosFromDOM(e.target,f,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var ot=!1;var rt={},it={};function st(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function at(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return ct(e,t)})}))}function ct(e,t){return e.someProp("handleDOMEvents",(function(n){var o=n[t.type];return!!o&&(o(e,t)||t.defaultPrevented)}))}
function lt(e){return{left:e.clientX,top:e.clientY}}function dt(e,t,n,o,r){if(-1==o)return!1;for(var i=e.state.doc.resolve(o),s=function(o){if(e.someProp(t,(function(t){return o>i.depth?t(e,n,i.nodeAfter,i.before(o),r,!0):t(e,n,i.node(o),i.before(o),r,!1)})))return{v:!0}},a=i.depth+1;a>0;a--){var c=s(a);if(c)return c.v}return!1}function ut(e,t,n){e.focused||e.focus();var o=e.state.tr.setSelection(t);"pointer"==n&&o.setMeta("pointer",!0),e.dispatch(o)}function pt(e,t,n,o,i){return dt(e,"handleClickOn",t,n,o)||e.someProp("handleClick",(function(n){return n(e,t,o)}))||(i?function(e,t){if(-1==t)return!1;var n,o,i=e.state.selection;i instanceof r.NodeSelection&&(n=i.node);for(var s=e.state.doc.resolve(t),a=s.depth+1;a>0;a--){var c=a>s.depth?s.nodeAfter:s.node(a);if(r.NodeSelection.isSelectable(c)){o=n&&i.$from.depth>0&&a>=i.$from.depth&&s.before(i.$from.depth+1)==i.$from.pos?s.before(i.$from.depth):s.before(a);break}}return null!=o&&(ut(e,r.NodeSelection.create(e.state.doc,o),"pointer"),!0)
}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),o=n.nodeAfter;return!!(o&&o.isAtom&&r.NodeSelection.isSelectable(o))&&(ut(e,new r.NodeSelection(n),"pointer"),!0)}(e,n))}function ht(e,t,n,o){return dt(e,"handleDoubleClickOn",t,n,o)||e.someProp("handleDoubleClick",(function(n){return n(e,t,o)}))}function ft(e,t,n,o){return dt(e,"handleTripleClickOn",t,n,o)||e.someProp("handleTripleClick",(function(n){return n(e,t,o)}))||function(e,t,n){if(0!=n.button)return!1;var o=e.state.doc;if(-1==t)return!!o.inlineContent&&(ut(e,r.TextSelection.create(o,0,o.content.size),"pointer"),!0);for(var i=o.resolve(t),s=i.depth+1;s>0;s--){var a=s>i.depth?i.nodeAfter:i.node(s),c=i.before(s);if(a.inlineContent)ut(e,r.TextSelection.create(o,c+1,c+1+a.content.size),"pointer");else{if(!r.NodeSelection.isSelectable(a))continue;ut(e,r.NodeSelection.create(o,c),"pointer")}return!0}}(e,n,o)}function mt(e){return wt(e)}it.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,
!vt(e,t))if(229!=t.keyCode&&e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!a.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",(function(n){return n(e,t)}))||Fe(e,t)?t.preventDefault():st(e,"key");else{var n=Date.now();e.lastIOSEnter=n,e.lastIOSEnterFallbackTimeout=setTimeout((function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",(function(t){return t(e,S(13,"Enter"))})),e.lastIOSEnter=0)}),200)}},it.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},it.keypress=function(e,t){if(!(vt(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||a.mac&&t.metaKey))if(e.someProp("handleKeyPress",(function(n){return n(e,t)})))t.preventDefault();else{var n=e.state.selection;if(!(n instanceof r.TextSelection&&n.$from.sameParent(n.$to))){var o=String.fromCharCode(t.charCode);e.someProp("handleTextInput",(function(t){return t(e,n.$from.pos,n.$to.pos,o)}))||e.dispatch(e.state.tr.insertText(o).scrollIntoView()),t.preventDefault()}}}
;var bt=a.mac?"metaKey":"ctrlKey";rt.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=mt(e),o=Date.now(),r="singleClick";o-e.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,o=t.y-e.clientY;return n*n+o*o<100}(t,e.lastClick)&&!t[bt]&&("singleClick"==e.lastClick.type?r="doubleClick":"doubleClick"==e.lastClick.type&&(r="tripleClick")),e.lastClick={time:o,x:t.clientX,y:t.clientY,type:r};var i=e.posAtCoords(lt(t));i&&("singleClick"==r?(e.mouseDown&&e.mouseDown.done(),e.mouseDown=new gt(e,i,t,n)):("doubleClick"==r?ht:ft)(e,i.pos,i.inside,t)?t.preventDefault():st(e,"pointer"))};var gt=function(e,t,n,o){var i,s,c=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=o,this.selectNode=n[bt],this.allowDefault=n.shiftKey,this.delayedSelectionSync=!1,t.inside>-1)i=e.state.doc.nodeAt(t.inside),s=t.inside;else{var l=e.state.doc.resolve(t.pos);i=l.parent,s=l.depth?l.before():0}this.mightDrag=null;var d=o?null:n.target,u=d?e.docView.nearestDesc(d,!0):null
;this.target=u?u.dom:null;var p=e.state.selection;(0==n.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||p instanceof r.NodeSelection&&p.from<=s&&p.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&a.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){c.view.mouseDown==c&&c.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),st(e,"pointer")};function vt(e,t){return!!e.composing||!!(a.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}gt.prototype.done=function(){var e=this
;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((function(){return ge(e.view)})),this.view.mouseDown=null},gt.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(lt(e))),
this.allowDefault||!t?st(this.view,"pointer"):pt(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||a.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||a.chrome&&!(this.view.state.selection instanceof r.TextSelection)&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(ut(this.view,r.Selection.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):st(this.view,"pointer")}},gt.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),st(this.view,"pointer"),0==e.buttons&&this.done()},rt.touchdown=function(e){mt(e),st(e,"pointer")},rt.contextmenu=function(e){return mt(e)};var yt=a.android?5e3:-1;function Ot(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return wt(e)}),t))}function Et(e){for(e.composing&&(e.composing=!1,
e.compositionEndedAt=function(){var e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty()}function wt(e,t){if(e.domObserver.forceFlush(),Et(e),t||e.docView.dirty){var n=me(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}it.compositionstart=it.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),wt(e,!0),e.markCursor=null;else if(wt(e),a.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var o=e.root.getSelection(),r=o.focusNode,i=o.focusOffset;r&&1==r.nodeType&&0!=i;){var s=i<0?r.lastChild:r.childNodes[i-1];if(!s)break;if(3==s.nodeType){
o.collapse(s,s.nodeValue.length);break}r=s,i=-1}e.composing=!0}Ot(e,yt)},it.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,Ot(e,20))};var St=a.ie&&a.ie_version<15||a.ios&&a.webkit_version<604;function kt(e,t,n,o){var r=We(e,t,n,e.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(function(t){return t(e,o,r||i.Slice.empty)})))return!0;if(!r)return!1;var s=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(r),a=s?e.state.tr.replaceSelectionWith(s,e.shiftKey):e.state.tr.replaceSelection(r);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}rt.copy=it.cut=function(e,t){var n=e.state.selection,o="cut"==t.type;if(!n.empty){var r=St?null:t.clipboardData,i=Ue(e,n.content()),s=i.dom,a=i.text;r?(t.preventDefault(),r.clearData(),r.setData("text/html",s.innerHTML),r.setData("text/plain",a)):function(e,t){if(e.dom.parentNode){
var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var o=getSelection(),r=document.createRange();r.selectNodeContents(t),e.dom.blur(),o.removeAllRanges(),o.addRange(r),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}(e,s),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},it.paste=function(e,t){var n=St?null:t.clipboardData;n&&kt(e,n.getData("text/plain"),n.getData("text/html"),t)?t.preventDefault():function(e,t){if(e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,o=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout((function(){e.focus(),o.parentNode&&o.parentNode.removeChild(o),n?kt(e,o.value,null,t):kt(e,o.textContent,o.innerHTML,t)}),50)}}(e,t)}
;var xt=function(e,t){this.slice=e,this.move=t},Ct=a.mac?"altKey":"ctrlKey";for(var Tt in rt.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var o=e.state.selection,i=o.empty?null:e.posAtCoords(lt(t));if(i&&i.pos>=o.from&&i.pos<=(o instanceof r.NodeSelection?o.to-1:o.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(r.NodeSelection.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var s=e.docView.nearestDesc(t.target,!0);s&&s.node.type.spec.draggable&&s!=e.docView&&e.dispatch(e.state.tr.setSelection(r.NodeSelection.create(e.state.doc,s.posBefore)))}var a=e.state.selection.content(),c=Ue(e,a),l=c.dom,d=c.text;t.dataTransfer.clearData(),t.dataTransfer.setData(St?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",St||t.dataTransfer.setData("text/plain",d),e.dragging=new xt(a,!t[Ct])}},rt.dragend=function(e){var t=e.dragging;window.setTimeout((function(){e.dragging==t&&(e.dragging=null)}),50)},
it.dragover=it.dragenter=function(e,t){return t.preventDefault()},it.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var o=e.posAtCoords(lt(t));if(o){var a=e.state.doc.resolve(o.pos);if(a){var c=n&&n.slice;c?e.someProp("transformPasted",(function(e){c=e(c)})):c=We(e,t.dataTransfer.getData(St?"Text":"text/plain"),St?null:t.dataTransfer.getData("text/html"),!1,a);var l=n&&!t[Ct];if(e.someProp("handleDrop",(function(n){return n(e,t,c||i.Slice.empty,l)})))t.preventDefault();else if(c){t.preventDefault();var d=c?Object(s.l)(e.state.doc,a.pos,c):a.pos;null==d&&(d=a.pos);var u=e.state.tr;l&&u.deleteSelection();var p=u.mapping.map(d),h=0==c.openStart&&0==c.openEnd&&1==c.content.childCount,f=u.doc;if(h?u.replaceRangeWith(p,p,c.content.firstChild):u.replaceRange(p,p,c),!u.doc.eq(f)){var m=u.doc.resolve(p);if(h&&r.NodeSelection.isSelectable(c.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(c.content.firstChild))u.setSelection(new r.NodeSelection(m));else{
var b=u.mapping.map(d);u.mapping.maps[u.mapping.maps.length-1].forEach((function(e,t,n,o){return b=o})),u.setSelection(ke(e,m,u.doc.resolve(b)))}e.focus(),e.dispatch(u.setMeta("uiEvent","drop"))}}}}}},rt.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&ge(e)}),20))},rt.blur=function(e,t){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),t.relatedTarget&&e.dom.contains(t.relatedTarget)&&e.domObserver.currentSelection.set({}),e.focused=!1)},rt.beforeinput=function(e,t){if(a.chrome&&a.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,S(8,"Backspace"))})))){var t=e.state.selection.$cursor
;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},it)rt[Tt]=it[Tt];function jt(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var o in t)if(!(o in e))return!1;return!0}var At=function(e,t){this.spec=t||_t,this.side=this.spec.side||0,this.toDOM=e};At.prototype.map=function(e,t,n,o){var r=e.mapResult(t.from+o,this.side<0?-1:1),i=r.pos;return r.deleted?null:new Pt(i-n,i-n,this)},At.prototype.valid=function(){return!0},At.prototype.eq=function(e){return this==e||e instanceof At&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&jt(this.spec,e.spec))},At.prototype.destroy=function(e){this.spec.destroy&&this.spec.destroy(e)};var Nt=function(e,t){this.spec=t||_t,this.attrs=e};Nt.prototype.map=function(e,t,n,o){var r=e.map(t.from+o,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+o,this.spec.inclusiveEnd?1:-1)-n;return r>=i?null:new Pt(r,i,this)},Nt.prototype.valid=function(e,t){return t.from<t.to},Nt.prototype.eq=function(e){
return this==e||e instanceof Nt&&jt(this.attrs,e.attrs)&&jt(this.spec,e.spec)},Nt.is=function(e){return e.type instanceof Nt};var It=function(e,t){this.spec=t||_t,this.attrs=e};It.prototype.map=function(e,t,n,o){var r=e.mapResult(t.from+o,1);if(r.deleted)return null;var i=e.mapResult(t.to+o,-1);return i.deleted||i.pos<=r.pos?null:new Pt(r.pos-n,i.pos-n,this)},It.prototype.valid=function(e,t){var n,o=e.content.findIndex(t.from),r=o.index,i=o.offset;return i==t.from&&!(n=e.child(r)).isText&&i+n.nodeSize==t.to},It.prototype.eq=function(e){return this==e||e instanceof It&&jt(this.attrs,e.attrs)&&jt(this.spec,e.spec)};var Pt=function(e,t,n){this.from=e,this.to=t,this.type=n},Mt={spec:{configurable:!0},inline:{configurable:!0}};Pt.prototype.copy=function(e,t){return new Pt(e,t,this.type)},Pt.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},Pt.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},
Pt.widget=function(e,t,n){return new Pt(e,e,new At(t,n))},Pt.inline=function(e,t,n,o){return new Pt(e,t,new Nt(n,o))},Pt.node=function(e,t,n,o){return new Pt(e,t,new It(n,o))},Mt.spec.get=function(){return this.type.spec},Mt.inline.get=function(){return this.type instanceof Nt},Object.defineProperties(Pt.prototype,Mt);var Rt=[],_t={},Lt=function(e,t){this.local=e&&e.length?e:Rt,this.children=t&&t.length?t:Rt};Lt.create=function(e,t){return t.length?Ht(t,e,0,_t):Dt},Lt.prototype.find=function(e,t,n){var o=[];return this.findInner(null==e?0:e,null==t?1e9:t,o,0,n),o},Lt.prototype.findInner=function(e,t,n,o,r){for(var i=0;i<this.local.length;i++){var s=this.local[i];s.from<=t&&s.to>=e&&(!r||r(s.spec))&&n.push(s.copy(s.from+o,s.to+o))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){var c=this.children[a]+1;this.children[a+2].findInner(e-c,t-c,n,o+c,r)}},Lt.prototype.map=function(e,t,n){return this==Dt||0==e.maps.length?this:this.mapInner(e,t,0,0,n||_t)},
Lt.prototype.mapInner=function(e,t,n,o,r){for(var i,s=0;s<this.local.length;s++){var a=this.local[s].map(e,n,o);a&&a.type.valid(t,a)?(i||(i=[])).push(a):r.onRemove&&r.onRemove(this.local[s].spec)}return this.children.length?function(e,t,n,o,r,i,s){for(var a=e.slice(),c=function(e,t,n,o){for(var s=0;s<a.length;s+=3){var c=a[s+1],l=void 0;-1==c||e>c+i||(t>=a[s]+i?a[s+1]=-1:n>=r&&(l=o-n-(t-e))&&(a[s]+=l,a[s+1]+=l))}},l=0;l<n.maps.length;l++)n.maps[l].forEach(c);for(var d=!1,u=0;u<a.length;u+=3)if(-1==a[u+1]){var p=n.map(e[u]+i),h=p-r;if(h<0||h>=o.content.size){d=!0;continue}var f=n.map(e[u+1]+i,-1)-r,m=o.content.findIndex(h),b=m.index,g=m.offset,v=o.maybeChild(b);if(v&&g==h&&g+v.nodeSize==f){var y=a[u+2].mapInner(n,v,p+1,e[u]+i+1,s);y!=Dt?(a[u]=h,a[u+1]=f,a[u+2]=y):(a[u+1]=-2,d=!0)}else d=!0}if(d){var O=function(e,t,n,o,r,i,s){function a(e,t){for(var i=0;i<e.local.length;i++){var c=e.local[i].map(o,r,t);c?n.push(c):s.onRemove&&s.onRemove(e.local[i].spec)}
for(var l=0;l<e.children.length;l+=3)a(e.children[l+2],e.children[l]+t+1)}for(var c=0;c<e.length;c+=3)-1==e[c+1]&&a(e[c+2],t[c]+i+1);return n}(a,e,t||[],n,r,i,s),E=Ht(O,o,0,s);t=E.local;for(var w=0;w<a.length;w+=3)a[w+1]<0&&(a.splice(w,3),w-=3);for(var S=0,k=0;S<E.children.length;S+=3){for(var x=E.children[S];k<a.length&&a[k]<x;)k+=3;a.splice(k,0,E.children[S],E.children[S+1],E.children[S+2])}}return new Lt(t&&t.sort(Ut),a)}(this.children,i,e,t,n,o,r):i?new Lt(i.sort(Ut)):Dt},Lt.prototype.add=function(e,t){return t.length?this==Dt?Lt.create(e,t):this.addInner(e,t,0):this},Lt.prototype.addInner=function(e,t,n){var o,r=this,i=0;e.forEach((function(e,s){var a,c=s+n;if(a=Vt(t,e,c)){for(o||(o=r.children.slice());i<o.length&&o[i]<s;)i+=3;o[i]==s?o[i+2]=o[i+2].addInner(e,a,c+1):o.splice(i,0,s,s+e.nodeSize,Ht(a,e,c+1,_t)),i+=3}}));for(var s=Bt(i?zt(t):t,-n),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1)
;return new Lt(s.length?this.local.concat(s).sort(Ut):this.local,o||this.children)},Lt.prototype.remove=function(e){return 0==e.length||this==Dt?this:this.removeInner(e,0)},Lt.prototype.removeInner=function(e,t){for(var n=this.children,o=this.local,r=0;r<n.length;r+=3){for(var i=void 0,s=n[r]+t,a=n[r+1]+t,c=0,l=void 0;c<e.length;c++)(l=e[c])&&l.from>s&&l.to<a&&(e[c]=null,(i||(i=[])).push(l));if(i){n==this.children&&(n=this.children.slice());var d=n[r+2].removeInner(i,s+1);d!=Dt?n[r+2]=d:(n.splice(r,3),r-=3)}}if(o.length)for(var u=0,p=void 0;u<e.length;u++)if(p=e[u])for(var h=0;h<o.length;h++)o[h].eq(p,t)&&(o==this.local&&(o=this.local.slice()),o.splice(h--,1));return n==this.children&&o==this.local?this:o.length||n.length?new Lt(o,n):Dt},Lt.prototype.forChild=function(e,t){if(this==Dt)return this;if(t.isLeaf)return Lt.empty;for(var n,o,r=0;r<this.children.length;r+=3)if(this.children[r]>=e){this.children[r]==e&&(n=this.children[r+2]);break}
for(var i=e+1,s=i+t.content.size,a=0;a<this.local.length;a++){var c=this.local[a];if(c.from<s&&c.to>i&&c.type instanceof Nt){var l=Math.max(i,c.from)-i,d=Math.min(s,c.to)-i;l<d&&(o||(o=[])).push(c.copy(l,d))}}if(o){var u=new Lt(o.sort(Ut));return n?new Ft([u,n]):u}return n||Dt},Lt.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof Lt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0},Lt.prototype.locals=function(e){return Wt(this.localsInner(e))},Lt.prototype.localsInner=function(e){if(this==Dt)return Rt;if(e.inlineContent||!this.local.some(Nt.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof Nt||t.push(this.local[n]);return t};var Dt=new Lt
;Lt.empty=Dt,Lt.removeOverlap=Wt;var Ft=function(e){this.members=e};function Bt(e,t){if(!t||!e.length)return e;for(var n=[],o=0;o<e.length;o++){var r=e[o];n.push(new Pt(r.from+t,r.to+t,r.type))}return n}function Vt(e,t,n){if(t.isLeaf)return null;for(var o=n+t.nodeSize,r=null,i=0,s=void 0;i<e.length;i++)(s=e[i])&&s.from>n&&s.to<o&&((r||(r=[])).push(s),e[i]=null);return r}function zt(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function Ht(e,t,n,o){var r=[],i=!1;t.forEach((function(t,s){var a=Vt(e,t,s+n);if(a){i=!0;var c=Ht(a,t,n+s+1,o);c!=Dt&&r.push(s,s+t.nodeSize,c)}}));for(var s=Bt(i?zt(e):e,-n).sort(Ut),a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(o.onRemove&&o.onRemove(s[a].spec),s.splice(a--,1));return s.length||r.length?new Lt(s,r):Dt}function Ut(e,t){return e.from-t.from||e.to-t.to}function Wt(e){for(var t=e,n=0;n<t.length-1;n++){var o=t[n];if(o.from!=o.to)for(var r=n+1;r<t.length;r++){var i=t[r];if(i.from!=o.from){i.from<o.to&&(t==e&&(t=e.slice()),
t[n]=o.copy(o.from,i.from),Kt(t,r,o.copy(i.from,o.to)));break}i.to!=o.to&&(t==e&&(t=e.slice()),t[r]=i.copy(i.from,o.to),Kt(t,r+1,i.copy(o.to,i.to)))}}return t}function Kt(e,t,n){for(;t<e.length&&Ut(n,e[t])>0;)t++;e.splice(t,0,n)}function $t(e){var t=[];return e.someProp("decorations",(function(n){var o=n(e.state);o&&o!=Dt&&t.push(o)})),e.cursorWrapper&&t.push(Lt.create(e.state.doc,[e.cursorWrapper.deco])),Ft.from(t)}Ft.prototype.map=function(e,t){var n=this.members.map((function(n){return n.map(e,t,_t)}));return Ft.from(n)},Ft.prototype.forChild=function(e,t){if(t.isLeaf)return Lt.empty;for(var n=[],o=0;o<this.members.length;o++){var r=this.members[o].forChild(e,t);r!=Dt&&(r instanceof Ft?n=n.concat(r.members):n.push(r))}return Ft.from(n)},Ft.prototype.eq=function(e){if(!(e instanceof Ft)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},Ft.prototype.locals=function(e){
for(var t,n=!0,o=0;o<this.members.length;o++){var r=this.members[o].localsInner(e);if(r.length)if(t){n&&(t=t.slice(),n=!1);for(var i=0;i<r.length;i++)t.push(r[i])}else t=r}return t?Wt(n?t:t.sort(Ut)):Rt},Ft.from=function(e){switch(e.length){case 0:return Dt;case 1:return e[0];default:return new Ft(e)}};var qt=function(e,t){this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Jt),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Xt(this),this.markCursor=null,this.cursorWrapper=null,Qt(this),this.nodeViews=Zt(this),this.docView=J(this.state.doc,Yt(this),$t(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},
e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.lastAndroidDelete=0,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new nt(e,(function(t,n,o,r){return Ve(e,t,n,o,r)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=rt[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||ct(e,t)||!e.editable&&t.type in it||n(e,t)})};for(var n in rt)t(n);a.safari&&e.dom.addEventListener("input",(function(){return null})),at(e)}(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},Gt={props:{configurable:!0},root:{configurable:!0},isDestroyed:{configurable:!0}};function Yt(e){var t=Object.create(null)
;return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var o in n)"class"==o&&(t.class+=" "+n[o]),"style"==o?t.style=(t.style?t.style+";":"")+n[o]:t[o]||"contenteditable"==o||"nodeName"==o||(t[o]=String(n[o]))})),[Pt.node(0,e.state.doc.content.size,t)]}function Qt(e){if(e.markCursor){var t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),e.cursorWrapper={dom:t,deco:Pt.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Xt(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function Zt(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])})),t}function Jt(e){
if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}Gt.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},qt.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&at(this),this._props=e,e.plugins&&(e.plugins.forEach(Jt),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)},qt.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var o in t.state=this.state,e)t[o]=e[o];this.update(t)},qt.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},qt.prototype.updateStateInner=function(e,t){var n=this,o=this.state,i=!1,s=!1;if(e.storedMarks&&this.composing&&(Et(this),s=!0),this.state=e,t){var c=Zt(this);(function(e,t){var n=0,o=0;for(var r in e){
if(e[r]!=t[r])return!0;n++}for(var i in t)o++;return n!=o})(c,this.nodeViews)&&(this.nodeViews=c,i=!0),at(this)}this.editable=Xt(this),Qt(this);var l=$t(this),d=Yt(this),u=t?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",p=i||!this.docView.matchesNode(e.doc,d,l);!p&&e.selection.eq(o.selection)||(s=!0);var h="preserve"==u&&s&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,o=e.dom.getBoundingClientRect(),r=Math.max(0,o.top),i=(o.left+o.right)/2,s=r+1;s<Math.min(innerHeight,o.bottom);s+=5){var a=e.root.elementFromPoint(i,s);if(a!=e.dom&&e.dom.contains(a)){var c=a.getBoundingClientRect();if(c.top>=r-20){t=a,n=c.top;break}}}return{refDOM:t,refTop:n,stack:j(e.dom)}}(this);if(s){this.domObserver.stop();var f=p&&(a.ie||a.chrome)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&function(e,t){var n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(o.selection,e.selection);if(p){
var m=a.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!i&&this.docView.update(e.doc,d,l,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=J(e.doc,d,l,this.dom,this)),m&&!this.trackWrites&&(f=!0)}f||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&function(e){var t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.root.getSelection();return g(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?ge(this,f):(we(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(o),"reset"==u)this.dom.scrollTop=0;else if("to selection"==u){var b=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||(e.selection instanceof r.NodeSelection?T(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),b):T(this,this.coordsAtPos(e.selection.head,1),b))}else h&&function(e){
var t=e.refDOM,n=e.refTop,o=e.stack,r=t?t.getBoundingClientRect().top:0;A(o,0==r?0:r-n)}(h)},qt.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},qt.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var o=0;o<this.directPlugins.length;o++){var r=this.directPlugins[o];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(var i=0;i<this.state.plugins.length;i++){var s=this.state.plugins[i];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}},qt.prototype.someProp=function(e,t){var n,o=this._props&&this._props[e];if(null!=o&&(n=t?t(o):o))return n;for(var r=0;r<this.directPlugins.length;r++){var i=this.directPlugins[r].props[e];if(null!=i&&(n=t?t(i):i))return n}var s=this.state.plugins
;if(s)for(var a=0;a<s.length;a++){var c=s[a].props[e];if(null!=c&&(n=t?t(c):c))return n}},qt.prototype.hasFocus=function(){return this.root.activeElement==this.dom},qt.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(N)return e.focus(N);var t=j(e);e.focus(null==N?{get preventScroll(){return N={preventScroll:!0},!0}}:void 0),N||(N=!1,A(t,0))}(this.dom),ge(this),this.domObserver.start()},Gt.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},qt.prototype.posAtCoords=function(e){return R(this,e)},qt.prototype.coordsAtPos=function(e,t){return void 0===t&&(t=1),D(this,e,t)},qt.prototype.domAtPos=function(e,t){return void 0===t&&(t=0),this.docView.domFromPos(e,t)},qt.prototype.nodeDOM=function(e){
var t=this.docView.descAt(e);return t?t.nodeDOM:null},qt.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var o=this.docView.posFromDOM(e,t,n);if(null==o)throw new RangeError("DOM position not inside the editor");return o},qt.prototype.endOfTextblock=function(e,t){return K(this,t||this.state,e)},qt.prototype.destroy=function(){this.docView&&(!function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],$t(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Gt.isDestroyed.get=function(){return null==this.docView},qt.prototype.dispatchEvent=function(e){return function(e,t){ct(e,t)||!rt[t.type]||!e.editable&&t.type in it||rt[t.type](e,t)}(this,e)},qt.prototype.dispatch=function(e){
var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(qt.prototype,Gt)},V7oC:function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("SEkw"));t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()},VAOK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 10V9h2v1H5zm4-5h1v2H9V5zm7.646 12.354l.708-.708 2 2-.708.708-2-2zM17 15v-1h2v1h-2zm-3 2h1v2h-1v-2zM7.354 6.646l-.708.708-2-2 .708-.708 2 2zm3.567 9.037l1.061-1.062a.75.75 0 111.06 1.061l-1.06 1.061a3.249 3.249 0 01-4.596 0 3.247 3.247 0 010-4.596l1.06-1.061.703-.703c.793-.63 1.773.35 1.06 1.06l-.702.703-1.06 1.062a1.747 1.747 0 000 2.474 1.749 1.749 0 002.474 0zm2.658-7.608l-1.061 1.061a.75.75 0 01-1.06-1.06l1.06-1.062a3.249 3.249 0 014.596 0 3.247 3.247 0 010 4.596l-1.06 1.062-.703.702c-.565.565-1.581-.45-1.06-1.06l.702-.703 1.06-1.061a1.747 1.747 0 000-2.475 1.749 1.749 0 00-2.474 0z" fill="currentColor"/></svg>'},e));i.displayName="EditorUnlinkIcon";var s=i;t.default=s},VCL8:function(e,t,n){"use strict";function o(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function r(e){this.setState(function(t){
var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function i(e,t){try{var n=this.props,o=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}function s(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,s=null,a=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?s="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(s="UNSAFE_componentWillReceiveProps"),
"function"==typeof t.componentWillUpdate?a="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(a="UNSAFE_componentWillUpdate"),null!==n||null!==s||null!==a){var c=e.displayName||e.name,l="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==s?"\n  "+s:"")+(null!==a?"\n  "+a:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=o,t.componentWillReceiveProps=r),"function"==typeof t.getSnapshotBeforeUpdate){
if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var d=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var o=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;d.call(this,e,t,o)}}return e}n.r(t),n.d(t,"polyfill",(function(){return s})),o.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},VHIC:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var o=n("CsC6");const r=((e,t)=>{let n,o;return(...r)=>(o&&t(n,r)||(o=e(...r),n=r),o)})(((e,t,o,r,i)=>{let s;const a=()=>{Object(n("mY1j").a)(e.state,e.state.tr)("disconnected")},c=()=>{Object(n("mY1j").a)(e.state,e.state.tr)("error")},l=()=>{s&&(s.off("disconnected",a),s.off("error",c))},d=t=>{e.dispatch(e.state.tr.setMeta("collabInitialised",!0)),Object(n("7OFl").d)(t,e,o)
},u=t=>Object(n("7OFl").c)(t,e),p=t=>Object(n("7OFl").a)(t,e,o),h=t=>Object(n("7OFl").e)(t,e),f=t=>Object(n("7OFl").f)(t,e),m=t=>{const{steps:n}=t,{state:o}=e,{tr:r}=o;n.forEach((e=>r.step(e))),e.dispatch(r)},b=t=>{Object(n("mY1j").b)(e.state,e.state.tr,r)(t)},g=({entity:e})=>{l(),o.EXPERIMENTAL_allowInternalErrorAnalytics&&(e.on("disconnected",a),e.on("error",c),s=e)};return t.on("init",d).on("connected",u).on("data",p).on("presence",h).on("telepointer",f).on("local-steps",m).on("error",b).on("entity",g),()=>{l(),t.off("init",d).off("connected",u).off("data",p).off("presence",h).off("telepointer",f).off("local-steps",m).off("error",b).off("entity",g)}}),((e,t)=>t&&t.every(((t,n)=>t===e[n])))),i=Object(n("Wwog").a)(((e,t)=>{e.initialize&&e.initialize((()=>t.state),(e=>o.f.fromJSON(t.state.schema,e)))}));var s=n("lSNA"),a=n.n(s),c=n("UxO+"),l=n("V2qZ");class d{constructor(e=new Map){this.participants=e}add(e){const t=new Map(this.participants);return e.forEach((e=>{t.set(e.sessionId,e)
})),new d(t)}remove(e){const t=new Map(this.participants);return e.forEach((e=>{t.delete(e)})),new d(t)}update(e,t){const n=new Map(this.participants),o=n.get(e);return o?(n.set(e,{...o,lastActive:t}),new d(n)):this}updateCursorPos(e,t){const n=new Map(this.participants),o=n.get(e);return o?(n.set(e,{...o,cursorPos:t}),new d(n)):this}toArray(){return Array.from(this.participants.values())}get(e){return this.participants.get(e)}size(){return this.participants.size}eq(e){return this.toArray().map((e=>e.sessionId)).sort(((e,t)=>e>t?-1:1)).join("")===e.toArray().map((e=>e.sessionId)).sort(((e,t)=>e>t?-1:1)).join("")}}const u=e=>e instanceof o.e,p="telepointer-dim",h=(e,t)=>{const n=e.doc.nodeSize-2;if(t<=n){const n=e.doc.resolve(t),o=c.Selection.findFrom(n,-1,!0),r=c.Selection.findFrom(n,1,!0);return o?o.from:r?r.from:t}return n};class f{get decorations(){return this.decorationSet}get activeParticipants(){return this.participants}get sessionId(){return this.sid}constructor(e,t,n,o=!1,r){
a()(this,"onError",(e=>console.error(e))),this.decorationSet=e,this.participants=t,this.sid=n,this.isReady=o,this.onError=r||this.onError}getInitial(e){const t=this.participants.get(e);return t?t.name.substring(0,1).toUpperCase():"X"}apply(e){let{participants:t,sid:o,isReady:r}=this;const i=e.getMeta("presence"),s=e.getMeta("telepointer"),a=e.getMeta("sessionId");let c=e.getMeta("collabInitialised");"boolean"!=typeof c&&(c=r),a&&(o=a.sid);let l=[],d=[];if(i){const{joined:e=[],left:o=[]}=i;t=t.remove(o.map((e=>e.sessionId))),t=t.add(e),o.forEach((e=>{const t=Object(n("8PVD").c)(e.sessionId,this.decorationSet);t&&(d=d.concat(t))}))}if(s){const{sessionId:r}=s;if(t.get(r)&&r!==o){const t=Object(n("8PVD").c)(s.sessionId,this.decorationSet);t&&(d=d.concat(t));const o=e.doc.nodeSize-2,{anchor:i,head:a}=s.selection;let c=i<a?i:a,u=i>=a?i:a;c>o&&(c=o),u>o&&(u=o);const p=u-c>0;let f=1,m=1;try{f=h(e,p?Math.max(c-1,0):c),m=p?h(e,u):f}catch(g){this.onError(g)}
l=l.concat(Object(n("8PVD").b)(f,m,r,p,this.getInitial(r)))}}if(e.docChanged){try{this.decorationSet=this.decorationSet.map(e.mapping,e.doc,{onRemove:t=>{if(t.pointer&&t.pointer.sessionId&&t.key===`telepointer-${t.pointer.sessionId}`){const o=e.steps.filter(u)[0];if(o){const{sessionId:r}=t.pointer,{slice:{content:{size:i}},from:s}=o,a=h(e,i?Math.min(s+i,e.doc.nodeSize-3):Math.max(s,1));l=l.concat(Object(n("8PVD").b)(a,a,r,!1,this.getInitial(r)))}}}})}catch(g){this.onError(g)}e.steps.filter(u).forEach((e=>{const{from:t,to:n}=e;this.decorationSet.find(t,n).forEach((e=>{e.from!==e.to&&d.push(e)}))}))}const{selection:m}=e;if(this.decorationSet.find().forEach((e=>{if(e.type.toDOM){const t=e.type.toDOM.classList.contains(p);e.from===m.from&&e.to===m.to?(t||e.type.toDOM.classList.add(p),n("j5wO").a.gecko||(e.type.side=-1)):(t&&e.type.toDOM.classList.remove(p),e.type.side=0)}})),d.length&&(this.decorationSet=this.decorationSet.remove(d)),
l.length&&(this.decorationSet=this.decorationSet.add(e.doc,l)),s){const{sessionId:e}=s;if(t.get(e)){const o=Object(n("8PVD").e)(e,this.decorationSet);o&&(t=t.updateCursorPos(e,o))}}const b=new f(this.decorationSet,t,o,c);return f.eq(b,this)?this:b}static eq(e,t){return e.participants===t.participants&&e.sessionId===t.sessionId&&e.isReady===t.isReady}static init(e){const{doc:t,onError:n}=e;return new f(l.b.create(t,[]),new d,void 0,void 0,n)}}const m=(e,t,o,s,a)=>{const c=Object(n("ViYe").a)(null==s?void 0:s.createAnalyticsEvent);return new(n("KkS8").a)({key:n("uOGI").a,state:{init:e=>f.init(e),apply(t,o,r,i){const s=o.apply(t);return e(n("uOGI").a,s),s}},props:{decorations(e){return this.getState(e).decorations}},filterTransaction(e,t){const o=n("uOGI").a.getState(t);return!!e.getMeta("collabInitialised")||!(!o.isReady&&e.docChanged)},view(e){const l=Object(n("mY1j").b)(e.state,e.state.tr,a);s.onSyncUpError=e=>{c({payload:{action:n("+PNV").a.NEW_COLLAB_SYNC_UP_ERROR_NO_STEPS,
actionSubject:n("+PNV").b.EDITOR,eventType:n("+PNV").e.OPERATIONAL,attributes:e}})};const d=o((({options:e,providerFactory:t,view:o,featureFlags:s})=>a=>{let c;return n("uOGI").a.getState(o.state).isReady&&c&&c(),c=r(o,a,e,s,t),e.useNativePlugin?((e,t,n)=>{e.setup({getState:()=>t.state,onSyncUpError:n})})(a,o,e.onSyncUpError):i(a,o),c})({view:e,options:s,providerFactory:t,featureFlags:a}),l);return{destroy(){t.unsubscribeAll("collabEditProvider"),d&&d.then((e=>{e&&e()}))}}}})}},VMKi:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return b}));var o=n("MEpN"),r=n("UxO+"),i=n("CsC6"),s=n("ABBN");function a(e,t){let{$from:n,$to:r}=e;const s=t.doc.type.schema.nodes.listItem;let a=n.blockRange(r,(e=>!!e.childCount&&!!e.firstChild&&e.firstChild.type===s));if(!a||a.depth<2||n.node(a.depth-1).type!==s)return t;let c=a.end,l=r.end(a.depth)
;return c<l&&(t.step(new i.d(c-1,l,c,l,new o.Slice(o.Fragment.from(s.create(void 0,a.parent.copy())),1,0),1,!0)),a=new o.NodeRange(t.doc.resolve(n.pos),t.doc.resolve(l),a.depth)),t.lift(a,Object(i.p)(a)).scrollIntoView()}function c(e,t,n,o){const{listItem:i}=o.doc.type.schema.nodes;let s=!1;return o.doc.nodesBetween(e,t,((t,c)=>{if(!s&&t.type===i&&c>e){s=!0;let e=n+3;for(;e>n+2;){const n=o.doc.resolve(o.mapping.map(c));e=n.depth;const i=o.doc.resolve(o.mapping.map(c+t.textContent.length)),s=new r.TextSelection(n,i);o=a(s,o)}}})),o}function l(e,t){const{from:o}=e,{listItem:r}=t.doc.type.schema.nodes,i=t.mapping.map(o),s=t.doc.nodeAt(i),a=t.doc.resolve(i);if((null==a?void 0:a.parent.type)!==r)return t;const c=t.doc.resolve(i+((null==s?void 0:s.nodeSize)||1)),l=a.blockRange(c);if(l){const e=Object(n("3G5u").a)(a);t.lift(l,e)}return t}function d(e,t){const{from:o,to:r}=e,{paragraph:i}=t.doc.type.schema.nodes,s=[];t.doc.nodesBetween(o,r,((e,t)=>{e.type===i&&s.push({node:e,pos:t})}))
;for(let a=s.length-1;a>=0;a--){const e=s[a],o=t.doc.resolve(t.mapping.map(e.pos));if(o.depth>0){let r;r=e.node.textContent&&e.node.textContent.length>0?t.doc.resolve(t.mapping.map(e.pos+e.node.textContent.length)):t.doc.resolve(t.mapping.map(e.pos+1));const i=o.blockRange(r);i&&t.lift(i,Object(n("3G5u").a)(o))}}return t}const u=/^\s*[\*\-\u2022](\s+|\s+$)/,p=/^\s*\d[\.\)](\s+|$)/,h=(e,t,i)=>{const{hardBreak:a,bulletList:c,orderedList:l}=i.nodes,d=Object(n("C0PT").c)(e.content,(e=>e)),h=[c,l],f=d.map(((e,n)=>{const r=((e,t)=>{if(!e.text)return null;const{bulletList:n,orderedList:o}=t.nodes;return[{node:n,matcher:u},{node:o,matcher:p}].reduce(((t,n)=>{if(t)return t;const o=e.text.match(n.matcher);return o?[n.node,o[0].length]:t}),null)})(e,i),s=n>0&&d[n-1];if(s&&s.type!==a)return e;if(!r||!e.text)return e;const[c,l]=r,h=e.text.substr(l),f=i.nodes.listItem.createAndFill(void 0,i.nodes.paragraph.createChecked(void 0,h.length?i.text(h):void 0));if(!f)return e
;const m=c.createChecked(void 0,[f]);return t&&!t.type.validContent(o.Fragment.from(m))?e:m})).filter(((e,t,n)=>e.type!==a?e:t>0&&h.indexOf(n[t-1].type)>-1||t<n.length-1&&h.indexOf(n[t+1].type)>-1?null:e)),m=r.EditorState.create({schema:i});let b;Object(s.a)(((e,t)=>{if(!t)return!1;const n=f.some((e=>e.type===c||e.type===l));return!(f.some((e=>e.isText))&&!n)&&(t(e.tr.replaceWith(0,2,f)),!0)}),((e,t)=>Object(n("EvmU").d)(e)&&Object(n("EvmU").d)(t)))(m,(e=>{b=e}));const g=b?b.doc.content:o.Fragment.from(f),{paragraph:v}=i.nodes;return v.validContent(g)?o.Fragment.from(v.create(e.attrs,g,e.marks)):g},f=({fragment:e,blockMarks:t=[],schema:n})=>{const r=[];let i=[],s=null;const{hardBreak:a,paragraph:c}=n.nodes;return e.forEach(((e,l)=>{if(n.nodes.paragraph.validContent(o.Fragment.from(e))){if(0===l&&e.type===a)return r.push(c.createChecked(void 0,i,[...t])),void(s=e);if(s&&s.type===a&&e.type===a)return i.pop(),r.push(c.createChecked(void 0,i,[...t])),void(i=[]);i.push(e),s=e}else r.push(e)
})),i.length&&r.push(c.createChecked(void 0,i,[...t])),o.Fragment.from(r.length?r:[c.createAndFill(void 0,void 0,[...t])])},m=(e,t)=>{let r=!1;if(e.content.forEach((e=>{r=r||e.marks.some((e=>e.type===t.marks.code))})),t.nodes.paragraph.validContent(e.content)&&!r){const n=f({fragment:e.content,schema:t});return new o.Slice(n,e.openStart+1,e.openEnd+1)}return Object(n("C0PT").e)(e,(e=>e.type===t.nodes.paragraph?f({fragment:e.content,blockMarks:e.marks,schema:t}):e))},b=(e,t)=>Object(n("C0PT").e)(e,((e,n)=>e.type===t.nodes.paragraph?h(e,n,t):e))},VNB6:function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},VOS0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasValueAtKey=t.hasPresentKey=t.isFilled=t.isDefined=t.isPresent=void 0,t.isPresent=function(e){return null!=e},t.isDefined=function(e){return void 0!==e},t.isFilled=function(e){return null!==e},
t.hasPresentKey=function(e){return function(t){return void 0!==t[e]&&null!==t[e]}},t.hasValueAtKey=function(e,t){return function(n){return n[e]===t}}},VSTI:function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},"VUh/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm0-8h4a1 1 0 010 2H6a1 1 0 010-2zm0 4h4a1 1 0 010 2H6a1 1 0 010-2zm8-4h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4a1 1 0 011-1zM6 5h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorMediaWrapRightIcon";var s=i;t.default=s},VV44:function(e,t,n){"use strict";var o=n("UxO+"),r=n("mG1W");const i=Object(n("D6b/").defineMessages)({
wrapLeft:{id:"fabric.editor.wrapLeft",defaultMessage:"Wrap left",description:"Aligns your image to the left and wraps text around it."},wrapRight:{id:"fabric.editor.wrapRight",defaultMessage:"Wrap right",description:"Aligns your image to the right and wraps text around it."}}),s=[{id:"editor.media.alignLeft",value:"align-start",icon:n.n(n("9mxG")).a},{id:"editor.media.alignCenter",value:"center",icon:n.n(n("vsMl")).a},{id:"editor.media.alignRight",value:"align-end",icon:n.n(n("Gnrx")).a}],a=[{id:"editor.media.wrapLeft",value:"wrap-left",icon:n.n(n("+Z0M")).a},{id:"editor.media.wrapRight",value:"wrap-right",icon:n.n(n("VUh/")).a}],c=[{value:"wide",icon:n.n(n("krE2")).a},{value:"full-width",icon:n.n(n("1rMa")).a}],l={"wrap-left":i.wrapLeft,center:n("yYBl").a.alignImageCenter,"wrap-right":i.wrapRight,wide:n("yYBl").a.layoutWide,"full-width":n("yYBl").a.layoutFullWidth,"align-end":n("yYBl").a.alignImageRight,"align-start":n("yYBl").a.alignImageLeft},d=(e,t)=>(r,i)=>{
const{node:s}=r.selection,{layout:a}=s.attrs,{mediaSingle:c}=r.schema.nodes;if(!i)return!1;const l=n("IXso").b.getState(r);if(!s||s.type!==t||!l)return!1;const d=((e,t)=>{const{embedCard:o}=t.nodes;return e.type===o?e.attrs.originalWidth||n("anI9").c:e.firstChild&&e.firstChild.attrs.width||e.attrs.width})(s,r.schema),u=Object(n("j0F9").a)(e,s.attrs,void 0,d,l.lineLength),p=r.tr.setNodeMarkup(r.selection.from,void 0,u);p.setMeta("scrollIntoView",!1),p.setSelection(o.NodeSelection.create(p.doc,r.selection.from));const{doc:{type:{schema:{nodes:{paragraph:h}}}}}=p;return e.startsWith("wrap")&&h&&!p.doc.nodeAt(r.selection.to)&&(Object(n("49vz").a)(r)||Object(n("D4z0").k)(r))&&p.insert(r.selection.to,h.createAndFill()),i(Object(n("SVcB").a)(r,p,{eventType:n("+PNV").e.TRACK,action:n("+PNV").a.SELECTED,actionSubject:n("+PNV").b[s.type===c?"MEDIA_SINGLE":"EMBEDS"],actionSubjectId:n("+PNV").c.RICH_MEDIA_LAYOUT,attributes:{previousLayoutType:a,currentLayoutType:e}})),!0},u=(e,t,n,o)=>e.map((e=>{
const{id:r,value:i}=e;return{id:r,type:"button",icon:e.icon,title:n.formatMessage(l[i]),selected:t===i,onClick:d(i,o)}})),p=(e,t)=>e&&t?[{type:"separator"}]:[],h=(e,t,n)=>n||!e&&!t?[]:[{type:"separator"}];t.a=(e,t,n,i,l,d=!0,f=!0)=>{const{selection:m}=e;if(!(m instanceof o.NodeSelection)||!m.node||!n||((e,{nodes:t},n)=>Object(r.hasParentNodeOfType)([t.bodiedExtension,t.listItem,t.expand,t.nestedExpand,...n?[]:[t.table]].filter(Boolean))(e))(m,e.schema,l))return[];const{layout:b}=m.node.attrs,g=f?u(s,b,t,n):[],v=d?u(a,b,t,n):[],y=i?[]:u(c,b,t,n);return[...g,...p(f,d),...v,...h(f,d,i),...y]}},VZmc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n("jo6Y")),r=c(n("iCc5")),i=c(n("V7oC")),s=c(n("E261")),a=n("LpdB");n("uUy6");function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){var n=t.maxScrollSize,i=void 0===n?(0,a.getMaxElementSize)():n,c=(0,o.default)(t,["maxScrollSize"]);(0,r.default)(this,e),
this._cellSizeAndPositionManager=new s.default(c),this._maxScrollSize=i}return(0,i.default)(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,n=e.offset,o=this._cellSizeAndPositionManager.getTotalSize(),r=this.getTotalSize(),i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:r});return Math.round(i*(r-o))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{
key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,o=e.containerSize,r=e.currentOffset,i=e.targetIndex;r=this._safeOffsetToOffset({containerSize:o,offset:r});var s=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:o,currentOffset:r,targetIndex:i});return this._offsetToSafeOffset({containerSize:o,offset:s})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;return n=this._safeOffsetToOffset({containerSize:t,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:n})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){
var t=e.containerSize,n=e.offset,o=e.totalSize;return o<=t?0:n/(o-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,n=e.offset,o=this._cellSizeAndPositionManager.getTotalSize(),r=this.getTotalSize();if(o===r)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return Math.round(i*(r-t))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,n=e.offset,o=this._cellSizeAndPositionManager.getTotalSize(),r=this.getTotalSize();if(o===r)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:r});return Math.round(i*(o-t))}}]),e}();t.default=l},ViDr:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=Object(n("D6b/").defineMessages)({action:{id:"fabric.editor.action",defaultMessage:"Action item",description:"Also known as a \u201ctask\u201d, \u201cto do item\u201d, or a checklist"},actionDescription:{id:"fabric.editor.action.description",defaultMessage:"Create and assign action items",
description:""},link:{id:"fabric.editor.link",defaultMessage:"Link",description:"Insert a hyperlink"},linkDescription:{id:"fabric.editor.link.description",defaultMessage:"Insert a link",description:"Insert a hyperlink"},mediaFiles:{id:"fabric.editor.mediaFiles",defaultMessage:"Image, video, or file",description:"Insert one or more files, videos or images"},addMediaFiles:{id:"fabric.editor.addMediaFiles",defaultMessage:"Add image, video, or file",description:"Insert one or more files, videos or images"},mediaFilesDescription:{id:"fabric.editor.mediaFiles.description",defaultMessage:"Add images and other files to your page",description:"Insert one or more files or images"},image:{id:"fabric.editor.image",defaultMessage:"Image",description:"Insert an image."},mention:{id:"fabric.editor.mention",defaultMessage:"Mention",description:"Reference another person in your document"},mentionDescription:{id:"fabric.editor.mention.description",
defaultMessage:"Mention someone to send them a notification",description:"Reference another person in your document"},emoji:{id:"fabric.editor.emoji",defaultMessage:"Emoji",description:"Insert an emoticon or smiley :-)"},emojiDescription:{id:"fabric.editor.emoji.description",defaultMessage:"Use emojis to express ideas \ud83c\udf89 and emotions \ud83d\ude04",description:"Insert an emoticon or smiley :-)"},table:{id:"fabric.editor.table",defaultMessage:"Table",description:"Inserts a table in the document"},tableDescription:{id:"fabric.editor.table.description",defaultMessage:"Insert a table",description:"Inserts a table in the document"},expand:{id:"fabric.editor.expand",defaultMessage:"Expand",description:"Inserts an expand in the document"},expandDescription:{id:"fabric.editor.expand.description",defaultMessage:"Insert an expand",description:"Inserts an expand in the document"},decision:{id:"fabric.editor.decision",defaultMessage:"Decision",
description:"Capture a decision you\u2019ve made"},decisionDescription:{id:"fabric.editor.decision.description",defaultMessage:"Capture decisions so they\u2019re easy to track",description:"Capture a decision you\u2019ve made"},feedbackDialog:{id:"fabric.editor.feedbackDialog",defaultMessage:"Give feedback",description:"Open the feedback dialog from editor"},feedbackDialogDescription:{id:"fabric.editor.feedbackDialog.description",defaultMessage:"Tell us about your experience using the new editor",description:"Description for feedback option under quick insert dropdown"},horizontalRule:{id:"fabric.editor.horizontalRule",defaultMessage:"Divider",description:"A horizontal rule or divider"},horizontalRuleDescription:{id:"fabric.editor.horizontalRule.description",defaultMessage:"Separate content with a horizontal line",description:"A horizontal rule or divider"},date:{id:"fabric.editor.date",defaultMessage:"Date",description:"Opens a date picker that lets you select a date"},
dateDescription:{id:"fabric.editor.date.description",defaultMessage:"Add a date using a calendar",description:"Opens a date picker that lets you select a date"},placeholderText:{id:"fabric.editor.placeholderText",defaultMessage:"Placeholder text",description:"Inserts a text placeholder into the page"},placeholderTextDescription:{id:"fabric.editor.placeholderText.description",defaultMessage:"Insert a text placeholder into the page",description:"Inserts a text placeholder into the page"},columns:{id:"fabric.editor.columns",defaultMessage:"Layouts",description:"Create a multi column section or layout"},columnsDescription:{id:"fabric.editor.columns.description",defaultMessage:"Structure your page using sections",description:"Create a multi column section or layout"},status:{id:"fabric.editor.status",defaultMessage:"Status",description:"Inserts an item representing the status of an activity to task."},statusDescription:{id:"fabric.editor.status.description",
defaultMessage:"Add a custom status label",description:"Inserts an item representing the status of an activity to task."},viewMore:{id:"fabric.editor.viewMore",defaultMessage:"View more",description:""},insertMenu:{id:"fabric.editor.insertMenu",defaultMessage:"Insert",description:"Opens a menu of additional items that can be inserted into your document."},help:{id:"fabric.editor.help",defaultMessage:"Help",description:"Opens up the help dialog"},helpDescription:{id:"fabric.editor.help.description",defaultMessage:"Browse all the keyboard shortcuts and markdown options",description:"Browse all the keyboard shortcuts and markdown options"}})},ViYe:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("zuKv"),r=n("lSNA"),i=n.n(r);class s{constructor(){i()(this,"tasks",[]),i()(this,"running",!1)}request(e){if(window.requestIdleCallback)window.requestIdleCallback(e);else{const t=performance.now();setTimeout((()=>{e({didTimeout:!1,
timeRemaining:()=>Math.max(0,50-(performance.now()-t))})}),0)}}pending(){var e,t,n,o;return"function"==typeof(null===(e=window.navigator)||void 0===e||null===(t=e.scheduling)||void 0===t?void 0:t.isInputPending)&&!0===(null===(n=window.navigator)||void 0===n||null===(o=n.scheduling)||void 0===o?void 0:o.isInputPending())}process(){this.running||(this.running=!0,this.request((e=>{for(;e.timeRemaining()>0&&this.tasks.length>0&&!this.pending();){const e=this.tasks.shift();e&&e()}this.running=!1,this.tasks.length>0&&this.process()})))}schedule(e){this.tasks.push(e),this.process()}}i()(s,"get",Object(n("Wwog").a)((()=>new s)));const a=o.FabricChannel.editor,c=e=>({payload:t,channel:n=a})=>{if(!e)return;if(Boolean(e.__queueAnalytics)){s.get().schedule((()=>{var o;return null===(o=e(t))||void 0===o?void 0:o.fire(n)}))}else{var o;null===(o=e(t))||void 0===o||o.fire(n)}}},"Vlv/":function(e,t,n){"use strict";t.parseLinkLabel=n("31bW"),t.parseLinkDestination=n("5Mrk"),t.parseLinkTitle=n("fZFN")},
VnTS:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var o=n("mG1W");const r=e=>{const t=[],o=e.querySelector("tbody");if(o){const e=o.childNodes;for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t[o]=r.getBoundingClientRect().height+1,r.classList.contains("sticky")&&0===o){const e=window.getComputedStyle(r),i=Object(n("uYq7").e)(e.paddingTop||"");t[o]-=i?i+1:1}}}return t},i=(e,t,o=0)=>{const r=Object(n("n3wV").a)(t);if(!r)return null;let i=0,s=o;for(let n=0;n<r.top;n++){const t=e[n];t&&(s+=t-1)}const a=[];for(let n=r.top;n<r.bottom;n++){const t=e[n];t&&(i+=t-1,a.push(n))}return{top:s+i/2-8,indexes:a}},s=e=>{const t=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];if(!o)continue;let r=e.length;for(let t=n+1,i=e.length;t<i;t++)if(e[t]){r=t;break}t.push({startIndex:n,endIndex:r,height:o})}return t},a=(e,t,o=[],r,i)=>{const s=[]
;return(Object(n("+yxU").b)(e)(t)||o.indexOf(e)>-1&&!i)&&(s.push(n("p3BF").b.HOVERED_CELL_ACTIVE),r&&s.push(n("p3BF").b.HOVERED_CELL_IN_DANGER)),s.join(" ")},c=e=>t=>r=>{const i=Object(n("zYPQ").c)(r.selection);if(!i)return r;const s=n("wYWE").b.get(i.node),a=t-1;if(t<=0)throw Error("Row Index less or equal 0 isn't not allowed since there is not a previous to copy");if(t>s.height)return r;const c=i.node,{nodes:{tableRow:l}}=e,d=s.cellsInRect({left:0,right:s.width,top:a,bottom:a+1}),u=a*s.width,p=t*s.width,h=s.map.slice(u,u+s.width),f=s.map.slice(p,p+s.width);let m=[],b=[];for(let e=0;e<h.length;){const t=h[e],n=t+i.start,o=r.doc.nodeAt(n);if(!o)continue;const s={...o.attrs,colspan:1,rowspan:1},a=o.type.createAndFill(s);if(!a)return r;if(f.indexOf(t)>-1)b.push({pos:n,node:o});else if(d.indexOf(t)>-1){if(o.attrs.colspan>1){const t=o.type.createAndFill({...s,colspan:o.attrs.colspan});if(!t)return r;m.push(t),e+=o.attrs.colspan;continue}m.push(a)}else m.push(a);e++}b.forEach((e=>{
r.setNodeMarkup(e.pos,void 0,{...e.node.attrs,rowspan:e.node.attrs.rowspan+1})}));const g=c.child(a);let v=i.start;for(let e=0;e<t;e++)v+=c.child(e).nodeSize;return Object(o.safeInsert)(l.createChecked(g.attrs,m,g.marks),v)(r)}},VpzP:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("datePlugin")},Vwaf:function(e,t,n){"use strict";var o="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",r="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",i=new RegExp("^(?:"+o+"|"+r+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),s=new RegExp("^(?:"+o+"|"+r+")");e.exports.HTML_TAG_RE=i,e.exports.HTML_OPEN_CLOSE_TAG_RE=s},Vwtw:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"h",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return a
})),n.d(t,"b",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return u}));const o=({minWidth:e,maxSize:t,table:o,tableRef:r,start:i,domAtPos:s})=>{if(Object(n("yu4X").b)(o)){const r=Object(n("BX5r").a)(o).map(((t,o)=>({width:0===t?n("9ehW").i:t,minWidth:0===t?n("9ehW").i:e,index:o}))),i=r.map((e=>e.width)),s=i.reduce(((e,t)=>e+t),0);return{cols:r,widths:i,maxSize:t,tableWidth:s,overflow:s>t}}const a=Object(n("yu4X").c)(r,o),c=Array.from(a).map(((t,r)=>{const a=Object(n("wfiM").b)(r,o,i,s);return Object(n("wfiM").c)(a,r,e)})),l=c.map((e=>e.width)),d=l.reduce(((e,t)=>e+t),0);return{cols:c,widths:l,maxSize:t,tableWidth:d,overflow:d>t}},r=(e,t)=>{const o=t.querySelectorAll("col");e.cols.filter((e=>e&&!!e.width)).forEach(((e,t)=>{o[t]&&(o[t].style.width=`${e.width}px`)})),Object(n("QiND").c)(t)},i=({cols:e})=>e.reduce(((e,t)=>e+t.width),0),s=(e,t)=>{const o=t-i(e);if(o>0||o<0&&Math.abs(o)<n("9ehW").d){let t=!1;return{...e,
cols:e.cols.map((e=>!t&&e.width+o>e.minWidth?(t=!0,{...e,width:e.width+o}):e))}}return e},a=e=>{const t=i(e),n=Math.floor(t/e.cols.length),o=e.cols.map((e=>({...e,width:n})));return s({...e,cols:o},t)},c=(e,t,n)=>e.slice(t,n).map((e=>e.width)).reduce(((e,t)=>e+t),0),l=(e,t,n)=>{const o=i(e),r=t.indexOf(n)>-1?n:n+1,a=e.cols[r],c={},l=[],d=e.cols.map((e=>{if(t.indexOf(e.index)>-1){const t=e.width-a.width;return 0!==t&&l.push(t),{...e,width:a.width}}return e}));let u={...e,cols:d.map((e=>{if(t.indexOf(e.index)>-1||t.indexOf(n)>-1&&e.index<r)return e;for(;l.length;){const t=l.shift()||0,n=c[e.index]||e,o=n.width+t;if(!(o>n.minWidth)){l.push(o-n.minWidth),c[n.index]={...n,width:n.minWidth};break}c[n.index]={...n,width:o}}return c[e.index]||e}))};const p=e.maxSize,h=i(u);if(t.length===e.cols.length&&h<p){if(o===p)return e;{const t=Math.floor((p-a.width)/(u.cols.length-1));u={...e,cols:u.cols.map((e=>e.index===a.index?e:{...e,width:t}))}}}return s(u,e.maxSize)},d=e=>{switch(e){case"wide":
case"full-width":return e;default:return"default"}},u=(e,t,r,i)=>{const{totalRowCount:s,totalColumnCount:a,table:l}=Object(n("W+n6").b)(t.selection);if(!l)return;const u=r(l.start).node.closest("table");if(!u)return;const p=d(null==u?void 0:u.dataset.layout),h=Object(n("SdCE").c)({table:l.node,tableStart:l.start,state:t,layout:p,getEditorContainerWidth:i}),f=o({minWidth:n("9ehW").d,maxSize:h,table:l.node,tableRef:u,start:l.start,domAtPos:r}),m=((e,t)=>{const n=e.cols,o=c(n,t.left,t.right),r=c(n,0,n.length)/n.length,i=o/(t.right-t.left);return r===i?{...e,widths:n.map((()=>i)),cols:e.cols.map((e=>({...e,width:0})))}:{...e,widths:n.map(((e,n)=>n>=t.left&&n<t.right?i:e.width)),cols:n.map(((e,n)=>({...e,width:n>=t.left&&n<t.right?i:e.width})))}})(f,e),b=f.widths,g=m.widths;return{resizeState:m,table:l,changed:f.widths.some(((e,t)=>e!==g[t])),attributes:{position:e.left,count:e.right-e.left,totalRowCount:s,totalColumnCount:a,widthsBefore:b,widthsAfter:g}}}},"W+n6":function(e,t,n){
"use strict";function o(e){let t,o=0,r=0;const i=Object(n("zYPQ").c)(e);return i&&(t=n("wYWE").b.get(i.node),o=t.height,r=t.width),{table:i,map:t,totalRowCount:o,totalColumnCount:r}}function r(e){let t=1,r=1,i=1;const{table:s,map:a,totalRowCount:c,totalColumnCount:l}=o(e);if(s&&a){const o=Object(n("n3wV").a)(e);o&&(i=a.cellsInRect(o).length,t=o.right-o.left,r=o.bottom-o.top)}return{totalRowCount:c,totalColumnCount:l,horizontalCells:t,verticalCells:r,totalCells:i}}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i}));const i=e=>t=>n=>(o,r,i)=>n(o,(n=>{const i=e instanceof Function?e(o):e;return i&&(null==t||t.attachAnalyticsEvent(i)(n)),r&&r(n),!0}),i)},W0fT:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));const o=(e,t=r)=>{const n=parseInt(`${e}`,10),o=Object.keys(t),i=o[0];let s;return o.forEach((e=>{n<t[e]&&!s&&(s=e)})),s||i},r={small:173,medium:225,large:300,xlarge:1/0
},i=({breakpointSize:e})=>{switch(e){case"small":return`\n        .title {\n          font-size: 12px;\n        }\n        .file-type-icon span {\n          // We need to use important here since we can't use the dimensions provided by the Icon component\n          ${Object(n("FcH9").h)("14px !important")}\n        }\n      `;case"medium":return`\n        .title {\n          font-size: 14px;\n        }\n        .file-type-icon span {\n          ${Object(n("FcH9").h)("16px !important")}\n        }\n      `;case"large":return`\n        .overlay {\n          padding: 24px;\n        }\n        .title {\n          font-size: 14px;\n        }\n        .file-size {\n          font-size: 14px;\n        }\n        .file-type-icon span {\n          ${Object(n("FcH9").h)("18px !important")}\n        }\n      `;case"xlarge":
return`\n        border-radius: 2px;\n\n        .title {\n          font-size: 16px;\n        }\n\n        .file-size {\n          font-size: 14px;\n        }\n        \n        .wrapper, .img-wrapper {\n          border-radius: 2px;\n        }\n\n        .overlay {\n          padding: 24px;\n        }\n\n        .file-type-icon span {\n          ${Object(n("FcH9").h)("18px !important")}\n        }\n      `}}},W1Rp:function(e,t,n){"use strict";var o=n("vWgF"),r=n("AGgm").has,i=n("AGgm").isValidEntityCode,s=n("AGgm").fromCodePoint,a=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,c=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var n,l,d=e.pos,u=e.posMax;if(38!==e.src.charCodeAt(d))return!1;if(d+1<u)if(35===e.src.charCodeAt(d+1)){if(l=e.src.slice(d).match(a))return t||(n="x"===l[1][0].toLowerCase()?parseInt(l[1].slice(1),16):parseInt(l[1],10),e.pending+=i(n)?s(n):s(65533)),e.pos+=l[0].length,!0}else if((l=e.src.slice(d).match(c))&&r(o,l[1]))return t||(e.pending+=o[l[1]]),e.pos+=l[0].length,
!0;return t||(e.pending+="&"),e.pos++,!0}},W304:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"f",(function(){return p}));let o=function(e){return e[e.SELF=0]="SELF",e[e.RESTRICTED=1]="RESTRICTED",e[e.DEFAULT=2]="DEFAULT",e}({}),r=function(e){return e[e.NONE=0]="NONE",e[e.SITE=1]="SITE",e[e.APPLICATION=2]="APPLICATION",e[e.CONTAINER=3]="CONTAINER",e}({}),i=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.SPECIAL=1]="SPECIAL",e[e.APP=2]="APP",e[e.TEAM=3]="TEAM",e[e.SYSTEM=4]="SYSTEM",e}({}),s=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.SERVICE_ERROR=1]="SERVICE_ERROR",e[e.OK=2]="OK",e}({});function a(e){return!!e&&e===r[r.NONE]}function c(e){return!!e.userType&&e.userType===i[i.SPECIAL]}
function l(e){return e.userType&&e.userType===i[i.APP]}function d(e){return e.userType&&e.userType===i[i.TEAM]}function u(e){return e&&("@all"===e||"@here"===e)}const p=e=>!(!e||!e.then)},W4JY:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("copyButtonPlugin")},WE2A:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var o=n("lSNA"),r=n.n(o),i=n("MEpN"),s=n("UxO+");let a;!function(e){e.LEFT="left",e.RIGHT="right"}(a||(a={}));const c="gapcursor";class l extends s.Selection{constructor(e,t=a.LEFT){super(e,e),r()(this,"visible",!1),this.side=t}static valid(e){const{parent:t,nodeBefore:o,nodeAfter:r}=e;if(!(Object(n("OeyQ").a)(o)?o:Object(n("OeyQ").a)(r)?r:null)||t.isTextblock)return!1;const i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findFrom(e,t,n=!1){const o=1===t?a.RIGHT:a.LEFT;if(!n&&l.valid(e))return new l(e,o);let r=e.pos,i=null
;for(let s=e.depth;;s--){const n=e.node(s);if(o===a.RIGHT?e.indexAfter(s)<n.childCount:e.index(s)>0){i=n.maybeChild(o===a.RIGHT?e.indexAfter(s):e.index(s)-1);break}if(0===s)return null;r+=t;const c=e.doc.resolve(r);if(l.valid(c))return new l(c,o)}for(;i=o===a.RIGHT?i.firstChild:i.lastChild,null!==i;){r+=t;const n=e.doc.resolve(r);if(l.valid(n))return new l(n,o)}return null}static fromJSON(e,t){return new l(e.resolve(t.pos),t.side)}map(e,t){const n=e.resolve(t.map(this.head));return l.valid(n)?new l(n,this.side):s.Selection.near(n)}eq(e){return e instanceof l&&e.head===this.head}content(){return i.Slice.empty}getBookmark(){return new d(this.anchor)}toJSON(){return{pos:this.head,type:c,side:this.side}}}s.Selection.jsonID(c,l);class d{constructor(e){this.pos=e}map(e){return new d(e.map(this.pos))}resolve(e){const t=e.resolve(this.pos);return l.valid(t)?new l(t):s.Selection.near(t)}}},WGjm:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){
return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n("q1tI")),c=n("Nxm2"),l=s(n("75pU")),d={width:"auto",height:"auto"},u=l.default((function(e,t,n){return Math.max(Math.min(e,n),t)})),p=l.default((function(e,t){
return Math.round(e/t)*t})),h=l.default((function(e,t){return new RegExp(e,"i").test(t)})),f=l.default((function(e,t,n){void 0===n&&(n=0);var o=t.reduce((function(n,o,r){return Math.abs(o-e)<Math.abs(t[n]-e)?r:n}),0),r=Math.abs(t[o]-e);return 0===n||r<n?t[o]:e})),m=l.default((function(e,t){return e.substr(e.length-t.length,t.length)===t})),b=l.default((function(e){return"auto"===(e=e.toString())||m(e,"px")||m(e,"%")||m(e,"vh")||m(e,"vw")||m(e,"vmax")||m(e,"vmin")?e:e+"px"})),g=l.default((function(e,t,n,o,r){if(t&&"string"==typeof t&&m(t,"%")){var i=Number(t.replace("%",""))/100;t=e.width*i}if(n&&"string"==typeof n&&m(n,"%")){i=Number(n.replace("%",""))/100;n=e.height*i}if(o&&"string"==typeof o&&m(o,"%")){i=Number(o.replace("%",""))/100;o=e.width*i}if(r&&"string"==typeof r&&m(r,"%")){i=Number(r.replace("%",""))/100;r=e.height*i}return{maxWidth:void 0===t?void 0:Number(t),maxHeight:void 0===n?void 0:Number(n),minWidth:void 0===o?void 0:Number(o),minHeight:void 0===r?void 0:Number(r)}
})),v=["style","className","grid","snap","bounds","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],y="__resizable_base__",O=function(e){function t(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableTop=0,n.targetLeft=0,n.targetTop=0,n.state={isResizing:!1,resizeCursor:"auto",width:void 0===(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:void 0===(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0}},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),
"undefined"!=typeof window&&(window.addEventListener("mouseup",n.onMouseUp),window.addEventListener("mousemove",n.onMouseMove),window.addEventListener("mouseleave",n.onMouseUp),window.addEventListener("touchmove",n.onMouseMove),window.addEventListener("touchend",n.onMouseUp)),n}return o(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||d},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"base",{get:function(){var e=this.parentNode;if(e)for(var t=0,n=[].slice.call(e.children);t<n.length;t++){var o=n[t];if(o instanceof HTMLElement&&o.classList.contains(y))return o}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if("undefined"!=typeof window&&this.resizable){
var n=this.resizable.offsetWidth,o=this.resizable.offsetHeight,r=this.resizable.style.position;"relative"!==r&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:o,this.resizable.style.position=r}return{width:e,height:t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&m(e.propsSize[t].toString(),"%")){if(m(e.state[t].toString(),"%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return b(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?b(t.width):n("width"),height:t&&void 0!==t.height&&!this.state.isResizing?b(t.height):n("height")}},enumerable:!0,configurable:!0}),
t.prototype.getParentSize=function(){if(!this.base||!this.parentNode)return{width:window.innerWidth,height:window.innerHeight};var e=!1,t=this.parentNode.style.flexWrap,n=this.base.style.minWidth;"wrap"!==t&&(e=!0,this.parentNode.style.flexWrap="wrap"),this.base.style.position="relative",this.base.style.minWidth="100%";var o={width:this.base.offsetWidth,height:this.base.offsetHeight};return this.base.style.position="absolute",e&&(this.parentNode.style.flexWrap=t),this.base.style.minWidth=n,o},t.prototype.componentDidMount=function(){this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height});var e=this.parentNode;if(e instanceof HTMLElement&&!this.base){var t=document.createElement("div");t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0",t.classList?t.classList.add(y):t.className+=y,e.appendChild(t)}},t.prototype.componentWillUnmount=function(){
if("undefined"!=typeof window){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseleave",this.onMouseUp),window.removeEventListener("touchmove",this.onMouseMove),window.removeEventListener("touchend",this.onMouseUp);var e=this.parentNode;if(!this.base||!e)return;if(!(e instanceof HTMLElement&&this.base instanceof Node))return;e.removeChild(this.base)}},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==n&&"auto"!==n?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){if("parent"===this.props.bounds){var n=this.parentNode;if(n instanceof HTMLElement){var o=n.offsetWidth+(this.parentLeft-this.resizableLeft),r=n.offsetHeight+(this.parentTop-this.resizableTop);e=e&&e<o?e:o,t=t&&t<r?t:r}}else if("window"===this.props.bounds){if("undefined"!=typeof window){
o=window.innerWidth-this.resizableLeft,r=window.innerHeight-this.resizableTop;e=e&&e<o?e:o,t=t&&t<r?t:r}}else if(this.props.bounds instanceof HTMLElement){o=this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),r=this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop);e=e&&e<o?e:o,t=t&&t<r?t:r}return{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,o=this.props.resizeRatio||1,r=this.state,i=r.direction,s=r.original,a=this.props,c=a.lockAspectRatio,l=a.lockAspectRatioExtraHeight,d=a.lockAspectRatioExtraWidth,u=s.width,p=s.height,f=l||0,m=d||0;return h("right",i)&&(u=s.width+(e-s.x)*o/n,c&&(p=(u-m)/this.ratio+f)),h("left",i)&&(u=s.width-(e-s.x)*o/n,c&&(p=(u-m)/this.ratio+f)),h("bottom",i)&&(p=s.height+(t-s.y)*o/n,c&&(u=(p-f)*this.ratio+m)),h("top",i)&&(p=s.height-(t-s.y)*o/n,c&&(u=(p-f)*this.ratio+m)),{newWidth:u,newHeight:p}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,o){
var r=this.props,i=r.lockAspectRatio,s=r.lockAspectRatioExtraHeight,a=r.lockAspectRatioExtraWidth,c=void 0===o.width?10:o.width,l=void 0===n.width||n.width<0?e:n.width,d=void 0===o.height?10:o.height,p=void 0===n.height||n.height<0?t:n.height,h=s||0,f=a||0;if(i){var m=(d-h)*this.ratio+f,b=(p-h)*this.ratio+f,g=(c-f)/this.ratio+h,v=(l-f)/this.ratio+h,y=Math.max(c,m),O=Math.min(l,b),E=Math.max(d,g),w=Math.min(p,v);e=u(e,y,O),t=u(t,E,w)}else e=u(e,c,l),t=u(t,d,p);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e instanceof HTMLElement){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds instanceof HTMLElement){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var o=this.resizable.getBoundingClientRect(),r=o.left,i=o.top;this.resizableLeft=r,this.resizableTop=i}},
t.prototype.onResizeStart=function(e,t){var n=0,o=0;if(e.nativeEvent instanceof MouseEvent){if(n=e.nativeEvent.clientX,o=e.nativeEvent.clientY,3===e.nativeEvent.which)return}else e.nativeEvent instanceof TouchEvent&&(n=e.nativeEvent.touches[0].clientX,o=e.nativeEvent.touches[0].clientY);if(this.props.onResizeStart&&(this.resizable&&!1===this.props.onResizeStart(e,t,this.resizable)))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height,this.setBoundingClientRect(),this.setState({original:{x:n,y:o,width:this.size.width,height:this.size.height},isResizing:!0,resizeCursor:window.getComputedStyle(e.target).cursor||"auto",direction:t})},
t.prototype.onMouseMove=function(e){if(this.state.isResizing&&this.resizable){var t=this.props,n=t.maxWidth,o=t.maxHeight,r=t.minWidth,i=t.minHeight,s=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,a=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,c=this.state,l=c.direction,d=c.original,u=c.width,h=c.height,b=this.getParentSize(),v=g(b,n,o,r,i);n=v.maxWidth,o=v.maxHeight,r=v.minWidth,i=v.minHeight;var y=this.calculateNewSizeFromDirection(s,a),O=y.newHeight,E=y.newWidth,w=this.calculateNewMaxFromBoundary(n,o),S=this.calculateNewSizeFromAspectRatio(E,O,{width:w.maxWidth,height:w.maxHeight},{width:r,height:i});if(E=S.newWidth,O=S.newHeight,this.props.grid){var k=p(E,this.props.grid[0]),x=p(O,this.props.grid[1]),C=this.props.snapGap||0;E=0===C||Math.abs(k-E)<=C?k:E,O=0===C||Math.abs(x-O)<=C?x:O}this.props.snap&&this.props.snap.x&&(E=f(E,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(O=f(O,this.props.snap.y,this.props.snapGap));var T={
width:E-d.width,height:O-d.height};if(u&&"string"==typeof u)if(m(u,"%"))E=E/b.width*100+"%";else if(m(u,"vw")){E=E/window.innerWidth*100+"vw"}else if(m(u,"vh")){E=E/window.innerHeight*100+"vh"}if(h&&"string"==typeof h)if(m(h,"%"))O=O/b.height*100+"%";else if(m(h,"vw")){O=O/window.innerWidth*100+"vw"}else if(m(h,"vh")){O=O/window.innerHeight*100+"vh"}this.setState({width:this.createSizeForCssProperty(E,"width"),height:this.createSizeForCssProperty(O,"height")}),this.props.onResize&&this.props.onResize(e,l,this.resizable,T)}},t.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,o=t.direction,r=t.original;if(n&&this.resizable){var i={width:this.size.width-r.width,height:this.size.height-r.height};this.props.onResizeStop&&this.props.onResizeStop(e,o,this.resizable,i),this.props.size&&this.setState(this.props.size),this.setState({isResizing:!1,resizeCursor:"auto"})}},t.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},
t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,o=t.handleStyles,r=t.handleClasses,i=t.handleWrapperStyle,s=t.handleWrapperClass,l=t.handleComponent;if(!n)return null;var d=Object.keys(n).map((function(t){return!1!==n[t]?a.createElement(c.Resizer,{key:t,direction:t,onResizeStart:e.onResizeStart,replaceStyles:o&&o[t],className:r&&r[t]},l&&l[t]?l[t]:null):null}));return a.createElement("span",{className:s,style:i},d)},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce((function(t,n){return-1!==v.indexOf(n)||(t[n]=e.props[n]),t}),{});return a.createElement("div",r({ref:function(t){t&&(e.resizable=t)},style:r({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style,this.sizeStyle,{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box"}),className:this.props.className},t),this.state.isResizing&&a.createElement("div",{style:{
height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:""+(this.state.resizeCursor||"auto"),opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"}}),this.props.children,this.renderResizer())},t.defaultProps={onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(a.PureComponent);t.Resizable=O},WXBT:function(e,t,n){"use strict";let o;n.d(t,"a",(function(){return o})),function(e){e.SET_KEYBOARD_HEIGHT="SET_KEYBOARD_HEIGHT",e.SET_WINDOW_HEIGHT="SET_WINDOW_HEIGHT",e.SET_MOBILE_PADDING_TOP="SET_MOBILE_PADDING_TOP",e.SET_IS_EXPANDED="SET_IS_EXPANDED"}(o||(o={}))},Wabn:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("lSNA"),r=n.n(o),i=n("CsC6"),s=n("MEpN");const a="atlaskit-analytics";var c
;!function(e){e.UNDID="undid",e.REDID="redid"}(c||(c={}));class l extends i.f{constructor(e,t=[],n){super(),r()(this,"analyticsEvents",[]),r()(this,"actionsToIgnore",[]),this.analyticsEvents=e,this.actionsToIgnore=t,this.pos=n}invert(){const e=this.analyticsEvents.filter((e=>-1===this.actionsToIgnore.indexOf(e.payload.action))).map((e=>function(e){return e.payload.action===c.UNDID||e.payload.action===c.REDID}(e)?(e=>({...e,payload:{...e.payload,action:e.payload.action===c.UNDID?c.REDID:c.UNDID}}))(e):function(e){var t;return{...e,payload:{action:c.UNDID,actionSubject:e.payload.actionSubject,actionSubjectId:e.payload.action,attributes:{...e.payload.attributes,actionSubjectId:e.payload.actionSubjectId,inputMethod:(null===(t=e.payload.attributes)||void 0===t?void 0:t.inputMethod)||""},eventType:"track"}}}(e)));return new l(e,[])}apply(e){return i.h.ok(e)}map(e){let t=this.pos;return"number"==typeof t&&(t=e.map(t)),new l(this.analyticsEvents,this.actionsToIgnore,t)}getMap(){
return"number"==typeof this.pos?new i.g([this.pos,0,0]):new i.g([])}merge(e){if(e instanceof l){const t=e.analyticsEvents;return new l([...t,...this.analyticsEvents])}return null}toJSON(){return{stepType:a}}static fromJSON(){return new i.e(0,0,s.Slice.empty)}}i.f.jsonID(a,l)},"Wd+7":function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"e",(function(){return p}));const o=e=>e&&Object.values(n("FOo9").b).includes(e.id)&&"string"==typeof e.trigger&&"function"==typeof e.selectItem&&"function"==typeof e.getItems,r=e=>{var t,o;return(null===n("yUK8").a||void 0===n("yUK8").a||null===(t=n("yUK8").a.getState(e))||void 0===t||null===(o=t.decorationSet)||void 0===o?void 0:o.find().length)>0
},i=e=>n("yUK8").a.getState(e),s=e=>n("yUK8").a.getState(e).triggerHandler,a=e=>n("yUK8").a.getState(e).query,c=e=>!r(e),l=(e,t)=>{const o=n("yUK8").a.getState(t);if(!o||!o.typeAheadHandlers||0===o.typeAheadHandlers.length)return null;const{typeAheadHandlers:r}=o;return r.find((t=>t.id===e))||null},d=({trigger:e,editorState:t})=>{const o=n("yUK8").a.getState(t);if(!o||!o.typeAheadHandlers||0===o.typeAheadHandlers.length)return null;const{typeAheadHandlers:r}=o;return r.find((t=>t.trigger===e))||null},u=({editorView:e,direction:t,useBetterTypeaheadNavigation:o})=>()=>{const r=i(e.state);if(!r)return;const{selectedIndex:s,items:a}=r,c=r.stats instanceof n("TBml").a?r.stats:new(n("TBml").a);let l;"next"===t?(c.increaseArrowDown(),l=o&&-1===s&&a.length>1?1:s>=a.length-1?0:s+1):(c.increaseArrowUp(),l=s<=0?a.length-1:s-1),Object(n("j4JT").a)(l)(e.state,e.dispatch)},p=(e,t,o)=>{var r,i,s,a,c;switch(e){case"@":return{popupAriaLabel:t.formatMessage(n("x6oP").a.mentionPopupLabel),
listItemAriaLabel:t.formatMessage(n("x6oP").a.metionListItemLabel,{name:(null==o||null===(r=o.mention)||void 0===r?void 0:r.name)||"",shortName:(null==o||null===(i=o.mention)||void 0===i?void 0:i.mentionName)||""})};case"/":return{popupAriaLabel:t.formatMessage(n("x6oP").a.quickInsertPopupLabel),listItemAriaLabel:t.formatMessage(n("x6oP").a.emojiListItemLabel,{name:(null==o?void 0:o.title)||"",shortcut:(null==o||null===(s=o.emoji)||void 0===s?void 0:s.shortName)||""})};case":":return{popupAriaLabel:t.formatMessage(n("x6oP").a.emojiPopupLabel),listItemAriaLabel:t.formatMessage(n("x6oP").a.emojiListItemLabel,{name:(null==o||null===(a=o.emoji)||void 0===a?void 0:a.name)||"",shortcut:(null==o||null===(c=o.emoji)||void 0===c?void 0:c.shortName)||""})};default:return{popupAriaLabel:t.formatMessage(n("x6oP").a.typeAheadPopupLabel)}}}},WdXo:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),s=n.n(i),a=n("17x9"),c=n.n(a)
;class l extends s.a.Component{constructor(...e){super(...e),r()(this,"onContextUpdate",(()=>{this.forceUpdate()}))}componentDidMount(){this.context.editorActions._privateSubscribe(this.onContextUpdate)}componentWillUnmount(){this.context.editorActions._privateUnsubscribe(this.onContextUpdate)}render(){return this.props.render(this.context.editorActions)}}l.displayName="WithEditorActions",r()(l,"contextTypes",{editorActions:c.a.object.isRequired})},WfRv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12.062 13.93c-.904 0-1.451-.734-1.451-1.945 0-1.226.538-1.952 1.466-1.952.928 0 1.422.764 1.422 1.967 0 1.195-.502 1.93-1.438 1.93M12 5c-3.925 0-7 3.075-7 7 0 4.596 3.522 7 7 7 .874 0 1.614-.09 2.26-.279a.751.751 0 00-.42-1.44c-.508.147-1.11.22-1.84.22-2.648 0-5.5-1.722-5.5-5.5 0-3.085 2.417-5.5 5.5-5.5 3.24 0 5.5 1.952 5.5 4.75 0 2.045-1.043 3-1.748 3-.008 0-.752-.11-.752-.75v-4a.75.75 0 10-1.5 0v.187c-.346-.585-1.016-.952-1.795-.952C10.102 8.736 9 10.04 9 11.938c0 1.984 1.103 3.312 2.753 3.312.865 0 1.51-.387 1.865-1.076.334 1.016 1.37 1.576 2.132 1.576 1.598 0 3.25-1.683 3.25-4.5C19 7.628 16.058 5 12 5" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorMentionIcon";var s=i;t.default=s},Wi02:function(e,t,n){"use strict";n("q1tI");var o=n("CnBM");const r={name:"c1gsw5",styles:"display:flex;align-items:center;justify-content:center;height:100%;width:100%"
},i=n.n(o)()({loader:()=>n.e("@atlaskit-internal_editor-element-browser").then(n.bind(null,"C+VI")).then((e=>e.default)),loading:()=>Object(n("AeFk").jsx)("div",{css:r},Object(n("AeFk").jsx)(n("6UK4").a,{size:"medium"}))});t.a=i},WjMa:function(e,t,n){"use strict";n.r(t);var o=n("pVnL"),r=n.n(o),i=n("q1tI"),s=n.n(i);const a=e=>{const[{activityProvider:t,contextIdentifier:o,getEncodedMention:i,mediaContext:a,mentionProvider:c,sharedAtTimestamp:l,sharedValue:d,onEditorExpandedFailure:u,onEditorSaveFailure:p,onEditorClearSharedValues:h}]=Object(n("g2hJ").d)();return a?s.a.createElement(n("CPx4").a,r()({mediaContext:a,contextIdentifier:o||void 0,mentionProvider:c,activityProvider:t||void 0,mentionEncoder:i,sharedAtTimestamp:null!=l?l:void 0,sharedValue:d,onExpandedFailure:u,onSaveFailure:p,clearSharedValues:h,useStickyToolbar:!0},e)):null};a.displayName="ConnectedEditor",t.default=a},WpRT:function(e,t,n){var o=n("s2er")("keys"),r=n("ixoo");e.exports=function(e){return o[e]||(o[e]=r(e))}},
Wtre:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),s=n.n(i),a=n("pVnL"),c=n.n(a),l=n("17x9"),d=n.n(l);class u extends s.a.Component{constructor(...e){super(...e),r()(this,"handleSave",(e=>()=>{this.props.onSave(e)})),r()(this,"handleCancel",(e=>()=>{this.props.onCancel(e)})),r()(this,"handleChange",(e=>()=>{this.props.onChange(e)}))}render(){if(this.context.editorActions){const{editorActions:e}=this.context;return s.a.createElement(n("LVTJ").a,c()({},this.props,{onSave:this.props.onSave?this.handleSave(e):void 0,onChange:this.props.onChange?this.handleChange(e):void 0,onCancel:this.props.onCancel?this.handleCancel(e):void 0}))}return s.a.createElement(n("GqfY").a,null,s.a.createElement(n("WdXo").a,{render:e=>s.a.createElement(n("LVTJ").a,c()({},this.props,{onSave:this.props.onSave?this.handleSave(e):void 0,onChange:this.props.onChange?this.handleChange(e):void 0,onCancel:this.props.onCancel?this.handleCancel(e):void 0}))}))}}
u.displayName="EditorWithActions",r()(u,"contextTypes",{editorActions:d.a.object.isRequired});const p=Object(n("AeFk").css)("input&{background-color:var(--ds-background-input, white);border:1px solid ",`var(--ds-border-input, ${n("anI9").L})`,";border-radius:",Object(n("7w+A").borderRadius)(),"px;box-sizing:border-box;height:40px;padding-left:20px;padding-top:12px;padding-bottom:12px;font-size:",Object(n("anI9").fb)(14),";width:100%;font-weight:400;line-height:1.42857142857143;letter-spacing:-0.005em;color:","var(--ds-text-subtlest, #5E6C84)",";&:hover{background-color:var(--ds-background-input-hovered, white);border-color:","var(--ds-border-input, #C1C7D0)",";cursor:text;}}"),h=Object(n("D6b/").defineMessages)({chromeCollapsedPlaceholder:{id:"fabric.editor.chromeCollapsedPlaceholder",defaultMessage:"Type something\u2026",description:"placeholder for an input where users insert text"}});class f extends i.PureComponent{constructor(...e){super(...e),r()(this,"focusHandler",(e=>{
this.input&&this.input.blur(),this.props.onFocus&&this.props.onFocus(e)})),r()(this,"handleInputRef",(e=>{this.input=e}))}render(){const e=this.props.text||this.props.intl.formatMessage(h.chromeCollapsedPlaceholder);return Object(n("AeFk").jsx)("input",{"data-testid":"chrome-collapsed",css:p,ref:this.handleInputRef,onFocus:this.focusHandler,placeholder:e})}}f.displayName="ChromeCollapsed";var m=Object(n("o5hF").c)(f);class b extends s.a.Component{constructor(...e){super(...e),r()(this,"handleEditorRef",((e,t)=>{t&&"function"==typeof t&&t(e),this.editorComponent=e}))}componentDidUpdate(){var e,t;!this.props.isExpanded||!this.editorComponent||this.previouslyExpanded&&void 0!==this.previouslyExpanded||(null===(e=(t=this.props).onExpand)||void 0===e||e.call(t));this.previouslyExpanded=this.props.isExpanded}render(){const e=s.a.Children.only(this.props.children)
;if(e.type!==n("LVTJ").a&&e.type!==u&&e.type!==n("HixG").a&&e.type!==n("qvvn").a)throw new Error("Expected child to be of type `Editor`");return this.props.isExpanded?s.a.cloneElement(e,{ref:t=>this.handleEditorRef(t,e.ref)}):s.a.createElement(n("+EM5").a,null,s.a.createElement(m,{onFocus:this.props.onFocus,text:this.props.placeholder}))}}b.displayName="CollapsedEditor"},WvEr:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),i=n("fwbU");let s;!function(e){e.COMPONENT="component",e.CONSUMER="consumer",e.ORPHANED="orphaned"}(s||(s={}));var a=n("V2qZ");class c extends n("gVP2").a{createDomRef(){return document.createElement("span")}getContentDOM(){const e=document.createElement("span");return e.className="ak-editor-annotation",{dom:e}}render(e,t){return r.a.createElement("span",{"data-mark-type":"annotation",ref:t})}}c.displayName="AnnotationNodeView";const l=(e,t)=>{if(e)return t?n("xLj0").b.focus:n("xLj0").b.blur},d=async(e,t,o)=>{if(!t||!t.length)return;const r=await(async(e,t)=>{
const o=await e.getState(t);let r={};return o.forEach((e=>{e.annotationType===n("yGJy").b.INLINE_COMMENT&&(r[e.id]=e.state.resolved)})),r})(e,t);o.dispatch&&Object(n("gr0J").g)(r)(o.state,o.dispatch)},u=(e=!1)=>({annotations:{},selectedAnnotations:[],mouseData:{isSelecting:!1},disallowOnWhitespace:e,isVisible:!0}),p=e=>{const{provider:t,portalProviderAPI:o,eventDispatcher:r}=e;return new(n("KkS8").a)({key:n("CAky").i,state:Object(n("mivK").b)(e.dispatch,u(t.disallowOnWhitespace)),view(e){d(t,Object(n("CAky").d)(e.state.doc),e);const o=t=>((e,t)=>o=>{Object(n("gr0J").g)({[o]:!0},s.CONSUMER)(e,t)})(e.state,e.dispatch)(t),r=t=>((e,t)=>o=>{Object(n("gr0J").g)({[o]:!1})(e,t)})(e.state,e.dispatch)(t),i=t=>((e,t)=>o=>{const{mouseData:{isSelecting:r}}=Object(n("CAky").g)(e);r&&Object(n("gr0J").h)({isSelecting:!1})(e,t)})(e.state,e.dispatch)(t),a=t=>(e=>t=>{const{state:o,dispatch:r}=e;Object(n("gr0J").f)(t)(o,r),t&&e.focus()})(e)(t),{updateSubscriber:c}=t
;return c&&c.on("resolve",o).on("delete",o).on("unresolve",r).on("create",r).on("setvisibility",a),e.root.addEventListener("mouseup",i),{update(e,o){const{dirtyAnnotations:r}=Object(n("CAky").g)(e.state);r&&(Object(n("gr0J").a)()(e.state,e.dispatch),d(t,Object(n("CAky").d)(e.state.doc),e))},destroy(){e.root.removeEventListener("mouseup",i),c&&c.off("resolve",o).off("delete",o).off("unresolve",r).off("create",r).off("setvisibility",a)}}},props:{nodeViews:{annotation:(e,t,n)=>new c(e,t,n,o,r).init()},handleDOMEvents:{mousedown:e=>(Object(n("CAky").g)(e.state).mouseData.isSelecting||((e,t)=>()=>{Object(n("gr0J").h)({isSelecting:!0})(e,t)})(e.state,e.dispatch)(),!1)},decorations(e){const{draftDecorationSet:t,annotations:o,selectedAnnotations:r,isVisible:i}=Object(n("CAky").g)(e);let s=null!=t?t:a.b.empty;const c=[];return e.doc.descendants(((t,n)=>{t.marks.filter((t=>t.type===e.schema.marks.annotation)).forEach((e=>{const s=r.some((t=>t.id===e.attrs.id)),d=!1===o[e.attrs.id]
;i&&c.push(a.a.inline(n,n+t.nodeSize,{class:`${l(d,s)} ${d}`,nodeName:"span"}))}))})),s=s.add(e.doc,c),s}}})};var h=n("mG1W");class f extends r.a.PureComponent{componentDidMount(){const{onViewed:e}=this.props;e&&e()}render(){return this.props.children}}f.displayName="AnnotationViewWrapper";function m({providers:e,editorView:t,dispatchAnalyticsEvent:o}){const{inlineComment:i}=e,{state:a,dispatch:c}=t,{createComponent:l,viewComponent:d}=i,u=Object(n("CAky").g)(a),{bookmark:p,selectedAnnotations:m,annotations:b}=u,g=Object(n("CAky").h)(a,u),v=(e=>{const{$from:t,from:n}=e,o=t.index();return!(o<t.parent.childCount&&t.parent.child(o))&&t.nodeBefore&&t.nodeBefore.isText&&t.nodeBefore.marks.find((e=>"annotation"===e.type.name))?n-1:n})(g);let y;try{y=Object(h.findDomRefAtPos)(v,t.domAtPos.bind(t))}catch(E){if(console.warn(E),o){const e={action:n("+PNV").a.ERRORED,actionSubject:n("+PNV").b.CONTENT_COMPONENT,eventType:n("+PNV").e.OPERATIONAL,attributes:{component:n("+PNV").d.INLINE_COMMENT,
selection:g.toJSON(),position:v,docSize:t.state.doc.nodeSize,error:E.toString()},nonPrivacySafeAttributes:{errorStack:E.stack||void 0}};o(e)}}if(!y)return null;if(p){if(!l)return null;const e=a.doc.textBetween(g.from,g.to);return r.a.createElement("div",{"data-testid":n("nnUN").b.floatingComponent,"data-editor-popup":"true"},r.a.createElement(l,{dom:y,textSelection:e,onCreate:e=>{Object(n("gr0J").c)(e)(t.state,t.dispatch),!t.hasFocus()&&t.focus()},onClose:()=>{Object(n("gr0J").e)(!1)(t.state,t.dispatch),!t.hasFocus()&&t.focus()}}))}const O=m.filter((e=>!1===b[e.id]));if(!d||0===O.length)return null;return m?r.a.createElement(f,{"data-editor-popup":"true","data-testid":n("nnUN").b.floatingComponent,key:Object(n("CAky").e)(O),onViewed:()=>{if(!o)return;const e={action:n("+PNV").a.VIEWED,actionSubject:n("+PNV").b.ANNOTATION,actionSubjectId:n("+PNV").c.INLINE_COMMENT,eventType:n("+PNV").e.TRACK,attributes:{overlap:O.length?O.length-1:0}};o(e)}},r.a.createElement(d,{annotations:O,dom:y,
onDelete:e=>Object(n("gr0J").d)(e)(a,c),onResolve:e=>Object(n("gr0J").g)({[e]:!0},s.COMPONENT)(t.state,t.dispatch),onClose:()=>{Object(n("gr0J").b)()(t.state,t.dispatch)}})):null}t.a=e=>({name:"annotation",marks:()=>[{name:"annotation",mark:n("yGJy").c}],pmPlugins:()=>[{name:"annotation",plugin:({dispatch:t,portalProviderAPI:n,eventDispatcher:o})=>{if(e)return p({dispatch:t,portalProviderAPI:n,eventDispatcher:o,provider:e.inlineComment})}},{name:"annotationKeymap",plugin:()=>{if(e)return function(){const e={};return Object(n("QNHL").l)(n("QNHL").e.common,Object(n("gr0J").e)(!0,n("+PNV").f.SHORTCUT),e),Object(i.b)(e)}()}}],pluginsOptions:{floatingToolbar(t,o){if(!e)return;const r=Object(n("CAky").g)(t);if(r&&r.isVisible&&!r.bookmark&&!r.mouseData.isSelecting){const{isToolbarAbove:r}=e.inlineComment;return Object(n("E7O/").b)(t,o,r)}}},contentComponent:({editorView:t,dispatchAnalyticsEvent:o})=>e?r.a.createElement(n("fd7e").a,{plugins:{selectionState:n("EfUG").b,
inlineCommentState:n("CAky").i},render:({inlineCommentState:n})=>n&&!n.isVisible?null:r.a.createElement("div",{"data-editor-popup":"true"},r.a.createElement(m,{providers:e,editorView:t,dispatchAnalyticsEvent:o}))}):null})},WwMu:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return m}));var o=n("pVnL"),r=n.n(o),i=n("q1tI");const s=Object(n("D6b/").defineMessages)({collapseNode:{id:"fabric.editor.collapseNode",defaultMessage:"Collapse content",description:"Collapse the node"},expandDefaultTitle:{id:"fabric.editor.expandDefaultTitle",defaultMessage:"Click here to expand...",description:"Placeholder text for an expand node"},expandNode:{id:"fabric.editor.expandNode",defaultMessage:"Expand content",description:"Expand the node"},expandPlaceholderText:{id:"fabric.editor.expandPlaceholder",defaultMessage:"Give this expand a title...",
description:"Placeholder text for an expand node title input field"}}),a=Object(n("7w+A").gridSize)()/2,c=Object(n("56zV").a)({light:"var(--ds-surface, rgba(255, 255, 255, 0.6))",dark:"var(--ds-surface, rgba(9, 10, 11, 0.29))"}),l=Object(n("56zV").a)({light:"var(--ds-border, rgba(9, 30, 66, 0.13))",dark:"var(--ds-border, #283447)"}),d=({children:e,expanded:t})=>Object(n("AeFk").jsx)("div",{css:e=>t?[u(e),p]:u(e)},e),u=e=>Object(n("AeFk").css)("cursor:pointer;display:flex;color:",Object(n("56zV").a)({light:"var(--ds-icon, #8993A4)",dark:"var(--ds-icon, #d9dde3)"})(e),";border-radius:",Object(n("7w+A").gridSize)()/2,"px;width:24px;height:24px;&:hover{background:","var(--ds-background-neutral-subtle-hovered, rgba(9, 30, 66, 0.08))",";}svg{transition:transform 0.2s ",n("anI9").M,";}"),p={name:"1uoxr6z",styles:"svg{transform:rotate(90deg);}"},h=Object(n("AeFk").css)("width:",3*Object(n("7w+A").gridSize)(),"px;height:",3*Object(n("7w+A").gridSize)(),"px;"),f=Object(i.forwardRef)(((e,t)=>{
const{children:o,...i}=e;return Object(n("AeFk").jsx)("div",r()({css:h},i,{ref:t}),o)})),m={titleInputStyles:e=>Object(n("AeFk").css)("outline:none;border:none;font-size:",Object(n("anI9").fb)(Object(n("7w+A").fontSize)()),";line-height:",n("anI9").v,";font-weight:normal;color:",Object(n("56zV").a)({light:"var(--ds-text-subtlest, rgba(9, 30, 66, 0.60))",dark:"var(--ds-text-subtlest, #B8C7E0)"})(e),";background:transparent;display:flex;flex:1;padding:0 0 0 ",Object(n("7w+A").gridSize)()/2,"px;width:100%;&::placeholder{opacity:0.6;color:",Object(n("56zV").a)({light:"var(--ds-text-subtlest, rgba(9, 30, 66, 0.60))",dark:"var(--ds-text-subtlest, #B8C7E0)"})(e),";}"),titleContainerStyles:e=>Object(n("AeFk").css)("padding:0;display:flex;align-items:flex-start;background:none;border:none;font-size:",Object(n("anI9").fb)(Object(n("7w+A").fontSize)()),";width:100%;color:",Object(n("56zV").a)({light:"var(--ds-text-subtle, rgba(9, 30, 66, 0.66))",dark:"var(--ds-text-subtle, #B8C7E0)"
})(e),";overflow:hidden;cursor:pointer;user-select:none;&:focus{outline:0;}"),containerStyles:e=>{const{expanded:t,focused:o}=e,r=`${Object(n("7w+A").gridSize)()/2/Object(n("7w+A").fontSize)()+"rem"} ${"expand"===e["data-node-type"]?`-${n("anI9").Y}px`:0} 0`;return e=>Object(n("AeFk").css)("border-width:1px;border-style:solid;border-color:",o?"var(--ds-border-focused, #0065FF)":t?l(e):"transparent",";border-radius:",a,"px;min-height:25px;background:",t?c(e):"var(--ds-background-neutral-subtle, transparent)",";margin:",r,";transition:background 0.3s ",n("anI9").M,",border-color 0.3s ",n("anI9").M,";padding:",Object(n("7w+A").gridSize)(),"px;&:hover{border:1px solid ",Object(n("56zV").a)({light:"var(--ds-border, rgba(9, 30, 66, 0.25))",dark:"var(--ds-border, #283447)"})(e),";background:",c(e),";}td>:not(style):first-child,td>style:first-child+*{margin-top:0;}")},
contentStyles:e=>t=>Object(n("AeFk").css)("padding-top:",e.expanded?Object(n("7w+A").gridSize)():0,"px;padding-right:",Object(n("7w+A").gridSize)(),"px;padding-left:",4*Object(n("7w+A").gridSize)()-Object(n("7w+A").gridSize)()/2,"px;display:flow-root;@supports not (display: flow-root){width:100%;box-sizing:border-box;}",e.expanded?"":"\n        .expand-content-wrapper, .nestedExpand-content-wrapper {\n          /* We visually hide the content here to preserve the content during copy+paste */\n          width: 100%;\n          display: block;\n          height: 0;\n          overflow: hidden;\n          clip: rect(1px, 1px, 1px, 1px);\n          white-space: nowrap;\n          user-select: none;\n        }\n      ",";")}},Wx28:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));const o=new(n("UxO+").PluginKey)("contextIdentiferPlugin"),r=e=>{var t;if(e)return null===(t=o.getState(e))||void 0===t?void 0:t.contextIdentifierProvider};t.a=(e,t)=>new(n("KkS8").a)({key:o,state:{
init:()=>({}),apply:(e,t)=>e.getMeta(o)?e.getMeta(o):t},view:e=>{const n=(t,n)=>{n&&"contextIdentifierProvider"===t&&n.then((t=>{const n=e.state.tr.setMeta(o,{contextIdentifierProvider:{...t}});e.dispatch(n)}))};return t&&t.subscribe("contextIdentifierProvider",n),{destroy:()=>{t&&t.unsubscribe("contextIdentifierProvider",n)}}}})},WzQf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return a}));const o=e=>({action:n("+PNV").a.CLICKED,actionSubject:e===n("+PNV").c.HYPERLINK?n("+PNV").b.HYPERLINK:n("+PNV").b.SMART_LINK,actionSubjectId:n("+PNV").c.EDIT_LINK,attributes:e!==n("+PNV").c.HYPERLINK?{display:e}:{},eventType:n("+PNV").e.UI}),r=e=>{switch(e){case n("+PNV").c.CARD_INLINE:return"inline";case n("+PNV").c.CARD_BLOCK:return"block";case n("+PNV").c.EMBEDS:return"embed";default:return"url"}},i=e=>e===n("+PNV").c.HYPERLINK?{action:n("+PNV").a.VISITED,
actionSubject:n("+PNV").b.HYPERLINK,actionSubjectId:void 0,attributes:{inputMethod:n("+PNV").f.TOOLBAR},eventType:n("+PNV").e.TRACK}:{action:n("+PNV").a.VISITED,actionSubject:n("+PNV").b.SMART_LINK,actionSubjectId:e,attributes:{inputMethod:n("+PNV").f.TOOLBAR},eventType:n("+PNV").e.TRACK},s=e=>({action:n("+PNV").a.CLICKED,actionSubject:n("+PNV").b.BUTTON,actionSubjectId:n("+PNV").c.GOTO_SMART_LINK_SETTINGS,attributes:{inputMethod:n("+PNV").f.TOOLBAR,display:r(e)},eventType:n("+PNV").e.UI}),a=e=>({action:n("+PNV").a.UNLINK,actionSubject:e===n("+PNV").c.HYPERLINK?n("+PNV").b.HYPERLINK:n("+PNV").b.SMART_LINK,actionSubjectId:e===n("+PNV").c.HYPERLINK?void 0:e,attributes:{inputMethod:n("+PNV").f.TOOLBAR},eventType:n("+PNV").e.TRACK})},X6Aa:function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"c",(function(){
return f})),n.d(t,"g",(function(){return m}));var o=n("UxO+"),r=n("hyZr");function i(e,t=!0,o){const r=e.marks.find((e=>"link"===e.type.name));if(!r)return!1;const i=Object(n("Z7Qe").f)(n("Lb0w").a.normalizeLinkText(r.attrs.href)),s=Object(n("Z7Qe").f)(n("Lb0w").a.normalizeLinkText(e.text||""));if(t&&i!==s)return!1;if(o){if(Object(n("Z7Qe").f)(n("Lb0w").a.normalizeLinkText(o))!==i)return!1}return!0}const s=(e,t,o)=>(s,a)=>{const c=n("O8Sv").a.getState(s);if(!c)return!1;const l=c.requests.filter((t=>t.url===e)),d=s.schema,u=Object(n("x+VZ").n)(d,t);let p=s.tr;if(u){const t=l.map((e=>function(e,t,o,r){const{inlineCard:s}=o.nodes,{url:a}=r;if(!Object(n("Z7Qe").c)(a))return;const c=e.mapping.map(r.pos),l=e.doc.resolve(c),d=e.doc.nodeAt(c);if(!d||!d.type.isText)return;if(!r.shouldReplaceLink&&!i(d,r.compareLinkText,a))return;const u=[t];return t.type===s&&u.push(o.text(" ")),e.replaceWith(c,c+(d.text||a).length,u),l.node(l.depth-1).type.name}(p,u,d,e))).filter((e=>!!e));if(t.length){
const r=t.every((e=>e===t[0]))?t[0]:"mixed",i="inlineCard",[,,a]=e.split("/");c.smartLinkEvents&&c.smartLinkEvents.insertSmartLink(a,"inline",c.createAnalyticsEvent);const d=l[0].source,u=l[0].sourceEvent;Object(n("SVcB").a)(s,p,{action:o||n("+PNV").a.INSERTED,actionSubject:n("+PNV").b.DOCUMENT,actionSubjectId:n("+PNV").c.SMART_LINK,eventType:n("+PNV").e.TRACK,attributes:{inputMethod:d,nodeType:i,nodeContext:r,fromCurrentDomain:Object(n("CHQz").d)(e)},nonPrivacySafeAttributes:{domainName:a}}),Object(n("LofH").a)(s.selection,p,{action:o,inputMethod:d,cardAction:"RESOLVE",sourceEvent:u})}}return a&&a(Object(n("ost5").f)(e)(Object(r.a)(p))),!0},a=e=>(t,o)=>{if(!n("O8Sv").a.getState(t))return!1;const r=t.tr;return e.source!==n("+PNV").f.FLOATING_TB&&Object(n("SVcB").a)(t,r,Object(n("N1l4").a)(e.source,e.url)),Object(n("LofH").a)(t.selection,r,{action:e.analyticsAction,inputMethod:e.source}),o&&o(Object(n("ost5").f)(e.url)(r)),!0},c=(e,t,o,r,s=!0,a)=>{const{schema:c}=e,{link:l}=c.marks,d=[]
;return Object(n("x+VZ").l)(t,((e,t)=>{if(!e.isText)return!0;const n=e.marks.find((e=>e.type===l));if(n){if(!i(e,s))return!1;d.push({url:n.attrs.href,pos:t,appearance:"inline",compareLinkText:s,source:o,analyticsAction:r,sourceEvent:a})}return!1})),Object(n("LofH").a)(e.selection,t,{action:r}),Object(n("ost5").b)(d)(t)},l=(e,t,r,i,s)=>(a,c)=>{let l;l=i&&s?h(a,e,t,i,s):p(a,e,t);const d=a.selection instanceof o.NodeSelection&&a.selection.node;return r&&d&&Object(n("SVcB").a)(a,l,{action:n("+PNV").a.CHANGED_TYPE,actionSubject:n("+PNV").b.SMART_LINK,eventType:n("+PNV").e.TRACK,attributes:{newType:n("on6v").b.URL,previousType:Object(n("osj6").a)(d.type)}}),c&&c(l.scrollIntoView()),!0},d=(e,t,o,r,i)=>(s,a)=>{let c;return c=r&&i?h(s,e,t,r,i):p(s,e,t),o&&Object(n("SVcB").a)(s,c,{action:n("+PNV").a.ERRORED,actionSubject:n("+PNV").b.SMART_LINK,eventType:n("+PNV").e.OPERATIONAL,attributes:{error:"Smart card falling back to link."}}),a&&a(c.scrollIntoView()),!0},u=(e,t)=>(r,s)=>{
if(!(r.selection instanceof o.NodeSelection&&r.selection.node))return!1;const a=Object(n("osj6").d)(r),c=p(r,e,e);return((e,t,o,r,s=!0,a,c)=>{const{schema:l}=e,{link:d}=l.marks;let u=[];Object(n("x+VZ").l)(t,((e,t)=>{if(!e.isText)return!0;const n=e.marks.find((e=>e.type===d));if(n){if(!i(e,s))return!1;u.push({url:n.attrs.href,pos:t,appearance:"inline",previousAppearance:c,compareLinkText:s,source:o,analyticsAction:r,sourceEvent:a})}return!1})),Object(n("LofH").a)(e.selection,t,{action:r}),Object(n("ost5").b)(u)(t)})(r,c,n("+PNV").f.MANUAL,n("+PNV").a.UPDATED,void 0,t,a),s&&s(c.scrollIntoView()),!0};function p(e,t,n){const r=e.selection instanceof o.NodeSelection&&e.selection.node;if(!r)return e.tr;const{link:i}=e.schema.marks,s=r.attrs.url||r.attrs.data.url;return e.tr.replaceSelectionWith(e.schema.text(t||s,[i.create({href:n||s})]),!1)}function h(e,t,n,o,r){const{link:i}=e.schema.marks,s=o.attrs.url||o.attrs.data.url
;return e.tr.replaceWith(r,r+o.nodeSize,e.schema.text(t||s,[i.create({href:n||s})]))}const f=e=>(t,r)=>{if(!(t.selection instanceof o.NodeSelection&&t.selection.node))return!1;const i=t.tr.replaceSelectionWith(t.schema.text(e),!1);return r&&(Object(n("LofH").a)(t.selection,i,{action:n("+PNV").a.UNLINK}),Object(n("SVcB").a)(t,i.scrollIntoView(),Object(n("WzQf").d)(n("+PNV").c.CARD_INLINE)),r(i)),!0},m=e=>(t,r)=>{var i;const s=t.selection instanceof o.NodeSelection&&t.selection.node;if(!s){const o=((e,t,o,r=!0)=>{const{schema:i}=e,{link:s}=i.marks,a=[];return e.tr.doc.nodesBetween(e.selection.from,e.selection.to,((e,i)=>{const c=e.marks.find((e=>e.type===s));c&&a.push({url:c.attrs.href,pos:i,appearance:o,previousAppearance:"url",compareLinkText:r,source:t,analyticsAction:n("+PNV").a.CHANGED_TYPE,shouldReplaceLink:!0})})),Object(n("LofH").a)(e.selection,e.tr,{action:n("+PNV").a.CHANGED_TYPE}),Object(n("ost5").b)(a)(e.tr)})(t,n("+PNV").f.FLOATING_TB,e)
;return r&&(Object(n("LofH").a)(t.selection,o,{action:n("+PNV").a.CHANGED_TYPE}),r(o.scrollIntoView())),!1}if(Object(n("osj6").a)(s.type)===e)return!1;const a="embed"===e?{...s.attrs,layout:"center"}:s.attrs,{from:c,to:l}=t.selection,d=b(e,t.schema.nodes),u=t.tr.setNodeMarkup(c,d,a,s.marks);u.doc.nodeSize-2===l&&u.insertText(" ",l),u.setSelection(o.TextSelection.create(u.doc,l+1));const p=c-1>0?c-1:0,h=u.doc.nodeAt(p);return"paragraph"===(null==h||null===(i=h.type)||void 0===i?void 0:i.name)&&u.delete(p,c),Object(n("SVcB").a)(t,u,{action:n("+PNV").a.CHANGED_TYPE,actionSubject:n("+PNV").b.SMART_LINK,eventType:n("+PNV").e.TRACK,attributes:{newType:e,previousType:Object(n("osj6").a)(s.type)}}),Object(n("LofH").a)(t.selection,u,{action:n("+PNV").a.CHANGED_TYPE}),r&&r(u.scrollIntoView()),!0},b=(e,t)=>{switch(e){case"inline":return t.inlineCard;case"block":return t.blockCard;case"embed":return t.embedCard}}},X71X:function(e,t,n){"use strict"
;var o=n("4fNk"),r=n("Vwaf").HTML_OPEN_CLOSE_TAG_RE,i=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+o.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(r.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,n,o){var r,s,a,c,l=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(l))return!1;for(c=e.src.slice(l,d),r=0;r<i.length&&!i[r][0].test(c);r++);if(r===i.length)return!1;if(o)return i[r][2];if(s=t+1,!i[r][1].test(c))for(;s<n&&!(e.sCount[s]<e.blkIndent);s++)if(l=e.bMarks[s]+e.tShift[s],d=e.eMarks[s],c=e.src.slice(l,d),i[r][1].test(c)){0!==c.length&&s++;break}return e.line=s,(a=e.push("html_block","",0)).map=[t,s],a.content=e.getLines(t,s,e.blkIndent,!0),!0}},XJbs:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),
n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return m}));var o=n("CsC6"),r=n("mG1W");function i(e){return(t,o)=>{const{nodes:r}=t.schema;if(e===n("Kuh0").k.name&&r.paragraph)return a()(t,o);const i=n("Kuh0").d[e];return!!(i&&r.heading&&i.level)&&d(i.level)(t,o)}}function s(e,t){return(o,r)=>{const{nodes:i}=o.schema;if(e===n("Kuh0").k.name&&i.paragraph)return l(t)(o,r);const s=n("Kuh0").d[e];return!!(s&&i.heading&&s.level)&&u(s.level,t)(o,r)}}function a(){return function(e,t){const{selection:o,schema:r,tr:i}=e;return(o instanceof n("n1Ll").a?o.ranges:[o]).forEach((({$from:e,$to:t})=>{i.setBlockType(e.pos,t.pos,r.nodes.paragraph)})),t&&t(i),!0}}function c(e){return(t,o,r)=>{const{heading:i,paragraph:s}=t.schema.nodes,a=Object(n("D4z0").g)(t.doc,t.selection.from,t.selection.to,(e=>e.type===i||e.type===s));let c;for(let e of a){const t=e.node.type===i?e.node.attrs.level:0;if(c){
if(t!==c){c=void 0;break}}else c=t}return e(c)(t,o,r)}}function l(e){return c((t=>Object(n("SVcB").b)({action:n("+PNV").a.FORMATTED,actionSubject:n("+PNV").b.TEXT,eventType:n("+PNV").e.TRACK,actionSubjectId:n("+PNV").c.FORMAT_HEADING,attributes:{inputMethod:e,newHeadingLevel:0,previousHeadingLevel:t}})(a())))}function d(e){return function(t,o){const{selection:r,schema:i,tr:s}=t;return(r instanceof n("n1Ll").a?r.ranges:[r]).forEach((({$from:t,$to:n})=>{s.setBlockType(t.pos,n.pos,i.nodes.heading,{level:e})})),o&&o(s),!0}}const u=(e,t)=>c((o=>Object(n("SVcB").b)({action:n("+PNV").a.FORMATTED,actionSubject:n("+PNV").b.TEXT,eventType:n("+PNV").e.TRACK,actionSubjectId:n("+PNV").c.FORMAT_HEADING,attributes:{inputMethod:t,newHeadingLevel:e,previousHeadingLevel:o}})(d(e))));function p(e){return function(t,o){const{nodes:i}=t.schema;switch(e){case n("Kuh0").a.name:if(i.paragraph&&i.blockquote)return f(i.blockquote)(t,o);break;case n("Kuh0").b.name:if(i.codeBlock)return function(){
return function(e,t){var o;let{tr:i}=e;const{from:s}=e.selection,{codeBlock:a}=e.schema.nodes,c=null===(o=e.selection.$from.node(-1))||void 0===o?void 0:o.type,l=e.selection.$from.parent.type,d=Object(n("hSri").c)({parentNodeType:l,grandParentNodeType:c,content:a.createAndFill()})&&function(e){const{$from:t,$to:n}=e.selection;let o=!0;return e.doc.nodesBetween(t.pos,n.pos,(t=>!!o&&(o=t.type===e.schema.nodes.listItem||t.type===e.schema.nodes.bulletList||t.type===e.schema.nodes.orderedList||t.type===e.schema.nodes.paragraph||t.isInline||t.isText))),o}(e);return d?i=Object(n("p7hL").b)(e,s):Object(r.safeInsert)(a.createAndFill())(i).scrollIntoView(),t&&t(i),!0}}()(t,o);break;case n("Kuh0").m.name:if(i.panel&&i.paragraph)return f(i.panel)(t,o)}return!1}}const h=(e,t)=>{switch(e){case n("Kuh0").a.name:return Object(n("SVcB").b)({action:n("+PNV").a.FORMATTED,actionSubject:n("+PNV").b.TEXT,eventType:n("+PNV").e.TRACK,actionSubjectId:n("+PNV").c.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:t}
})(p(e));case n("Kuh0").b.name:return Object(n("SVcB").b)({action:n("+PNV").a.INSERTED,actionSubject:n("+PNV").b.DOCUMENT,actionSubjectId:n("+PNV").c.CODE_BLOCK,attributes:{inputMethod:t},eventType:n("+PNV").e.TRACK})(p(e));case n("Kuh0").m.name:return Object(n("SVcB").b)({action:n("+PNV").a.INSERTED,actionSubject:n("+PNV").b.DOCUMENT,actionSubjectId:n("+PNV").c.PANEL,attributes:{inputMethod:t,panelType:n("XN8Y").a.INFO},eventType:n("+PNV").e.TRACK})(p(e));default:return p(e)}};function f(e){return function(t,i){let{tr:s}=t;const{$from:a,$to:c}=t.selection,{alignment:l,indentation:d}=t.schema.marks;s=Object(n("RLN1").c)(t,[l,d])||s;const u=a.blockRange(c),p=u&&Object(o.m)(u,e);return u&&p?s.wrap(u,p).scrollIntoView():Object(r.safeInsert)(e.createAndFill())(s).scrollIntoView(),i&&i(s),!0}}const m=(e,t)=>{const{$cursor:n}=e.selection;if(n&&!n.nodeBefore&&!n.nodeAfter&&1===n.pos){const{tr:o,schema:r}=e,{paragraph:i}=r.nodes,{parent:s}=n;return o.setNodeMarkup(0,i,s.attrs,[]),t&&t(o),!0}
return!1}},XLeT:function(e,t,n){"use strict";var o=n("USwo"),r=n("8sL3"),i=n("wqPz");o(o.S,"Promise",{try:function(e){var t=r.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},XMlW:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),i=n("0unr"),s=n("lSNA"),a=n.n(s);const c=Object(n("AeFk").css)("height:26px;width:26px;background:","#091E42",";padding:0;border-radius:4px;border:1px solid ","#FFFFFF",";cursor:pointer;display:block;"),l=Object(n("AeFk").css)("border:1px solid transparent;margin:1px;font-size:0;display:flex;align-items:center;padding:1px;border-radius:6px;&:focus-within,&:focus,&:hover{border-color:","#C1C7D0","!important;}");class d extends o.PureComponent{constructor(...e){super(...e),a()(this,"onMouseDown",(e=>{e.preventDefault()})),a()(this,"onClick",(e=>{const{onClick:t,value:n,label:o}=this.props;e.preventDefault(),t(n,o)}))}render(){
const{autoFocus:e,tabIndex:t,value:o,label:r,isSelected:i,borderColor:s,checkMarkColor:a="#FFFFFF",hexToPaletteColor:d}=this.props,u=d?d(o):o;return Object(n("AeFk").jsx)(n("Yto1").a,{content:r},Object(n("AeFk").jsx)("span",{css:l},Object(n("AeFk").jsx)("button",{css:c,"aria-label":r,role:"radio","aria-checked":i,onClick:this.onClick,onMouseDown:this.onMouseDown,tabIndex:t,className:""+(i?"selected":""),style:{backgroundColor:u||"transparent",border:`1px solid ${s}`},autoFocus:e},i&&Object(n("AeFk").jsx)(n.n(n("q3rX")).a,{primaryColor:a,label:""}))))}}d.displayName="Color";var u=d;const p=Object(n("AeFk").css)("padding:0 ",Object(n("7w+A").gridSize)(),"px;display:flex;");function h(e,t){const n=["#FFFFFF","#42526E"].sort(((t,n)=>i.a.difference(n,e)-i.a.difference(t,e)))[0];return t?"#FFFFFF"===n?"var(--ds-icon-inverse, #FFFFFF)":"var(--ds-icon, #42526E)":n}t.a=Object(n("o5hF").c)((e=>{
const{cols:t=7,onClick:o,selectedColor:i,className:s,intl:{formatMessage:a},paletteOptions:c}=e,{palette:l,hexToPaletteColor:d,showSomewhatSemanticTooltips:f=!1,paletteColorTooltipMessages:m}=c,{colorMode:b}=Object(n("e51u").a)(),g=!!d,v=r.a.useMemo((()=>Object(n("UdR0").a)(l,t)),[l,t]);return Object(n("AeFk").jsx)(r.a.Fragment,null,v.map(((e,t)=>Object(n("AeFk").jsx)("div",{css:p,className:s,key:`row-first-color-${e[0].value}`,role:"radiogroup"},e.map((({value:e,label:t,border:r,message:s},c)=>(f&&m&&("dark"===b&&(s=Object(n("cL9K").a)(m.dark,e.toUpperCase())),"light"===b&&(s=Object(n("cL9K").a)(m.light,e.toUpperCase()))),Object(n("AeFk").jsx)(u,{key:e,value:e,borderColor:r,label:s?a(s):t,onClick:o,isSelected:e===i,checkMarkColor:h(e,g),hexToPaletteColor:d}))))))))}))},XS4t:function(e,t,n){"use strict";n.d(t,"j",(function(){return o})),n.d(t,"k",(function(){return r})),n.d(t,"l",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return a})),
n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"b",(function(){return f}));const o=37,r=39,i=38,s=40,a=48,c=49,l=50,d=51,u=52,p=53,h=54,f=[a,c,l,d,u,p,h]},XWUL:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("q1tI");const r=()=>Object(o.useContext)(n("RoQj").a)},XzwR:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var o=n("/MKj");var r=Object(n("EBSb").a)([Object(o.connect)(((e,t)=>{const o=Object(n("q0Qf").f)(e);return{contextIdentifier:Object(n("NmgQ").a)(e,t),baseUrl:o,mentionProvider:Object(n("XU5p").a)(e),activityProvider:Object(n("zH7h").a)(e),mediaContext:Object(n("/5U8").a)(e),sharedAtTimestamp:Object(n("Pwz5").a)(e),sharedValue:Object(n("Pwz5").b)(e),useStickyToolbar:!0}}),(e=>({onExpandedFailure:()=>e(Object(n("dY7a").e)()),
onSaveFailure:()=>e(Object(n("dY7a").f)()),clearSharedValues:()=>{e(Object(n("JqWA").c)())}})))])(n("CPx4").a)},"Y+O0":function(e,t,n){"use strict";let o;n.d(t,"a",(function(){return o})),function(e){e.OPEN_TYPEAHEAD_AT_CURSOR="OPEN_TYPEAHEAD_AT_CURSOR",e.CLOSE_TYPE_AHEAD="CLOSE_TYPE_AHEAD",e.CHANGE_QUERY="CHANGE_QUERY",e.INSERT_ITEM="INSERT_ITEM",e.INSERT_RAW_QUERY="INSERT_RAW_QUERY",e.UPDATE_LIST_ITEMS="UPDATE_LIST_ITEMS",e.UPDATE_SELECTED_INDEX="UPDATE_SELECTED_INDEX"}(o||(o={}))},"Y+RM":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=Object(n("D6b/").defineMessages)({undo:{id:"fabric.editor.undo",defaultMessage:"Undo",description:"Undo the previously performed action."},redo:{id:"fabric.editor.redo",defaultMessage:"Redo",description:"Redo the previously undone action."}})},YAmM:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("macroPlugin")},"YFa+":function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),i=n("CnBM")
;const s=n.n(i)()({loader:()=>n.e("@atlaskit-internal_resourcedEmojiComponent").then(n.bind(null,"yH3Q")).then((e=>e.ResourcedEmojiComponent)),loading:()=>null});t.a=e=>{const{emojiId:t,optimisticImageURL:i}=e;return Object(o.useEffect)((()=>{if(t)return Object(n("xFh9").c)(t).start({samplingRate:20}),n("xFh9").d["emoji-rendered"].getInstance(t.id||t.shortName).addMetadata({source:"ResourcedEmoji",emojiId:t.id,isOptimisticImageURL:!!i}),()=>{Object(n("xFh9").c)(t).abort({metadata:{source:"ResourcedEmoji",reason:"unmount"}})}}),[t,i]),r.a.createElement(n("nfRB").a,{experiences:[n("xFh9").d["emoji-rendered"].getInstance(e.emojiId.id||e.emojiId.shortName)]},r.a.createElement(s,e))}},YGDO:function(e,t,n){"use strict";var o=n("q1tI");const r={center:{name:"1h3rtzg",styles:"align-items:center"},baseline:{name:"fzr848",styles:"align-items:baseline"},start:{name:"5dh3r6",styles:"align-items:flex-start"},end:{name:"1kx2ysr",styles:"align-items:flex-end"},stretch:{name:"1ikgkii",
styles:"align-items:stretch"}},i={start:{name:"11g6mpt",styles:"justify-content:flex-start"},center:{name:"f7ay7b",styles:"justify-content:center"},end:{name:"1f60if8",styles:"justify-content:flex-end"},"space-between":{name:"2o6p8u",styles:"justify-content:space-between"}},s={hug:{name:"y6n6nb",styles:"flex-grow:0"},fill:{name:"50e33e",styles:"width:100%;flex-grow:1"}},a={name:"1qemjat",styles:"flex-wrap:wrap"},c={name:"lwqrl4",styles:"display:flex;box-sizing:border-box;flex-direction:row"},l=Object(n("AeFk").css)({color:"var(--ds-text-subtle, #42526E)",marginBlock:"var(--ds-space-0, 0px)",marginInline:"calc(-1 * var(--ds-space-025, 2px))",pointerEvents:"none",userSelect:"none"}),d=({children:e})=>Object(n("AeFk").jsx)("span",{css:l},e),u=Object(o.memo)(Object(o.forwardRef)((({as:e,alignInline:t,alignBlock:l="start",shouldWrap:u=!1,spread:p,grow:h,space:f,rowSpace:m,separator:b,xcss:g,testId:v,children:y},O)=>{
const E=e||"div",w="string"==typeof b?Object(n("AeFk").jsx)(d,null,b):b,S=w?o.Children.toArray(y).filter(Boolean).map(((e,t)=>Object(n("AeFk").jsx)(o.Fragment,{key:t},b&&t>0?w:null,e))):y,k=p||t,x=g&&Object(n("f5Dt").a)(g);return Object(n("AeFk").jsx)(E,{css:[x,c,f&&n("bUDQ").k.gap[f],k&&i[k],h&&s[h],l&&r[l],u&&a,m&&n("bUDQ").k.rowGap[m]],"data-testid":v,ref:O},S)})));u.displayName="Inline",t.a=u},YGJC:function(e,t,n){"use strict";function o(e){return Array.isArray?Array.isArray(e):"[object Array]"===d(e)}n.d(t,"a",(function(){return K}));function r(e){return"string"==typeof e}function i(e){return"number"==typeof e}function s(e){return!0===e||!1===e||function(e){return a(e)&&null!==e}(e)&&"[object Boolean]"==d(e)}function a(e){return"object"==typeof e}function c(e){return null!=e}function l(e){return!e.trim().length}function d(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const u=Object.prototype.hasOwnProperty;class p{
constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=h(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function h(e){let t=null,n=null,i=null,s=1,a=null;if(r(e)||o(e))i=e,t=f(e),n=m(e);else{if(!u.call(e,"name"))throw new Error((e=>`Missing ${e} property in key`)("name"));const o=e.name;if(i=o,u.call(e,"weight")&&(s=e.weight,s<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(o));t=f(o),n=m(o),a=e.getFn}return{path:t,id:n,weight:s,src:i,getFn:a}}function f(e){return o(e)?e:e.split(".")}function m(e){return o(e)?e.join("."):e}var b={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,
getFn:function(e,t){let n=[],a=!1;const l=(e,t,d)=>{if(c(e))if(t[d]){const u=e[t[d]];if(!c(u))return;if(d===t.length-1&&(r(u)||i(u)||s(u)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(u));else if(o(u)){a=!0;for(let e=0,n=u.length;e<n;e+=1)l(u[e],t,d+1)}else t.length&&l(u,t,d+1)}else n.push(e)};return l(e,r(t)?t.split("."):t,0),a?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const g=/[^ ]+/g;class v{constructor({getFn:e=b.getFn,fieldNormWeight:t=b.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,o=Math.pow(10,t);return{get(t){const r=t.match(g).length;if(n.has(r))return n.get(r);const i=1/Math.pow(r,.5*e),s=parseFloat(Math.round(i*o)/o);return n.set(r,s),s},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{
this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,r(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();r(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!c(e)||l(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,i)=>{let s=t.getFn?t.getFn(e):this.getFn(e,t.path);if(c(s))if(o(s)){let e=[];const t=[{nestedArrIndex:-1,value:s}];for(;t.length;){const{nestedArrIndex:n,value:i}=t.pop();if(c(i))if(r(i)&&!l(i)){let t={v:i,i:n,n:this.norm.get(i)};e.push(t)}else o(i)&&i.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[i]=e}else if(r(s)&&!l(s)){let e={v:s,n:this.norm.get(s)}
;n.$[i]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function y(e,t,{getFn:n=b.getFn,fieldNormWeight:o=b.fieldNormWeight}={}){const r=new v({getFn:n,fieldNormWeight:o});return r.setKeys(e.map(h)),r.setSources(t),r.create(),r}function O(e,{errors:t=0,currentLocation:n=0,expectedLocation:o=0,distance:r=b.distance,ignoreLocation:i=b.ignoreLocation}={}){const s=t/e.length;if(i)return s;const a=Math.abs(o-n);return r?s+a/r:a?1:s}const E=32;function w(e,t,n,{location:o=b.location,distance:r=b.distance,threshold:i=b.threshold,findAllMatches:s=b.findAllMatches,minMatchCharLength:a=b.minMatchCharLength,includeMatches:c=b.includeMatches,ignoreLocation:l=b.ignoreLocation}={}){if(t.length>E)throw new Error((e=>`Pattern length exceeds max of ${e}.`)(E));const d=t.length,u=e.length,p=Math.max(0,Math.min(o,u));let h=i,f=p;const m=a>1||c,g=m?Array(u):[];let v;for(;(v=e.indexOf(t,f))>-1;){let e=O(t,{currentLocation:v,expectedLocation:p,distance:r,ignoreLocation:l})
;if(h=Math.min(e,h),f=v+d,m){let e=0;for(;e<d;)g[v+e]=1,e+=1}}f=-1;let y=[],w=1,S=d+u;const k=1<<d-1;for(let b=0;b<d;b+=1){let o=0,i=S;for(;o<i;){O(t,{errors:b,currentLocation:p+i,expectedLocation:p,distance:r,ignoreLocation:l})<=h?o=i:S=i,i=Math.floor((S-o)/2+o)}S=i;let a=Math.max(1,p-i+1),c=s?u:Math.min(p+i,u)+d,v=Array(c+2);v[c+1]=(1<<b)-1;for(let s=c;s>=a;s-=1){let o=s-1,i=n[e.charAt(o)];if(m&&(g[o]=+!!i),v[s]=(v[s+1]<<1|1)&i,b&&(v[s]|=(y[s+1]|y[s])<<1|1|y[s+1]),v[s]&k&&(w=O(t,{errors:b,currentLocation:o,expectedLocation:p,distance:r,ignoreLocation:l}),w<=h)){if(h=w,f=o,f<=p)break;a=Math.max(1,2*p-f)}}if(O(t,{errors:b+1,currentLocation:p,expectedLocation:p,distance:r,ignoreLocation:l})>h)break;y=v}const x={isMatch:f>=0,score:Math.max(.001,w)};if(m){const e=function(e=[],t=b.minMatchCharLength){let n=[],o=-1,r=-1,i=0;for(let s=e.length;i<s;i+=1){let s=e[i];s&&-1===o?o=i:s||-1===o||(r=i-1,r-o+1>=t&&n.push([o,r]),o=-1)}return e[i-1]&&i-o>=t&&n.push([o,i-1]),n}(g,a)
;e.length?c&&(x.indices=e):x.isMatch=!1}return x}function S(e){let t={};for(let n=0,o=e.length;n<o;n+=1){const r=e.charAt(n);t[r]=(t[r]||0)|1<<o-n-1}return t}class k{constructor(e,{location:t=b.location,threshold:n=b.threshold,distance:o=b.distance,includeMatches:r=b.includeMatches,findAllMatches:i=b.findAllMatches,minMatchCharLength:s=b.minMatchCharLength,isCaseSensitive:a=b.isCaseSensitive,ignoreLocation:c=b.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:o,includeMatches:r,findAllMatches:i,minMatchCharLength:s,isCaseSensitive:a,ignoreLocation:c},this.pattern=a?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const l=(e,t)=>{this.chunks.push({pattern:e,alphabet:S(e),startIndex:t})},d=this.pattern.length;if(d>E){let e=0;const t=d%E,n=d-t;for(;e<n;)l(this.pattern.substr(e,E),e),e+=E;if(t){const e=d-E;l(this.pattern.substr(e),e)}}else l(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),
this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:o,distance:r,threshold:i,findAllMatches:s,minMatchCharLength:a,ignoreLocation:c}=this.options;let l=[],d=0,u=!1;this.chunks.forEach((({pattern:t,alphabet:p,startIndex:h})=>{const{isMatch:f,score:m,indices:b}=w(e,t,p,{location:o+h,distance:r,threshold:i,findAllMatches:s,minMatchCharLength:a,includeMatches:n,ignoreLocation:c});f&&(u=!0),d+=m,f&&b&&(l=[...l,...b])}));let p={isMatch:u,score:u?d/this.chunks.length:1};return u&&n&&(p.indices=l),p}}class x{constructor(e){this.pattern=e}static isMultiMatch(e){return C(e,this.multiRegex)}static isSingleMatch(e){return C(e,this.singleRegex)}search(){}}function C(e,t){const n=e.match(t);return n?n[1]:null}class T extends x{
constructor(e,{location:t=b.location,threshold:n=b.threshold,distance:o=b.distance,includeMatches:r=b.includeMatches,findAllMatches:i=b.findAllMatches,minMatchCharLength:s=b.minMatchCharLength,isCaseSensitive:a=b.isCaseSensitive,ignoreLocation:c=b.ignoreLocation}={}){super(e),this._bitapSearch=new k(e,{location:t,threshold:n,distance:o,includeMatches:r,findAllMatches:i,minMatchCharLength:s,isCaseSensitive:a,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class j extends x{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const o=[],r=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+r,o.push([t,n-1]);const i=!!o.length;return{isMatch:i,score:i?0:1,indices:o}}}const A=[class extends x{constructor(e){super(e)}static get type(){
return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},j,class extends x{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends x{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends x{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,
indices:[0,e.length-1]}}},class extends x{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends x{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},T],N=A.length,I=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const P=new Set([T.type,j.type]);class M{constructor(e,{isCaseSensitive:t=b.isCaseSensitive,includeMatches:n=b.includeMatches,minMatchCharLength:o=b.minMatchCharLength,ignoreLocation:r=b.ignoreLocation,findAllMatches:i=b.findAllMatches,location:s=b.location,threshold:a=b.threshold,distance:c=b.distance}={}){this.query=null,this.options={isCaseSensitive:t,
includeMatches:n,minMatchCharLength:o,findAllMatches:i,ignoreLocation:r,location:s,threshold:a,distance:c},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(I).filter((e=>e&&!!e.trim())),o=[];for(let r=0,i=n.length;r<i;r+=1){const e=n[r];let i=!1,s=-1;for(;!i&&++s<N;){const n=A[s];let r=n.isMultiMatch(e);r&&(o.push(new n(r,t)),i=!0)}if(!i)for(s=-1;++s<N;){const n=A[s];let r=n.isSingleMatch(e);if(r){o.push(new n(r,t));break}}}return o}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:o}=this.options;e=o?e:e.toLowerCase();let r=0,i=[],s=0;for(let a=0,c=t.length;a<c;a+=1){const o=t[a];i.length=0,r=0;for(let t=0,a=o.length;t<a;t+=1){const a=o[t],{isMatch:c,indices:l,score:d}=a.search(e);if(!c){s=0,r=0,i.length=0;break}if(r+=1,s+=d,n){const e=a.constructor.type;P.has(e)?i=[...i,...l]:i.push(l)}}
if(r){let e={isMatch:!0,score:s/r};return n&&(e.indices=i),e}}return{isMatch:!1,score:1}}}const R=[];function _(e,t){for(let n=0,o=R.length;n<o;n+=1){let o=R[n];if(o.condition(e,t))return new o(e,t)}return new k(e,t)}const L="$and",D="$or",F="$path",B="$val",V=e=>!(!e[L]&&!e[D]),z=e=>({[L]:Object.keys(e).map((t=>({[t]:e[t]})))});function H(e,t,{auto:n=!0}={}){const i=e=>{let s=Object.keys(e);const c=(e=>!!e[F])(e);if(!c&&s.length>1&&!V(e))return i(z(e));if((e=>!o(e)&&a(e)&&!V(e))(e)){const o=c?e[F]:s[0],i=c?e[B]:e[o];if(!r(i))throw new Error((e=>`Invalid value for key ${e}`)(o));const a={keyId:m(o),pattern:i};return n&&(a.searcher=_(i,t)),a}let l={children:[],operator:s[0]};return s.forEach((t=>{const n=e[t];o(n)&&n.forEach((e=>{l.children.push(i(e))}))})),l};return V(e)||(e=z(e)),i(e)}function U(e,t){const n=e.matches;t.matches=[],c(n)&&n.forEach((e=>{if(!c(e.indices)||!e.indices.length)return;const{indices:n,value:o}=e;let r={indices:n,value:o};e.key&&(r.key=e.key.src),
e.idx>-1&&(r.refIndex=e.idx),t.matches.push(r)}))}function W(e,t){t.score=e.score}class K{constructor(e,t={},n){this.options={...b,...t},this.options.useExtendedSearch,this._keyStore=new p(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof v))throw new Error("Incorrect 'index' type");this._myIndex=t||y(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){c(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,o=this._docs.length;n<o;n+=1){const r=this._docs[n];e(r,n)&&(this.removeAt(n),n-=1,o-=1,t.push(r))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:o,shouldSort:s,sortFn:a,ignoreFieldNorm:c}=this.options;let l=r(e)?r(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e)
;return function(e,{ignoreFieldNorm:t=b.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:o,score:r})=>{const i=e?e.weight:null;n*=Math.pow(0===r&&i?Number.EPSILON:r,(i||1)*(t?1:o))})),e.score=n}))}(l,{ignoreFieldNorm:c}),s&&l.sort(a),i(t)&&t>-1&&(l=l.slice(0,t)),function(e,t,{includeMatches:n=b.includeMatches,includeScore:o=b.includeScore}={}){const r=[];return n&&r.push(U),o&&r.push(W),e.map((e=>{const{idx:n}=e,o={item:t[n],refIndex:n};return r.length&&r.forEach((t=>{t(e,o)})),o}))}(l,this._docs,{includeMatches:n,includeScore:o})}_searchStringList(e){const t=_(e,this.options),{records:n}=this._myIndex,o=[];return n.forEach((({v:e,i:n,n:r})=>{if(!c(e))return;const{isMatch:i,score:s,indices:a}=t.searchIn(e);i&&o.push({item:e,idx:n,matches:[{score:s,value:e,norm:r,indices:a}]})})),o}_searchLogical(e){const t=H(e,this.options),n=(e,t,o)=>{if(!e.children){const{keyId:n,searcher:r}=e,i=this._findMatches({key:this._keyStore.get(n),
value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:r});return i&&i.length?[{idx:o,item:t,matches:i}]:[]}const r=[];for(let i=0,s=e.children.length;i<s;i+=1){const s=e.children[i],a=n(s,t,o);if(a.length)r.push(...a);else if(e.operator===L)return[]}return r},o=this._myIndex.records,r={},i=[];return o.forEach((({$:e,i:o})=>{if(c(e)){let s=n(t,e,o);s.length&&(r[o]||(r[o]={idx:o,item:e,matches:[]},i.push(r[o])),s.forEach((({matches:e})=>{r[o].matches.push(...e)})))}})),i}_searchObjectList(e){const t=_(e,this.options),{keys:n,records:o}=this._myIndex,r=[];return o.forEach((({$:e,i:o})=>{if(!c(e))return;let i=[];n.forEach(((n,o)=>{i.push(...this._findMatches({key:n,value:e[o],searcher:t}))})),i.length&&r.push({idx:o,item:e,matches:i})})),r}_findMatches({key:e,value:t,searcher:n}){if(!c(t))return[];let r=[];if(o(t))t.forEach((({v:t,i:o,n:i})=>{if(!c(t))return;const{isMatch:s,score:a,indices:l}=n.searchIn(t);s&&r.push({score:a,key:e,value:t,idx:o,norm:i,indices:l})}));else{
const{v:o,n:i}=t,{isMatch:s,score:a,indices:c}=n.searchIn(o);s&&r.push({score:a,key:e,value:o,norm:i,indices:c})}return r}}K.version="6.6.2",K.createIndex=y,K.parseIndex=function(e,{getFn:t=b.getFn,fieldNormWeight:n=b.fieldNormWeight}={}){const{keys:o,records:r}=e,i=new v({getFn:t,fieldNormWeight:n});return i.setKeys(o),i.setIndexRecords(r),i},K.config=b,K.parseQuery=H,function(...e){R.push(...e)}(M)},YL4i:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("MEpN"),r=n("CsC6");const i="atlaskit-table-sorting-ordering";class s extends r.f{constructor(e,t,n){super(),this.prev=t,this.next=n,this.pos=e}invert(){return new s(this.pos,this.next,this.prev)}apply(e){return r.h.ok(e)}map(){return null}getMap(){return new r.g([0,0,0])}toJSON(){return{stepType:i}}static fromJSON(){return new r.e(0,0,o.Slice.empty)}}r.f.jsonID(i,s)},"Yz+Y":function(e,t,n){e.exports={default:n("Lr1a"),__esModule:!0}},Z4Gi:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),
n.d(t,"a",(function(){return s}));var o=n("q1tI"),r=n.n(o);const i="smart-link-loading-placeholder",s=({isSelected:e,url:t,placeholder:o})=>r.a.createElement(n("+NwJ").a,{key:"lazy-render-key",testId:"lazy-render-placeholder","data-trello-do-not-use-override":"lazy-render-placeholder-trello",isSelected:e,link:t,className:i,placeholder:o})},Z9Bk:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));const o={color:"#172B4D".toLowerCase(),label:"Dark gray"},r=e=>{const{$from:t,$to:n,$cursor:r}=e.selection,{textColor:i}=e.schema.marks;let s,a=[];r?a.push(i.isInSet(e.storedMarks||r.marks())||void 0):e.doc.nodesBetween(t.pos,n.pos,(e=>{if(e.isLeaf){const t=i.isInSet(e.marks)||void 0;return a.push(t),!t}return!0})),a=a.filter((e=>(!e||!s||e.attrs.color!==s.attrs.color)&&(s=e,!0)));const c=a.filter((e=>!!e));return c.length>1||1===c.length&&a.length>1?null:c.length?c[0].attrs.color:o.color}},ZDin:function(e,t,n){
var o=n("A9a0"),r=n("l0Kd").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,r)}},ZFf7:function(e,t,n){"use strict";n.r(t);var o=n("pVnL"),r=n.n(o),i=n("q1tI"),s=n.n(i),a=n("vN+2"),c=n.n(a),l=n("DTaC");const d=({adf:e})=>{const[{mentionProvider:t,contextIdentifier:o,mediaContext:r}]=Object(n("g2hJ").d)();return t&&o&&r?s.a.createElement(n("uA9N").a,{adf:e,mentionProvider:t,contextIdentifier:o,mediaContext:r}):null};d.displayName="ConnectedRenderer";var u=d;const p=Object(l.j)((()=>Promise.all([n.e("vendor~d0ae3f07"),n.e("vendor~31ecd969"),n.e("vendor~690b702c"),n.e("async-editor-view")]).then(n.bind(null,"WjMa"))),{moduleId:"./src/packages/issue/issue-actions/issue-comment-base/src/ui/comment/content/comment-editor/index.tsx"});class h extends i.Component{constructor(...e){super(...e),this.getEditValue=()=>this.props.draftValue||this.props.bodyAdf,this.getIssueCommentEditor=({assistiveLabel:e=""})=>{const t={isExpanded:!0,isExpandedByDefault:!0,
shouldFocus:!0,defaultValue:this.getEditValue(),secondaryToolbarComponents:this.props.secondaryToolbarComponents,onBlur:this.props.onBlur,onSave:this.props.onSave,onCancel:this.props.onCancel,onChange:this.props.onChange,onPaste:this.props.onPaste,onHideSave:this.props.onHideSave};return s.a.createElement(n("Adn3").a,{packageName:"issue",fallback:s.a.createElement(u,{adf:this.props.bodyAdf})},s.a.createElement(p,r()({},t,Object(n("QIUw").b)()&&e&&{assistiveLabel:e})))},this.renderEditor=()=>this.props.isServiceDesk?s.a.createElement(n("Hju2").a,{isExpanded:!0,commentId:this.props.commentId},this.getIssueCommentEditor):this.getIssueCommentEditor({assistiveLabel:this.props.intl.formatMessage(n("HKEd").a.comment)})}render(){return s.a.createElement(n("XeTR").a,null,this.props.isEditing?this.renderEditor():s.a.createElement(u,{adf:this.props.bodyAdf}))}}h.displayName="CommentContent",h.displayName="CommentContent",h.defaultProps={isServiceDesk:!1,onBlur:c.a,onSave:c.a,onCancel:c.a,
onChange:c.a,onPaste:c.a,onHideSave:c.a};const f=e=>{const[{projectType:t}]=Object(n("g2hJ").c)(),o=Object(n("3NU0").a)();return n("g2hJ").c?s.a.createElement(h,r()({},e,{isServiceDesk:t===n("JXwD").g,intl:o})):null};f.displayName="ConnectedCommentContent";t.default=f},ZNo5:function(t,n,o){"use strict";o.d(n,"a",(function(){return a})),o.d(n,"b",(function(){return c}));o("YBdB");var r=o("zgma"),i=o.n(r);class s{buildInlineAdf(e){return{type:"inlineCard",attrs:{url:e}}}buildBlockAdf(e){return{type:"blockCard",attrs:{url:e}}}buildEmbedAdf(e){return{type:"embedCard",attrs:{url:e,layout:"wide"}}}toAdf(e,t){switch(t){case"inline":return this.buildInlineAdf(e);case"block":return this.buildBlockAdf(e);case"embed":return this.buildEmbedAdf(e)}}}class a{constructor(e,t){this.baseUrl=t||Object(o("1O4k").a)(e),this.resolverUrl=Object(o("1O4k").b)(e,t),this.transformer=new s,this.requestHeaders={Origin:this.baseUrl},this.providersLoader=new i.a((e=>this.batchProviders(e)),{
batchScheduleFn:e=>setTimeout(e,50)}),this.cardClient=new(o("nU3s").a)(e,t)}async batchProviders(e){const t=await this.fetchProvidersData();return e.map((()=>t))}async check(t){try{const e=await this.cardClient.fetchData(t);if("not_found"!==Object(o("tD3Q").a)(e))return!0}catch(e){return!1}}async fetchProvidersData(){const e=`${this.resolverUrl}/providers`,t=await Object(o("krve").b)("post",e,void 0,this.requestHeaders);return{patterns:t.providers.reduce(((e,t)=>e.concat(t.patterns)),[]),userPreferences:t.userPreferences}}async loadProviderData(){try{this.providersData=await this.providersLoader.load("providersData")}catch(e){return console.error("failed to fetch /providers",e),void this.providersLoader.clear("providerData")}}async findPattern(e){return!!(await this.findPatternData(e))||!!(await this.check(e))}doesUrlMatchPath(e,t){
const n=new RegExp(/^[a-zA-Z0-9]/).test(e)?"(^|[^a-zA-Z0-9])":"",o=new RegExp(/[a-zA-Z0-9]$/).test(e)?"($|[^a-zA-Z0-9])":"",r=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new RegExp(`${n}${r}${o}`).test(t)}async findUserPreference(e){var t;this.providersData||await this.loadProviderData();const n=null===(t=this.providersData)||void 0===t?void 0:t.userPreferences;if(n){const{defaultAppearance:t,appearances:o}=n,r=o.filter((({urlSegment:t})=>this.doesUrlMatchPath(t,e)));if(r.length>0){return r.reduce(((e,t)=>e.urlSegment.length>t.urlSegment.length?e:t)).appearance}if("inline"!==t)return t}}async findPatternData(e){var t;return this.providersData||await this.loadProviderData(),null===(t=this.providersData)||void 0===t?void 0:t.patterns.find((t=>e.match(t.source)))}getHardCodedAppearance(e){
if((e=>e.match(/^https:\/\/.*?\/jira\/software\/(c\/)?projects\/[^\/]+?\/boards\/.*?\/(timeline|roadmap)\/?/))(e)||(e=>e.match(/^https:\/\/.*?\/jira\/polaris\/projects\/[^\/]+?\/ideas\/view\/\d+$|^https:\/\/.*?\/secure\/JiraProductDiscoveryAnonymous\.jspa\?hash=\w+|^https:\/\/.*?\/jira\/polaris\/share\/\w+/))(e)||(e=>e.match(/^https:\/\/.*?\/jira\/core\/projects\/[^\/]+?\/(timeline|calendar|list|board|summary|(form\/[^\/]+?))\/?/))(e)||(e=>e.match(/^https:\/\/(.*?\.)?giphy\.com\/(gifs|media|clips)\//))(e)||(e=>e.match(/^https:\/\/[^/]+\/jira\/(core|software(\/c)?|servicedesk)\/projects\/\w+\/forms\/form\/direct\/\d+\/\d+.*$/))(e))return"embed"}async canBeResolvedAsEmbed(t){try{const e=await this.cardClient.fetchData(t),n=e&&e.data;if(!n)return!1;if("resolved"!==Object(o("tD3Q").a)(e))return!1;return!!Object(o("k7D+").a)(n,"web")}catch(e){return!1}}async resolve(t,n,o){try{if(!0===o)return this.transformer.toAdf(t,n)
;const e=this.getHardCodedAppearance(t),[r,i]=await Promise.all([this.findPatternData(t),this.findUserPreference(t)]);if(!1===o&&"url"===i)return Promise.reject(void 0);if(!!r||await this.check(t)){const s=null==r?void 0:r.defaultView;let a=void 0===o?e||n:i||e||s||n;if(a===i&&"embed"===i){await this.canBeResolvedAsEmbed(t)||(a="inline")}return this.transformer.toAdf(t,a)}}catch(e){console.warn(`Error when trying to check Smart Card url "${t}"${e instanceof Error?` - ${e.name} ${e.message}`:""}`,e)}return Promise.reject(void 0)}}const c=new a},ZPHY:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return h}));var o=n("MEpN"),r=n("mG1W");const i=(e,t)=>({action:n("+PNV").a.INSERTED,actionSubject:n("+PNV").b.DOCUMENT,actionSubjectId:n("+PNV").c.MEDIA,attributes:{inputMethod:e,fileExtension:t,type:n("+PNV").c.MEDIA_SINGLE},eventType:n("+PNV").e.TRACK})
;function s(e){return Object(n("vRZh").a)(e)&&!Object(n("D4z0").d)(e.selection,e.doc,n("x+VZ").h)}function a(e,t={}){return function(r,a){const{tr:c,schema:l}=r,{paragraph:d}=l.nodes,{inputMethod:u,fileExtension:p}=t;let h=0;return s(r)&&(e.push(d.create()),h=1),c.replaceSelection(new o.Slice(o.Fragment.from(e),0,h)),u&&Object(n("SVcB").a)(r,c,i(u,p)),a&&a(c),!0}}const c=(e,t)=>!!e.nodes.mediaSingle&&Object(n("CuOu").a)(t),l=(e,t,o)=>{const{state:r,dispatch:i}=e,{mediaSingle:s,media:c}=r.schema.nodes;if(!s)return!1;if(t.type!==c||!Object(n("CuOu").a)(t.attrs.__fileMimeType)&&"external"!==t.attrs.type)return!1;return a([s.create({},t)],{inputMethod:o,fileExtension:t.attrs.__fileMimeType})(r,i)},d=(e,t,c,l,d,p)=>{var h;if(void 0===l)return!1;const{state:f,dispatch:m}=e,b=null===(h=f.selection.$from.node(-1))||void 0===h?void 0:h.type,g=f.selection.$from.parent.type,v=u(f.schema,l,d)(t);let y;if(t.fileName){const e=t.fileName.lastIndexOf(".");y=e>=0?t.fileName.substring(e+1):void 0}
if(Object(n("hSri").c)({parentNodeType:g,grandParentNodeType:b,content:v}))a([v],{fileExtension:y,inputMethod:c})(f,m);else{let t=null;if(p&&(t=Object(n("hSri").b)(v,f.selection.from)(f.tr)),!t){const n=s(e.state)?o.Fragment.fromArray([v,f.schema.nodes.paragraph.create()]):v;t=Object(r.safeInsert)(n,void 0,!0)(f.tr)}c&&(t=Object(n("SVcB").a)(f,t,i(c,y))),m(t)}return!0},u=(e,t,o)=>r=>{const{id:i,dimensions:s,contextId:a,scaleFactor:c=1}=r,{width:l,height:d}=s||{height:void 0,width:void 0},{media:u,mediaSingle:p}=e.nodes,h=u.create({id:i,type:"file",collection:t,contextId:a,width:l&&Math.round(l/c),height:d&&Math.round(d/c)}),f=o?{layout:"align-start"}:{};return Object(n("Nrp8").a)(r,h),p.createChecked(f,h)};function p(e,t){const{mediaSingle:o,layoutSection:i,table:s,bulletList:a,orderedList:c,media:l,mediaInline:d,expand:u}=t.nodes;return t=>{let p=e;Object(r.hasParentNodeOfType)([i,s,a,c,u])(t)&&(p=Object(n("C0PT").e)(p,(e=>{const n=Object(r.hasParentNodeOfType)([i,s])(t)?{
layout:e.attrs.layout}:{};return"mediaSingle"===e.type.name?o.createChecked(n,e.content,e.marks):e})));const h=Object(n("34Y/").a)(8);return p=Object(n("C0PT").e)(p,(e=>"media"===e.type.name?l.createChecked({...e.attrs,__external:"external"===e.attrs.type,__mediaTraceId:"external"===e.attrs.type?null:h},e.content,e.marks):"mediaInline"===e.type.name?d.createChecked({...e.attrs,__mediaTraceId:h},e.content,e.marks):e)),p}}const h=e=>{const{origWidth:t,origHeight:o,layout:r,pctWidth:i,containerWidth:s,resizedPctWidth:a}=e,{width:c,lineLength:l}=s,d=f(s,i,t,o),u=f(s,a,t,o);if("wide"===r){if(l){const e=Math.ceil(l*n("anI9").bb);return e>c?l:e}}else{if("full-width"===r)return c-n("anI9").e;if(d)return n("zaYB").e.indexOf(r)>-1?u?a<50?u:d:Math.min(d,t):u||d;if("center"===r)return u||Math.min(t,l||c);if(r&&-1!==n("zaYB").e.indexOf(r)){const e=Math.ceil((l||c)/2);return t<=e?t:e}}return t},f=(e,t,o,r)=>t&&o&&r&&Math.ceil(Object(n("Qvlh").d)(t/100,e.lineLength||e.width))},ZQ9N:function(e,t,n){
"use strict";n.d(t,"a",(function(){return o}));const o=Object(n("AeFk").css)("background-color:var(--ds-background-neutral, rgba(223, 225, 229, 0.5));color:","var(--ds-text-subtle, #7A869A)",";border-radius:",Object(n("7w+A").borderRadius)(),"px;padding:4px;line-height:12px;font-size:",Object(n("anI9").fb)(11.67),";align-self:flex-end;@media (max-width: ",n("anI9").A,"px){display:none;}")},ZX1i:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o=(e,t)=>{Array.from(t).forEach((t=>{t.classList.contains(n("p3BF").b.TABLE_STICKY_SHADOW)&&t instanceof HTMLElement&&t.style.height!==e&&(t.style.height=e)}))},r=e=>(t,o,r,i,s)=>{var a;if(!0===(null===(a=e())||void 0===a?void 0:a.tableOverflowShadowsOptimization))return!1;if(r&&o){const e=o.querySelector("tr.sticky"),t=e&&e.firstElementChild;if(i){const e=r.offsetWidth-o.offsetWidth;for(let r=0;r<i.length;r++){const s=i[r];s.style.display=e>0&&e>o.scrollLeft?"block":"none",
s.classList.contains(n("p3BF").b.TABLE_STICKY_SHADOW)&&t&&(s.style.height=`${t.clientHeight+1}px`)}}if(s)for(let r=0;r<s.length;r++){const e=s[r];e.style.display=o.scrollLeft>0?"block":"none",e.classList.contains(n("p3BF").b.TABLE_STICKY_SHADOW)&&t&&(e.style.height=`${t.clientHeight+1}px`)}}}},"ZY/g":function(e,t,n){n("aFj7");for(var o=n("7whZ"),r=n("BRsN"),i=n("ig3W"),s=n("zBWt")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var l=a[c],d=o[l],u=d&&d.prototype;u&&!u[s]&&r(u,s,l),i[l]=i.Array}},ZblS:function(e,t,n){n("kcqV");var o=n("VSTI").Object
;e.exports=function(e,t){return o.getOwnPropertyDescriptor(e,t)}},ZfOZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 8c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 010 2h-6a1 1 0 010-2zm-5 5c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 010 2h-6a1 1 0 010-2zm-5 5c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 010 2h-6a1 1 0 010-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorBulletListIcon";var s=i;t.default=s},Zh7B:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("q1tI"),r=n.n(o),i=n("DZdY");const s=Object(i.a)(n("hdVq").d,{
target:"e1vwnei80"})({name:"48xiyb",styles:"vertical-align:baseline;margin-left:2px"});class a extends r.a.Component{render(){const{message:e,onClick:t,isSelected:o,inlinePreloaderStyle:i,testId:a="media-inline-card-loading-view"}=this.props;return"on-right-without-skeleton"===i?r.a.createElement(n("i2bo").a,{testId:a,onClick:t,isSelected:o},r.a.createElement(n("hdVq").d,null,e,r.a.createElement(n("hdVq").f,null,r.a.createElement(s,{className:"inline-loading-spinner"},r.a.createElement(n("6UK4").a,{size:14}))))):r.a.createElement(n("i2bo").a,{testId:a,onClick:t,isSelected:o},r.a.createElement(n("7qa5").a,{title:e},r.a.createElement(s,{className:"inline-loading-spinner"},r.a.createElement(n("6UK4").a,{size:14}))))}}a.displayName="MediaInlineCardLoadingView"},Zpig:function(e,t,n){"use strict";var o=n("q1tI");const r=(e,t)=>Object(n("AeFk").jsx)(e,t),i={name:"sjfyf",styles:"display:flex;align-items:center;justify-content:center;flex-shrink:0"},s={name:"1tojcmu",
styles:"display:flex;justify-content:center;flex-direction:column;flex-grow:1;line-height:var(--ds-font-lineHeight-100, 16px);outline:none;overflow:hidden;text-align:left"},a={name:"hdknak",styles:"display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap"},c={name:"1sdjnkx",styles:"word-break:break-word"},l=Object(n("AeFk").css)({marginTop:"var(--ds-space-050, 4px)",color:"var(--ds-text-subtlest, #6B778C)",fontSize:"var(--ds-font-size-075, 12px)"}),d=Object(n("AeFk").css)({color:"var(--ds-text-disabled, #6B778C)"}),u={name:"bjn8wh",styles:"position:relative"},p={name:"1py104r",styles:"display:flex;box-sizing:border-box;width:100%;min-height:40px;margin:var(--ds-space-0, 0px);align-items:center;border:0;font-size:var(--ds-font-size-100, 14px);outline:0;text-decoration:none;user-select:none;::-moz-focus-inner{border:0;}:hover{text-decoration:none;}"},h={cozy:{name:"1x13z0k",styles:"padding-block:var(--ds-space-100, 8px);padding-inline:var(--ds-space-200, 16px)"},compact:{
name:"lviqne",styles:"min-height:32px;max-height:32px;padding-block:var(--ds-space-050, 4px);padding-inline:var(--ds-space-150, 12px)"}},f={name:"e0dnmk",styles:"cursor:pointer"},m=Object(n("AeFk").css)({backgroundColor:"var(--ds-background-neutral-subtle, transparent)",color:"currentColor",":visited":{color:"currentColor"},":hover":{backgroundColor:"var(--ds-background-neutral-subtle-hovered, #F4F5F7)",color:"currentColor"},":active":{backgroundColor:"var(--ds-background-neutral-subtle-pressed, #EBECF0)",boxShadow:"none",color:"currentColor"}}),b=Object(n("AeFk").css)({cursor:"not-allowed","&, :hover, :active":{backgroundColor:"var(--ds-background-neutral-subtle, transparent)",color:"var(--ds-text-disabled, #6B778C)"}}),g={name:"syr3k7",styles:'&::before{width:2px;position:absolute;top:0;bottom:0;left:0;background:var(--ds-border-selected, transparent);content:"";}'},v=Object(n("AeFk").css)({"&::before":{width:4,position:"absolute",top:"var(--ds-space-150, 12px)",
bottom:"var(--ds-space-150, 12px)",left:0,background:"var(--ds-border-selected, transparent)",borderRadius:"0 var(--ds-border-radius, 4px) var(--ds-border-radius, 4px) 0",content:'""'}}),y=Object(n("AeFk").css)({backgroundColor:"var(--ds-background-selected, #F4F5F7)",color:"var(--ds-text-selected, currentColor)",":visited":{color:"var(--ds-text-selected, currentColor)"},":hover":{backgroundColor:"var(--ds-background-selected-hovered, #F4F5F7)",color:"var(--ds-text-selected, currentColor)"},":active":{backgroundColor:"var(--ds-background-selected-pressed, #EBECF0)",color:"var(--ds-text-selected, currentColor)"}}),O={compact:"space.100",cozy:"space.150"};t.a=({children:e,title:t,description:E,iconAfter:w,iconBefore:S,overrides:k,className:x,shouldTitleWrap:C=!1,shouldDescriptionWrap:T=!1,isDisabled:j=!1,isSelected:A=!1})=>{Object(n("y0sf").b)("@atlaskit/menu","overrides",void 0!==k,"")
;const N=Object(o.useContext)(n("pJc0").b),I=Object(o.useContext)(n("pJc0").a),P=k&&k.Title&&k.Title.render||r;return Object(n("AeFk").jsx)(n("AeFk").ClassNames,null,(({css:o,cx:r})=>Object(n("AeFk").jsx)(n("Q+8n").a,{isInset:!0},e({className:r([o([Object(n("+ePX").a)("platform.design-system-team.menu-selected-state-change_0see9")&&u,p,h[N],!j&&!A&&m,!j&&A&&[y,Object(n("+ePX").a)("platform.design-system-team.menu-selected-state-change_0see9")&&["border"===I&&g,"notch"===I&&v]],j?b:f]),x]),children:Object(n("AeFk").jsx)(n("YGDO").a,{as:"span",spread:"space-between",alignBlock:"center",space:O[N],grow:"fill"},S&&Object(n("AeFk").jsx)("span",{"data-item-elem-before":!0,css:i},S),t&&Object(n("AeFk").jsx)("span",{css:s},P("span",{children:t,className:o(C?c:a),"data-item-title":!0}),E&&Object(n("AeFk").jsx)("span",{"data-item-description":!0,css:[l,j&&d,T?c:a]},E)),w&&Object(n("AeFk").jsx)("span",{"data-item-elem-after":!0,css:i},w))}))))}},aDti:function(e,t,n){"use strict"
;n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p}));const o=Object(n("D6b/").defineMessages)({"#FFFFFF":{id:"fabric.theme.white",defaultMessage:"White",description:"Name of a color"},"#B3D4FF":{id:"fabric.theme.subtle-blue",defaultMessage:"Subtle blue",description:"Name of a color"},"#B3F5FF":{id:"fabric.theme.subtle-teal",defaultMessage:"Subtle teal",description:"Name of a color"},"#ABF5D1":{id:"fabric.theme.subtle-green",defaultMessage:"Subtle green",description:"Name of a color"},"#FFF0B3":{id:"fabric.theme.subtle-yellow",defaultMessage:"Subtle yellow",description:"Name of a color"},"#FFBDAD":{id:"fabric.theme.subtle-red",defaultMessage:"Subtle red",description:"Name of a color"},"#EAE6FF":{id:"fabric.theme.subtle-purple",defaultMessage:"Subtle purple",description:"Name of a color"},"#97A0AF":{id:"fabric.theme.gray",defaultMessage:"Gray",description:"Name of a color"},"#4C9AFF":{
id:"fabric.theme.blue",defaultMessage:"Blue",description:"Name of a color"},"#00B8D9":{id:"fabric.theme.teal",defaultMessage:"Teal",description:"Name of a color"},"#36B37E":{id:"fabric.theme.green",defaultMessage:"Green",description:"Name of a color"},"#FFC400":{id:"fabric.theme.yellow",defaultMessage:"Yellow",description:"Name of a color"},"#FF5630":{id:"fabric.theme.red",defaultMessage:"Red",description:"Name of a color"},"#FF991F":{id:"fabric.theme.bold-orange",defaultMessage:"Bold orange",description:"Name of a color."},"#6554C0":{id:"fabric.theme.purple",defaultMessage:"Purple",description:"Name of a color"},"#0747A6":{id:"fabric.theme.bold-blue",defaultMessage:"Bold blue",description:"Name of a color"},"#008DA6":{id:"fabric.theme.bold-teal",defaultMessage:"Bold teal",description:"Name of a color"},"#006644":{id:"fabric.theme.bold-green",defaultMessage:"Bold green",description:"Name of a color"},"#BF2600":{id:"fabric.theme.bold-red",defaultMessage:"Bold red",
description:"Name of a color"},"#403294":{id:"fabric.theme.bold-purple",defaultMessage:"Bold purple",description:"Name of a color"},"#172B4D":{id:"fabric.theme.default",defaultMessage:"Default",description:"Name of a color"}}),r=Object(n("D6b/").defineMessages)({"#FFFFFF":{id:"fabric.theme.dark-gray",defaultMessage:"Dark gray",description:"Name of a color"}}),i={light:o,dark:{...o,...r}},s=Object(n("D6b/").defineMessages)({"#DEEBFF":{id:"fabric.theme.subtle-blue",defaultMessage:"Subtle blue",description:"Name of a color"},"#B3D4FF":{id:"fabric.theme.blue",defaultMessage:"Blue",description:"Name of a color"},"#4C9AFF":{id:"fabric.theme.bold-blue",defaultMessage:"Bold blue",description:"Name of a color"},"#E6FCFF":{id:"fabric.theme.subtle-teal",defaultMessage:"Subtle teal",description:"Name of a color"},"#B3F5FF":{id:"fabric.theme.teal",defaultMessage:"Teal",description:"Name of a color"},"#79E2F2":{id:"fabric.theme.bold-teal",defaultMessage:"Bold teal",description:"Name of a color"},
"#E3FCEF":{id:"fabric.theme.subtle-green",defaultMessage:"Subtle green",description:"Name of a color"},"#ABF5D1":{id:"fabric.theme.green",defaultMessage:"Green",description:"Name of a color"},"#57D9A3":{id:"fabric.theme.bold-green",defaultMessage:"Bold green",description:"Name of a color"},"#FFFAE6":{id:"fabric.theme.subtle-yellow",defaultMessage:"Subtle yellow",description:"Name of a color"},"#FFF0B3":{id:"fabric.theme.yellow",defaultMessage:"Yellow",description:"Name of a color"},"#FFC400":{id:"fabric.theme.bold-yellow",defaultMessage:"Bold yellow",description:"Name of a color"},"#FFEBE6":{id:"fabric.theme.subtle-red",defaultMessage:"Subtle red",description:"Name of a color"},"#FFBDAD":{id:"fabric.theme.red",defaultMessage:"Red",description:"Name of a color."},"#FF8F73":{id:"fabric.theme.bold-red",defaultMessage:"Bold red",description:"Name of a color"},"#EAE6FF":{id:"fabric.theme.subtle-purple",defaultMessage:"Subtle purple",description:"Name of a color"},"#C0B6F2":{
id:"fabric.theme.purple",defaultMessage:"Purple",description:"Name of a color"},"#998DD9":{id:"fabric.theme.bold-purple",defaultMessage:"Bold purple",description:"Name of a color"},"#FFFFFF":{id:"fabric.theme.white",defaultMessage:"White",description:"Name of a color"},"#F4F5F7":{id:"fabric.theme.gray",defaultMessage:"Gray",description:"Name of a color"},"#B3BAC5":{id:"fabric.theme.bold-gray",defaultMessage:"Bold gray",description:"Name of a color"}}),a=Object(n("D6b/").defineMessages)({"#FFFFFF":{id:"fabric.theme.subtle-gray",defaultMessage:"Subtle gray",description:"Name of a color"},"#B3BAC5":{id:"fabric.theme.bold-gray",defaultMessage:"Bold gray",description:"Name of a color"}}),c={light:s,dark:{...s,...a}},l=Object(n("D6b/").defineMessages)({"#7AB2FF":{id:"fabric.theme.subtle-blue",defaultMessage:"Subtle blue",description:"Name of a color"},"#247FFF":{id:"fabric.theme.blue",defaultMessage:"Blue",description:"Name of a color"},"#0055CC":{id:"fabric.theme.bold-blue",
defaultMessage:"Bold blue",description:"Name of a color"},"#003884":{id:"fabric.theme.bolder-blue",defaultMessage:"Bolder blue",description:"Name of a color"},"#60C6D2":{id:"fabric.theme.subtle-teal",defaultMessage:"Subtle teal",description:"Name of a color"},"#1D9AAA":{id:"fabric.theme.teal",defaultMessage:"Teal",description:"Name of a color"},"#1D7F8C":{id:"fabric.theme.bold-teal",defaultMessage:"Bold teal",description:"Name of a color"},"#206B74":{id:"fabric.theme.bolder-teal",defaultMessage:"Bolder teal",description:"Name of a color"},"#6BE1B0":{id:"fabric.theme.subtle-green",defaultMessage:"Subtle green",description:"Name of a color"},"#23A971":{id:"fabric.theme.green",defaultMessage:"Green",description:"Name of a color"},"#177D52":{id:"fabric.theme.bold-green",defaultMessage:"Bold green",description:"Name of a color"},"#055C3F":{id:"fabric.theme.bolder-green",defaultMessage:"Bolder green",description:"Name of a color"},"#FFDB57":{id:"fabric.theme.subtle-yellow",
defaultMessage:"Subtle yellow",description:"Name of a color"},"#FFBE33":{id:"fabric.theme.yellow",defaultMessage:"Yellow",description:"Name of a color"},"#FF9D00":{id:"fabric.theme.bold-yellow",defaultMessage:"Bold yellow",description:"Name of a color"},"#946104":{id:"fabric.theme.bolder-yellow",defaultMessage:"Bolder yellow",description:"Name of a color"},"#FF8F73":{id:"fabric.theme.subtle-red",defaultMessage:"Subtle red",description:"Name of a color"},"#FC552C":{id:"fabric.theme.red",defaultMessage:"Red",description:"Name of a color."},"#D32D03":{id:"fabric.theme.bold-red",defaultMessage:"Bold red",description:"Name of a color"},"#A32000":{id:"fabric.theme.bolder-red",defaultMessage:"Bolder red",description:"Name of a color"},"#FAA53D":{id:"fabric.theme.subtle-orange",defaultMessage:"Subtle orange",description:"Name of a color"},"#D97008":{id:"fabric.theme.orange",defaultMessage:"Orange",description:"Name of a color."},"#B65C02":{id:"fabric.theme.bold-orange",
defaultMessage:"Bold orange",description:"Name of a color"},"#974F0C":{id:"fabric.theme.bolder-orange",defaultMessage:"Bolder orange",description:"Name of a color"},"#E774BB":{id:"fabric.theme.subtle-magenta",defaultMessage:"Subtle magenta",description:"Name of a color"},"#DA62AC":{id:"fabric.theme.magenta",defaultMessage:"Magenta",description:"Name of a color"},"#CD519D":{id:"fabric.theme.bold-magenta",defaultMessage:"Bold magenta",description:"Name of a color"},"#943D73":{id:"fabric.theme.bolder-magenta",defaultMessage:"Bolder magenta",description:"Name of a color"},"#B5A7FB":{id:"fabric.theme.subtle-purple",defaultMessage:"Subtle purple",description:"Name of a color"},"#8B77EE":{id:"fabric.theme.purple",defaultMessage:"Purple",description:"Name of a color"},"#5A43D0":{id:"fabric.theme.bold-purple",defaultMessage:"Bold purple",description:"Name of a color"},"#44368B":{id:"fabric.theme.bolder-purple",defaultMessage:"Bolder purple",description:"Name of a color"},"#8993A5":{
id:"fabric.theme.subtle-gray",defaultMessage:"Subtle gray",description:"Name of a color"},"#8590A2":{id:"fabric.theme.gray",defaultMessage:"Gray",description:"Name of a color"},"#758195":{id:"fabric.theme.bold-gray",defaultMessage:"Bold gray",description:"Name of a color"},"#44546F":{id:"fabric.theme.bolder-gray",defaultMessage:"Bolder gray",description:"Name of a color"}}),d={light:l,dark:{...l}},u=Object(n("D6b/").defineMessages)({"#091E4224":{id:"fabric.theme.subtle-gray",defaultMessage:"Subtle gray",description:"Name of a color"},"#758195":{id:"fabric.theme.gray",defaultMessage:"Gray",description:"Name of a color"},"#172B4D":{id:"fabric.theme.bold-gray",defaultMessage:"Bold gray",description:"Name of a color"}}),p={light:u,dark:{...u}}},aEOQ:function(e,t,n){"use strict";t.a=n("Ssoj").b},aEpL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf")
;const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M10 6h6a1 1 0 010 2h-6a1 1 0 110-2zM8 16h6a1 1 0 010 2H8a1 1 0 010-2zm4-8h2l-2 8h-2l2-8z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorItalicIcon";var s=i;t.default=s},aFj7:function(e,t,n){"use strict";var o=n("L5pH"),r=n("6jRP"),i=n("ig3W"),s=n("bKEA");e.exports=n("OTpG")(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},aMlB:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>performance.now()-e},aNc4:function(e,t,n){"use strict";t.a=Object(n("D6b/").defineMessages)({confirmModalDefaultHeading:{id:"fabric.editor.floatingToolbar.confirmModalHeading",
defaultMessage:"Are you sure?",description:"Default heading of floating toolbar confirmation modal."},confirmModalOK:{id:"fabric.editor.floatingToolbar.confirmModalOK",defaultMessage:"OK",description:"OK button for floating toolbar confirmation modal."},confirmModalCancel:{id:"fabric.editor.floatingToolbar.confirmModalCancel",defaultMessage:"Cancel",description:"Cancel button for floating toolbar confirmation modal."},confirmModalListUnit:{id:"fabric.editor.floatingToolbar.confirmModalConnectedUnit",defaultMessage:"{name}{amount, plural, =0 {} one { (+1 connected element)} other { (+# connected elements)}}",description:"Text displayed in confirmation modal which highlights the nodes and the amount of connected nodes that will be deleted"},confirmDeleteLinkedModalMessage:{id:"fabric.editor.extension.confirmDeleteLinkedModalMessage",defaultMessage:"Deleting {nodeName} will break anything connected to it.",
description:"Message for confirm modal when deleting a extension linked to an data consumer."},floatingToolbarAriaLabel:{id:"fabric.editor.floatingToolbar.floatingToolbarAriaLabel",defaultMessage:"Floating Toolbar",description:"a floating toolbar's aria label"},floatingToolbarAnnouncer:{id:"fabric.editor.floatingToolbar.floatingToolbarAnnouncer",defaultMessage:"Floating toolbar controls have been opened",description:"message that will be announced to screenreaders that the floating toolbar is opened"},floatingToolbarScrollLeft:{id:"fabric.editor.floatingToolbar.scrollLeft",defaultMessage:"Scroll left",description:"Button to scroll left when the toolbar is in the overflow state"},floatingToolbarScrollRight:{id:"fabric.editor.floatingToolbar.scrollRight",defaultMessage:"Scroll right",description:"Button to scroll right when the toolbar is in the overflow state"}})},aQUV:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("q1tI")
;const r=(e,t,r)=>(Object(o.useEffect)((()=>()=>{Object(n("aGWp").a)(e).abort()}),[]),(e=>{const t=Object(o.useRef)(!1);t.current||(e(),t.current=!0)})((()=>{Object(n("aGWp").a)(e).start({samplingRate:t});const o=0===Object.keys(e.metadata).length;r&&o&&e.addMetadata(r)})),null)},aT0f:function(e,t,n){"use strict";var o=n("7whZ"),r=n("nA4W"),i=n("C61u"),s=n("USwo"),a=n("ugGH"),c=n("40oJ").KEY,l=n("S4vA"),d=n("s2er"),u=n("kvAF"),p=n("ixoo"),h=n("zBWt"),f=n("/NTb"),m=n("4Zg2"),b=n("CuL1"),g=n("Trx6"),v=n("d+lc"),y=n("ekG2"),O=n("CYMq"),E=n("bKEA"),w=n("M5dz"),S=n("ENu8"),k=n("b08l"),x=n("GDZC"),C=n("TSC6"),T=n("/tXR"),j=n("GhSp"),A=n("mHY4"),N=C.f,I=j.f,P=x.f,M=o.Symbol,R=o.JSON,_=R&&R.stringify,L=h("_hidden"),D=h("toPrimitive"),F={}.propertyIsEnumerable,B=d("symbol-registry"),V=d("symbols"),z=d("op-symbols"),H=Object.prototype,U="function"==typeof M&&!!T.f,W=o.QObject,K=!W||!W.prototype||!W.prototype.findChild,$=i&&l((function(){return 7!=k(I({},"a",{get:function(){return I(this,"a",{
value:7}).a}})).a}))?function(e,t,n){var o=N(H,t);o&&delete H[t],I(e,t,n),o&&e!==H&&I(H,t,o)}:I,q=function(e){var t=V[e]=k(M.prototype);return t._k=e,t},G=U&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},Y=function(e,t,n){return e===H&&Y(z,t,n),v(e),t=w(t,!0),v(n),r(V,t)?(n.enumerable?(r(e,L)&&e[L][t]&&(e[L][t]=!1),n=k(n,{enumerable:S(0,!1)})):(r(e,L)||I(e,L,S(1,{})),e[L][t]=!0),$(e,t,n)):I(e,t,n)},Q=function(e,t){v(e);for(var n,o=b(t=E(t)),r=0,i=o.length;i>r;)Y(e,n=o[r++],t[n]);return e},X=function(e){var t=F.call(this,e=w(e,!0));return!(this===H&&r(V,e)&&!r(z,e))&&(!(t||!r(this,e)||!r(V,e)||r(this,L)&&this[L][e])||t)},Z=function(e,t){if(e=E(e),t=w(t,!0),e!==H||!r(V,t)||r(z,t)){var n=N(e,t);return!n||!r(V,t)||r(e,L)&&e[L][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=P(E(e)),o=[],i=0;n.length>i;)r(V,t=n[i++])||t==L||t==c||o.push(t);return o},ee=function(e){
for(var t,n=e===H,o=P(n?z:E(e)),i=[],s=0;o.length>s;)!r(V,t=o[s++])||n&&!r(H,t)||i.push(V[t]);return i};U||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(z,n),r(this,L)&&r(this[L],e)&&(this[L][e]=!1),$(this,e,S(1,n))};return i&&K&&$(H,e,{configurable:!0,set:t}),q(e)},a(M.prototype,"toString",(function(){return this._k})),C.f=Z,j.f=Y,n("ZDin").f=x.f=J,n("GRew").f=X,T.f=ee,i&&!n("5ETA")&&a(H,"propertyIsEnumerable",X,!0),f.f=function(e){return q(h(e))}),s(s.G+s.W+s.F*!U,{Symbol:M});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)h(te[ne++]);for(var oe=A(h.store),re=0;oe.length>re;)m(oe[re++]);s(s.S+s.F*!U,"Symbol",{for:function(e){return r(B,e+="")?B[e]:B[e]=M(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},
useSetter:function(){K=!0},useSimple:function(){K=!1}}),s(s.S+s.F*!U,"Object",{create:function(e,t){return void 0===t?k(e):Q(k(e),t)},defineProperty:Y,defineProperties:Q,getOwnPropertyDescriptor:Z,getOwnPropertyNames:J,getOwnPropertySymbols:ee});var ie=l((function(){T.f(1)}));s(s.S+s.F*ie,"Object",{getOwnPropertySymbols:function(e){return T.f(O(e))}}),R&&s(s.S+s.F*(!U||l((function(){var e=M();return"[null]"!=_([e])||"{}"!=_({a:e})||"{}"!=_(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,o=[e],r=1;arguments.length>r;)o.push(arguments[r++]);if(n=t=o[1],(y(t)||void 0!==e)&&!G(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),o[1]=t,_.apply(R,o)}}),M.prototype[D]||n("BRsN")(M.prototype,D,M.prototype.valueOf),u(M,"Symbol"),u(Math,"Math",!0),u(o.JSON,"JSON",!0)},aYdX:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("0unr");const r=function(e,t){const{r:n,g:r,b:i}=o.a.convert(e).rgb
;return`rgba(${n}, ${r}, ${i}, ${t})`}("#172B4D",.12)},acaU:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const o=["paragraph","bulletList","orderedList","listItem","taskItem","decisionItem","heading","blockquote","layoutColumn","caption","media"],r=e=>!!e&&-1!==o.indexOf(e.type.name)},aebN:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=Object(n("D6b/").defineMessages)({unorderedList:{id:"fabric.editor.unorderedList",defaultMessage:"Bullet list",description:"A list with bullets. Also known as an \u201cunordered\u201d list"},unorderedListDescription:{id:"fabric.editor.unorderedList.description",defaultMessage:"Create an unordered list",description:""},orderedList:{id:"fabric.editor.orderedList",defaultMessage:"Numbered list",description:"A list with ordered items 1\u2026 2\u2026 3\u2026"},orderedListDescription:{id:"fabric.editor.orderedList.description",defaultMessage:"Create an ordered list",description:""},lists:{id:"fabric.editor.lists",
defaultMessage:"Lists",description:"Menu shows ordered/bullet list and unordered/numbered lists"}})},akd9:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return l}));const o="sli",r="smart";let i=function(e){return e.SEARCH="searchUser",e.SEARCH_TEAM="searchTeam",e.INITIAL_STATE="initialState",e.SELECT="select",e.SELECT_TEAM="selectTeam",e}({}),s=function(e){return e.TYPEAHEAD="mentionTypeahead",e.MENTION="mention",e}({}),a=function(e){return e.VIEWED="viewed",e.CLICKED="clicked",e.CLOSED="closed",e.SUCCEEDED="succeeded",e.FAILED="failed",e}({});const c=e=>(t,o,r,i,a)=>{const c={action:o,actionSubject:t,eventType:"ui",attributes:{packageName:n("Ofic").a,packageVersion:n("Ofic").b,componentName:s.MENTION,accessLevel:a,isSpecial:Object(n("W304").i)(r),userId:i}},l=e(c);return l.fire("fabric-elements"),l},l=(e,t,o)=>({
action:t,actionSubject:e,eventType:"operational",attributes:{packageName:n("Ofic").a,packageVersion:n("Ofic").b,componentName:s.MENTION,...o}})},anr2:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o=(e,t,n={})=>{var o;if(0===t.length)return[];const r=[],i=new Set(t);return n.includeDocNode&&i.has(null===(o=e.doc.attrs)||void 0===o?void 0:o.localId)&&r.push({node:e.doc,pos:0}),e.doc.descendants(((e,t)=>{var n;return i.has(null===(n=e.attrs)||void 0===n?void 0:n.localId)&&r.push({node:e,pos:t}),i.size!==r.length})),r},r=(e,t)=>{if(0===t.length)return[];const n=[],o=new Set(t);return e.doc.descendants(((e,t)=>{var r;return(null===(r=e.marks)||void 0===r?void 0:r.filter((e=>"fragment"===e.type.name)).map((e=>{var t;return null===(t=e.attrs)||void 0===t?void 0:t.localId})).filter((e=>e&&o.has(e)))).length>0&&n.push({node:e,pos:t}),o.size!==n.length})),n}},aqg2:function(t,n,o){
var r=o("TYje"),i=o("zBWt")("toStringTag"),s="Arguments"==r(function(){return arguments}());t.exports=function(t){var n,o,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(o=function(t,n){try{return t[n]}catch(e){}}(n=Object(t),i))?o:s?r(n):"Object"==(a=r(n))&&"function"==typeof n.callee?"Arguments":a}},auKG:function(e,t,n){"use strict";t.a=n("XMlW").a},aznN:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return u}));var o=n("MEpN"),r=n("UxO+"),i=n("mG1W"),s=n("CsC6");const a=(e,t)=>{const{decisionList:n,decisionItem:o,taskList:r,taskItem:i}=t.nodes;return"taskList"===e?{list:r,item:i}:{list:n,item:o}},c=(e,t,o=n("+PNV").f.TOOLBAR,i,s,a)=>{const{schema:c}=e,l=null!=i?i:({tr:t,list:n,item:o,listLocalId:r,itemLocalId:i})=>p(t,n,o,c,e,r,i),u=d(e,t,o,l,(({state:e,tr:t,item:n,itemLocalId:o})=>{
const{$to:i}=e.selection,s=i.end(i.depth),a=s+2;return t.split(s,1,[{type:n,attrs:{localId:o}}]).setSelection(new r.TextSelection(t.doc.resolve(a)))}),s,a);return u?(Object(n("kXA1").a)(u,["taskList","decisionList"]),u):e.tr},l=(e,t=n("+PNV").f.TOOLBAR,o,r,i)=>(n,s)=>{const a=c(n,e,t,o,r,i);return s&&s(a),!0},d=(e,t,o,r,s,c,l)=>{const{schema:d}=e,{list:u,item:p}=a(t,d),{tr:h}=e,{$to:f}=e.selection,m=Object(i.findParentNodeOfType)(u)(e.selection),b=((e={})=>{const{objectId:t,containerId:o}=e;return{objectId:t,containerId:o,userContext:t?n("t93G").a.EDIT:n("t93G").a.NEW}})(n("qvPZ").a.getState(e).contextIdentifierProvider);let g,v,y;if(m){if(f.node().textContent.length>=0){y=m.node.childCount+1,c=c||m.node.attrs.localId;const t=Object(i.findParentNodeOfType)(p)(e.selection);v=t?e.doc.resolve(t.pos).index()+1:0,g=s||r}}else v=0,y=1,g=r;if(c=c||n("klzq").b.generate(),l=l||n("klzq").b.generate(),g){let r=g({state:e,tr:h,list:u,item:p,listLocalId:c,itemLocalId:l})
;return r&&(r=Object(n("SVcB").a)(e,r,((e,t,o,r,i,s,a)=>{let c,l,d;return t&&({containerId:c,objectId:l,userContext:d}=t),{action:n("+PNV").a.INSERTED,actionSubject:n("+PNV").b.DOCUMENT,actionSubjectId:"taskList"===e?n("+PNV").c.ACTION:n("+PNV").c.DECISION,eventType:n("+PNV").e.TRACK,attributes:{inputMethod:o,containerAri:c,objectAri:l,userContext:d,localId:r,listLocalId:i,position:s,listSize:a}}})(t,b,o,l,c,v||0,y||0))),r}return null},u=(e,t)=>t.depth-e.depth,p=(e,t,a,c,l,d=n("klzq").b.generate(),p=n("klzq").b.generate())=>{const{selection:h}=l,{$from:f,$to:m}=h;if(f.parent!==m.parent)return null;const{paragraph:b,blockquote:g,decisionList:v,taskList:y,decisionItem:O,taskItem:E,mediaGroup:w}=c.nodes;if(f.parent.type===w)return null;const S=t.create({localId:d},[a.create({localId:p})]);if(h instanceof n("WE2A").a)return Object(i.safeInsert)(S)(e);if(((e,t)=>{const{paragraph:n,blockquote:o,decisionList:r,taskList:s}=e.nodes;return Object(i.hasParentNodeOfType)([o,n,r,s])(t)})(c,h)){
const{type:c,childCount:l}=h.$from.node(),d=t.create({localId:n("klzq").b.generate()},[a.create({localId:n("klzq").b.generate()},f.node(f.depth).content)]),p=Object(i.findParentNodeOfType)(g)(h);if(p){const t=f.depth-1,n=new o.NodeRange(f,m,t);e.lift(n,Object(s.p)(n))}const w=Object(i.findParentNodeOfType)(y)(h)||Object(i.findParentNodeOfType)(v)(h),S=Object(i.findParentNodeOfType)(E)(h)||Object(i.findParentNodeOfType)(O)(h);if(w&&S){let t,n,o=h.from;return w.node.firstChild===S.node?(t=w.start-1,n=S.start+S.node.nodeSize,1===w.node.childCount&&(n=w.start+w.node.nodeSize-1)):(t=S.start-1,n=S.start+S.node.nodeSize,o+=2),e.replaceWith(t,n,d),e=Object(i.setTextSelection)(o)(e)}const k=[g];(c===b&&l>0||p)&&k.push(b);let x=e;x=Object(i.replaceParentNodeOfType)(k,d)(e);const C=u(m,x.selection.$to);if(x!==(e=e.setSelection(new r.TextSelection(e.doc.resolve(m.pos+C)))))return e}return Object(i.safeInsert)(S)(e)}},"b+wK":function(e,t,n){"use strict";function o(e){
return Object(n("GhYq").a)(e,"cell")?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:Object(n("GhYq").a)(e,"node")&&"cell"===e.node.type.spec.tableRole?e.$anchor:Object(n("EdO1").a)(e.$head)||Object(n("EdO1").b)(e.$head)}n.d(t,"a",(function(){return o}))},b08l:function(e,t,n){var o=n("d+lc"),r=n("heda"),i=n("l0Kd"),s=n("WpRT")("IE_PROTO"),a=function(){},c=function(){var e,t=n("BfU5")("iframe"),o=i.length;for(t.style.display="none",n("kUGv").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;o--;)delete c.prototype[i[o]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=o(e),n=new a,a.prototype=null,n[s]=e):n=c(),void 0===t?n:r(n,t)}},"b91/":function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),
n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return b}));var o=n("DZdY");const r=`\n  border-radius: ${Object(n("7w+A").borderRadius)()}px;\n`,i=(e="100%")=>`\n    max-width: ${e}${"number"==typeof e?"px":""};\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  `,s=(e="100%")=>{const t="number"==typeof e?"px":"";return`\n    width: ${e}${t};\n    height: ${e}${t};\n  `};const a=e=>`\n  ${r}\n  ${function({minWidth:e}){return e?`min-width: ${e}px;`:""}(e)}\n  ${function({maxWidth:e}){return e?`max-width: ${e}px; margin: 0 auto;`:"margin: 0 auto;"}(e)}\n  ${function({isInteractive:e,frameStyle:t}){return e?`\n      &:hover {\n        ${"hide"!==t&&c}\n      }\n      &:active {\n        background-color: var(--ds-background-selected, #DEEBFF);\n      }\n    `:""}(e)}\n  ${function({frameStyle:e}){return"show"===e?c:""
}(e)}\n  display: inline-flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  font-family: ${Object(n("7w+A").fontFamily)()};\n  width: 100%;\n  user-select: none;\n  line-height: initial;\n  transition: background 0.3s;\n  position: relative;\n  ${(({inheritDimensions:e})=>e?"height: 100%;":`height: ${Object(n("bk4t").b)(54)}`)(e)};\n  ${function({isSelected:e,frameStyle:t}){return e&&"hide"!==t?`\n    ${c}\n    &::after {\n      cursor: pointer;\n      box-shadow: 0 0 0 3px var(--ds-border-selected, #4C9AFF);\n      content: '';\n      outline: none;\n      position: absolute;\n      height: 100%;\n      width: 100%;\n      left: 0;\n      ${r}\n    }\n    `:e&&"hide"===t?`\n        box-shadow: 0 0 0 3px var(--ds-border-selected, #4C9AFF);\n        ${r}\n      `:""
}(e)}\n\n  &:after {\n    content: '';\n    background: transparent;\n    transition: background 0.3s, box-shadow 0.3s;\n    position: absolute;\n    width: calc(100% + var(--ds-space-200, 16px));\n    height: calc(100% + var(--ds-space-100, 8px));\n    left: calc(-1 * var(--ds-space-100, 8px));\n    ${r}\n  }\n`,c="\n  background-color: var(--ds-background-neutral-subtle, #EBECF0);\n\n  &:after {\n    background: var(--ds-background-neutral, #EBECF0) !important;\n  }\n  .embed-header {\n    opacity: 1;\n  }";const l=Object(o.a)("div",{target:"ewm653u15"})((e=>a(e))," &:hover{text-decoration:none;}"),d=Object(o.a)("div",{target:"ewm653u14"})((e=>a(e)),";margin-top:10px;"),u=32,p=Object(o.a)("div",{target:"ewm653u13"})("height:",u,"px;position:absolute;z-index:1;width:100%;display:flex;align-items:center;color:","var(--ds-icon, #5E6C84)",";opacity:0;transition:300ms opacity cubic-bezier(0.15, 1, 0.3, 1);"),h=Object(o.a)("div",{target:"ewm653u12"
})(r," ",s(16)," ",(({isPlaceholder:e})=>e?"\n      background-color: var(--ds-skeleton, #EBECF0);\n    ":"")," margin-right:4px;"),f=Object(o.a)("div",{target:"ewm653u11"})((({isPlaceholder:e})=>e?`\n        ${r}\n        width: 125px;\n        height: 12px;\n        background-color: var(--ds-skeleton, #EBECF0);\n      `:"")," color:","var(--ds-text-subtlest, #5E6C84)",";font-size:12px;line-height:16px;",i("none"),";"),m=Object(o.a)("div",{target:"ewm653u10"
})(r," ",""," background-color:var(--ds-surface-raised, white);position:absolute;z-index:1;width:100%;transition:box-shadow 0.3s;>.calc-height>div>div{left:unset!important;width:unset!important;height:unset!important;position:initial!important;padding-bottom:unset!important;}>.embed-preview>div{margin:0 auto;}",(({isInteractive:e})=>e?"\n          .media-card-frame:hover & {\n            box-shadow: var(--ds-shadow-overlay, 0 4px 8px -2px rgba(23, 43, 77, 0.32), 0 0 1px rgba(23, 43, 77, 0.25));\n          }\n        ":""),";",(({allowScrollBar:e})=>e?"overflow: auto;":"overflow: hidden;")," ",(({frameStyle:e})=>"hide"===e?"height: 100%;":"\n        height: calc(100% - var(--ds-space-400, 32px));\n        top: var(--ds-space-400, 32px);\n      "),";"),b=Object(o.a)("img",{target:"ewm653u9"})((({size:e})=>s(e))," ",r,"overflow:hidden;");i("100%"),s(48)},b9EY:function(e,t){
e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},b9ZJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bpfrpt_proptype_RowRendererParams=t.List=t.default=void 0;var o=n("HDaX");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}}),Object.defineProperty(t,"List",{enumerable:!0,get:function(){return i(o).default}});var r=n("5SuN");function i(e){return e&&e.__esModule?e:{default:e}}t.bpfrpt_proptype_RowRendererParams=r.bpfrpt_proptype_RowRendererParams},bIcM:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n("UxO+"),r=n("MEpN"),i=n("CsC6");const s=({tr:e,originalSelection:t,normalizedSelection:r,hasCommonListMoved:i,hasNormalizedToPositionLiftedOut:s,hasNormalizedFromPositionLiftedOut:a})=>{const{$from:c,$to:l}=r,d=r.empty
;let u=e.mapping.map(c.pos),p=e.mapping.map(l.pos);const h=c.sameParent(l);if(a){const e=h?c.pos:u;u=a?c.pos:e,u=i?u-2:u,u=Math.max(u,0)}if(s){const t=h?l.pos:p;p=s?l.pos:t,p=i?p-2:p,p=Math.min(p,e.doc.nodeSize-2)}if(r instanceof n("WE2A").a){const t=e.doc.resolve(u);return new(n("WE2A").a)(t,r.side)}return t instanceof o.NodeSelection?o.NodeSelection.create(e.doc,u):d?o.TextSelection.between(e.doc.resolve(p),e.doc.resolve(p),-1):o.TextSelection.between(e.doc.resolve(u),e.doc.resolve(p),-1)},a=e=>{const t=Object(n("DQ6B").b)({selection:e});if(!t)return[];const{$from:o,$to:r}=e;if(o.pos===r.pos&&o.sameParent(r))return[{from:t.start,to:t.end,depth:t.depth}];const i=d(o);if(!i)return[];const s=[],{doc:a}=o;let c=d(r);for(;c&&c.pos>=i.pos&&c.pos>=t.start;){const e=a.nodeAt(c.pos);if(!e||!Object(n("EvmU").c)(e))return[];let t=0;e&&e.lastChild&&Object(n("EvmU").d)(e.lastChild)&&(t=e.lastChild.nodeSize);const o=c.pos+1;s.push({from:o,to:a.resolve(o).end()-t,depth:c.depth}),c=d(c)}return s
},c=({tr:e,range:t})=>{const n=t.end,o=t.$to.end(t.depth),{listItem:s}=e.doc.type.schema.nodes;if(n<o){const a=new r.Slice(r.Fragment.from(s.create(null,t.parent.copy())),1,0),c=new i.d(n-1,o,n,o,a,1,!0);e.step(c),t=new r.NodeRange(e.doc.resolve(t.$from.pos),e.doc.resolve(o),t.depth)}const a=Object(i.p)(t);a&&e.lift(t,a)},l=({tr:e,range:t,state:o,featureFlags:s})=>{const a=t.parent,c=e.doc.resolve(t.start),l=c.start(t.depth),d=c.end(t.depth),u=l===t.start,p=d===t.end,h=u&&p;let f=u?r.Fragment.empty:r.Fragment.from(a.copy(r.Fragment.empty));for(let n=t.startIndex;n<t.endIndex;n++)f=f.append(a.child(n).content);if(u)for(let r=0;r<f.childCount;r++){const e=f.child(r);if(e&&Object(n("EvmU").d)(e)&&e.type!==a.type){const t=a.type.create(null,e.content);f=f.replaceChild(r,t)}}let m,b=a.copy(r.Fragment.empty);if(null!=s&&s.restartNumberedLists){const o=Object(n("NpU6").b)(a);if("orderedList"===a.type.name){m=t.endIndex-1+o,b.attrs={...b.attrs,order:m}
;const{splitListStartNumber:r}=Object(n("2xgt").b)(e);"number"!=typeof r&&Object(n("2xgt").c)(e,{splitListStartNumber:m})}}const g=f.append(r.Fragment.from(b));if(null!=s&&s.restartNumberedLists&&g.forEach(((t,o,r)=>{var i;if("orderedList"===t.type.name&&(null===(i=t.attrs)||void 0===i?void 0:i.order)===m){var s;const t=g.child(r-1);var a;if((null==t||null===(s=t.attrs)||void 0===s?void 0:s.order)>=0)Object(n("2xgt").c)(e,{splitListStartNumber:null==t||null===(a=t.attrs)||void 0===a?void 0:a.order})}})),h){const o=new r.Slice(f,0,0),a=new i.e(c.pos-1,t.end+1,o,!1);null!=s&&s.restartNumberedLists&&Object(n("2xgt").c)(e,{outdentScenario:void 0}),e.step(a)}else if(u){const n=new r.Slice(g,0,1),o=new i.e(c.pos-1,t.end,n,!1);e.step(o)}else if(p){const t=new r.Slice(f,1,0),n=new i.e(c.pos,d+1,t,!1);e.step(n)}else{null!=s&&s.restartNumberedLists&&Object(n("2xgt").c)(e,{outdentScenario:n("gu93").d.SPLIT_LIST});const o=new r.Slice(g,1,1),a=new i.d(c.pos,d,t.end,d,o,o.size,!1);e.step(a)}},d=e=>{
const t=e.doc,r=Object(n("EvmU").d)(e.node());let i=e;if(!r){const o=Object(n("ytXc").a)(e);return o?t.resolve(o.pos):null}const s=t.resolve(i.pos),a=o.Selection.findFrom(s,-1);if(!a)return null;const c=Object(n("ytXc").a)(a.$from);return c?t.resolve(c.pos):null};var u=n("hyZr");function p(e=n("+PNV").f.KEYBOARD,t){return function(o,r){if(!Object(n("DQ6B").d)(o))return!1;const{$from:i}=o.selection,d=Object(n("ytXc").b)(i);if(!d)return!0;Object(u.a)(o.tr);const p=Object(n("EvmU").b)(d.node)?n("+PNV").c.FORMAT_LIST_BULLET:n("+PNV").c.FORMAT_LIST_NUMBER;let h=o.tr;if(((e,t,o)=>{const r=e.selection,i=Object(n("DQ6B").i)({selection:e.selection,doc:e.doc}),d=Object(n("ytXc").c)(i.$from);if(!d)return;const u=i.$from.blockRange(d,n("EvmU").d);if(!u)return;let p=!1,h=!1;const{from:f,to:m}=i;a(i).forEach((r=>{const i=e.doc.resolve(e.mapping.map(r.from)),s=e.doc.resolve(e.mapping.map(r.to)),a=i.blockRange(s,n("EvmU").d);a&&(Object(n("EvmU").c)(i.node(a.depth-1))?c({tr:e,range:a}):(l({tr:e,
range:a,state:t,featureFlags:o}),p=p||m>=r.from&&m<r.to,h=h||f>=r.from&&f<r.to))}));const b=u.start!==e.mapping.map(u.start),g=s({originalSelection:r,normalizedSelection:i,tr:e,hasCommonListMoved:b,hasNormalizedToPositionLiftedOut:p,hasNormalizedFromPositionLiftedOut:h});e.setSelection(g),Object(n("EvmU").f)({tr:e,direction:n("EvmU").a.RIGHT})})(h,o,t),!h||!h.docChanged)return!Object(n("DQ6B").e)(o);const f={};if(null!=t&&t.restartNumberedLists){const{outdentScenario:e,splitListStartNumber:t}=Object(n("2xgt").b)(h);e===n("gu93").d.SPLIT_LIST&&(f.outdentScenario=e,f.splitListStartNumber=t)}return Object(n("SVcB").a)(o,h,{action:n("+PNV").a.OUTDENTED,actionSubject:n("+PNV").b.LIST,actionSubjectId:p,eventType:n("+PNV").e.TRACK,attributes:{...Object(n("2xgt").a)(o),...f,inputMethod:e}}),r&&r(h),!0}}},bJo2:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s}))
;const o=e=>Object(n("RB5l").a)({type:n("WXBT").a.SET_KEYBOARD_HEIGHT,keyboardHeight:e}),r=e=>Object(n("RB5l").a)({type:n("WXBT").a.SET_WINDOW_HEIGHT,windowHeight:e}),i=e=>Object(n("RB5l").a)({type:n("WXBT").a.SET_MOBILE_PADDING_TOP,paddingTop:e}),s=e=>Object(n("RB5l").a)({type:n("WXBT").a.SET_IS_EXPANDED,isExpanded:e})},bKEA:function(e,t,n){var o=n("n7vu"),r=n("yQFZ");e.exports=function(e){return o(r(e))}},bS86:function(e,t,n){var o=n("ig3W"),r=n("zBWt")("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||i[r]===e)}},bUDQ:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"j",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"i",(function(){return a})),n.d(t,"l",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"h",(function(){return f})),n.d(t,"k",(function(){return m})),n.d(t,"b",(function(){return b}))
;const o={"100%":"100%","size.100":"1rem","size.200":"1.5rem","size.300":"2rem","size.400":"2.5rem","size.500":"3rem","size.600":"6rem","size.1000":"12rem"},r={"space.0":"var(--ds-space-0, 0px)","space.025":"var(--ds-space-025, 2px)","space.050":"var(--ds-space-050, 4px)","space.075":"var(--ds-space-075, 6px)","space.100":"var(--ds-space-100, 8px)","space.150":"var(--ds-space-150, 12px)","space.200":"var(--ds-space-200, 16px)","space.250":"var(--ds-space-250, 20px)","space.300":"var(--ds-space-300, 24px)","space.400":"var(--ds-space-400, 32px)","space.500":"var(--ds-space-500, 40px)","space.600":"var(--ds-space-600, 48px)","space.800":"var(--ds-space-800, 64px)","space.1000":"var(--ds-space-1000, 80px)"},i={"color.border":"var(--ds-border, #091e4221)","color.border.accent.lime":"var(--ds-border-accent-lime, #6A9A23)","color.border.accent.red":"var(--ds-border-accent-red, #FF5630)","color.border.accent.orange":"var(--ds-border-accent-orange, #D94008)",
"color.border.accent.yellow":"var(--ds-border-accent-yellow, #FFAB00)","color.border.accent.green":"var(--ds-border-accent-green, #36B37E)","color.border.accent.teal":"var(--ds-border-accent-teal, #00B8D9)","color.border.accent.blue":"var(--ds-border-accent-blue, #0065FF)","color.border.accent.purple":"var(--ds-border-accent-purple, #6554C0)","color.border.accent.magenta":"var(--ds-border-accent-magenta, #CD519D)","color.border.accent.gray":"var(--ds-border-accent-gray, #5E6C84)","color.border.disabled":"var(--ds-border-disabled, #FAFBFC)","color.border.focused":"var(--ds-border-focused, #4C9AFF)","color.border.input":"var(--ds-border-input, #FAFBFC)","color.border.inverse":"var(--ds-border-inverse, #FFFFFF)","color.border.selected":"var(--ds-border-selected, #0052CC)","color.border.brand":"var(--ds-border-brand, #0052CC)","color.border.danger":"var(--ds-border-danger, #FF5630)","color.border.warning":"var(--ds-border-warning, #FFC400)",
"color.border.success":"var(--ds-border-success, #00875A)","color.border.discovery":"var(--ds-border-discovery, #998DD9)","color.border.information":"var(--ds-border-information, #0065FF)","color.border.bold":"var(--ds-border-bold, #344563)"},s={"color.background.accent.lime.subtlest":"var(--ds-background-accent-lime-subtlest, #EEFBDA)","color.background.accent.lime.subtler":"var(--ds-background-accent-lime-subtler, #D3F1A7)","color.background.accent.lime.subtle":"var(--ds-background-accent-lime-subtle, #94C748)","color.background.accent.lime.bolder":"var(--ds-background-accent-lime-bolder, #5B7F24)","color.background.accent.red.subtlest":"var(--ds-background-accent-red-subtlest, #FF8F73)","color.background.accent.red.subtler":"var(--ds-background-accent-red-subtler, #FF7452)","color.background.accent.red.subtle":"var(--ds-background-accent-red-subtle, #DE350B)","color.background.accent.red.bolder":"var(--ds-background-accent-red-bolder, #DE350B)",
"color.background.accent.orange.subtlest":"var(--ds-background-accent-orange-subtlest, #F18D13)","color.background.accent.orange.subtler":"var(--ds-background-accent-orange-subtler, #B65C02)","color.background.accent.orange.subtle":"var(--ds-background-accent-orange-subtle, #5F3811)","color.background.accent.orange.bolder":"var(--ds-background-accent-orange-bolder, #43290F)","color.background.accent.yellow.subtlest":"var(--ds-background-accent-yellow-subtlest, #FFE380)","color.background.accent.yellow.subtler":"var(--ds-background-accent-yellow-subtler, #FFC400)","color.background.accent.yellow.subtle":"var(--ds-background-accent-yellow-subtle, #FF991F)","color.background.accent.yellow.bolder":"var(--ds-background-accent-yellow-bolder, #FF991F)","color.background.accent.green.subtlest":"var(--ds-background-accent-green-subtlest, #79F2C0)","color.background.accent.green.subtler":"var(--ds-background-accent-green-subtler, #57D9A3)",
"color.background.accent.green.subtle":"var(--ds-background-accent-green-subtle, #00875A)","color.background.accent.green.bolder":"var(--ds-background-accent-green-bolder, #00875A)","color.background.accent.teal.subtlest":"var(--ds-background-accent-teal-subtlest, #79E2F2)","color.background.accent.teal.subtler":"var(--ds-background-accent-teal-subtler, #00C7E6)","color.background.accent.teal.subtle":"var(--ds-background-accent-teal-subtle, #00A3BF)","color.background.accent.teal.bolder":"var(--ds-background-accent-teal-bolder, #00A3BF)","color.background.accent.blue.subtlest":"var(--ds-background-accent-blue-subtlest, #4C9AFF)","color.background.accent.blue.subtler":"var(--ds-background-accent-blue-subtler, #2684FF)","color.background.accent.blue.subtle":"var(--ds-background-accent-blue-subtle, #0052CC)","color.background.accent.blue.bolder":"var(--ds-background-accent-blue-bolder, #0052CC)",
"color.background.accent.purple.subtlest":"var(--ds-background-accent-purple-subtlest, #998DD9)","color.background.accent.purple.subtler":"var(--ds-background-accent-purple-subtler, #8777D9)","color.background.accent.purple.subtle":"var(--ds-background-accent-purple-subtle, #5243AA)","color.background.accent.purple.bolder":"var(--ds-background-accent-purple-bolder, #5243AA)","color.background.accent.magenta.subtlest":"var(--ds-background-accent-magenta-subtlest, #E774BB)","color.background.accent.magenta.subtler":"var(--ds-background-accent-magenta-subtler, #E774BB)","color.background.accent.magenta.subtle":"var(--ds-background-accent-magenta-subtle, #E774BB)","color.background.accent.magenta.bolder":"var(--ds-background-accent-magenta-bolder, #E774BB)","color.background.accent.gray.subtlest":"var(--ds-background-accent-gray-subtlest, #6B778C)","color.background.accent.gray.subtler":"var(--ds-background-accent-gray-subtler, #5E6C84)",
"color.background.accent.gray.subtle":"var(--ds-background-accent-gray-subtle, #42526E)","color.background.accent.gray.bolder":"var(--ds-background-accent-gray-bolder, #505F79)","color.background.disabled":"var(--ds-background-disabled, #091e4289)","color.background.input":"var(--ds-background-input, #FAFBFC)","color.background.input.hovered":"var(--ds-background-input-hovered, #EBECF0)","color.background.input.pressed":"var(--ds-background-input-pressed, #FFFFFF)","color.background.inverse.subtle":"var(--ds-background-inverse-subtle, #00000029)","color.background.inverse.subtle.hovered":"var(--ds-background-inverse-subtle-hovered, #0000003D)","color.background.inverse.subtle.pressed":"var(--ds-background-inverse-subtle-pressed, #00000052)","color.background.neutral":"var(--ds-background-neutral, #DFE1E6)","color.background.neutral.hovered":"var(--ds-background-neutral-hovered, #091e4214)","color.background.neutral.pressed":"var(--ds-background-neutral-pressed, #B3D4FF)",
"color.background.neutral.subtle":"var(--ds-background-neutral-subtle, transparent)","color.background.neutral.subtle.hovered":"var(--ds-background-neutral-subtle-hovered, #091e4214)","color.background.neutral.subtle.pressed":"var(--ds-background-neutral-subtle-pressed, #B3D4FF)","color.background.neutral.bold":"var(--ds-background-neutral-bold, #42526E)","color.background.neutral.bold.hovered":"var(--ds-background-neutral-bold-hovered, #505F79)","color.background.neutral.bold.pressed":"var(--ds-background-neutral-bold-pressed, #344563)","color.background.selected":"var(--ds-background-selected, #DEEBFF)","color.background.selected.hovered":"var(--ds-background-selected-hovered, #B3D4FF)","color.background.selected.pressed":"var(--ds-background-selected-pressed, #4C9AFF)","color.background.selected.bold":"var(--ds-background-selected-bold, #0052CC)","color.background.selected.bold.hovered":"var(--ds-background-selected-bold-hovered, #2684FF)",
"color.background.selected.bold.pressed":"var(--ds-background-selected-bold-pressed, #0052CC)","color.background.brand.bold":"var(--ds-background-brand-bold, #0052CC)","color.background.brand.bold.hovered":"var(--ds-background-brand-bold-hovered, #0065FF)","color.background.brand.bold.pressed":"var(--ds-background-brand-bold-pressed, #0747A6)","color.background.danger":"var(--ds-background-danger, #FFEBE6)","color.background.danger.hovered":"var(--ds-background-danger-hovered, #FFBDAD)","color.background.danger.pressed":"var(--ds-background-danger-pressed, #FF8F73)","color.background.danger.bold":"var(--ds-background-danger-bold, #DE350B)","color.background.danger.bold.hovered":"var(--ds-background-danger-bold-hovered, #FF5630)","color.background.danger.bold.pressed":"var(--ds-background-danger-bold-pressed, #BF2600)","color.background.warning":"var(--ds-background-warning, #FFFAE6)","color.background.warning.hovered":"var(--ds-background-warning-hovered, #FFF0B3)",
"color.background.warning.pressed":"var(--ds-background-warning-pressed, #FFE380)","color.background.warning.bold":"var(--ds-background-warning-bold, #FFAB00)","color.background.warning.bold.hovered":"var(--ds-background-warning-bold-hovered, #FFC400)","color.background.warning.bold.pressed":"var(--ds-background-warning-bold-pressed, #FF991F)","color.background.success":"var(--ds-background-success, #E3FCEF)","color.background.success.hovered":"var(--ds-background-success-hovered, #ABF5D1)","color.background.success.pressed":"var(--ds-background-success-pressed, #79F2C0)","color.background.success.bold":"var(--ds-background-success-bold, #00875A)","color.background.success.bold.hovered":"var(--ds-background-success-bold-hovered, #57D9A3)","color.background.success.bold.pressed":"var(--ds-background-success-bold-pressed, #00875A)","color.background.discovery":"var(--ds-background-discovery, #EAE6FF)","color.background.discovery.hovered":"var(--ds-background-discovery-hovered, #C0B6F2)",
"color.background.discovery.pressed":"var(--ds-background-discovery-pressed, #998DD9)","color.background.discovery.bold":"var(--ds-background-discovery-bold, #5243AA)","color.background.discovery.bold.hovered":"var(--ds-background-discovery-bold-hovered, #8777D9)","color.background.discovery.bold.pressed":"var(--ds-background-discovery-bold-pressed, #5243AA)","color.background.information":"var(--ds-background-information, #DEEBFF)","color.background.information.hovered":"var(--ds-background-information-hovered, #B3D4FF)","color.background.information.pressed":"var(--ds-background-information-pressed, #4C9AFF)","color.background.information.bold":"var(--ds-background-information-bold, #0052CC)","color.background.information.bold.hovered":"var(--ds-background-information-bold-hovered, #2684FF)","color.background.information.bold.pressed":"var(--ds-background-information-bold-pressed, #0052CC)","color.blanket":"var(--ds-blanket, #091e4289)",
"color.blanket.selected":"var(--ds-blanket-selected, #388BFF14)","color.blanket.danger":"var(--ds-blanket-danger, #EF5C4814)","elevation.surface":"var(--ds-surface, #FFFFFF)","elevation.surface.hovered":"var(--ds-surface-hovered, #FAFBFC)","elevation.surface.pressed":"var(--ds-surface-pressed, #F4F5F7)","elevation.surface.overlay":"var(--ds-surface-overlay, #FFFFFF)","elevation.surface.overlay.hovered":"var(--ds-surface-overlay-hovered, #FAFBFC)","elevation.surface.overlay.pressed":"var(--ds-surface-overlay-pressed, #F4F5F7)","elevation.surface.raised":"var(--ds-surface-raised, #FFFFFF)","elevation.surface.raised.hovered":"var(--ds-surface-raised-hovered, #FAFBFC)","elevation.surface.raised.pressed":"var(--ds-surface-raised-pressed, #F4F5F7)","elevation.surface.sunken":"var(--ds-surface-sunken, #F4F5F7)"},a={"elevation.shadow.overflow":"var(--ds-shadow-overflow, 0px 0px 8px #091e423f, 0px 0px 1px #091e424f)",
"elevation.shadow.overflow.perimeter":"var(--ds-shadow-overflow-perimeter, #091e421f)","elevation.shadow.overflow.spread":"var(--ds-shadow-overflow-spread, #091e4229)","elevation.shadow.overlay":"var(--ds-shadow-overlay, 0px 8px 12px #091e423f, 0px 0px 1px #091e424f)","elevation.shadow.raised":"var(--ds-shadow-raised, 0px 1px 1px #091e423f, 0px 0px 1px #091e4221)"},c={"color.text":"var(--ds-text, #172B4D)","color.text.accent.lime":"var(--ds-text-accent-lime, #4C6B1F)","color.text.accent.lime.bolder":"var(--ds-text-accent-lime-bolder, #37471F)","color.text.accent.red":"var(--ds-text-accent-red, #DE350B)","color.text.accent.red.bolder":"var(--ds-text-accent-red-bolder, #BF2600)","color.text.accent.orange":"var(--ds-text-accent-orange, #F18D13)","color.text.accent.orange.bolder":"var(--ds-text-accent-orange-bolder, #B65C02)","color.text.accent.yellow":"var(--ds-text-accent-yellow, #FF991F)","color.text.accent.yellow.bolder":"var(--ds-text-accent-yellow-bolder, #FF8B00)",
"color.text.accent.green":"var(--ds-text-accent-green, #00875A)","color.text.accent.green.bolder":"var(--ds-text-accent-green-bolder, #006644)","color.text.accent.teal":"var(--ds-text-accent-teal, #00A3BF)","color.text.accent.teal.bolder":"var(--ds-text-accent-teal-bolder, #008DA6)","color.text.accent.blue":"var(--ds-text-accent-blue, #0052CC)","color.text.accent.blue.bolder":"var(--ds-text-accent-blue-bolder, #0747A6)","color.text.accent.purple":"var(--ds-text-accent-purple, #5243AA)","color.text.accent.purple.bolder":"var(--ds-text-accent-purple-bolder, #403294)","color.text.accent.magenta":"var(--ds-text-accent-magenta, #E774BB)","color.text.accent.magenta.bolder":"var(--ds-text-accent-magenta-bolder, #DA62AC)","color.text.accent.gray":"var(--ds-text-accent-gray, #505F79)","color.text.accent.gray.bolder":"var(--ds-text-accent-gray-bolder, #172B4D)","color.text.disabled":"var(--ds-text-disabled, #A5ADBA)","color.text.inverse":"var(--ds-text-inverse, #FFFFFF)",
"color.text.selected":"var(--ds-text-selected, #0052CC)","color.text.brand":"var(--ds-text-brand, #0065FF)","color.text.danger":"var(--ds-text-danger, #DE350B)","color.text.warning":"var(--ds-text-warning, #974F0C)","color.text.warning.inverse":"var(--ds-text-warning-inverse, #172B4D)","color.text.success":"var(--ds-text-success, #006644)","color.text.discovery":"var(--ds-text-discovery, #403294)","color.text.information":"var(--ds-text-information, #0052CC)","color.text.subtlest":"var(--ds-text-subtlest, #7A869A)","color.text.subtle":"var(--ds-text-subtle, #42526E)"},l={card:100,navigation:200,dialog:300,layer:400,blanket:500,modal:510,flag:600,spotlight:700,tooltip:800},d={"border.width":"var(--ds-border-width, 1px)","border.width.0":"var(--ds-border-width-0, 0px)","border.width.indicator":"var(--ds-border-width-indicator, 3px)","border.width.outline":"var(--ds-border-width-outline, 2px)"},u={"border.radius.050":"var(--ds-border-radius-050, 2px)",
"border.radius":"var(--ds-border-radius, 3px)","border.radius.100":"var(--ds-border-radius-100, 3px)","border.radius.200":"var(--ds-border-radius-200, 8px)","border.radius.300":"var(--ds-border-radius-300, 12px)","border.radius.400":"var(--ds-border-radius-400, 16px)","border.radius.circle":"var(--ds-border-radius-circle, 32032px)"},p=["padding","paddingBlock","paddingBlockStart","paddingBlockEnd","paddingInline","paddingInlineStart","paddingInlineEnd","gap","rowGap","columnGap"],h=(e,t)=>Object.keys(t).reduce(((o,r)=>(o[r]=Object(n("AeFk").css)({[e]:t[r]}),o)),{}),f=p.reduce(((e,t)=>(e[t]=h(t,r),e)),{}),m=p.reduce(((e,t)=>(e[t]=h(t,r),e)),{}),b=h("backgroundColor",s)},banK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5h2a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1zm6 0h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V6a1 1 0 011-1zm6 0h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorLayoutThreeEqualIcon";var s=i;t.default=s},bcXr:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"g",(function(){return f}));var o=n("UxO+"),r=n("MEpN");function i(e){const t=new Date;return void 0!==e&&t.getDate()===e.day&&e.month===t.getMonth()+1&&e.year===t.getFullYear()}var s=n("mG1W");const a=e=>(t,o)=>{const i=o.schema.nodes.date.createChecked({timestamp:Object(n("Jvvb").f)()
}),s=o.schema.text(" "),a=t(r.Fragment.from([i,s]),{selectInlineNode:!0}),c={isQuickInsertAction:e,showDatePickerAt:a.selection.from,isNew:!0,isDateEmpty:!1,focusDateInput:!1};return a.setMeta(n("VpzP").a,c)},c=()=>(e,t)=>{const{showDatePickerAt:o}=n("VpzP").a.getState(e);if(null===o)return!1;const r=e.tr.delete(o,o+1).setMeta(n("VpzP").a,{showDatePickerAt:null,isNew:!1});return t&&t(r),!0},l=()=>(e,t)=>{const{showDatePickerAt:o}=n("VpzP").a.getState(e);if(null===o)return!1;if(!t)return!1;return t(e.tr.setMeta(n("VpzP").a,{focusDateInput:!0})),!0},d=(e,t,a,c=!0)=>(l,d)=>{const{schema:u}=l;let p;p=e?Date.UTC(e.year,e.month-1,e.day).toString():Object(n("Jvvb").f)();let h=l.tr;t&&Object(n("SVcB").a)(l,h,{action:n("+PNV").a.INSERTED,actionSubject:n("+PNV").b.DOCUMENT,actionSubjectId:n("+PNV").c.DATE,eventType:n("+PNV").e.TRACK,attributes:{inputMethod:t}}),a&&Object(n("SVcB").a)(l,h,{eventType:n("+PNV").e.TRACK,action:n("+PNV").a.COMMITTED,actionSubject:n("+PNV").b.DATE,attributes:{
commitMethod:a,isValid:void 0!==e,isToday:i(e)}});const{showDatePickerAt:f}=n("VpzP").a.getState(l);if(!f){const e=u.nodes.date.createChecked({timestamp:p}),t=l.schema.text(" "),i=r.Fragment.fromArray([e,t]),{from:a,to:c}=l.selection;if(Object(s.canInsert)(h.selection.$from,i))h.replaceWith(a,c,i).setSelection(o.NodeSelection.create(h.doc,a));else{const e=o.NodeSelection.create(h.doc,h.selection.from-h.selection.$anchor.parentOffset-1);h.insert(e.to,i).setSelection(o.NodeSelection.create(h.doc,e.to+1))}return d&&d(h.scrollIntoView().setMeta(n("VpzP").a,{isNew:!0})),!0}return!!l.doc.nodeAt(f)&&(c&&(h=h.setSelection(o.Selection.near(h.doc.resolve(f+2)))),h=h.setNodeMarkup(f,u.nodes.date,{timestamp:p}).setMeta(n("VpzP").a,{isNew:!1}).scrollIntoView(),c||(h=h.setSelection(o.NodeSelection.create(h.doc,f))),d&&d(h),!0)},u=e=>(t,o)=>(o(t.tr.setMeta(n("VpzP").a,{showDatePickerAt:e})),!0),p=()=>(e,t)=>{const{showDatePickerAt:r}=n("VpzP").a.getState(e);if(!t)return!1
;return t(r?e.tr.setMeta(n("VpzP").a,{showDatePickerAt:null,isNew:!1}).setSelection(o.Selection.near(e.tr.doc.resolve(r+2))):e.tr.setMeta(n("VpzP").a,{isNew:!1})),!1},h=({date:e})=>Object(n("SVcB").b)({eventType:n("+PNV").e.TRACK,action:n("+PNV").a.COMMITTED,actionSubject:n("+PNV").b.DATE,attributes:{commitMethod:n("+PNV").f.BLUR,isValid:void 0!==e,isToday:i(e)}})(p()),f=()=>(e,t)=>{const{$from:r}=e.selection,i=e.doc.nodeAt(r.pos);if(i&&i.type.name===e.schema.nodes.date.name){const i=r.pos;t&&t(e.tr.setMeta(n("VpzP").a,{showDatePickerAt:i}).setSelection(o.NodeSelection.create(e.doc,i)))}return!1}},beyY:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a}));var o=n("MEpN"),r=n("mG1W");const i=(e,t)=>{const{expand:n,nestedExpand:o}=e.schema.nodes;return Object(r.findSelectedNodeOfType)([n,o])(t||e.selection)||Object(r.findParentNodeOfType)([n,o])(t||e.selection)
},s=(e,t)=>e.openStart>1&&e.openEnd>1&&1===e.content.childCount&&e.content.firstChild&&e.content.firstChild.type===t.nodes.expand?new o.Slice(e.content.firstChild.content,e.openStart-1,e.openEnd-1):e,a=(e,t)=>{const{expand:r,nestedExpand:i}=t.nodes,s=[];return Object(n("C0PT").c)(e.content,(e=>{e.type===i?s.push(r.createChecked(e.attrs,e.content,e.marks)):s.push(e)})),new o.Slice(o.Fragment.fromArray(s),e.openStart,e.openEnd)}},bgCn:function(e,t,n){"use strict";for(var o=n("AGgm").isSpace,r=[],i=0;i<256;i++)r.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){r[e.charCodeAt(0)]=1})),e.exports=function(e,t){var n,i=e.pos,s=e.posMax;if(92!==e.src.charCodeAt(i))return!1;if(++i<s){if((n=e.src.charCodeAt(i))<256&&0!==r[n])return t||(e.pending+=e.src[i]),e.pos+=2,!0;if(10===n){for(t||e.push("hardbreak","br",0),i++;i<s&&(n=e.src.charCodeAt(i),o(n));)i++;return e.pos=i,!0}}return t||(e.pending+="\\"),e.pos++,!0}},bk4t:function(e,t,n){"use strict";n.d(t,"b",(function(){
return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s}));var o=n("Ro5u");const r=e=>Object(n("7w+A").gridSize)()*e+"px",i=(e=1)=>Object(n("7w+A").borderRadius)()*e+"px",s=Object(o.a)(["@media(min-width: 576px)"])},bmZU:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const{createPluginState:o,createCommand:r,getPluginState:i}=Object(n("pVB1").a)(n("dHhq").a,((e,t)=>{switch(t.type){case"SHOW_CONFIRM_DIALOG":return{...e,confirmDialogForItem:t.data.buttonIndex};case"HIDE_CONFIRM_DIALOG":return{...e,confirmDialogForItem:void 0};default:return e}}))},boKy:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("lSNA"),r=n.n(o);class i{constructor(e,t){r()(this,"instances",{}),this.experienceId=e,this.config=t}getInstance(e){return this.instances[e]||(this.instances[e]=new(n("28p1").a)(this.experienceId,this.config,e)),this.instances[e]}release(e){Object(n("tvGp").a)("instanceId",e),
this.instances[e]&&this.instances[e].abort(),delete this.instances[e]}}},bwse:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M11 7h2v11h-2zM6 5h12v2H6z"/><path d="M5 5h2v3H5zm5 13h4v2h-4zm7-13h2v3h-2z"/></g></svg>'},e));i.displayName="MediaServicesTextIcon";var s=i;t.default=s},c0hv:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const o=[];function r(e,t){var n,r,i,s;const a=null!==(n=null===(r=e.dangerouslyAppendPlugins)||void 0===r?void 0:r.__plugins)&&void 0!==n?n:o,c=null!==(i=null===(s=t.dangerouslyAppendPlugins)||void 0===s?void 0:s.__plugins)&&void 0!==i?i:o
;return!(c.length===a.length&&!a.some((e=>c.some((t=>t.name===e.name&&t!==e)))))||function(e,t){const n="mobile"===e.appearance?["quickInsert","featureFlags"]:[];return["appearance","persistScrollGutter","allowUndoRedoButtons","placeholder","sanitizePrivateContent",...n].reduce(((n,o)=>n||e[o]!==t[o]),!1)}(e,t)}},cL9K:function(e,t,n){"use strict";function o(e,t){let n=e[t];return n||console.warn(`Text color palette does not have an internationalization message for color ${t.toUpperCase()}.\nYou must add a message description to properly translate this color.\nUsing current label as default message.\nThis could have happen when someone changed the 'colorPalette' from 'adf-schema' without updating this file.\n`),n}n.d(t,"a",(function(){return o}))},cObF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M16.051 6c-1.571 0-2.847 1.312-2.847 2.93 0 1.617 1.276 2.93 2.847 2.93 2.699 0 1.135 5.088-2.269 5.618a.68.68 0 00-.578.671c0 .416.372.745.784.682 6.187-.938 8.387-12.83 2.063-12.83M7.848 6C6.275 6 5 7.311 5 8.93c0 1.616 1.275 2.928 2.848 2.928 2.698 0 1.134 5.09-2.27 5.62a.68.68 0 00-.578.67c0 .416.372.745.783.682C11.972 17.892 14.172 6 7.848 6" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="QuoteIcon";var s=i;t.default=s},cQff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5h1a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1zm5 0h9a1 1 0 011 1v12a1 1 0 01-1 1h-9a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorLayoutTwoLeftSidebarIcon";var s=i;t.default=s},cRqx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.cellCount,n=e.cellSize,o=e.computeMetadataCallback,r=e.computeMetadataCallbackProps,i=e.nextCellsCount,s=e.nextCellSize,a=e.nextScrollToIndex,c=e.scrollToIndex,l=e.updateScrollOffsetForScrollToIndex;t===i&&("number"!=typeof n&&"number"!=typeof s||n===s)||(o(r),c>=0&&c===a&&l())}},cTMM:function(e,t,n){"use strict";var o=n("CWsV");function r(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}r.prototype.Token=o,e.exports=r},cblB:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),
n.d(t,"b",(function(){return s}));var o=n("MEpN"),r=n("CsC6");let i;!function(e){e.DELETING_RAW_QUERY="DELETING_RAW_QUERY",e.INSERTING_ITEM="INSERTING_ITEM"}(i||(i={}));class s extends r.f{constructor({stage:e,query:t,trigger:n,selectedIndex:o},r=!1){super(),this.isInvertStep=r,this.stage=e,this.query=t,this.trigger=n,this.selectedIndex=o}invert(){const e={stage:this.stage,query:this.query,trigger:this.trigger,selectedIndex:this.selectedIndex};return new s(e,!this.isInvertStep)}apply(e){return r.h.ok(e)}merge(){return null}isInsertionStep(){return!this.isInvertStep}isUndoingStep(){return this.isInvertStep}map(e){const t={stage:this.stage,query:this.query,trigger:this.trigger,selectedIndex:this.selectedIndex};return new s(t,this.isInvertStep)}getMap(){return new r.g([0,0,0])}toJSON(){return{stepType:"replace",from:0,to:0}}static fromJSON(){return new r.e(0,0,o.Slice.empty)}}r.f.jsonID("atlaskit-insert-type-ahead",s)},ceYy:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),
n.d(t,"j",(function(){return i})),n.d(t,"k",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return m}));var o=n("mG1W");const r=e=>{const t=[];return(e.steps||[]).forEach((n=>{const{to:o,from:r,slice:i}=n,s=i&&i.content?i.content.size:0;for(let a=r;a<=o+s;a++)if(a<=e.doc.content.size){const n=e.doc.resolve(a).node(1);n&&!t.find((e=>e===n))&&t.push(n)}})),t},i=e=>{try{e.check()}catch(t){return!1}return!0},s=e=>e.every(i),a=(e,t)=>t&&e&&e.type===t,c=(e,t)=>a(e,t.nodes.paragraph),l=(e,t)=>a(e,t.nodes.text),d=(e,t)=>a(e,t.marks.link);let u;!function(e){e[e.selectedInRange=0]="selectedInRange",e[e.selectedInside=1]="selectedInside"}(u||(u={}));const p=(e,t,n,o)=>{const r=Math.min(e,t),i=Math.max(e,t),s=n,a=n+o
;return e===t?null:r<=s&&a<i||r<s&&a<=i?u.selectedInRange:s<=e&&t<=a?u.selectedInside:null},h=(e,t,n)=>{const o="embed"===n||"block"===n?void 0:-1,r=e.selection.$from.node(o);return r&&r.type.validContent(t)},f=e=>["media","mediaInline","mediaGroup","mediaSingle"].includes(e.type.name),m=(e,t)=>{let n=e.nodeBefore;if(!n){const r=e.depth-1||1,i=Object(o.findParentNodeOfType)([t.schema.nodes[`${e.node(r).type.name}`]])(t.selection),s=i?t.tr.doc.resolve(i.pos):void 0,a=s&&s.pos<t.doc.nodeSize?s.nodeBefore:void 0;a&&(n=a)}return!!n&&["media","mediaInline","mediaGroup","mediaSingle"].includes(n.type.name)}},cnTP:function(e,t,n){"use strict";function o(e,{emojiProvider:t,mentionProvider:n,taskDecisionProvider:o,contextIdentifierProvider:r,collabEditProvider:i,activityProvider:s,presenceProvider:a,macroProvider:c,imageUploadProvider:l,mediaProvider:d,autoformattingProvider:u,searchProvider:p,cardProvider:h},f,m){e.setProvider("emojiProvider",t),e.setProvider("mentionProvider",n),
e.setProvider("taskDecisionProvider",o),e.setProvider("contextIdentifierProvider",r),e.setProvider("mediaProvider",d),e.setProvider("imageUploadProvider",l),e.setProvider("collabEditProvider",i),e.setProvider("activityProvider",s),e.setProvider("searchProvider",p),e.setProvider("presenceProvider",a),e.setProvider("macroProvider",c),h&&e.setProvider("cardProvider",h),e.setProvider("autoformattingProvider",u),f&&e.setProvider("extensionProvider",Promise.resolve(f)),m&&e.setProvider("quickInsertProvider",m)}n.d(t,"a",(function(){return o}))},czPg:function(e,t,n){"use strict";function o(e){}n.d(t,"a",(function(){return o}))},czaS:function(e,t,n){var o=n("USwo"),r=n("VSTI"),i=n("S4vA");e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],s={};s[e]=t(n),o(o.S+o.F*i((function(){n(1)})),"Object",s)}},"d+lc":function(e,t,n){var o=n("ekG2");e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},dGVe:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),
n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return h}));var o=n("mG1W"),r=n("CsC6");const i=(e,t)=>{const o=e.steps.find((e=>e instanceof n("YL4i").a));return o&&t&&t.pos===o.pos?o.next:void 0},s=(e,t)=>{if(!e.getMeta(n("u/2i").a))return t},a=({tr:e,table:t})=>n=>{if(!(t&&t.node))return{...n,targetCellPosition:void 0};const{tableCell:r,tableHeader:i}=e.doc.type.schema.nodes,s=Object(o.findParentNodeOfType)([r,i])(e.selection),a=s?s.pos:void 0;return n.targetCellPosition===a?n:{...n,targetCellPosition:a}},c=({tr:e,table:t})=>o=>{const a=t&&t.node;return!a||(e=>{const[t]=e.steps;if(!(t&&t instanceof r.e))return!1;const{slice:{content:n},from:o,to:i}=t,s=n.firstChild;return o===i&&1===n.childCount&&!!s&&!!s.text&&1===s.text.length})(e)?o:{...o,...n("2xeO").a,tableNode:a,ordering:i(e,t),resizeHandleColumnIndex:s(e,o.resizeHandleColumnIndex),isNumberColumnEnabled:Object(n("r/3z").c)(e.selection),isHeaderColumnEnabled:Object(n("r/3z").a)(e.selection),
isHeaderRowEnabled:Object(n("r/3z").b)(e.selection)}},l=({tr:e,table:t})=>r=>{const i=t&&t.node,s=e.doc.type.schema,a=r.pluginConfig.allowCollapse,c=void 0!==s.nodes.expand,l=a&&c;if(!r.editorHasFocus||!l||!i)return r;const d=s.nodes.expand,u=d&&!!Object(o.findParentNodeOfType)(d)(e.selection),p=Object(n("nO6g").b)(e).tableIsCollapsible,h=!!r.tableNode&&!u&&!!p;return r.isTableCollapsed!==u||r.canCollapseTable!==h?{...r,isTableCollapsed:u,canCollapseTable:h}:r},d=(e,t)=>(e=>t=>n=>t.table?e.reduce(((e,n)=>n(t)(e)),n):n.targetCellPosition?{...n,targetCellPosition:void 0}:n)([a,c,l])({tr:e,table:Object(n("zYPQ").c)(e.selection)})(t);const{createPluginState:u,createCommand:p,getPluginState:h}=Object(n("pVB1").a)(n("+62K").a,((e,t)=>{switch(t.type){case"TOGGLE_HEADER_COLUMN":return{...e,isHeaderColumnEnabled:!e.isHeaderColumnEnabled};case"TOGGLE_HEADER_ROW":return{...e,isHeaderRowEnabled:!e.isHeaderRowEnabled};case"CLEAR_HOVER_SELECTION":return{...e,...t.data,...n("2xeO").a}
;case"SELECT_COLUMN":case"SET_TARGET_CELL_POSITION":return{...e,...t.data,isContextualMenuOpen:!1};case"SET_TABLE_LAYOUT":case"SET_TABLE_REF":case"HOVER_ROWS":case"HOVER_COLUMNS":case"HOVER_TABLE":case"HOVER_CELLS":case"SHOW_RESIZE_HANDLE_LINE":case"SET_EDITOR_FOCUS":return{...e,...t.data};case"TOGGLE_CONTEXTUAL_MENU":return{...e,isContextualMenuOpen:!e.isContextualMenuOpen};case"SHOW_INSERT_ROW_BUTTON":return t.data.insertRowButtonIndex===e.insertRowButtonIndex?e:{...e,...t.data,insertColumnButtonIndex:void 0};case"SHOW_INSERT_COLUMN_BUTTON":return t.data.insertColumnButtonIndex===e.insertColumnButtonIndex?e:{...e,...t.data,insertRowButtonIndex:void 0};case"HIDE_INSERT_COLUMN_OR_ROW_BUTTON":return void 0!==e.insertRowButtonIndex||void 0!==e.insertColumnButtonIndex?{...e,insertRowButtonIndex:void 0,insertColumnButtonIndex:void 0}:e;case"HIDE_RESIZE_HANDLE_LINE":return{...e,...t.data,resizeHandleColumnIndex:void 0,resizeHandleRowIndex:void 0};case"ADD_RESIZE_HANDLE_DECORATIONS":
return t.data.resizeHandleColumnIndex===e.resizeHandleColumnIndex&&t.data.resizeHandleRowIndex===e.resizeHandleRowIndex?e:{...e,...t.data};default:return e}}),{mapping:(e,t)=>{if(e.docChanged){let n={};if(t.targetCellPosition){const{pos:o,deleted:r}=e.mapping.mapResult(t.targetCellPosition);n={targetCellPosition:r?void 0:o}}let o={};if(t.tablePos){const{pos:n,deleted:r}=e.mapping.mapResult(t.tablePos,-1);o={tablePos:r?void 0:n}}return{...t,...n,...o}}return t},onDocChanged:d,onSelectionChanged:d})},dHhq:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("floatingToolbarData")},dXPX:function(e,t,n){(function(e,o){var r=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var o=arguments,i=o.length,s=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{
return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return e}})),c=o[n];n<i;c=o[++n])m(c)||!O(c)?s+=" "+c:s+=" "+a(c);return s},t.deprecate=function(n,r){if(v(e.process))return function(){return t.deprecate(n,r).apply(this,arguments)};if(!0===o.noDeprecation)return n;var i=!1;return function(){if(!i){if(o.throwDeprecation)throw new Error(r);o.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var i,s={};function a(e,n){var o={seen:[],stylize:l};return arguments.length>=3&&(o.depth=arguments[2]),arguments.length>=4&&(o.colors=arguments[3]),f(n)?o.showHidden=n:n&&t._extend(o,n),v(o.showHidden)&&(o.showHidden=!1),v(o.depth)&&(o.depth=2),v(o.colors)&&(o.colors=!1),v(o.customInspect)&&(o.customInspect=!0),o.colors&&(o.stylize=c),d(o,e,o.depth)}function c(e,t){var n=a.styles[t];return n?"\x1b["+a.colors[n][0]+"m"+e+"\x1b["+a.colors[n][1]+"m":e}function l(e,t){return e}function d(e,n,o){
if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(o,e);return g(r)||(r=d(e,r,o)),r}var i=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(b(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(i)return i;var s=Object.keys(n),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),w(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return u(n);if(0===s.length){if(S(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(y(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return e.stylize(Date.prototype.toString.call(n),"date");if(w(n))return u(n)}var l,O="",k=!1,x=["{","}"]
;(h(n)&&(k=!0,x=["[","]"]),S(n))&&(O=" [Function"+(n.name?": "+n.name:"")+"]");return y(n)&&(O=" "+RegExp.prototype.toString.call(n)),E(n)&&(O=" "+Date.prototype.toUTCString.call(n)),w(n)&&(O=" "+u(n)),0!==s.length||k&&0!=n.length?o<0?y(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=k?function(e,t,n,o,r){for(var i=[],s=0,a=t.length;s<a;++s)j(t,String(s))?i.push(p(e,t,n,o,String(s),!0)):i.push("");return r.forEach((function(r){r.match(/^\d+$/)||i.push(p(e,t,n,o,r,!0))})),i}(e,n,o,a,s):s.map((function(t){return p(e,n,o,a,t,k)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,O,x)):x[0]+O+x[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,o,r,i){var s,a,c;if((c=Object.getOwnPropertyDescriptor(t,r)||{
value:t[r]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),j(o,r)||(s="["+r+"]"),a||(e.seen.indexOf(c.value)<0?(a=m(n)?d(e,c.value,null):d(e,c.value,n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),v(s)){if(i&&r.match(/^\d+$/))return a;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function h(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function m(e){return null===e}function b(e){return"number"==typeof e}function g(e){return"string"==typeof e}function v(e){return void 0===e}function y(e){return O(e)&&"[object RegExp]"===k(e)}function O(e){
return"object"==typeof e&&null!==e}function E(e){return O(e)&&"[object Date]"===k(e)}function w(e){return O(e)&&("[object Error]"===k(e)||e instanceof Error)}function S(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function x(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(v(i)&&(i=o.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var n=o.pid;s[e]=function(){var o=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,o)}}else s[e]=function(){};return s[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=f,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},
t.isNumber=b,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=y,t.isObject=O,t.isDate=E,t.isError=w,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n("VNB6");var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var e=new Date,t=[x(e.getHours()),x(e.getMinutes()),x(e.getSeconds())].join(":");return[e.getDate(),C[e.getMonth()],t].join(" ")}function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",T(),t.format.apply(t,arguments))},t.inherits=n("5wz/"),t._extend=function(e,t){if(!t||!O(t))return e;for(var n=Object.keys(t),o=n.length;o--;)e[n[o]]=t[n[o]];return e}}).call(this,n("yLpj"),n("8oxB"))},dbDw:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));const o={threshold:.3,keys:[{name:"title",weight:.57},{
name:"priority",weight:.3},{name:"keywords",weight:.08},{name:"description",weight:.04},{name:"keyshortcut",weight:.01}]};function r(e,t){const r=new(n("YGJC").a)(t,o);return""===e?t.slice(0).sort(((e,t)=>(e.priority||Number.POSITIVE_INFINITY)-(t.priority||Number.POSITIVE_INFINITY))):r.search(e).map((e=>e.item))}const i=(e,t)=>(o,i)=>{const s=t&&t.disableDefaultItems?[]:e.lazyDefaultItems(),a=e.providedItems,c=a?Object(n("D4z0").f)([...s,...a],(e=>e.title)):s;return r(o||"","all"!==i&&i?c.filter((e=>e.categories&&e.categories.includes(i))):c)},s=({providedItems:e,lazyDefaultItems:t},o)=>()=>{const r=o&&o.disableDefaultItems?[]:t();return(e?Object(n("D4z0").f)([...r,...e],(e=>e.title)):r).filter((e=>e.featured))}},dejn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M9 9H6.49a.495.495 0 00-.49.505v.99c0 .291.22.505.49.505H9v2l3-3-3-3v2zm4-1.495c0-.279.228-.505.491-.505h5.018a.49.49 0 01.491.505v.99a.503.503 0 01-.491.505h-5.018A.49.49 0 0113 8.495v-.99zm0 4c0-.279.228-.505.491-.505h5.018a.49.49 0 01.491.505v.99a.503.503 0 01-.491.505h-5.018a.49.49 0 01-.491-.505v-.99zm-6 4c0-.279.229-.505.5-.505h11c.276 0 .5.214.5.505v.99a.506.506 0 01-.5.505h-11a.495.495 0 01-.5-.505v-.99z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorIndentIcon";var s=i;t.default=s},dpam:function(e,t,n){"use strict"
;var o=n("SINd"),r=[["table",n("gNPE"),["paragraph","reference"]],["code",n("nBLk")],["fence",n("vys+"),["paragraph","reference","blockquote","list"]],["blockquote",n("6A5J"),["paragraph","reference","blockquote","list"]],["hr",n("/f6Q"),["paragraph","reference","blockquote","list"]],["list",n("Sz5L"),["paragraph","reference","blockquote"]],["reference",n("1nBO")],["html_block",n("X71X"),["paragraph","reference","blockquote"]],["heading",n("B1jb"),["paragraph","reference","blockquote"]],["lheading",n("GZ5e")],["paragraph",n("RKh7")]];function i(){this.ruler=new o;for(var e=0;e<r.length;e++)this.ruler.push(r[e][0],r[e][1],{alt:(r[e][2]||[]).slice()})}i.prototype.tokenize=function(e,t,n){for(var o,r=this.ruler.getRules(""),i=r.length,s=t,a=!1,c=e.md.options.maxNesting;s<n&&(e.line=s=e.skipEmptyLines(s),!(s>=n))&&!(e.sCount[s]<e.blkIndent);){if(e.level>=c){e.line=n;break}for(o=0;o<i&&!r[o](e,s,n,!1);o++);e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),(s=e.line)<n&&e.isEmpty(s)&&(a=!0,s++,
e.line=s)}},i.prototype.parse=function(e,t,n,o){var r;e&&(r=new this.State(e,t,n,o),this.tokenize(r,r.line,r.lineMax))},i.prototype.State=n("g0+v"),e.exports=i},dqkW:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return p}));const o=(e,t)=>{var n,o,r,i;if(!t)return!1;let s=!1;const a=new Set([null===(n=t.attrs)||void 0===n?void 0:n.localId,null===(o=t.marks)||void 0===o||null===(r=o.find((t=>t.type===e.schema.marks.fragment)))||void 0===r||null===(i=r.attrs)||void 0===i?void 0:i.localId].filter(Boolean));return!!a.size&&(e.doc.descendants((t=>{var n,o;if(s)return!1;const r=t.marks.find((t=>t.type===e.schema.marks.dataConsumer));return!r||(s=null!==(n=null===(o=r.attrs.sources)||void 0===o?void 0:o.some((e=>a.has(e))))&&void 0!==n&&n,!s)})),s)},r=e=>{const t={},{doc:n,schema:o}=e,r=new Map,i=new Map;n.descendants(((e,n)=>{var s,a,c,l,d,u,p,h,f,m;let b,g
;if(e.marks.some((e=>(e.type===o.marks.dataConsumer?b=e:e.type===o.marks.fragment&&(g=e),!!b&&!!g))),!(g||null!==(s=e.attrs)&&void 0!==s&&s.localId))return!0;const v=null!==(a=null===(c=g)||void 0===c||null===(l=c.attrs)||void 0===l?void 0:l.localId)&&void 0!==a?a:null===(d=e.attrs)||void 0===d?void 0:d.localId;return!v||(null!==(u=g)&&void 0!==u&&null!==(p=u.attrs)&&void 0!==p&&p.localId&&r.set(g.attrs.localId,v),null!==(h=e.attrs)&&void 0!==h&&h.localId&&r.set(e.attrs.localId,v),!!t[v]||(t[v]={localId:v,name:null===(f=g)||void 0===f||null===(m=f.attrs)||void 0===m?void 0:m.name,node:e,pos:n,targets:[]},b&&b.attrs.sources.length&&i.set(v,b.attrs.sources),!b))}));for(const[s,a]of i)a.forEach((e=>{var n;const o=null!==(n=r.get(e))&&void 0!==n?n:e,i=t[o];i&&o!==s&&i.targets.push(s)}));return t},i=(e,t)=>{if(!t)return e.tr;const n=u(e,t),o=r(e),i=s(n,o);if(null==i||!i.length)return e.tr;const{tr:a}=e;let c=a;return i.forEach((e=>{if(!o[e])return;const{node:t,pos:n}=o[e]
;c=c.delete(c.mapping.map(n),c.mapping.map(t.nodeSize+n))})),c},s=(e,t)=>{if(!e.size)return[];let n=[...e];const o=new Set;for(;n.length;){const e=n.pop();var r,i;if(t[e])o.add(t[e].localId),n=n.concat(null!==(r=null===(i=t[e])||void 0===i?void 0:i.targets.filter((e=>{var n;return!o.has(null===(n=t[e])||void 0===n?void 0:n.localId)})))&&void 0!==r?r:[])}return Array.from(o)},a=(e,t)=>{let n=!0;if(!t)return[];const o=new Set,i=[],s=r(e);u(e,t).forEach((e=>{s[e]&&s[e].targets.forEach(o.add,o)}));for(const r of o){if(!d(r,s)){n=!1;break}i.push({id:r,name:d(r,s),amount:c(r,s)})}return n?i:[]},c=(e,t)=>{const n=new Set([e]),o=new Map,r=new Set;for(o.set(e,!1);n.size>0;){const[i]=n;l(i,t).forEach((t=>{o.get(t)||(n.add(t),r.add(t)),t!==e&&r.add(t)})),o.set(i,!0),n.delete(i)}return r.size},l=(e,t)=>e&&t[e]?t[e].targets:[],d=(e,t)=>{if("object"==typeof e){let n;return e.forEach((e=>{var o,r;n=null!==(o=n)&&void 0!==o?o:null===(r=t[e])||void 0===r?void 0:r.name})),n||null}
return e&&t[e]?t[e].name:null},u=(e,t)=>{var n,o,r,i;if(!t)return new Set([]);return new Set([null===(n=t.attrs)||void 0===n?void 0:n.localId,null===(o=t.marks)||void 0===o||null===(r=o.find((t=>t.type===e.schema.marks.fragment)))||void 0===r||null===(i=r.attrs)||void 0===i?void 0:i.localId].filter(Boolean))},p=(e,t)=>{var n,o,r,i;return null!==(n=null==t||null===(o=t.marks)||void 0===o||null===(r=o.find((t=>t.type===e.schema.marks.fragment)))||void 0===r||null===(i=r.attrs)||void 0===i?void 0:i.name)&&void 0!==n?n:""}},"du/1":function(e,t,n){var o=n("USwo");o(o.S,"Object",{create:n("b08l")})},e1D4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_WIDTH=t.DEFAULT_HEIGHT=void 0;var o=i(n("iCc5")),r=i(n("V7oC"));n("KrvG");function i(e){return e&&e.__esModule?e:{default:e}}var s=t.DEFAULT_HEIGHT=30,a=t.DEFAULT_WIDTH=100,c=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,e),
this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._columnCount=0,this._rowCount=0,this.columnWidth=function(e){var n=e.index,o=t._keyMapper(0,n);return t._columnWidthCache.hasOwnProperty(o)?t._columnWidthCache[o]:t._defaultWidth},this.rowHeight=function(e){var n=e.index,o=t._keyMapper(n,0);return t._rowHeightCache.hasOwnProperty(o)?t._rowHeightCache[o]:t._defaultHeight};var r=n.defaultHeight,i=n.defaultWidth,c=n.fixedHeight,d=n.fixedWidth,u=n.keyMapper,p=n.minHeight,h=n.minWidth;this._hasFixedHeight=!0===c,this._hasFixedWidth=!0===d,this._minHeight=p||0,this._minWidth=h||0,this._keyMapper=u||l,this._defaultHeight=Math.max(this._minHeight,"number"==typeof r?r:s),this._defaultWidth=Math.max(this._minWidth,"number"==typeof i?i:a)}return(0,r.default)(e,[{key:"clear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(e,t);delete this._cellHeightCache[n],delete this._cellWidthCache[n],
this._updateCachedColumnAndRowSizes(e,t)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var n=this._keyMapper(e,t);return this._cellHeightCache.hasOwnProperty(n)?Math.max(this._minHeight,this._cellHeightCache[n]):this._defaultHeight}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var n=this._keyMapper(e,t);return this._cellWidthCache.hasOwnProperty(n)?Math.max(this._minWidth,this._cellWidthCache[n]):this._defaultWidth}},{key:"has",value:function(e){
var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(e,t);return this._cellHeightCache.hasOwnProperty(n)}},{key:"set",value:function(e,t,n,o){var r=this._keyMapper(e,t);t>=this._columnCount&&(this._columnCount=t+1),e>=this._rowCount&&(this._rowCount=e+1),this._cellHeightCache[r]=o,this._cellWidthCache[r]=n,this._updateCachedColumnAndRowSizes(e,t)}},{key:"_updateCachedColumnAndRowSizes",value:function(e,t){if(!this._hasFixedWidth){for(var n=0,o=0;o<this._rowCount;o++)n=Math.max(n,this.getWidth(o,t));var r=this._keyMapper(0,t);this._columnWidthCache[r]=n}if(!this._hasFixedHeight){for(var i=0,s=0;s<this._columnCount;s++)i=Math.max(i,this.getHeight(e,s));var a=this._keyMapper(e,0);this._rowHeightCache[a]=i}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}]),e}();function l(e,t){return e+"-"+t}t.default=c},eFSV:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),
n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s}));const o=Object(n("pVB1").a)(n("JE3G").a,(function(e,t){return"UPDATE_STATE"===t.type?{...e,...t.data}:e}),{mapping(e,t){const{positions:n}=t;if(!n)return t;const o={...n};for(const r in o)o[r]=e.mapping.map(o[r]);return{...t,positions:o}}}),r=o.createPluginState,i=o.createCommand,s=o.getPluginState},eFkm:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={BREAKOUT_MARK:"fabric-editor-breakout-mark",BREAKOUT_MARK_DOM:"fabric-editor-breakout-mark-dom"}},eMYd:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>{var t,n;if(!e||!e.collabEditPlugin$)return 1;return null!==(t=null===(n=e.collabEditPlugin$.participants)||void 0===n?void 0:n.size())&&void 0!==t?t:1}},ecD3:function(e,t,n){"use strict";const o=Object(n("AeFk").css)("background:","var(--ds-border, #EBECF0)",";width:1px;height:20px;margin:0 4px;align-self:center;");t.a=()=>Object(n("AeFk").jsx)("div",{css:o,
className:"separator"})},efs6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M9.414 8l3.293 3.293c.187.187.293.442.293.707v5a1 1 0 01-2 0v-4.586l-3-3V10.5a1 1 0 01-2 0V7a1 1 0 011-1h3.5a1 1 0 010 2H9.414zm8.293-1.707a.999.999 0 010 1.414l-2.5 2.5a.997.997 0 01-1.414 0 .999.999 0 010-1.414l2.5-2.5a.999.999 0 011.414 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorDecisionIcon";var s=i;t.default=s},ekG2:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},eogT:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("pVnL"),r=n.n(o),i=n("q1tI"),s=n.n(i);const a=e=>s.a.createElement("svg",r()({width:"24",height:"24",
viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M7 2H17C17.663 2 18.2989 2.26339 18.7678 2.73223C19.2366 3.20107 19.5 3.83696 19.5 4.5V19.5C19.5 20.163 19.2366 20.7989 18.7678 21.2678C18.2989 21.7366 17.663 22 17 22H7C6.33696 22 5.70107 21.7366 5.23223 21.2678C4.76339 20.7989 4.5 20.163 4.5 19.5V4.5C4.5 3.83696 4.76339 3.20107 5.23223 2.73223C5.70107 2.26339 6.33696 2 7 2ZM8.875 7C8.70924 7 8.55027 7.06585 8.43306 7.18306C8.31585 7.30027 8.25 7.45924 8.25 7.625V8.875C8.25 9.04076 8.31585 9.19973 8.43306 9.31694C8.55027 9.43415 8.70924 9.5 8.875 9.5H15.125C15.2908 9.5 15.4497 9.43415 15.5669 9.31694C15.6842 9.19973 15.75 9.04076 15.75 8.875V7.625C15.75 7.45924 15.6842 7.30027 15.5669 7.18306C15.4497 7.06585 15.2908 7 15.125 7H8.875ZM8.875 12C8.70924 12 8.55027 12.0658 8.43306 12.1831C8.31585 12.3003 8.25 12.4592 8.25 12.625V13.875C8.25 14.0408 8.31585 14.1997 8.43306 14.3169C8.55027 14.4342 8.70924 14.5 8.875 14.5H12.625C12.7908 14.5 12.9497 14.4342 13.0669 14.3169C13.1842 14.1997 13.25 14.0408 13.25 13.875V12.625C13.25 12.4592 13.1842 12.3003 13.0669 12.1831C12.9497 12.0658 12.7908 12 12.625 12H8.875Z",
fill:"currentColor"})),c=e=>s.a.createElement(n("UnwW").b,r()({glyph:a},e))},f0wc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bpfrpt_proptype_Scroll=t.bpfrpt_proptype_CellRendererParams=t.bpfrpt_proptype_RenderedSection=t.bpfrpt_proptype_OverscanIndicesGetter=t.bpfrpt_proptype_CellSize=t.bpfrpt_proptype_CellPosition=t.bpfrpt_proptype_Alignment=t.bpfrpt_proptype_NoContentRenderer=t.defaultOverscanIndicesGetter=t.defaultCellRangeRenderer=t.accessibilityOverscanIndicesGetter=t.Grid=t.default=void 0;var o=n("f7UO");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c(o).default}}),Object.defineProperty(t,"Grid",{enumerable:!0,get:function(){return c(o).default}});var r=n("NZIM");Object.defineProperty(t,"accessibilityOverscanIndicesGetter",{enumerable:!0,get:function(){return c(r).default}});var i=n("Pcg1");Object.defineProperty(t,"defaultCellRangeRenderer",{enumerable:!0,get:function(){return c(i).default}});var s=n("tudb")
;Object.defineProperty(t,"defaultOverscanIndicesGetter",{enumerable:!0,get:function(){return c(s).default}});var a=n("uUy6");function c(e){return e&&e.__esModule?e:{default:e}}t.bpfrpt_proptype_NoContentRenderer=a.bpfrpt_proptype_NoContentRenderer,t.bpfrpt_proptype_Alignment=a.bpfrpt_proptype_Alignment,t.bpfrpt_proptype_CellPosition=a.bpfrpt_proptype_CellPosition,t.bpfrpt_proptype_CellSize=a.bpfrpt_proptype_CellSize,t.bpfrpt_proptype_OverscanIndicesGetter=a.bpfrpt_proptype_OverscanIndicesGetter,t.bpfrpt_proptype_RenderedSection=a.bpfrpt_proptype_RenderedSection,t.bpfrpt_proptype_CellRendererParams=a.bpfrpt_proptype_CellRendererParams,t.bpfrpt_proptype_Scroll=a.bpfrpt_proptype_Scroll},f2CN:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return d}));var o=n("UxO+")
;const r=({triggerMethod:e})=>Object(n("SVcB").b)((t=>({eventType:n("+PNV").e.UI,action:n("+PNV").a.ACTIVATED,actionSubject:n("+PNV").b.FIND_REPLACE_DIALOG,attributes:{inputMethod:t.selection instanceof o.TextSelection&&!t.selection.empty?n("+PNV").f.PREFILL:n("+PNV").f.KEYBOARD,triggerMethod:e}})))(Object(n("MYyI").a)()),i=({editorView:e,containerElement:t,keyword:o})=>Object(n("SVcB").b)({eventType:n("+PNV").e.TRACK,action:n("+PNV").a.FIND_PERFORMED,actionSubject:n("+PNV").b.TEXT})(Object(n("MYyI").d)(e,t,o)),s=({triggerMethod:e})=>Object(n("SVcB").b)({eventType:n("+PNV").e.TRACK,action:n("+PNV").a.FIND_NEXT_PERFORMED,actionSubject:n("+PNV").b.TEXT,attributes:{triggerMethod:e}})(Object(n("MYyI").e)()),a=({triggerMethod:e})=>Object(n("SVcB").b)({eventType:n("+PNV").e.TRACK,action:n("+PNV").a.FIND_PREV_PERFORMED,actionSubject:n("+PNV").b.TEXT,attributes:{triggerMethod:e}})(Object(n("MYyI").f)()),c=({triggerMethod:e,replaceText:t})=>Object(n("SVcB").b)({eventType:n("+PNV").e.TRACK,
action:n("+PNV").a.REPLACED_ONE,actionSubject:n("+PNV").b.TEXT,attributes:{triggerMethod:e}})(Object(n("MYyI").g)(t)),l=({replaceText:e})=>Object(n("SVcB").b)({eventType:n("+PNV").e.TRACK,action:n("+PNV").a.REPLACED_ALL,actionSubject:n("+PNV").b.TEXT})(Object(n("MYyI").h)(e)),d=({triggerMethod:e})=>Object(n("SVcB").b)({eventType:n("+PNV").e.UI,action:n("+PNV").a.DEACTIVATED,actionSubject:n("+PNV").b.FIND_REPLACE_DIALOG,attributes:{triggerMethod:e}})(Object(n("MYyI").c)())},f5Dt:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));const o={backgroundColor:n("bUDQ").a,blockSize:n("bUDQ").f,borderColor:n("bUDQ").c,borderRadius:n("bUDQ").d,borderWidth:n("bUDQ").e,bottom:n("bUDQ").j,boxShadow:n("bUDQ").i,color:n("bUDQ").l,columnGap:n("bUDQ").j,gap:n("bUDQ").j,height:n("bUDQ").f,inlineSize:n("bUDQ").f,inset:n("bUDQ").j,insetBlock:n("bUDQ").j,insetBlockEnd:n("bUDQ").j,insetBlockStart:n("bUDQ").j,insetInline:n("bUDQ").j,
insetInlineEnd:n("bUDQ").j,insetInlineStart:n("bUDQ").j,margin:n("bUDQ").j,marginBlock:n("bUDQ").j,marginBlockEnd:n("bUDQ").j,marginBlockStart:n("bUDQ").j,marginInline:n("bUDQ").j,marginInlineEnd:n("bUDQ").j,marginInlineStart:n("bUDQ").j,left:n("bUDQ").j,maxBlockSize:n("bUDQ").f,maxHeight:n("bUDQ").f,maxInlineSize:n("bUDQ").f,maxWidth:n("bUDQ").f,minBlockSize:n("bUDQ").f,minHeight:n("bUDQ").f,minInlineSize:n("bUDQ").f,minWidth:n("bUDQ").f,outlineOffset:n("bUDQ").j,outlineWidth:n("bUDQ").e,outlineColor:n("bUDQ").c,padding:n("bUDQ").j,paddingBlock:n("bUDQ").j,paddingBlockEnd:n("bUDQ").j,paddingBlockStart:n("bUDQ").j,paddingBottom:n("bUDQ").j,paddingInline:n("bUDQ").j,paddingInlineEnd:n("bUDQ").j,paddingInlineStart:n("bUDQ").j,paddingLeft:n("bUDQ").j,paddingRight:n("bUDQ").j,paddingTop:n("bUDQ").j,right:n("bUDQ").j,rowGap:n("bUDQ").j,top:n("bUDQ").j,width:n("bUDQ").f,zIndex:n("bUDQ").g
},r=Symbol("UNSAFE_INTERNAL_styles"),i=/(\.|\s|&+|\*\>|#|\[.*\])/,s=/^::?.*$/,a=/^@media .*$/,c=new RegExp(`^(${Object.values(n("FUCu").a.above).map((e=>e.replace(/[.()]/g,"\\$&"))).join("|")})$`),l=t=>t&&"object"==typeof t?Array.isArray(t)?t.map(l):(Object.entries(t).forEach((([n,r])=>{if((()=>"object"==typeof e&&"object"==typeof e.env&&!1)()&&i.test(n)&&!c.test(n))throw new Error(`Styles not supported for key '${n}'.`);if(s.test(n))return void(t[n]=l(r));if(a.test(n))return void(t[n]=l(r));if(!(n in o))return;const d=o[n][r];t[n]=null!=d?d:r})),t):t,d=e=>{if(Array.isArray(e))return e.map((e=>e&&d(e))).filter(Boolean);const{[r]:t}=e;return t};function u(e){return(e=>{const t=l(e);return{[r]:Object(n("AeFk").css)(t)}})(e)}}).call(this,n("8oxB"))},f7UO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_SCROLLING_RESET_TIME_INTERVAL=void 0
;var o=w(n("P2sY")),r=w(n("QbLZ")),i=w(n("Yz+Y")),s=w(n("iCc5")),a=w(n("V7oC")),c=w(n("FYw3")),l=w(n("mRg0")),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("q1tI")),u=w(n("iuhU")),p=w(n("cRqx")),h=w(n("VZmc")),f=w(n("mEWj")),m=n("tudb"),b=w(m),g=w(n("qLUp")),v=w(n("Pcg1")),y=w(n("j6jG")),O=n("VCL8"),E=n("l8Tq");n("uUy6"),w(n("17x9"));function w(e){return e&&e.__esModule?e:{default:e}}var S=t.DEFAULT_SCROLLING_RESET_TIME_INTERVAL=150,k="observed",x="requested",C=function(e){function t(e){(0,s.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));n._onGridRenderedMemoizer=(0,f.default)(),n._onScrollMemoizer=(0,f.default)(!1),n._deferredInvalidateColumnIndex=null,n._deferredInvalidateRowIndex=null,n._recomputeScrollLeftFlag=!1,n._recomputeScrollTopFlag=!1,n._horizontalScrollBarSize=0,n._verticalScrollBarSize=0,n._scrollbarPresenceChanged=!1,
n._renderedColumnStartIndex=0,n._renderedColumnStopIndex=0,n._renderedRowStartIndex=0,n._renderedRowStopIndex=0,n._styleCache={},n._cellCache={},n._debounceScrollEndedCallback=function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})},n._invokeOnGridRenderedHelper=function(){var e=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})},n._setScrollingContainerRef=function(e){n._scrollingContainer=e},n._onScroll=function(e){e.target===n._scrollingContainer&&n.handleScrollEvent(e.target)};var o=new h.default({cellCount:e.columnCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.columnWidth)(n)
},estimatedCellSize:t._getEstimatedColumnSize(e)}),r=new h.default({cellCount:e.rowCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.rowHeight)(n)},estimatedCellSize:t._getEstimatedRowSize(e)});return n.state={instanceProps:{columnSizeAndPositionManager:o,rowSizeAndPositionManager:r,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:m.SCROLL_DIRECTION_FORWARD,scrollDirectionVertical:m.SCROLL_DIRECTION_FORWARD,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(n._initialScrollTop=n._getCalculatedScrollTop(e,n.state)),e.scrollToColumn>0&&(n._initialScrollLeft=n._getCalculatedScrollLeft(e,n.state)),n}return(0,l.default)(t,e),(0,a.default)(t,[{key:"getOffsetForCell",value:function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,n=void 0===t?this.props.scrollToAlignment:t,o=e.columnIndex,i=void 0===o?this.props.scrollToColumn:o,s=e.rowIndex,a=void 0===s?this.props.scrollToRow:s,c=(0,r.default)({},this.props,{scrollToAlignment:n,scrollToColumn:i,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(c),scrollTop:this._getCalculatedScrollTop(c)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t=e.scrollLeft,n=void 0===t?0:t,o=e.scrollTop,r=void 0===o?0:o;if(!(r<0)){this._debounceScrollEnded()
;var i=this.props,s=i.autoHeight,a=i.autoWidth,c=i.height,l=i.width,d=this.state.instanceProps,u=d.scrollbarSize,p=d.rowSizeAndPositionManager.getTotalSize(),h=d.columnSizeAndPositionManager.getTotalSize(),f=Math.min(Math.max(0,h-l+u),n),b=Math.min(Math.max(0,p-c+u),r);if(this.state.scrollLeft!==f||this.state.scrollTop!==b){var g={isScrolling:!0,scrollDirectionHorizontal:f!==this.state.scrollLeft?f>this.state.scrollLeft?m.SCROLL_DIRECTION_FORWARD:m.SCROLL_DIRECTION_BACKWARD:this.state.scrollDirectionHorizontal,scrollDirectionVertical:b!==this.state.scrollTop?b>this.state.scrollTop?m.SCROLL_DIRECTION_FORWARD:m.SCROLL_DIRECTION_BACKWARD:this.state.scrollDirectionVertical,scrollPositionChangeReason:k};s||(g.scrollTop=b),a||(g.scrollLeft=f),g.needToResetStyleCache=!1,this.setState(g)}this._invokeOnScrollMemoizer({scrollLeft:f,scrollTop:b,totalColumnsWidth:h,totalRowsHeight:p})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex
;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,n):n}},{key:"measureAllCells",value:function(){var e=this.props,t=e.columnCount,n=e.rowCount,o=this.state.instanceProps;o.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),o.rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,o=e.rowIndex,r=void 0===o?0:o,i=this.props,s=i.scrollToColumn,a=i.scrollToRow,c=this.state.instanceProps;c.columnSizeAndPositionManager.resetCell(n),c.rowSizeAndPositionManager.resetCell(r),this._recomputeScrollLeftFlag=s>=0&&(this.state.scrollDirectionHorizontal===m.SCROLL_DIRECTION_FORWARD?n<=s:n>=s),
this._recomputeScrollTopFlag=a>=0&&(this.state.scrollDirectionVertical===m.SCROLL_DIRECTION_FORWARD?r<=a:r>=a),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,n=e.rowIndex,o=this.props.columnCount,i=this.props;o>1&&void 0!==t&&this._updateScrollLeftForScrollToColumn((0,r.default)({},i,{scrollToColumn:t})),void 0!==n&&this._updateScrollTopForScrollToRow((0,r.default)({},i,{scrollToRow:n}))}},{key:"componentDidMount",value:function(){var e=this.props,n=e.getScrollbarSize,o=e.height,i=e.scrollLeft,s=e.scrollToColumn,a=e.scrollTop,c=e.scrollToRow,l=e.width,d=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),d.scrollbarSizeMeasured||this.setState((function(e){var t=(0,r.default)({},e,{needToResetStyleCache:!1});return t.instanceProps.scrollbarSize=n(),t.instanceProps.scrollbarSizeMeasured=!0,t})),"number"==typeof i&&i>=0||"number"==typeof a&&a>=0){
var u=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:i,scrollTop:a});u&&(u.needToResetStyleCache=!1,this.setState(u))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var p=o>0&&l>0;s>=0&&p&&this._updateScrollLeftForScrollToColumn(),c>=0&&p&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:i||0,scrollTop:a||0,totalColumnsWidth:d.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:d.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,t){
var n=this,o=this.props,r=o.autoHeight,i=o.autoWidth,s=o.columnCount,a=o.height,c=o.rowCount,l=o.scrollToAlignment,d=o.scrollToColumn,u=o.scrollToRow,p=o.width,h=this.state,f=h.scrollLeft,m=h.scrollPositionChangeReason,b=h.scrollTop,v=h.instanceProps;this._handleInvalidatedGridSize();var y=s>0&&0===e.columnCount||c>0&&0===e.rowCount;m===x&&(!i&&f>=0&&(f!==this._scrollingContainer.scrollLeft||y)&&(this._scrollingContainer.scrollLeft=f),!r&&b>=0&&(b!==this._scrollingContainer.scrollTop||y)&&(this._scrollingContainer.scrollTop=b));var O=(0===e.width||0===e.height)&&a>0&&p>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):(0,g.default)({cellSizeAndPositionManager:v.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:f,scrollToAlignment:l,scrollToIndex:d,size:p,
sizeJustIncreasedFromZero:O,updateScrollIndexCallback:function(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):(0,g.default)({cellSizeAndPositionManager:v.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:b,scrollToAlignment:l,scrollToIndex:u,size:a,sizeJustIncreasedFromZero:O,updateScrollIndexCallback:function(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),f!==t.scrollLeft||b!==t.scrollTop){var E=v.rowSizeAndPositionManager.getTotalSize(),w=v.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:f,scrollTop:b,totalColumnsWidth:w,totalRowsHeight:E})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){
this._disablePointerEventsTimeoutId&&(0,E.cancelAnimationTimeout)(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoContainerWidth,n=e.autoHeight,o=e.autoWidth,i=e.className,s=e.containerProps,a=e.containerRole,c=e.containerStyle,l=e.height,p=e.id,h=e.noContentRenderer,f=e.role,m=e.style,b=e.tabIndex,g=e.width,v=this.state,y=v.instanceProps,O=v.needToResetStyleCache,E=this._isScrolling(),w={boxSizing:"border-box",direction:"ltr",height:n?"auto":l,position:"relative",width:o?"auto":g,WebkitOverflowScrolling:"touch",willChange:"transform"};O&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var S=y.columnSizeAndPositionManager.getTotalSize(),k=y.rowSizeAndPositionManager.getTotalSize(),x=k>l?y.scrollbarSize:0,C=S>g?y.scrollbarSize:0;C===this._horizontalScrollBarSize&&x===this._verticalScrollBarSize||(this._horizontalScrollBarSize=C,this._verticalScrollBarSize=x,
this._scrollbarPresenceChanged=!0),w.overflowX=S+x<=g?"hidden":"auto",w.overflowY=k+C<=l?"hidden":"auto";var T=this._childrenToDisplay,j=0===T.length&&l>0&&g>0;return d.createElement("div",(0,r.default)({ref:this._setScrollingContainerRef},s,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:(0,u.default)("ReactVirtualized__Grid",i),id:p,onScroll:this._onScroll,role:f,style:(0,r.default)({},w,m),tabIndex:b}),T.length>0&&d.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:a,style:(0,r.default)({width:t?"auto":S,height:k,maxWidth:S,maxHeight:k,overflow:"hidden",pointerEvents:E?"none":"",position:"relative"},c)},T),j&&h())}},{key:"_calculateChildrenToRender",value:function(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=e.cellRenderer,o=e.cellRangeRenderer,r=e.columnCount,i=e.deferredMeasurementCache,s=e.height,a=e.overscanColumnCount,c=e.overscanIndicesGetter,l=e.overscanRowCount,d=e.rowCount,u=e.width,p=e.isScrollingOptOut,h=t.scrollDirectionHorizontal,f=t.scrollDirectionVertical,m=t.instanceProps,b=this._initialScrollTop>0?this._initialScrollTop:t.scrollTop,g=this._initialScrollLeft>0?this._initialScrollLeft:t.scrollLeft,v=this._isScrolling(e,t);if(this._childrenToDisplay=[],s>0&&u>0){var y=m.columnSizeAndPositionManager.getVisibleCellRange({containerSize:u,offset:g}),O=m.rowSizeAndPositionManager.getVisibleCellRange({containerSize:s,offset:b}),E=m.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:u,offset:g}),w=m.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:s,offset:b});this._renderedColumnStartIndex=y.start,
this._renderedColumnStopIndex=y.stop,this._renderedRowStartIndex=O.start,this._renderedRowStopIndex=O.stop;var S=c({direction:"horizontal",cellCount:r,overscanCellsCount:a,scrollDirection:h,startIndex:"number"==typeof y.start?y.start:0,stopIndex:"number"==typeof y.stop?y.stop:-1}),k=c({direction:"vertical",cellCount:d,overscanCellsCount:l,scrollDirection:f,startIndex:"number"==typeof O.start?O.start:0,stopIndex:"number"==typeof O.stop?O.stop:-1}),x=S.overscanStartIndex,C=S.overscanStopIndex,T=k.overscanStartIndex,j=k.overscanStopIndex;if(i){if(!i.hasFixedHeight())for(var A=T;A<=j;A++)if(!i.has(A,0)){x=0,C=r-1;break}if(!i.hasFixedWidth())for(var N=x;N<=C;N++)if(!i.has(0,N)){T=0,j=d-1;break}}this._childrenToDisplay=o({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:m.columnSizeAndPositionManager,columnStartIndex:x,columnStopIndex:C,deferredMeasurementCache:i,horizontalOffsetAdjustment:E,isScrolling:v,isScrollingOptOut:p,parent:this,
rowSizeAndPositionManager:m.rowSizeAndPositionManager,rowStartIndex:T,rowStopIndex:j,scrollLeft:g,scrollTop:b,styleCache:this._styleCache,verticalOffsetAdjustment:w,visibleColumnIndices:y,visibleRowIndices:O}),this._columnStartIndex=x,this._columnStopIndex=C,this._rowStartIndex=T,this._rowStopIndex=j}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&(0,E.cancelAnimationTimeout)(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=(0,E.requestAnimationTimeout)(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{
key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,o=e.scrollTop,r=e.totalColumnsWidth,i=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,o=e.scrollTop,s=t.props,a=s.height;(0,s.onScroll)({clientHeight:a,clientWidth:s.width,scrollHeight:i,scrollLeft:n,scrollTop:o,scrollWidth:r})},indices:{scrollLeft:n,scrollTop:o}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(t.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){
var n=e.scrollLeft,o=e.scrollTop,r=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:o});r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollLeft(e,n)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,o=t._getScrollLeftForScrollToColumnStateUpdate(e,n);o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollTop(e,n)}},{key:"_resetStyleCache",value:function(){
var e=this._styleCache,t=this._cellCache,n=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var o=this._rowStartIndex;o<=this._rowStopIndex;o++)for(var r=this._columnStartIndex;r<=this._columnStopIndex;r++){var i=o+"-"+r;this._styleCache[i]=e[i],n&&(this._cellCache[i]=t[i])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,o=t._getScrollTopForScrollToRowStateUpdate(e,n);o&&(o.needToResetStyleCache=!1,this.setState(o))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var i={};0===e.columnCount&&0!==n.scrollLeft||0===e.rowCount&&0!==n.scrollTop?(i.scrollLeft=0,i.scrollTop=0):(e.scrollLeft!==n.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==n.scrollTop&&e.scrollToRow<0)&&(0,o.default)(i,t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var s=n.instanceProps
;i.needToResetStyleCache=!1,e.columnWidth===s.prevColumnWidth&&e.rowHeight===s.prevRowHeight||(i.needToResetStyleCache=!0),s.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:t._getEstimatedColumnSize(e),cellSizeGetter:t._wrapSizeGetter(e.columnWidth)}),s.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:t._getEstimatedRowSize(e),cellSizeGetter:t._wrapSizeGetter(e.rowHeight)}),0!==s.prevColumnCount&&0!==s.prevRowCount||(s.prevColumnCount=0,s.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===s.prevIsScrolling&&(0,o.default)(i,{isScrolling:!1});var a=void 0,c=void 0;return(0,p.default)({cellCount:s.prevColumnCount,cellSize:"number"==typeof s.prevColumnWidth?s.prevColumnWidth:null,computeMetadataCallback:function(){return s.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"==typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,
scrollToIndex:s.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){a=t._getScrollLeftForScrollToColumnStateUpdate(e,n)}}),(0,p.default)({cellCount:s.prevRowCount,cellSize:"number"==typeof s.prevRowHeight?s.prevRowHeight:null,computeMetadataCallback:function(){return s.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"==typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:s.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){c=t._getScrollTopForScrollToRowStateUpdate(e,n)}}),s.prevColumnCount=e.columnCount,s.prevColumnWidth=e.columnWidth,s.prevIsScrolling=!0===e.isScrolling,s.prevRowCount=e.rowCount,s.prevRowHeight=e.rowHeight,s.prevScrollToColumn=e.scrollToColumn,s.prevScrollToRow=e.scrollToRow,s.scrollbarSize=e.getScrollbarSize(),void 0===s.scrollbarSize?(s.scrollbarSizeMeasured=!1,s.scrollbarSize=0):s.scrollbarSizeMeasured=!0,i.instanceProps=s,(0,
r.default)({},i,a,c)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"==typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"==typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,n=e.scrollLeft,o=e.scrollTop,r={scrollPositionChangeReason:x};return"number"==typeof n&&n>=0&&(r.scrollDirectionHorizontal=n>t.scrollLeft?m.SCROLL_DIRECTION_FORWARD:m.SCROLL_DIRECTION_BACKWARD,r.scrollLeft=n),"number"==typeof o&&o>=0&&(r.scrollDirectionVertical=o>t.scrollTop?m.SCROLL_DIRECTION_FORWARD:m.SCROLL_DIRECTION_BACKWARD,r.scrollTop=o),"number"==typeof n&&n>=0&&n!==t.scrollLeft||"number"==typeof o&&o>=0&&o!==t.scrollTop?r:null}},{key:"_wrapSizeGetter",value:function(e){return"function"==typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){
var n=e.columnCount,o=e.height,r=e.scrollToAlignment,i=e.scrollToColumn,s=e.width,a=t.scrollLeft,c=t.instanceProps;if(n>0){var l=n-1,d=i<0?l:Math.min(l,i),u=c.rowSizeAndPositionManager.getTotalSize(),p=c.scrollbarSizeMeasured&&u>o?c.scrollbarSize:0;return c.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:s-p,currentOffset:a,targetIndex:d})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,n){var o=n.scrollLeft,r=t._getCalculatedScrollLeft(e,n);return"number"==typeof r&&r>=0&&o!==r?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:r,scrollTop:-1}):null}},{key:"_getCalculatedScrollTop",value:function(e,t){var n=e.height,o=e.rowCount,r=e.scrollToAlignment,i=e.scrollToRow,s=e.width,a=t.scrollTop,c=t.instanceProps;if(o>0){var l=o-1,d=i<0?l:Math.min(l,i),u=c.columnSizeAndPositionManager.getTotalSize(),p=c.scrollbarSizeMeasured&&u>s?c.scrollbarSize:0;return c.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,
containerSize:n-p,currentOffset:a,targetIndex:d})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,n){var o=n.scrollTop,r=t._getCalculatedScrollTop(e,n);return"number"==typeof r&&r>=0&&o!==r?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:-1,scrollTop:r}):null}}]),t}(d.PureComponent);C.defaultProps={"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:v.default,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:y.default,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:b.default,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:S,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1},C.propTypes=null,(0,O.polyfill)(C),t.default=C},f7y9:function(e,t,n){"use strict"
;n.d(t,"a",(function(){return l}));var o=n("pVnL"),r=n.n(o),i=n("lSNA"),s=n.n(i),a=n("q1tI"),c=n.n(a);const l=e=>class extends a.Component{constructor(...e){super(...e),s()(this,"state",{imageStatus:"loading"}),s()(this,"onLoad",(()=>{this.setState({imageStatus:"complete"});const{onExternalImageLoaded:e}=this.props;e&&this.img&&e({width:this.img.naturalWidth,height:this.img.naturalHeight})})),s()(this,"onError",(()=>{this.setState({imageStatus:"error"})}))}componentDidMount(){this.fetchImage(this.props)}UNSAFE_componentWillReceiveProps(e){e.url!==this.props.url&&(this.setState({imageStatus:"loading"}),this.fetchImage(e))}componentWillUnmount(){this.img&&(this.img.removeEventListener("load",this.onLoad),this.img.removeEventListener("error",this.onError),this.img=null)}fetchImage({url:e}){e&&(this.img||(this.img=new Image,this.img.addEventListener("load",this.onLoad),this.img.addEventListener("error",this.onError)),this.img.src=e)}render(){const{imageStatus:t}=this.state
;return c.a.createElement(e,r()({},this.props,{imageStatus:t}))}}},fHir:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M18.062 11L16.5 9.914A1 1 0 1117.914 8.5l2.616 2.616c.28.167.47.5.47.884s-.19.717-.47.884L17.914 15.5a1 1 0 01-1.414-1.414L18.062 13h-3.68c-.487 0-.882-.448-.882-1s.395-1 .882-1h3.68zM3.47 12.884c-.28-.167-.47-.5-.47-.884s.19-.717.47-.884L6.086 8.5A1 1 0 017.5 9.914L5.938 11h3.68c.487 0 .882.448.882 1s-.395 1-.882 1h-3.68L7.5 14.086A1 1 0 016.086 15.5L3.47 12.884z" fill="currentColor"/></svg>'},e));i.displayName="EditorExpandIcon";var s=i;t.default=s},"fMI+":function(e,t,n){"use strict";var o=n("AGgm").assign,r=n("AGgm").unescapeAll,i=n("AGgm").escapeHtml,s={};function a(){this.rules=o({},s)}
s.code_inline=function(e,t,n,o,r){var s=e[t];return"<code"+r.renderAttrs(s)+">"+i(e[t].content)+"</code>"},s.code_block=function(e,t,n,o,r){var s=e[t];return"<pre"+r.renderAttrs(s)+"><code>"+i(e[t].content)+"</code></pre>\n"},s.fence=function(e,t,n,o,s){var a,c,l,d,u,p=e[t],h=p.info?r(p.info).trim():"",f="",m="";return h&&(f=(l=h.split(/(\s+)/g))[0],m=l.slice(2).join("")),0===(a=n.highlight&&n.highlight(p.content,f,m)||i(p.content)).indexOf("<pre")?a+"\n":h?(c=p.attrIndex("class"),d=p.attrs?p.attrs.slice():[],c<0?d.push(["class",n.langPrefix+f]):(d[c]=d[c].slice(),d[c][1]+=" "+n.langPrefix+f),u={attrs:d},"<pre><code"+s.renderAttrs(u)+">"+a+"</code></pre>\n"):"<pre><code"+s.renderAttrs(p)+">"+a+"</code></pre>\n"},s.image=function(e,t,n,o,r){var i=e[t];return i.attrs[i.attrIndex("alt")][1]=r.renderInlineAsText(i.children,n,o),r.renderToken(e,t,n)},s.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},s.softbreak=function(e,t,n){
return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},s.text=function(e,t){return i(e[t].content)},s.html_block=function(e,t){return e[t].content},s.html_inline=function(e,t){return e[t].content},a.prototype.renderAttrs=function(e){var t,n,o;if(!e.attrs)return"";for(o="",t=0,n=e.attrs.length;t<n;t++)o+=" "+i(e.attrs[t][0])+'="'+i(e.attrs[t][1])+'"';return o},a.prototype.renderToken=function(e,t,n){var o,r="",i=!1,s=e[t];return s.hidden?"":(s.block&&-1!==s.nesting&&t&&e[t-1].hidden&&(r+="\n"),r+=(-1===s.nesting?"</":"<")+s.tag,r+=this.renderAttrs(s),0===s.nesting&&n.xhtmlOut&&(r+=" /"),s.block&&(i=!0,1===s.nesting&&t+1<e.length&&("inline"===(o=e[t+1]).type||o.hidden||-1===o.nesting&&o.tag===s.tag)&&(i=!1)),r+=i?">\n":">")},a.prototype.renderInline=function(e,t,n){for(var o,r="",i=this.rules,s=0,a=e.length;s<a;s++)void 0!==i[o=e[s].type]?r+=i[o](e,s,t,n,this):r+=this.renderToken(e,s,t);return r},a.prototype.renderInlineAsText=function(e,t,n){
for(var o="",r=0,i=e.length;r<i;r++)"text"===e[r].type?o+=e[r].content:"image"===e[r].type?o+=this.renderInlineAsText(e[r].children,t,n):"softbreak"===e[r].type&&(o+="\n");return o},a.prototype.render=function(e,t,n){var o,r,i,s="",a=this.rules;for(o=0,r=e.length;o<r;o++)"inline"===(i=e[o].type)?s+=this.renderInline(e[o].children,t,n):void 0!==a[i]?s+=a[e[o].type](e,o,t,n,this):s+=this.renderToken(e,o,t,n);return s},e.exports=a},fZFN:function(e,t,n){"use strict";var o=n("AGgm").unescapeAll;e.exports=function(e,t,n){var r,i,s=0,a=t,c={ok:!1,pos:0,lines:0,str:""};if(t>=n)return c;if(34!==(i=e.charCodeAt(t))&&39!==i&&40!==i)return c;for(t++,40===i&&(i=41);t<n;){if((r=e.charCodeAt(t))===i)return c.pos=t+1,c.lines=s,c.str=o(e.slice(a+1,t)),c.ok=!0,c;if(40===r&&41===i)return c;10===r?s++:92===r&&t+1<n&&(t++,10===e.charCodeAt(t)&&s++),t++}return c}},fd7e:function(e,t,n){"use strict";t.a=n("st3q").a},ftVL:function(e,t,n){"use strict";n.d(t,"b",(function(){return M})),n.d(t,"a",(function(){
return R}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),s=n.n(i),a=n("wSSu"),c=n.n(a),l=n("UxO+"),d=n("CsC6"),u=n("V2qZ"),p=n("7rlJ"),h=n.n(p),f=n("mG1W");const m=Object(n("D6b/").defineMessages)({dropPlaceholderLabel:{id:"fabric.editor.dropPlaceholderLabel",defaultMessage:"Document",description:"document label for an media icon"}}),b=Object(n("AeFk").css)("color:",`var(--ds-icon-accent-blue, ${Object(n("5ABH").u)("#0052CC",.4)||"#0052CC"})`,";background:",`var(--ds-background-accent-blue-subtle, ${Object(n("5ABH").u)("#0065FF",.6)||"#0065FF"})`,";border-radius:",Object(n("7w+A").borderRadius)(),"px;margin:5px 3px 25px;width:",156,"px;min-height:",125,"px;display:flex;align-items:center;justify-content:center;"),g=Object(n("AeFk").css)("background:","var(--ds-border-focused, #2684FF)",";border-radius:",Object(n("7w+A").borderRadius)(),"px;margin:2px 0;width:100%;height:2px;"),v=Object(n("o5hF").c)((e=>{const{intl:t}=e,{dropPlaceholderLabel:o}=m;return Object(n("AeFk").jsx)("div",{css:b
},Object(n("AeFk").jsx)(n.n(n("dtZH")).a,{label:t.formatMessage(o),size:"medium"}))}));var y=({type:e="group"})=>"single"===e?Object(n("AeFk").jsx)("div",{css:g}):Object(n("AeFk").jsx)(v,null),O=n("MEpN");const E=(e,t)=>{let o="";return 1===e.length?o=e[0].fileMimeType||"unknown":e.length>1&&(o="multiple"),{action:n("+PNV").a.INSERTED,actionSubject:n("+PNV").b.DOCUMENT,actionSubjectId:n("+PNV").c.MEDIA,attributes:{type:n("+PNV").c.MEDIA_GROUP,inputMethod:t,fileExtension:o},eventType:n("+PNV").e.TRACK}};const w=(e,t,o,r)=>{const{state:i,dispatch:s}=e,{schema:a,tr:c}=i,{mediaInline:l}=a.nodes;if(!l||!t||void 0===o)return!1;const{id:d}=t,u=l.create({id:d,collection:o}),p=i.schema.text(" ");let h=i.selection.$to.pos;Object(n("D4z0").l)(i)&&Object(n("Nrp8").c)(i)&&(h+=1);let f=O.Fragment.from([u,p]);const m=T(i);return m?c.insert(h,f).deleteRange(m.start,m.end):c.insert(h,f),Object(n("SVcB").a)(i,c,((e,t)=>{const o=e.fileMimeType||"unknown";return{action:n("+PNV").a.INSERTED,
actionSubject:n("+PNV").b.DOCUMENT,actionSubjectId:n("+PNV").c.MEDIA,attributes:{type:n("+PNV").c.MEDIA_INLINE,inputMethod:t,fileExtension:o},eventType:n("+PNV").e.TRACK}})(t,r)),s(c),!0},S=(e,t,o,r)=>{const{state:i,dispatch:s}=e,{tr:a,schema:c}=i,{media:l,paragraph:d}=c.nodes;if(!l||!t.length)return;const u=k(t,o,l),p=C(i),h=a.doc.resolve(p).parent,m=a.doc.nodeAt(p),b=!function(e){const{schema:t}=e,n=e.selection.$anchor.node();return n&&n.type===t.nodes.mediaGroup}(i)&&Object(n("ceYy").h)(i,O.Fragment.from(i.schema.nodes.mediaGroup.createChecked({},u))),g=function(e,t){const{schema:{nodes:{media:o}}}=e,r=t&&t.type===o;return(Object(n("D4z0").i)(e)||Object(n("D4z0").l)(e)||Object(n("D4z0").k)(e)||Object(n("vRZh").d)(e)&&(!Object(n("Nrp8").i)(e)||Object(n("Nrp8").f)(e)))&&!r}(i,m);let v=h.type===c.nodes.mediaGroup?u:[c.nodes.mediaGroup.createChecked({},u)];if(b){v=g?v.concat(d.create()):v;const o=T(i)
;return o?p<=o.start?a.deleteRange(o.start,o.end).insert(p,v):a.insert(p,v).deleteRange(o.start,o.end):a.insert(p,v),Object(n("SVcB").a)(i,a,E(t,r)),s(a),void A(e)}g&&h.type!==c.nodes.mediaGroup&&v.push(d.create()),Object(n("SVcB").a)(i,a,E(t,r)),s(Object(f.safeInsert)(O.Fragment.fromArray(v),p)(a))},k=(e,t,o)=>e.map((e=>{const{id:r}=e,i=o.create({id:r,type:"file",collection:t});return Object(n("Nrp8").a)(e,i),i})),x=e=>{const{schema:{nodes:{mediaGroup:t,listItem:o}}}=e;if(Object(f.hasParentNode)((e=>e.type===o))(e.selection)){const o=(e=>{const{schema:{nodes:{bulletList:t,orderedList:o}}}=e;return Object(n("x+VZ").b)((e=>e.type===t||e.type===o))(e.selection.$from)})(e);if(o){const n=o.pos+o.node.nodeSize,r=e.doc.nodeAt(n);return r&&r.type===t?n+1:n}}},C=e=>{const{$from:t,$to:o}=e.selection,r=x(e);if(r)return r;const i=Object(n("Nrp8").g)(e)
;return i&&(!Object(n("Nrp8").f)(e)||t.pos<i&&o.pos<i)?i:Object(n("Nrp8").f)(e)?o.pos:Object(n("vRZh").c)(e)?o.pos+1:Object(n("vRZh").a)(e)?t.pos-1:o.pos},T=e=>{const{$from:t,$to:o}=e.selection;if(!Object(n("Nrp8").h)(e))return!Object(n("Nrp8").c)(e)||Object(n("Nrp8").g)(e)?j(t.pos,o.pos):j(Object(n("vRZh").f)(t)-1,Object(n("vRZh").e)(o))},j=(e,t=e)=>({start:e,end:t}),A=e=>{const{state:t}=e,{doc:o}=t,r=Object(n("Nrp8").g)(t);if(!r)return;const i=o.resolve(r),s=Object(n("vRZh").e)(i);s+1>=o.nodeSize-1?Object(n("XyUv").g)(e,r):Object(n("XyUv").h)(e,s+1)};class N{constructor(){r()(this,"pendingTask",Promise.resolve(null)),r()(this,"taskMap",new Map),r()(this,"cancelPendingTask",(e=>{const t=this.taskMap.get(e);t&&!t.cancelController.signal.aborted&&t.cancelController.abort()})),r()(this,"waitForPendingTasks",(async(e,t)=>{if(t&&this.pendingTask===t)return t;const n=this.pendingTask.then((()=>this.waitForPendingTasks(void 0,this.pendingTask)));if(!e)return n;let o
;const r=new Promise(((t,n)=>{o=window.setTimeout((()=>n(new Error(`Media operations did not finish in ${e} ms`))),e)}));return Promise.race([r,n.then((e=>(clearTimeout(o),e)))])})),r()(this,"resumePendingTask",(e=>{const t=this.taskMap.get(e);t&&t.cancelController.signal.aborted&&this.addPendingTask(t.task,e)})),r()(this,"addPendingTask",((e,t)=>{let n=e;if(t){const o=new AbortController,r=o.signal;this.taskMap.set(t,{task:e,cancelController:o}),n=new Promise((n=>{e.then(n,n).finally((()=>{this.taskMap.delete(t)})),r.onabort=()=>{n(null)}}))}const o=this.pendingTask,r=()=>o;return this.pendingTask=n.then(r,r),this.pendingTask}))}}const I=["ready","error","cancelled"];class P{constructor(e,t,o,i,s){r()(this,"allowsUploads",!1),r()(this,"ignoreLinks",!1),r()(this,"waitForMediaUpload",!0),r()(this,"allUploadsFinished",!0),r()(this,"showDropzone",!1),r()(this,"isFullscreen",!1),r()(this,"layout","center"),r()(this,"mediaNodes",[]),r()(this,"destroyed",!1),
r()(this,"removeOnCloseListener",(()=>{})),r()(this,"onPopupToggleCallback",(()=>{})),r()(this,"nodeCount",new Map),r()(this,"taskManager",new N),r()(this,"pickers",[]),r()(this,"pickerPromises",[]),r()(this,"onContextIdentifierProvider",(async(e,t)=>{t&&(this.contextIdentifierProvider=await t)})),r()(this,"setMediaProvider",(async e=>{if(!e)return this.destroyPickers(),this.allowsUploads=!1,void(this.destroyed||this.view.dispatch(this.view.state.tr.setMeta(n("wBzk").a,{allowsUploads:this.allowsUploads})));try{if(this.mediaProvider=await e,!this.mediaProvider.viewMediaClientConfig){const e=this.mediaProvider.viewMediaClientConfig;e&&(this.mediaProvider.viewMediaClientConfig=e)}h()(this.mediaProvider.viewMediaClientConfig,`MediaProvider promise did not resolve to a valid instance of MediaProvider - ${this.mediaProvider}`)}catch(r){const e=new Error(`Media functionality disabled due to rejected provider: ${r instanceof Error?r.message:String(r)}`)
;return this.errorReporter.captureException(e),this.destroyPickers(),this.allowsUploads=!1,void(this.destroyed||this.view.dispatch(this.view.state.tr.setMeta(n("wBzk").a,{allowsUploads:this.allowsUploads})))}this.mediaClientConfig=this.mediaProvider.viewMediaClientConfig,this.allowsUploads=!!this.mediaProvider.uploadMediaClientConfig;const{view:t,allowsUploads:o}=this;!this.destroyed&&t&&t.dom.parentNode&&t.dispatch(t.state.tr.setMeta(n("wBzk").a,{allowsUploads:o})),this.allowsUploads?(this.uploadMediaClientConfig=this.mediaProvider.uploadMediaClientConfig,this.mediaProvider.uploadParams&&this.uploadMediaClientConfig?await this.initPickers(this.mediaProvider.uploadParams,n("8ORD").a):this.destroyPickers()):this.destroyPickers()})),r()(this,"getMediaOptions",(()=>this.options)),r()(this,"isMediaSchemaNode",(({type:e})=>{var t;const{mediaInline:o,mediaSingle:r,media:i}=this.view.state.schema.nodes
;return Object(n("CzTa").b)("mediaInline",null===(t=this.mediaOptions)||void 0===t?void 0:t.featureFlags)?e===r||e===i||e===o:e===r})),r()(this,"insertFile",((e,t,o)=>{var r,i;const{state:s}=this.view,a={...e,contextId:this.contextIdentifierProvider?this.contextIdentifierProvider.objectId:void 0},c=null!==(r=e.collection)&&void 0!==r?r:this.collectionFromProvider();if(void 0===c)return;"error"!==e.status&&this.updateAndDispatch({allUploadsFinished:!1}),Object(n("ZPHY").d)(s.schema,a.fileMimeType)?Object(n("ZPHY").c)(this.view,a,this.getInputMethod(o),c,this.mediaOptions&&this.mediaOptions.alignLeftOnInsert,this.newInsertionBehaviour):!Object(n("CzTa").b)("mediaInline",null===(i=this.mediaOptions)||void 0===i?void 0:i.featureFlags)||Object(n("x+VZ").i)(s)||Object(n("Nrp8").c)(s)&&!Object(n("D4z0").l)(s)||!(e=>{const t=e.schema.nodes.mediaInline.create({});return Object(f.canInsert)(e.selection.$to,O.Fragment.from(t))
})(s)?S(this.view,[a],c,this.getInputMethod(o)):w(this.view,a,c,this.getInputMethod(o)),t(this.handleMediaState);const l=e=>e.status&&-1!==I.indexOf(e.status);if(!l(a)){const e=new Promise((e=>{t((t=>{l(t)&&e(t)}))}));this.taskManager.addPendingTask(e,a.id).then((()=>{this.updateAndDispatch({allUploadsFinished:!0})}))}const{view:d}=this;d.hasFocus()||d.focus()})),r()(this,"addPendingTask",(e=>{this.taskManager.addPendingTask(e)})),r()(this,"splitMediaGroup",(()=>Object(n("Nrp8").k)(this.view))),r()(this,"onPopupPickerClose",(()=>{this.onPopupToggleCallback(!1)})),r()(this,"showMediaPicker",(()=>{if(this.openMediaPickerBrowser)return this.openMediaPickerBrowser();this.onPopupToggleCallback(!0)})),r()(this,"setBrowseFn",(e=>{this.openMediaPickerBrowser=e})),r()(this,"onPopupToggle",(e=>{this.onPopupToggleCallback=e})),r()(this,"waitForPendingTasks",this.taskManager.waitForPendingTasks),r()(this,"handleMediaNodeRemoval",((e,t)=>{let o=e;o||(o=this.view.state.doc.nodeAt(t())),
Object(n("Nrp8").j)(this.view,o,t)})),r()(this,"trackMediaNodeAddition",(e=>{var t;const n=e.attrs.id,o=null!==(t=this.nodeCount.get(n))&&void 0!==t?t:0;0===o&&this.taskManager.resumePendingTask(n),this.nodeCount.set(n,o+1)})),r()(this,"trackMediaNodeRemoval",(e=>{var t;const n=e.attrs.id,o=null!==(t=this.nodeCount.get(n))&&void 0!==t?t:0;1===o&&this.taskManager.cancelPendingTask(n),this.nodeCount.set(n,o-1)})),r()(this,"handleMediaNodeMount",((e,t)=>{this.trackMediaNodeAddition(e),this.mediaNodes.unshift({node:e,getPos:t})})),r()(this,"handleMediaNodeUnmount",(e=>{this.trackMediaNodeRemoval(e),this.mediaNodes=this.mediaNodes.filter((({node:t})=>e!==t))})),r()(this,"handleMediaGroupUpdate",((e,t)=>{const n=t.filter((t=>e.every((e=>e.attrs.id!==t.attrs.id)))),o=e.filter((e=>t.every((t=>t.attrs.id!==e.attrs.id))));n.forEach((e=>{this.trackMediaNodeAddition(e)})),o.forEach((e=>{this.trackMediaNodeRemoval(e)}))})),r()(this,"findMediaNode",(e=>n("JLWW").a(this,e))),
r()(this,"destroyAllPickers",(e=>{e.forEach((e=>e.destroy())),this.pickers.splice(0,this.pickers.length)})),r()(this,"destroyPickers",(()=>{const{pickers:e,pickerPromises:t}=this;t.length===e.length?this.destroyAllPickers(this.pickers):Promise.all(t).then((e=>this.destroyAllPickers(e))),this.customPicker=void 0})),r()(this,"getInputMethod",(e=>{switch(e){case"clipboard":return n("+PNV").f.CLIPBOARD;case"dropzone":return n("+PNV").f.DRAG_AND_DROP}})),r()(this,"updateMediaSingleNodeAttrs",((e,t)=>{const{view:o}=this;if(o)return Object(n("JLWW").e)(e,t)(o.state,o.dispatch)})),r()(this,"handleMediaState",(e=>{if("error"===e.status){const{uploadErrorHandler:t}=this.options;t&&t(e)}})),r()(this,"removeSelectedMediaContainer",(()=>{const{view:e}=this,t=this.selectedMediaContainerNode();if(!t)return!1;let{from:o}=e.state.selection;return Object(n("Nrp8").j)(e,t.firstChild,(()=>o+1)),!0})),r()(this,"selectedMediaContainerNode",(()=>{const{selection:e}=this.view.state
;if(e instanceof l.NodeSelection&&this.isMediaSchemaNode(e.node))return e.node})),r()(this,"handleDrag",(e=>{const t="enter"===e;if(this.showDropzone===t)return;this.showDropzone=t;const{dispatch:n,state:o}=this.view;n(o.tr)})),this.options=t,this.mediaOptions=o,this.newInsertionBehaviour=i,this.dispatch=s,this.waitForMediaUpload=void 0===t.waitForMediaUpload||t.waitForMediaUpload;const{nodes:a}=e.schema;h()(a.media&&(a.mediaGroup||a.mediaSingle),"Editor: unable to init media plugin - media or mediaGroup/mediaSingle node absent in schema"),t.providerFactory.subscribe("mediaProvider",((e,t)=>this.setMediaProvider(t))),t.providerFactory.subscribe("contextIdentifierProvider",this.onContextIdentifierProvider),this.errorReporter=t.errorReporter||new(n("AG9f").a)}updateElement(){let e;const t=this.selectedMediaContainerNode();t&&this.isMediaSchemaNode(t)&&(e=this.getDomElement(this.view.domAtPos.bind(this.view))),this.element!==e&&(this.element=e)}getDomElement(e){
const{selection:t}=this.view.state;if(!(t instanceof l.NodeSelection))return;if(!this.isMediaSchemaNode(t.node))return;const n=Object(f.findDomRefAtPos)(t.from,e);return n?n.childNodes.length?n:n.parentNode:void 0}setView(e){this.view=e}destroy(){if(this.destroyed)return;this.destroyed=!0;const{mediaNodes:e}=this;e.splice(0,e.length),this.removeOnCloseListener(),this.destroyPickers()}async initPickers(e,t){if(this.destroyed||!this.uploadMediaClientConfig)return;const{errorReporter:n,pickers:o,pickerPromises:r}=this;if(!o.length){const e={mediaClientConfig:this.uploadMediaClientConfig,errorReporter:n};if(this.options.customMediaPicker){const n=new t("customMediaPicker",e,this.options.customMediaPicker).init();r.push(n),o.push(this.customPicker=await n)}o.forEach((e=>{e.onNewMedia(this.insertFile)}))}o.forEach((t=>t.setUploadParams(e)))}collectionFromProvider(){return this.mediaProvider&&this.mediaProvider.uploadParams&&this.mediaProvider.uploadParams.collection}updateAndDispatch(e){
Object.keys(e).forEach((t=>{const n=t,o=e[n];void 0!==o&&(this[n]=o)})),this.dispatch&&this.dispatch(n("wBzk").a,{...this})}}const M=e=>n("wBzk").a.getState(e),R=(e,t,o,r,i,a,p)=>{const h=((e,t)=>{const o=document.createElement("div"),r=s.a.createElement;return t?c.a.render(r(n("o5hF").b,{value:e},r(y,{type:"single"})),o):c.a.render(r(n("o5hF").b,{value:e},r(y)),o),o})(r(),a&&a.allowDropzoneDropLine);return new(n("KkS8").a)({state:{init:(e,n)=>new P(n,t,a,p,i),apply(e,t){"number"==typeof t.editingMediaSinglePos&&(t.editingMediaSinglePos=e.mapping.map(t.editingMediaSinglePos));const o=e.getMeta(n("wBzk").a);if(o){const{allowsUploads:e}=o;t.updateAndDispatch({allowsUploads:void 0===e?t.allowsUploads:e})}return t}},appendTransaction(e,t,n){for(const o of e){
if(o.selectionSet&&Object(f.isNodeSelection)(o.selection)&&o.selection.node.type===n.schema.nodes.media&&o.selection.$anchor.parent.type===n.schema.nodes.mediaSingle)return n.tr.setSelection(l.NodeSelection.create(n.doc,o.selection.$from.pos-1))}},key:n("wBzk").a,view:e=>{const t=M(e.state);return t.setView(e),t.updateElement(),{update:()=>{t.updateElement()}}},props:{decorations:e=>{if(!M(e).showDropzone)return;const{schema:t,selection:{$anchor:n}}=e;if(e.selection instanceof l.NodeSelection){if(e.selection.node.type===t.nodes.mediaSingle){const t=u.a.node(e.selection.from,e.selection.to,{class:"richMedia-selected"});return u.b.create(e.doc,[t])}return}let o=n.pos;if(n.parent.type!==t.nodes.paragraph&&n.parent.type!==t.nodes.codeBlock&&(o=Object(d.n)(e.doc,o,t.nodes.mediaGroup)),null==o)return;const r=[u.a.widget(o,h,{key:"drop-placeholder"})];return u.b.create(e.doc,r)},nodeViews:t.nodeViews,handleTextInput:e=>(M(e.state).splitMediaGroup(),!1),handleClick:(e,t,o)=>{var r
;const i=null===(r=o.target)||void 0===r?void 0:r.closest('[data-id="caption-placeholder"]');return!(!n("j5wO").a.chrome&&!n("j5wO").a.safari||!i)||!!n("j5wO").a.ios&&!(null===(s=o.target)||void 0===s||!s.closest('[class="media-content-wrap"]'));var s}}})}},fuko:function(e,t,n){"use strict";function o(e){return e===document.body}function r(e){return e&&3===e.nodeType}function i(e,t,n,i,s,a){if(s&&i)return i;if(!n)return"bottom";r(e)&&(e=e.parentElement);const c=t.getBoundingClientRect(),{height:l}=c,d=o(t)?0:c.top,{top:u,height:p}=e.getBoundingClientRect(),h=u-(d-t.scrollTop),f=d+l-(u+p);return a&&h<=n||f>=n||f>=h?"bottom":"top"}function s(e,t,n,o,i,s){if(i&&o&&!s)return o;if(!n)return o||"left";r(e)&&(e=e.parentElement);const{left:a,width:c}=e.getBoundingClientRect(),{left:l,width:d}=t.getBoundingClientRect(),u=a-l+c,p=l+d-a;return o&&u>n&&p>n?o:p>=n||p>=u&&!o?"left":"right"}function a(e,t,n,o,r,a,c,l){return[i(e,t,o,a,c,l),s(e,t,n,r,c,l)]}n.d(t,"a",(function(){return a})),
n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u}));const c=(e,t,n)=>(n<e+t&&(e=n-t-1),Math.max(1,e));function l({placement:e,target:t,popup:n,offset:i,stick:s,allowOutOfBounds:a=!1,rect:l}){let d={};if(!t||!n||!n.offsetParent)return d;r(t)&&(t=t.parentElement);const p=n.offsetParent,h=p.style;let f=0;h&&h.borderBottomWidth&&(f=parseInt(h.borderBottomWidth,10));const[m,b]=e,{top:g,left:v,right:y,height:O}=l||p.getBoundingClientRect(),{top:E,left:w,right:S,height:k,width:x}=t.getBoundingClientRect(),C=o(p),T=(({placement:e,targetTop:t,targetHeight:n,isPopupParentBody:o,popupOffsetParentHeight:r,popupOffsetParentTop:i,popupOffsetParentScrollTop:s,borderBottomWidth:a,offset:c})=>{const l={};if("top"===e)l.bottom=Math.ceil(r-(t-i)-(o?0:s)-a+c[1]);else if("start"===e)l.top=Math.ceil(t-i-c[1]+(o?0:s));else{let e=Math.ceil(t-i+n+(o?0:s)-a+c[1]);l.top=e}return l})({placement:m,targetTop:E,isPopupParentBody:C,popupOffsetParentHeight:O,
popupOffsetParentTop:g,popupOffsetParentScrollTop:p.scrollTop||0,targetHeight:k,borderBottomWidth:f,offset:i});d={...d,...T},"top"!==m&&"start"!==m||!s||(d=(({target:e,targetTop:t,targetHeight:n,popupOffsetParentHeight:o,popupOffsetParent:r,offset:i,position:s,placement:a})=>{const c=u(e),l={...s};if(c){const{top:e}=c.getBoundingClientRect(),s=t-e,d=c.scrollTop;if(s<0){const c=t+(d-e)+n+i[1]<d;"top"===a&&(l.bottom=c?o-(s+r.scrollTop+n):s+(l.bottom||0)),"start"===a&&(l.top=c?s+r.scrollTop+n:Math.abs(s)+(l.top||0)+i[1])}}return l})({target:t,targetTop:E,targetHeight:k,popupOffsetParentHeight:O,popupOffsetParent:p,popup:n,offset:i,position:d,placement:m})),"top"!==m&&"start"!==m&&s&&(d=(({target:e,targetTop:t,targetHeight:n,popup:o,offset:r,position:i})=>{const s=u(e),a={...i};if(s){let e=t-s.getBoundingClientRect().top,i=n+e;if(s.clientHeight-i<=o.clientHeight+2*r[1]&&e<s.clientHeight){const e=i-s.clientHeight+2*r[1];let t=a.top||0;t-=e+o.clientHeight,a.top=t}}return a})({target:t,
targetTop:E,targetHeight:k,popup:n,offset:i,position:d}));const j=(({placement:e,targetLeft:t,targetRight:n,targetWidth:o,isPopupParentBody:r,popupOffsetParentLeft:i,popupOffsetParentRight:s,popupOffsetParentScrollLeft:a,popupOffsetParentClientWidth:l,popupClientWidth:d,offset:u,allowOutOfBounds:p=!1})=>{const h={};if("left"===e)h.left=Math.ceil(t-i+(r?0:a)+u[0]);else if("center"===e)h.left=Math.ceil(t-i+(r?0:a)+u[0]+o/2-d/2);else if("end"===e){const e=Math.ceil(n-i+(r?0:a)+u[0]);h.left=e}else h.right=Math.ceil(s-n-(r?0:a)+u[0]);return p||(void 0!==h.left&&(h.left=c(h.left,d,l)),void 0!==h.right&&(h.right=c(h.right,d,l))),h})({placement:b,targetLeft:w,targetRight:S,targetWidth:x,isPopupParentBody:C,popupOffsetParentLeft:v,popupOffsetParentRight:y,popupOffsetParentScrollLeft:p.scrollLeft||0,popupOffsetParentClientWidth:n.offsetParent.clientWidth,popupClientWidth:n.clientWidth||0,offset:i,allowOutOfBounds:a});return d={...d,...j},d}function d(e){return!(!e||!e.offsetParent)}
function u(e){let t=e;if(!t)return!1;for(;t=t.parentElement;){const e=window.getComputedStyle(t);if("scroll"===e.overflow||"scroll"===e.overflowX||"scroll"===e.overflowY||t.classList.contains("fabric-editor-popup-scroll-parent"))return t}return!1}},fwbU:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var o=n("nqdA"),r=n("UxO+"),i="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function s(e){var t,n,o,r,s=e.split(/-(?!$)/),a=s[s.length-1];"Space"==a&&(a=" ");for(var c=0;c<s.length-1;c++){var l=s[c];if(/^(cmd|meta|m)$/i.test(l))r=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))o=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);i?r=!0:n=!0}}return t&&(a="Alt-"+a),n&&(a="Ctrl-"+a),r&&(a="Meta-"+a),o&&(a="Shift-"+a),a}function a(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),
!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function c(e){return new r.Plugin({props:{handleKeyDown:l(e)}})}function l(e){var t=function(e){var t=Object.create(null);for(var n in e)t[s(n)]=e[n];return t}(e);return function(e,n){var r,i=Object(o.b)(n),s=1==i.length&&" "!=i,c=t[a(i,n,!s)];if(c&&c(e.state,e.dispatch,e))return!0;if(s&&(n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(r=o.a[n.keyCode])&&r!=i){var l=t[a(r,n,!0)];if(l&&l(e.state,e.dispatch,e))return!0}else if(s&&n.shiftKey){var d=t[a(i,n,!0)];if(d&&d(e.state,e.dispatch,e))return!0}return!1}}},"g0+v":function(e,t,n){"use strict";var o=n("CWsV"),r=n("AGgm").isSpace;function i(e,t,n,o){var i,s,a,c,l,d,u,p;for(this.src=e,this.md=t,this.env=n,this.tokens=o,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",p=!1,a=c=d=u=0,l=(s=this.src).length;c<l;c++){
if(i=s.charCodeAt(c),!p){if(r(i)){d++,9===i?u+=4-u%4:u++;continue}p=!0}10!==i&&c!==l-1||(10!==i&&c++,this.bMarks.push(a),this.eMarks.push(c),this.tShift.push(d),this.sCount.push(u),this.bsCount.push(0),p=!1,d=0,u=0,a=c+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}i.prototype.push=function(e,t,n){var r=new o(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r},i.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},i.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},i.prototype.skipSpaces=function(e){for(var t,n=this.src.length;e<n&&(t=this.src.charCodeAt(e),r(t));e++);return e},i.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!r(this.src.charCodeAt(--e)))return e+1;return e},
i.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},i.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},i.prototype.getLines=function(e,t,n,o){var i,s,a,c,l,d,u,p=e;if(e>=t)return"";for(d=new Array(t-e),i=0;p<t;p++,i++){for(s=0,u=c=this.bMarks[p],l=p+1<t||o?this.eMarks[p]+1:this.eMarks[p];c<l&&s<n;){if(a=this.src.charCodeAt(c),r(a))9===a?s+=4-(s+this.bsCount[p])%4:s++;else{if(!(c-u<this.tShift[p]))break;s++}c++}d[i]=s>n?new Array(s-n+1).join(" ")+this.src.slice(c,l):this.src.slice(c,l)}return d.join("")},i.prototype.Token=o,e.exports=i},g02o:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M18 5h1a1 1 0 011 1v12a1 1 0 01-1 1h-1a1 1 0 01-1-1V6a1 1 0 011-1zM5 5h9a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorLayoutTwoRightSidebarIcon";var s=i;t.default=s},g2hJ:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p}));var o=n("vN+2"),r=n.n(o);const i={setContextState:e=>({setState:t,getState:n})=>{t({...n(),context:e})},setEditorState:e=>({setState:t,getState:n})=>{t({...n(),editor:e})},setReactionsState:e=>({setState:t,getState:n})=>{t({...n(),reactions:e})}},s={context:{issueAri:null,commentAri:null,projectType:null},editor:{contextIdentifier:null,mentionProvider:null,getEncodedMention:()=>"",activityProvider:null,mediaContext:null,
sharedAtTimestamp:null,sharedValue:void 0,onEditorExpandedFailure:r.a,onEditorSaveFailure:r.a,onEditorClearSharedValues:r.a},reactions:{isActive:!1}},a=Object(n("0b8M").a)({name:"issue-comment",initialState:s,actions:i}),c=Object(n("dq9g").b)(a,{selector:e=>e.context}),l=Object(n("dq9g").b)(a,{selector:e=>e.editor}),d=Object(n("dq9g").b)(a,{selector:e=>e.reactions}),u=Object(n("dq9g").b)(a,{selector:null}),p=Object(n("UCyb").a)(a)},g40J:function(e,t,n){"use strict";function o(e,t){var n,o,r,i,s,a,c,l,d={},u=t.length;if(u){var p=0,h=-2,f=[];for(n=0;n<u;n++)if(r=t[n],f.push(0),t[p].marker===r.marker&&h===r.token-1||(p=n),h=r.token,r.length=r.length||0,r.close){for(d.hasOwnProperty(r.marker)||(d[r.marker]=[-1,-1,-1,-1,-1,-1]),s=d[r.marker][(r.open?3:0)+r.length%3],a=o=p-f[p]-1;o>s;o-=f[o]+1)if((i=t[o]).marker===r.marker&&i.open&&i.end<0&&(c=!1,(i.close||r.open)&&(i.length+r.length)%3==0&&(i.length%3==0&&r.length%3==0||(c=!0)),!c)){l=o>0&&!t[o-1].open?f[o-1]+1:0,f[n]=n-o+l,f[o]=l,
r.open=!1,i.end=n,i.close=!1,a=-1,h=-2;break}-1!==a&&(d[r.marker][(r.open?3:0)+(r.length||0)%3]=a)}}}e.exports=function(e){var t,n=e.tokens_meta,r=e.tokens_meta.length;for(o(0,e.delimiters),t=0;t<r;t++)n[t]&&n[t].delimiters&&o(0,n[t].delimiters)}},gGVL:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var o=n("q1tI");const r=n.n(o).a.createContext({handleArrowLeft:()=>{},handleArrowRight:()=>{},handleTab:()=>{}}),i=({children:e,editorView:t,childComponentSelector:i,handleEscape:a,disableArrowKeyNavigation:c,isShortcutToFocusToolbar:l,editorAppearance:d,useStickyToolbar:u})=>{const p=Object(o.useRef)(null),h=Object(o.useRef)(0),f=Object(o.useCallback)((e=>{let t=0;document.activeElement&&(t=e.indexOf(document.activeElement),t=(t+1)%e.length),h.current=t}),[]),m=Object(o.useCallback)((e=>{let t=0;document.activeElement&&(t=e.indexOf(document.activeElement),t=(e.length+t-1)%e.length),h.current=t}),[]),b=(e,t=!0)=>{
t&&(null==e||e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})),e.focus()},g={handleArrowLeft:()=>{var e;const t=s(null==p?void 0:p.current);m(t),null===(e=t[h.current])||void 0===e||e.focus()},handleArrowRight:()=>{var e;const t=s(null==p?void 0:p.current);f(t),null===(e=t[h.current])||void 0===e||e.focus()},handleTab:()=>{var e;null===(e=s(null==p?void 0:p.current)[h.current])||void 0===e||e.focus()}};return Object(o.useLayoutEffect)((()=>{if(!p.current||c)return;const{current:e}=p,n=e=>{var t,n,o;const r=e.target;if(!r.closest(`${i}`))return;if(null!==(t=document.querySelector('[data-role="droplistContent"], [data-test-id="color-picker-menu"], [data-emoji-picker-container="true"]'))&&void 0!==t&&t.contains(r)||null!==(n=document.querySelector('[data-test-id="color-picker-menu"]'))&&void 0!==n&&n.contains(r)||"ArrowUp"===e.key||"ArrowDown"===e.key||c)return;if(document.querySelector(".menu-key-handler-wrapper"))return;const l=s(null==p?void 0:p.current)
;if(!l||0===(null==l?void 0:l.length))return;null!==(o=p.current)&&void 0!==o&&o.contains(r)?h.current=l.indexOf(r)>-1?l.indexOf(r):h.current:h.current=-1;const g=!("comment"===d&&u);switch(e.key){case"ArrowRight":f(l),b(l[h.current],g),e.preventDefault();break;case"ArrowLeft":m(l),b(l[h.current],g),e.preventDefault();break;case"Escape":a(e)}},o=e=>{if(l(e)){var t,n;const e=s(null==p?void 0:p.current);null===(t=e[0])||void 0===t||t.focus(),null===(n=e[0])||void 0===n||n.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}};null==e||e.addEventListener("keydown",n);const r=null==t?void 0:t.dom;return l&&(null==r||r.addEventListener("keydown",o)),()=>{null==e||e.removeEventListener("keydown",n),l&&(null==r||r.removeEventListener("keydown",o))}}),[h,p,t,c,a,i,f,m,l,d,u]),Object(n("AeFk").jsx)("div",{css:"comment"===d&&n("mw/U").d,className:"custom-key-handler-wrapper",ref:p},Object(n("AeFk").jsx)(r.Provider,{value:g},e))};function s(e){return function(e){if(!e)return[]
;const t=e.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, div[tabindex="-1"], div[tabindex="0"]')||[];return Array.from(t)}(e).filter((e=>!(e.closest('[data-role="droplistContent"]')||e.closest('[data-emoji-picker-container="true"]')||e.closest('[data-test-id="color-picker-menu"]')||e.closest(".scroll-buttons"))))}},gNPE:function(e,t,n){"use strict";var o=n("AGgm").isSpace;function r(e,t){var n=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];return e.src.substr(n,o-n)}function i(e){var t,n=[],o=0,r=e.length,i=!1,s=0,a="";for(t=e.charCodeAt(o);o<r;)124===t&&(i?(a+=e.substring(s,o-1),s=o):(n.push(a+e.substring(s,o)),a="",s=o+1)),i=92===t,o++,t=e.charCodeAt(o);return n.push(a+e.substring(s)),n}e.exports=function(e,t,n,s){var a,c,l,d,u,p,h,f,m,b,g,v,y,O,E,w,S,k;if(t+2>n)return!1;if(p=t+1,e.sCount[p]<e.blkIndent)return!1;if(e.sCount[p]-e.blkIndent>=4)return!1;if((l=e.bMarks[p]+e.tShift[p])>=e.eMarks[p])return!1;if(124!==(S=e.src.charCodeAt(l++))&&45!==S&&58!==S)return!1
;if(l>=e.eMarks[p])return!1;if(124!==(k=e.src.charCodeAt(l++))&&45!==k&&58!==k&&!o(k))return!1;if(45===S&&o(k))return!1;for(;l<e.eMarks[p];){if(124!==(a=e.src.charCodeAt(l))&&45!==a&&58!==a&&!o(a))return!1;l++}for(h=(c=r(e,t+1)).split("|"),b=[],d=0;d<h.length;d++){if(!(g=h[d].trim())){if(0===d||d===h.length-1)continue;return!1}if(!/^:?-+:?$/.test(g))return!1;58===g.charCodeAt(g.length-1)?b.push(58===g.charCodeAt(0)?"center":"right"):58===g.charCodeAt(0)?b.push("left"):b.push("")}if(-1===(c=r(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((h=i(c)).length&&""===h[0]&&h.shift(),h.length&&""===h[h.length-1]&&h.pop(),0===(f=h.length)||f!==b.length)return!1;if(s)return!0;for(O=e.parentType,e.parentType="table",w=e.md.block.ruler.getRules("blockquote"),(m=e.push("table_open","table",1)).map=v=[t,0],(m=e.push("thead_open","thead",1)).map=[t,t+1],(m=e.push("tr_open","tr",1)).map=[t,t+1],d=0;d<h.length;d++)m=e.push("th_open","th",1),
b[d]&&(m.attrs=[["style","text-align:"+b[d]]]),(m=e.push("inline","",0)).content=h[d].trim(),m.children=[],m=e.push("th_close","th",-1);for(m=e.push("tr_close","tr",-1),m=e.push("thead_close","thead",-1),p=t+2;p<n&&!(e.sCount[p]<e.blkIndent);p++){for(E=!1,d=0,u=w.length;d<u;d++)if(w[d](e,p,n,!0)){E=!0;break}if(E)break;if(!(c=r(e,p).trim()))break;if(e.sCount[p]-e.blkIndent>=4)break;for((h=i(c)).length&&""===h[0]&&h.shift(),h.length&&""===h[h.length-1]&&h.pop(),p===t+2&&((m=e.push("tbody_open","tbody",1)).map=y=[t+2,0]),(m=e.push("tr_open","tr",1)).map=[p,p+1],d=0;d<f;d++)m=e.push("td_open","td",1),b[d]&&(m.attrs=[["style","text-align:"+b[d]]]),(m=e.push("inline","",0)).content=h[d]?h[d].trim():"",m.children=[],m=e.push("td_close","td",-1);m=e.push("tr_close","tr",-1)}return y&&(m=e.push("tbody_close","tbody",-1),y[1]=p),m=e.push("table_close","table",-1),v[1]=p,e.parentType=O,e.line=p,!0}},gRli:function(e,t,n){n("aT0f"),n("3+Ww"),n("MBy0"),n("TnF5"),e.exports=n("VSTI").Symbol},
gUca:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("CnBM");const r=n.n(o)()({loader:()=>n.e("@atlaskit-internal_editor-icon-table").then(n.bind(null,"egdi")).then((e=>e.default)),loading:()=>null})},gVP2:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("pVnL"),r=n.n(o),i=n("lSNA"),s=n.n(i),a=n("q1tI"),c=n.n(a);class l{constructor(e,t,o,r,i,a,c,l=!1,d,u=!1){s()(this,"handleRef",(e=>this._handleRef(e))),s()(this,"dispatchAnalyticsEvent",(e=>{if(this.eventDispatcher){Object(n("SMi2").b)(this.eventDispatcher)(n("+WSe").a,{payload:e})}})),this.node=e,this.view=t,this.getPos=o,this.portalProviderAPI=r,this.reactComponentProps=a||{},this.reactComponent=c,this.hasAnalyticsContext=l,this._viewShouldUpdate=d,this.eventDispatcher=i,this.hasIntlContext=u}init(){this.domRef=this.createDomRef(),this.setDomAttrs(this.node,this.domRef);const{dom:e,contentDOM:t}=this.getContentDOM()||{dom:void 0,contentDOM:void 0}
;this.domRef&&e&&(this.domRef.appendChild(e),this.contentDOM=t||e,this.contentDOMWrapper=e||t),this.domRef.classList.add(`${this.node.type.name}View-content-wrap`);const{samplingRate:o,slowThreshold:r,trackingEnabled:i}=Object(n("Cd4y").a)(this.view);return i&&Object(n("Cd4y").b)({nodeTypeName:this.node.type.name}),this.renderReactComponent((()=>this.render(this.reactComponentProps,this.handleRef))),i&&Object(n("Cd4y").c)({nodeTypeName:this.node.type.name,dispatchAnalyticsEvent:this.dispatchAnalyticsEvent,editorState:this.view.state,samplingRate:o,slowThreshold:r}),this}renderReactComponent(e){if(!this.domRef||!e)return;this.portalProviderAPI.render((()=>{var t,o,r;return c.a.createElement(n("KzBb").a,{component:n("+PNV").b.REACT_NODE_VIEW,componentId:null!==(t=null==this||null===(o=this.node)||void 0===o||null===(r=o.type)||void 0===r?void 0:r.name)&&void 0!==t?t:n("+PNV").c.UNKNOWN_NODE,dispatchAnalyticsEvent:this.dispatchAnalyticsEvent},e())
}),this.domRef,this.hasAnalyticsContext,this.hasIntlContext)}createDomRef(){if(!this.node.isInline)return document.createElement("div");return document.createElement("span")}getContentDOM(){}_handleRef(e){const t=this.contentDOMWrapper||this.contentDOM;e&&t&&!e.contains(t)&&e.appendChild(t)}render(e,t){return this.reactComponent?c.a.createElement(this.reactComponent,r()({view:this.view,getPos:this.getPos,node:this.node,forwardRef:t},e)):null}update(e,t,n,o=(()=>!0)){return!(this.node.type!==e.type||!o(this.node,e))&&(this.domRef&&!this.node.sameMarkup(e)&&this.setDomAttrs(e,this.domRef),this.viewShouldUpdate(e)?(this.node=e,this.renderReactComponent((()=>this.render(this.reactComponentProps,this.handleRef))),!0):(this.node=e,!0))}viewShouldUpdate(e){return!this._viewShouldUpdate||this._viewShouldUpdate(e)}setDomAttrs(e,t){Object.keys(e.attrs||{}).forEach((n=>{t.setAttribute(n,e.attrs[n])}))}get dom(){return this.domRef}destroy(){this.domRef&&(this.portalProviderAPI.remove(this.domRef),
this.domRef=void 0,this.contentDOM=void 0)}static fromComponent(e,t,n,o,r,i=!1){return(s,a,c)=>new l(s,a,c,t,n,o,e,!1,r,i).init()}}l.displayName="ReactNodeView"},gbAj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=(e,t)=>(o,r)=>{const i=Object(n("rnvK").a)(o,t,o.selection.from,o.selection.to,e);return!!i&&(r&&r(i),!0)}},gr0J:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return m}));var o=n("UxO+");const r=e=>(t,r)=>{const i=Object(n("CAky").g)(r),{from:s,to:a,head:c}=Object(n("CAky").h)(r,i),l=r.schema.marks.annotation.create({id:e,type:n("yGJy").b.INLINE_COMMENT});let d=Object(n("+U5V").a)(s,a,!1,l,t);return d.setSelection(o.TextSelection.create(d.doc,c)),d},i=(e,t=n("+PNV").f.TOOLBAR)=>(o,r)=>{
const i=Object(n("CAky").f)(e,t)(r);return Object(n("SVcB").a)(r,o,i)},s=(e,t)=>Object(n("SVcB").a)(t,e,{action:n("+PNV").a.INSERTED,actionSubject:n("+PNV").b.ANNOTATION,eventType:n("+PNV").e.TRACK,actionSubjectId:n("+PNV").c.INLINE_COMMENT});var a={addAnnotationMark:r,addInlineComment:e=>(t,o)=>{let a=r(e)(t,o);return a=s(a,o),a=i(!1,n("+PNV").f.TOOLBAR)(a,o),a},addOpenCloseAnalytics:i,addInsertAnalytics:s,addResolveAnalytics:e=>(t,o)=>{const r={action:n("+PNV").a.RESOLVED,actionSubject:n("+PNV").b.ANNOTATION,actionSubjectId:n("+PNV").c.INLINE_COMMENT,eventType:n("+PNV").e.TRACK,attributes:{method:e}};return Object(n("SVcB").a)(o,t,r)}};const c=(e,t)=>{const o={type:n("Qesr").a.UPDATE_INLINE_COMMENT_STATE,data:e},r=Object.values(e).every((e=>e));return t&&r?Object(n("mivK").a)(o,a.addResolveAnalytics(t)):Object(n("mivK").a)(o)},l=()=>Object(n("mivK").a)({type:n("Qesr").a.CLOSE_COMPONENT}),d=()=>Object(n("mivK").a)({type:n("Qesr").a.INLINE_COMMENT_CLEAR_DIRTY_MARK}),u=e=>(t,o)=>{
const{tr:r,selection:{$from:i}}=t,{annotation:s}=t.schema.marks;return!!i.marks().some((e=>e.type===s))&&(r.removeMark(i.start(),i.end(),s.create({id:e,type:n("yGJy").b.INLINE_COMMENT})),o&&o(r),!0)},p=(e,t=n("+PNV").f.TOOLBAR)=>{const o=(e=>t=>(!e||Object(n("CAky").j)(t)===n("nnUN").a.VALID)&&{type:n("Qesr").a.SET_INLINE_COMMENT_DRAFT_STATE,data:{drafting:e,editorState:t}})(e);return Object(n("mivK").a)(o,a.addOpenCloseAnalytics(e,t))},h=e=>Object(n("mivK").a)({type:n("Qesr").a.INLINE_COMMENT_UPDATE_MOUSE_STATE,data:{mouseData:e}}),f=(e,t=n("yGJy").b.INLINE_COMMENT)=>(o,r)=>{const{bookmark:i}=Object(n("CAky").g)(o)||{};return!(!i||!r)&&(t===n("yGJy").b.INLINE_COMMENT&&(e=>Object(n("mivK").a)((t=>({type:n("Qesr").a.ADD_INLINE_COMMENT,data:{drafting:!1,inlineComments:{[e]:!1},selectedAnnotations:[{id:e,type:n("yGJy").b.INLINE_COMMENT}],editorState:t}})),a.addInlineComment(e)))(e)(o,r))},m=e=>Object(n("mivK").a)({type:n("Qesr").a.INLINE_COMMENT_SET_VISIBLE,data:{isVisible:e}})},
gtpc:function(e,t,n){"use strict";function o(e){const t=e.selection,o=Object(n("b+wK").a)(t);if(!o)throw new Error("selectedRect: invalid $pos for selection");const r=o.node(-1),i=o.start(-1),s=n("wYWE").b.get(r);let a;return a=t instanceof n("n1Ll").a?s.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):s.findCell(o.pos-i),a.tableStart=i,a.map=s,a.table=r,a}n.d(t,"a",(function(){return o}))},gu93:function(e,t,n){"use strict";let o,r,i,s;n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s})),function(e){e.BACKWARD="backward",e.FORWARD="forward"}(o||(o={})),function(e){e.JOIN_SIBLINGS="joinSiblings",e.JOIN_DESCENDANT_TO_PARENT="joinDescendantToParent",e.JOIN_TO_SIBLING_DESCENDANT="joinToSiblingDescendant",e.JOIN_PARAGRAPH_WITH_LIST="joinParagraphWithList",e.JOIN_PARENT_SIBLING_TO_PARENT_CHILD="joinParentSiblingToParentChild",e.JOIN_LIST_ITEM_WITH_PARAGRAPH="joinListItemWithParagraph"}(r||(r={})),
function(e){e.NO_JOIN="noJoin",e.JOINED_TO_LIST_ABOVE="joinedToListAbove",e.JOINED_TO_LIST_BELOW="joinedToListBelow"}(i||(i={})),function(e){e.SPLIT_LIST="splitList"}(s||(s={}))},h3Hq:function(t,n,o){var r=o("zBWt")("iterator"),i=!1;try{var s=[7][r]();s.return=function(){i=!0},Array.from(s,(function(){throw 2}))}catch(e){}t.exports=function(t,n){if(!n&&!i)return!1;var o=!1;try{var s=[7],a=s[r]();a.next=function(){return{done:o=!0}},s[r]=function(){return a},t(s)}catch(e){}return o}},hCh4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8 6h4.832C13.908 6 16 6.5 16 9c0 1.333-.333 2.167-1 2.5 1.333.333 2 1.333 2 3 0 .5 0 3.5-4 3.5H8a1 1 0 01-1-1V7a1 1 0 011-1zm1 10h3.5c1 0 2-.25 2-1.5s-1.104-1.5-2-1.5H9v3zm0-4.975h3c.504 0 2 0 2-1.525S12 8 12 8H9v3.025z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorBoldIcon";var s=i;t.default=s},hSri:function(t,n,o){"use strict";o.d(n,"b",(function(){return f})),o.d(n,"a",(function(){return b})),o.d(n,"c",(function(){return g}));var r=o("mG1W"),i=o("MEpN"),s=o("UxO+"),a=o("CsC6");let c;!function(e){e.Before="before",e.After="after"}(c||(c={}));const l=(e,t)=>t.resolve(e.after()).node().lastChild===e.node(),d=(e,t)=>t.resolve(e.before()).node().firstChild===e.node(),u=e=>{const{nodes:t}=e.doc.type.schema;return Object(r.hasParentNodeOfType)([t.orderedList,t.bulletList])(e.selection)
},p=(e,t,n,o,r)=>d(o,e.doc)&&t===c.Before||l(o,e.doc)&&t===c.After?e.insert(n[t](),r):e.insert(o[t](),r),h=(e,t)=>[t.bulletList,t.orderedList,t.panel].includes(e),f=(e,t)=>n=>{var a;const{nodes:f}=n.doc.type.schema,b=[f.rule,f.mediaSingle];if(e instanceof i.Fragment||!b.includes(e.type))return null;if(!n.selection.empty||Object(r.isNodeSelection)(n.selection))return null;const{$from:v}=n.selection,y=t?n.doc.resolve(t):Object(r.isNodeSelection)(n.selection)?n.doc.resolve(v.pos+1):v;let O;const E=y.end(),w=y.start();Object(o("x+VZ").h)(y.parent)?l(y,n.doc)?O=c.After:d(y,n.doc)&&(O=c.Before):y.pos===E?O=c.After:y.pos===w&&(O=c.Before);const S=null===(a=n.selection.$from.node(-1))||void 0===a?void 0:a.type,k=n.selection.$from.parent.type,x=!O&&!g({parentNodeType:k,grandParentNodeType:S,content:e}),C=e.type===f.rule&&(e=>{const{nodes:t}=e.doc.type.schema,n=Object(r.findParentNodeOfType)([t.orderedList,t.bulletList])(e.selection);return!!n&&Object(o("EvmU").c)(e.doc.resolve(n.pos).parent)
})(n),T=!(e.type===f.rule)&&u(n);if(C||x&&T||x&&!u(n))return Object(r.safeInsert)(e,n.selection.from)(n);const{from:j,to:A}=n.selection;if(e.type===f.rule&&u(n)&&y.pos!==E)return n.replaceRange(j,A,new i.Slice(i.Fragment.from(f.rule.createChecked()),0,0));if(!O)return null;if(Object(o("x+VZ").h)(y.parent)&&Object(r.canInsert)(n.doc.resolve(y[O]()),e))return m(n.replaceWith(y.before(),y.after(),e),-1);let N=y;for(;N.depth>0;){const t=n.doc.resolve(N[O]()),o=t.node();if(Object(r.canInsert)(N,e))return m(n.insert(N.pos,e),e.nodeSize);if(h(o.type,n.doc.type.schema.nodes)){const r=m(p(n,O,t,N,e),e.nodeSize);return[f.orderedList,f.bulletList].includes(o.type)&&r?r.setSelection(s.TextSelection.between(r.selection.$from,r.selection.$from)):r}N=t}return m(n.insert(N.pos,e),e.nodeSize)},m=(e,t)=>{const n=e.steps[e.steps.length-1];if(!(n instanceof a.e||n instanceof a.d))return null;const r=n.to+n.slice.openStart+t
;return e.setSelection(new(o("WE2A").a)(e.doc.resolve(r),o("WE2A").c.RIGHT)).scrollIntoView()},b=(t,n={})=>(a,c,l)=>{if(!t)return c;const d=t instanceof i.Fragment;let u;try{u=t instanceof i.Node||d?t:"string"==typeof t?a.schema.text(t):i.Node.fromJSON(a.schema,t)}catch(e){return console.error(e),c}if(u.isText)c=c.replaceWith(l,l,u);else if(u.isBlock){const e=(e=>{const{nodes:t}=e.doc.type.schema;return Object(r.hasParentNodeOfType)(t.panel)(e.selection)})(c);var p;if("rule"!==u.type.name||e)c=Object(r.safeInsert)(Object(o("Gbq5").b)(a,u),void 0,!0)(c);else c=null!==(p=f(u,c.selection.from)(c))&&void 0!==p?p:c}else if(u.isInline||d){const e=d?u:i.Fragment.fromArray([u,a.schema.text(" ")]);c=c.replaceWith(l,l,e),c=n.selectInlineNode?c.setSelection(s.NodeSelection.create(c.doc,l)):c.setSelection(s.Selection.near(c.doc.resolve(l+e.size)))}return c},g=({parentNodeType:e,grandParentNodeType:t,content:n})=>!!("doc"===e.name||"paragraph"===e.name&&t.validContent(i.Fragment.from(n)))},
hXRZ:function(e,t,n){"use strict";var o=n("pVnL"),r=n.n(o),i=n("q1tI"),s=n.n(i);var a=e=>Object(n("AeFk").jsx)("span",{css:n("+OC9").g,className:"emoji-common-deleteButton","data-testid":"render-emoji-delete-button"},Object(n("AeFk").jsx)(n("0+Gd").a,{iconBefore:Object(n("AeFk").jsx)(n.n(n("SEpd")).a,{label:"delete-emoji",primaryColor:"var(--ds-text-subtle, #42526E)",size:"small"}),onClick:e.onClick,appearance:"subtle-link",spacing:"none",testId:"emoji-delete-button",tabIndex:-1}));const c={mac:!1,supportsIntersectionObserver:!1};"undefined"!=typeof navigator&&(c.mac=/Mac/.test(navigator.platform),c.supportsIntersectionObserver="undefined"!=typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype);var l=c;function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},
d.apply(this,arguments)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}var p=new Map,h=new WeakMap,f=0,m=void 0;function b(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return t+"_"+("root"===t?function(e){return e?(h.has(e)||(f+=1,h.set(e,f.toString())),h.get(e)):"0"}(e.root):e[t])})).toString()}function g(e,t,n,o){if(void 0===n&&(n={}),void 0===o&&(o=m),void 0===window.IntersectionObserver&&void 0!==o){var r=e.getBoundingClientRect();return t(o,{isIntersecting:o,target:e,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var i=function(e){var t=b(e),n=p.get(t);if(!n){var o,r=new Map,i=new IntersectionObserver((function(t){t.forEach((function(t){var n,i=t.isIntersecting&&o.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=i),
null==(n=r.get(t.target))||n.forEach((function(e){e(i,t)}))}))}),e);o=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:i,elements:r},p.set(t,n)}return n}(n),s=i.id,a=i.observer,c=i.elements,l=c.get(e)||[];return c.has(e)||c.set(e,l),l.push(t),a.observe(e),function(){l.splice(l.indexOf(t),1),0===l.length&&(c.delete(e),a.unobserve(e)),0===c.size&&(a.disconnect(),p.delete(s))}}var v=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function y(e){return"function"!=typeof e.children}var O=function(e){function t(t){var n;return(n=e.call(this,t)||this).node=null,n._unobserveCb=null,n.handleNode=function(e){n.node&&(n.unobserve(),e||n.props.triggerOnce||n.props.skip||n.setState({inView:!!n.props.initialInView,entry:void 0})),n.node=e||null,n.observeNode()},n.handleChange=function(e,t){e&&n.props.triggerOnce&&n.unobserve(),y(n.props)||n.setState({inView:e,entry:t}),
n.props.onChange&&n.props.onChange(e,t)},n.state={inView:!!t.initialInView,entry:void 0},n}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,u(e,t)}(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())},n.componentWillUnmount=function(){this.unobserve(),this.node=null},n.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,o=e.rootMargin,r=e.trackVisibility,i=e.delay,s=e.fallbackInView;this._unobserveCb=g(this.node,this.handleChange,{threshold:t,root:n,rootMargin:o,trackVisibility:r,delay:i},s)}},n.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},n.render=function(){if(!y(this.props)){var e=this.state,t=e.inView,n=e.entry
;return this.props.children({inView:t,entry:n,ref:this.handleNode})}var o=this.props,r=o.children,s=o.as,a=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(o,v);return i.createElement(s||"div",d({ref:this.handleNode},a),r)},t}(i.Component);O.displayName="InView",O.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};const E=e=>{const t=function(e){var t=void 0===e?{}:e,n=t.threshold,o=t.delay,r=t.trackVisibility,s=t.rootMargin,a=t.root,c=t.triggerOnce,l=t.skip,d=t.initialInView,u=t.fallbackInView,p=i.useRef(),h=i.useState({inView:!!d}),f=h[0],m=h[1],b=i.useCallback((function(e){void 0!==p.current&&(p.current(),p.current=void 0),l||e&&(p.current=g(e,(function(e,t){m({inView:e,entry:t}),t.isIntersecting&&c&&p.current&&(p.current(),p.current=void 0)}),{root:a,rootMargin:s,threshold:n,trackVisibility:r,delay:o},u))}),[Array.isArray(n)?n.toString():n,a,s,c,l,r,u,o]);Object(i.useEffect)((function(){
p.current||!f.entry||c||l||m({inView:!!d})}));var v=[b,f.inView,f.entry];return v.ref=v[0],v.inView=v[1],v.entry=v[2],v}(e);return l.supportsIntersectionObserver?t:[void 0,!0]},w=function(e,t){const n=t.replace(/Mod/i,"Ctrl"),o=t.replace(/Mod/i,"Cmd");return function(e,t,n,o){return{description:e,windows:t.replace(/Mod/i,"Ctrl"),mac:n.replace(/Mod/i,"Cmd"),common:o}}(e,n,o,t)}("Backspace","Backspace");const S={ARROWLEFT:"\u2190",ARROWRIGHT:"\u2192",ARROWUP:"\u2191",ARROWDOWN:"\u2193"};const k=s.a.memo((({description:e,shortcutOverride:t,keymap:o})=>{const r=t||o&&function(e){let t;t=l.mac?e.mac.replace(/Cmd/i,"\u2318").replace(/Shift/i,"\u21e7").replace(/Ctrl/i,"\u2303").replace(/Alt/i,"\u2325").replace(/Backspace/i,"\u232b").replace(/Enter/i,"\u23ce"):e.windows.replace(/Backspace/i,"\u232b");const n=t.split("-");let o=n[n.length-1];return 1===o.length&&(o=o.toUpperCase()),n[n.length-1]=S[o.toUpperCase()]||o,n.join(l.mac?"":"+")}(o)
;return r||e?Object(n("AeFk").jsx)(i.Fragment,null,e,r&&e&&"\xa0",r&&Object(n("AeFk").jsx)("span",{css:n("+OC9").L},r)):null})),x=()=>{const{formatMessage:e}=Object(n("3NU0").a)();return s.a.createElement(k,{description:e(n("dBbw").a.deleteEmojiTooltip),keymap:w})},C=({emoji:e})=>s.a.createElement(n("mAJD").a,{id:`screenreader-emoji-${e.id}`},s.a.createElement(n("3e7Q").a,r()({},n("dBbw").a.deleteEmojiTooltipForScreenreader,{values:{shortName:e.shortName}}))),T=(e,t)=>{const{emoji:o,onDelete:r}=e;r&&r(Object(n("l4Cm").q)(o),o,t)},j=e=>{const{emoji:t,fitToHeight:o,selected:i,selectOnHover:s,className:a}=e,c=t.representation,l=c.sprite,d=`emoji-common-node ${i?"emoji-common-selected":""} ${s?"emoji-common-select-on-hover":""} ${a||""}`;let u={};o&&(u={width:`${o}px`,height:`${o}px`,minHeight:`${o}px`,minWidth:`${o}px`});const p=100/(l.column-1)*(c.xIndex-0),h=100/(l.row-1)*(c.yIndex-0),f={backgroundImage:`url(${l.url})`,backgroundPosition:`${p}% ${h}%`,
backgroundSize:`${100*l.column}% ${100*l.row}%`,...u};return Object(n("AeFk").jsx)(N,r()({},e,{type:"sprite",className:d}),Object(n("AeFk").jsx)("span",{className:"emoji-common-emoji-sprite",style:f},"\xa0"))},A=e=>{const{emoji:t,fitToHeight:o,selected:s,selectOnHover:c,className:d,showDelete:u,onLoadSuccess:p,disableLazyLoad:h,autoWidth:f}=e,[m,b]=E({triggerOnce:!0}),g=Object(n("xFh9").c)(t),v=`emoji-common-main-styles emoji-common-node ${s?"emoji-common-selected":""} ${c?"emoji-common-select-on-hover":""} emoji-common-emoji-image ${d||""} ${u?"emoji-common-deletable":""}`;let y,O,w;const S=Object(n("g7XK").d)(t,o)?t.altRepresentation:t.representation;Object(n("l4Cm").i)(S)?(w=S.imagePath,y=S.width,O=S.height):Object(n("l4Cm").l)(S)&&(w=S.mediaPath,y=S.width,O=S.height);let k={};o&&y&&O&&(k={width:f?"auto":o/O*y,height:o});const j=Object(i.useCallback)((()=>{Object(n("xFh9").a)(g,n("DhJ/").e.ONLOAD_START)||g.mark(n("DhJ/").e.ONLOAD_START)}),[g]);Object(i.useEffect)((()=>{b&&j()
}),[b,j]);const A=Object(n("AeFk").jsx)("img",r()({loading:h?"eager":"lazy",src:w,key:w,alt:t.shortName,"data-emoji-short-name":t.shortName,"data-emoji-id":t.id,"data-emoji-text":t.fallback||t.shortName,className:"emoji",style:{visibility:"visible"},onError:t=>{((e,t)=>{const{emoji:o,onLoadError:r}=e;t.target&&(t.target.style.visibility="hidden");r&&r(Object(n("l4Cm").q)(o),o,t)})(e,t)},onLoad:()=>{const e=g.metrics.marks.find((e=>e.name===n("DhJ/").e.MOUNTED_END));Object(n("xFh9").a)(g,n("DhJ/").e.ONLOAD_START)||g.mark(n("DhJ/").e.ONLOAD_START,null==e?void 0:e.time);const o=g.metrics.marks.find((e=>e.name===n("DhJ/").e.ONLOAD_START));e&&o&&g.addMetadata({lazyLoad:o.time>e.time}),Object(n("xFh9").a)(g,n("DhJ/").e.ONLOAD_END)||g.mark(n("DhJ/").e.ONLOAD_END),g.success({metadata:{IBSupported:l.supportsIntersectionObserver}}),p&&p(t)}},k));return u?Object(n("AeFk").jsx)(n("Yto1").a,{content:Object(n("AeFk").jsx)(x,null),position:"right-start",tag:"span"},Object(n("AeFk").jsx)(N,r()({},e,{
"aria-labelledby":`screenreader-emoji-${t.id}`,type:"image",className:v,ref:m,showTooltip:!1,onMouseOver:e=>{var t;null!==(t=document.activeElement)&&void 0!==t&&t.contains(e.target)||e.stopPropagation()}}),A,Object(n("AeFk").jsx)(a,{onClick:t=>T(e,t)}),Object(n("AeFk").jsx)(C,{emoji:t}))):Object(n("AeFk").jsx)(N,r()({},e,{type:"image",className:v,ref:m}),A)},N=Object(i.forwardRef)(((e,t)=>{const{emoji:o,fitToHeight:i,selected:s,selectOnHover:a,className:c,showTooltip:l,showDelete:d,shouldBeInteractive:u=!1,tabIndex:p,onSelected:h,onMouseMove:f,onFocus:m,onDelete:b,onLoadError:g,onLoadSuccess:v,disableLazyLoad:y,autoWidth:O,children:E,type:w,...S}=e;return Object(n("AeFk").jsx)("span",r()({ref:t,"data-testid":`${w}-emoji-${o.shortName}`,"data-emoji-type":w,tabIndex:u?p||0:void 0,role:u?"button":"img",css:"sprite"===w?n("+OC9").w:n("+OC9").p,className:c,onKeyDown:t=>((e,t)=>{if(!n("W+Fu").c.includes(t.key))return;t.preventDefault(),t.stopPropagation()
;const{emoji:o,onSelected:r,showDelete:i}=e;!r||t.key!==n("W+Fu").d.Enter&&t.key!==n("W+Fu").d.Space||r(Object(n("l4Cm").q)(o),o,t),i&&t.key===n("W+Fu").d.Backspace&&T(e,t)})(e,t),onMouseDown:t=>{((e,t)=>{if(t.target instanceof Element&&"delete-emoji"===t.target.getAttribute("aria-label"))return;const{emoji:o,onSelected:r}=e;t.preventDefault(),r&&Object(n("M3Ny").a)(t)&&r(Object(n("l4Cm").q)(o),o,t)})(e,t)},onMouseEnter:t=>{((e,t)=>{const{emoji:o,onMouseMove:r}=e;r&&r(Object(n("l4Cm").q)(o),o,t)})(e,t)},onFocus:t=>{((e,t)=>{const{emoji:o,onFocus:r}=e;r&&r(Object(n("l4Cm").q)(o),o,t)})(e,t)},"aria-label":o.shortName,title:l?o.shortName:void 0},S),E)}));t.a=e=>{const{emoji:t}=e;return Object(n("aQUV").a)(n("xFh9").d["emoji-rendered"].getInstance(t.id||t.shortName),20,{source:"Emoji",emojiId:t.id}),Object(i.useEffect)((()=>{const e=Object(n("xFh9").c)(t);Object(n("xFh9").a)(e,"fmp")||e.markFMP(),Object(n("xFh9").a)(e,n("DhJ/").e.MOUNTED_END)||e.mark(n("DhJ/").e.MOUNTED_END)}),[]),
Object(n("l4Cm").o)(t.representation)?Object(n("AeFk").jsx)(j,e):Object(n("AeFk").jsx)(A,e)}},hdVq:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return p}));var o=n("DZdY");const r="\n  & > span {\n    height: 16px;\n    width: 14px;\n    position: absolute;\n    top: 0;\n    left: 0;\n    line-height: 14px;\n    & > svg {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n    }\n  }\n",i="\n  & > * > span {\n    height: 16px;\n    width: 14px;\n    position: absolute;\n    top: 0;\n    left: 0;\n    & > svg {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n    }\n  }\n",s=Object(o.a)("span",{target:"e7rhd3u8"})("user-select:none;",i," ",r,";"),a=Object(o.a)("span",{
target:"e7rhd3u7"})("display:inline-block;margin-right:2px;user-select:none;",i," ",r,";"),c=Object(o.a)("span",{target:"e7rhd3u6"})({name:"1h3cbh4",styles:"white-space:pre-wrap;word-break:break-all"}),l=Object(o.a)("span",{target:"e7rhd3u3"})({name:"1rs2rm7",styles:"margin-left:2px;margin-right:4px;position:relative;display:inline-block"}),d=Object(o.a)("span",{target:"e7rhd3u2"})({name:"sowgxi",styles:"margin-right:4px;position:relative;display:inline-block"}),u=Object(o.a)("span",{target:"e7rhd3u1"})({name:"vehdi",styles:"width:14px;height:100%;display:inline-block;opacity:0"}),p=Object(o.a)("span",{target:"e7rhd3u0"})({name:"a7ew19",styles:"::selection{background:none;}"})},heda:function(e,t,n){var o=n("GhSp"),r=n("d+lc"),i=n("mHY4");e.exports=n("C61u")?Object.defineProperties:function(e,t){r(e);for(var n,s=i(t),a=s.length,c=0;a>c;)o.f(e,n=s[c++],t[n]);return e}},hlZK:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}))
;const o=(e,t)=>(e=e.setMeta(n("AVf+").a,!0),!!t&&(t(e),!0)),r=(e,t)=>{t(e=e.setMeta(n("AVf+").a,!1))}},hmSr:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const o={nodes:{doc:"doc",paragraph:"p",text:"t",bulletList:"ul",orderedList:"ol",listItem:"li",heading:"h",blockquote:"blockq",codeBlock:"codebl",panel:"pnl",rule:"rl",hardBreak:"br",mention:"ment",emoji:"emj",image:"img",caption:"cap",media:"media",mediaGroup:"mediag",mediaSingle:"medias",plain:"pln",table:"table",tableCell:"td",tableHeader:"th",tableRow:"tr",decisionList:"dl",decisionItem:"di",taskList:"tl",taskItem:"ti",extension:"ext",inlineExtension:"exti",bodiedExtension:"extb",status:"sts",placeholder:"plh",inlineCard:"cardi",blockCard:"cardb",embedCard:"carde",expand:"exp",nestedExpand:"expn",unsupportedBlock:"unsupb",unsupportedInline:"unsupi",unknownBlock:"unkb",date:"date"},marks:{em:"em",strong:"strong",code:"code",strike:"strike",underline:"undline",link:"lnk",subsup:"subsup",textColor:"txtclr",
unsupportedMark:"unsupmrk",unsupportedNodeAttribute:"unsupnattr",annotation:"anno"}};function r(e,t){const n=o[t?"marks":"nodes"][e];return n||e}function i(e){var t;const n=!e.content,o="text"===(null==e?void 0:e.type),s=null===(t=e.marks)||void 0===t?void 0:t.length,a=Array.isArray(e.content);let c;return o?c=String(e.nodeSize):n?c="":a&&(c=e.content.map((e=>i(e))).join(",")),(t=>s?e.marks.reduce(((e,t)=>`${r(t,!0)}(${e})`),t):t)(`${r(e.type,!1)}(${c})`)}const s=(e,t)=>{try{const n=a(e,0);return null!=t&&t.compact?i(n):n}catch(n){return`Error logging document structure: ${n}`}},a=(e,t)=>{const n={type:e.type.name,pos:t,nodeSize:e.nodeSize},o=c(e.content,t);o.length>0&&(n.content=o);const r=d(e);return r.length>0&&(n.marks=r),n},c=(e,t)=>{if(!e||!e.content||!e.content.length)return[];let n=[];const{content:o}=e;if(o[0].isBlock){let e;n=o.map((n=>(t+=e?e.nodeSize:1,e=n,a(n,t))))}else{const e=l(o,t);n=e.inlineNodes,t=e.pos}return n},l=(e,t)=>({inlineNodes:e.map((e=>{
const{nodeSize:n}=e,o={type:e.type.name,pos:t,nodeSize:n},r=d(e);return r.length>0&&(o.marks=r),t+=n,o})),pos:t}),d=e=>e.marks.map((e=>e.type.name))},hrq7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5a1 1 0 011 1v12a1 1 0 01-2 0V6a1 1 0 011-1zm4 0h6a1 1 0 011 1v12a1 1 0 01-1 1H9a1 1 0 01-1-1V6a1 1 0 011-1zm10 0a1 1 0 011 1v12a1 1 0 01-2 0V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorLayoutThreeWithSidebarsIcon";var s=i;t.default=s},hyZr:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return k}));var o=200,r=function(){};r.prototype.append=function(e){
return e.length?(e=r.from(e),!this.length&&e||e.length<o&&this.leafAppend(e)||this.length<o&&e.leafPrepend(this)||this.appendInner(e)):this},r.prototype.prepend=function(e){return e.length?r.from(e).append(this):this},r.prototype.appendInner=function(e){return new s(this,e)},r.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?r.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},r.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},r.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},r.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var o=[];return this.forEach((function(t,n){return o.push(e(t,n))}),t,n),o},r.from=function(e){return e instanceof r?e:e&&e.length?new i(e):r.empty};var i=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),
t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,o){for(var r=t;r<n;r++)if(!1===e(this.values[r],o+r))return!1},t.prototype.forEachInvertedInner=function(e,t,n,o){for(var r=t-1;r>=n;r--)if(!1===e(this.values[r],o+r))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=o)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=o)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(r);r.empty=new i([]);var s=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,
this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,o){var r=this.left.length;return!(t<r&&!1===this.left.forEachInner(e,t,Math.min(n,r),o))&&(!(n>r&&!1===this.right.forEachInner(e,Math.max(t-r,0),Math.min(this.length,n)-r,o+r))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,o){var r=this.left.length;return!(t>r&&!1===this.right.forEachInvertedInner(e,t-r,Math.max(n,r)-r,o+r))&&(!(n<r&&!1===this.left.forEachInvertedInner(e,Math.min(t,r),n,o))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length
;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(r),a=r,c=n("CsC6"),l=n("UxO+"),d=function(e,t){this.items=e,this.eventCount=t};d.prototype.popEvent=function(e,t){var n=this;if(0==this.eventCount)return null;for(var o,r,i=this.items.length;;i--){if(this.items.get(i-1).selection){--i;break}}t&&(o=this.remapping(i,this.items.length),r=o.maps.length);var s,a,c=e.tr,l=[],p=[];return this.items.forEach((function(e,t){if(!e.step)return o||(o=n.remapping(i,t+1),r=o.maps.length),r--,void p.push(e);if(o){p.push(new u(e.map));var h,f=e.step.map(o.slice(r))
;f&&c.maybeStep(f).doc&&(h=c.mapping.maps[c.mapping.maps.length-1],l.push(new u(h,null,null,l.length+p.length))),r--,h&&o.appendMap(h,r)}else c.maybeStep(e.step);return e.selection?(s=o?e.selection.map(o.slice(r)):e.selection,a=new d(n.items.slice(0,i).append(p.reverse().concat(l)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:c,selection:s}},d.prototype.addTransform=function(e,t,n,o){for(var r=[],i=this.eventCount,s=this.items,a=!o&&s.length?s.get(s.length-1):null,c=0;c<e.steps.length;c++){var l,p=e.steps[c].invert(e.docs[c]),f=new u(e.mapping.maps[c],p,t);(l=a&&a.merge(f))&&(f=l,c?r.pop():s=s.slice(0,s.length-1)),r.push(f),t&&(i++,t=null),o||(a=f)}var m=i-n.depth;return m>h&&(s=function(e,t){var n;return e.forEach((function(e,o){if(e.selection&&0==t--)return n=o,!1})),e.slice(n)}(s,m),i-=m),new d(s.append(r),i)},d.prototype.remapping=function(e,t){var n=new c.b;return this.items.forEach((function(t,o){
var r=null!=t.mirrorOffset&&o-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:null;n.appendMap(t.map,r)}),e,t),n},d.prototype.addMaps=function(e){return 0==this.eventCount?this:new d(this.items.append(e.map((function(e){return new u(e)}))),this.eventCount)},d.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],o=Math.max(0,this.items.length-t),r=e.mapping,i=e.steps.length,s=this.eventCount;this.items.forEach((function(e){e.selection&&s--}),o);var a=t;this.items.forEach((function(t){var o=r.getMirror(--a);if(null!=o){i=Math.min(i,o);var c=r.maps[o];if(t.step){var l=e.steps[o].invert(e.docs[o]),d=t.selection&&t.selection.map(r.slice(a+1,o));d&&s++,n.push(new u(c,l,d))}else n.push(new u(c))}}),o);for(var c=[],l=t;l<i;l++)c.push(new u(r.maps[l]));var p=this.items.slice(0,o).append(c).append(n),h=new d(p,s);return h.emptyItemCount()>500&&(h=h.compress(this.items.length-n.length)),h},d.prototype.emptyItemCount=function(){var e=0;return this.items.forEach((function(t){
t.step||e++})),e},d.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,o=[],r=0;return this.items.forEach((function(i,s){if(s>=e)o.push(i),i.selection&&r++;else if(i.step){var a=i.step.map(t.slice(n)),c=a&&a.getMap();if(n--,c&&t.appendMap(c,n),a){var l=i.selection&&i.selection.map(t.slice(n));l&&r++;var d,p=new u(c.invert(),a,l),h=o.length-1;(d=o.length&&o[h].merge(p))?o[h]=d:o.push(p)}}else i.map&&n--}),this.items.length,0),new d(a.from(o.reverse()),r)},d.empty=new d(a.empty,0);var u=function(e,t,n,o){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=o};u.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new u(t.getMap().invert(),t,this.selection)}};var p=function(e,t,n,o){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=o},h=20;function f(e){var t=[];return e.forEach((function(e,n,o,r){return t.push(o,r)})),t}function m(e,t){if(!e)return null
;for(var n=[],o=0;o<e.length;o+=2){var r=t.map(e[o],1),i=t.map(e[o+1],-1);r<=i&&n.push(r,i)}return n}function b(e,t,n,o){var r=y(t),i=E.get(t).spec.config,s=(o?e.undone:e.done).popEvent(t,r);if(s){var a=s.selection.resolve(s.transform.doc),c=(o?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,r),l=new p(o?c:s.remaining,o?s.remaining:c,null,0);n(s.transform.setSelection(a).setMeta(E,{redo:o,historyState:l}).scrollIntoView())}}var g=!1,v=null;function y(e){var t=e.plugins;if(v!=t){g=!1,v=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){g=!0;break}}return g}function O(e){return e.setMeta(w,!0)}var E=new l.PluginKey("history"),w=new l.PluginKey("closeHistory");function S(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new l.Plugin({key:E,state:{init:function(){return new p(d.empty,d.empty,null,0)},apply:function(t,n,o){return function(e,t,n,o){var r,i=n.getMeta(E);if(i)return i.historyState
;n.getMeta(w)&&(e=new p(e.done,e.undone,null,0));var s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(E))return s.getMeta(E).redo?new p(e.done.addTransform(n,null,o,y(t)),e.undone,f(n.mapping.maps[n.steps.length-1]),e.prevTime):new p(e.done,e.undone.addTransform(n,null,o,y(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(r=n.getMeta("rebased"))?new p(e.done.rebased(n,r),e.undone.rebased(n,r),m(e.prevRanges,n.mapping),e.prevTime):new p(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),m(e.prevRanges,n.mapping),e.prevTime);var a=0==e.prevTime||!s&&(e.prevTime<(n.time||0)-o.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach((function(e,o){for(var r=0;r<t.length;r+=2)e<=t[r+1]&&o>=t[r]&&(n=!0)})),n}(n,e.prevRanges)),c=s?m(e.prevRanges,n.mapping):f(n.mapping.maps[n.steps.length-1])
;return new p(e.done.addTransform(n,a?t.selection.getBookmark():null,o,y(t)),d.empty,c,n.time)}(n,o,t,e)}},config:e})}function k(e,t){var n=E.getState(e);return!(!n||0==n.done.eventCount)&&(t&&b(n,e,t,!1),!0)}function x(e,t){var n=E.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&b(n,e,t,!0),!0)}},"i/+K":function(e,t,n){"use strict";var o=n("pVnL"),r=n.n(o);const i=Object(n("AeFk").css)("height:",90,"px;margin:0 auto var(--ds-space-300, 24px);display:block;");t.a=e=>{const t="link-picker-ui-generic-error-svg";return Object(n("AeFk").jsx)("svg",r()({height:"90",viewBox:"0 0 164 212",fill:"none",xmlns:"http://www.w3.org/2000/svg",css:i},e),Object(n("AeFk").jsx)("path",{
d:"m95.43 74.16 66.44 115.08c5.84 10.12-1.46 22.76-13.14 22.76H15.85c-11.68 0-18.98-12.65-13.14-22.76L69.15 74.16c5.84-10.12 20.44-10.12 26.28 0Zm-7.56 83.55 2.88-44.35c.34-5.29-3.86-9.78-9.16-9.78-5.31 0-9.51 4.48-9.16 9.78l2.88 44.35a6.3 6.3 0 0 0 6.28 5.89c3.31 0 6.06-2.58 6.28-5.89Zm-15.84 23.54c0 5.66 4.76 10.1 10.39 9.58 4.85-.45 8.73-4.5 8.83-9.37.11-5.45-4.31-9.94-9.73-9.94-5.23-.01-9.49 4.37-9.49 9.73Z",fill:`url(#${t})`}),Object(n("AeFk").jsx)("path",{opacity:".6",d:"M93.35 27.17 85.94.45c-.17-.62-1.07-.58-1.19.05l-4.66 25.1-5.8-1.08a.612.612 0 0 0-.7.76L81 52c.17.62 1.07.58 1.19-.05l4.66-25.1 5.8 1.08c.45.08.82-.33.7-.76ZM66.77 41.81 55.9 33.26c-.22-.18-.53.07-.41.33l5.53 11.43-2.66 1.29c-.18.09-.2.33-.05.45l10.87 8.55c.22.18.53-.07.41-.33l-5.53-11.43 2.66-1.29c.17-.08.2-.33.05-.45Z",fill:"#C1C7D0"}),Object(n("AeFk").jsx)("path",{opacity:".6",
d:"M102.78 56.75a.993.993 0 0 1-.92-1.38c-.24-.77-2.29-2.85-3.54-4.11-2.97-3.01-4.93-5-3.84-6.49 1.09-1.48 3.58-.22 7.35 1.7 1.32.67 3.35 1.7 4.45 2.03-.64-.95-2.24-2.58-3.28-3.63-2.97-3.01-4.93-5-3.84-6.49 1.08-1.48 3.58-.22 7.34 1.7 1.32.67 3.34 1.7 4.45 2.03-.64-.95-2.24-2.57-3.28-3.62-2.97-3.01-4.93-5-3.84-6.49 1.08-1.48 3.57-.22 7.34 1.7 1.58.8 4.18 2.13 4.98 2.13a1.005 1.005 0 0 1 1.46 1.36c-1.09 1.48-3.57.22-7.34-1.7-1.32-.67-3.34-1.7-4.44-2.03.64.95 2.24 2.57 3.28 3.62 2.97 3.01 4.93 5 3.84 6.49-1.08 1.48-3.57.22-7.34-1.7-1.32-.67-3.35-1.7-4.45-2.03.64.95 2.24 2.57 3.28 3.63 2.97 3.01 4.93 5 3.84 6.49-1.09 1.48-3.58.22-7.35-1.7-1.32-.67-3.35-1.71-4.45-2.03.64.95 2.24 2.58 3.28 3.63 2.97 3.01 4.93 5 3.84 6.49-.21.26-.51.4-.82.4Zm5.56 14.32c-.35 0-.69-.19-.88-.52-1.04-1.88-2.22-4.02-.91-5.21 1.31-1.2 3.34.18 5.49 1.63.87.59 2.26 1.53 2.93 1.71-.12-.68-.93-2.15-1.45-3.07-1.26-2.27-2.45-4.41-1.14-5.61 1.31-1.2 3.34.18 5.49 1.63.96.65 2.54 1.72 3.1 1.74a1 1 0 0 1 1.27 1.54c-1.31 1.2-3.34-.17-5.49-1.63-.87-.59-2.26-1.53-2.93-1.71.12.68.93 2.15 1.45 3.07 1.26 2.27 2.45 4.41 1.14 5.61-1.31 1.2-3.34-.18-5.49-1.63-.87-.59-2.26-1.53-2.93-1.71.12.68.93 2.14 1.22 2.67.27.48.09 1.09-.39 1.36-.15.09-.32.13-.48.13Zm-54.32-2.89c-.22 0-.44-.04-.67-.14-1.64-.69-1.24-3.11-.81-5.67.17-1.04.45-2.7.33-3.38-.57.39-1.56 1.75-2.18 2.6-1.53 2.09-2.99 4.07-4.62 3.38a.991.991 0 0 1-.53-1.31c.2-.48.73-.72 1.21-.57.52-.21 1.65-1.75 2.34-2.68 1.53-2.09 2.98-4.08 4.62-3.38 1.64.69 1.24 3.11.81 5.67-.17 1.04-.45 2.7-.33 3.38.57-.39 1.56-1.75 2.18-2.6 1.53-2.09 2.98-4.08 4.62-3.38 1.63.69 1.24 3.09.89 5.21-.09.54-.6.91-1.15.83-.54-.09-.92-.6-.83-1.15.1-.59.37-2.24.26-2.92-.57.39-1.56 1.75-2.18 2.6-1.33 1.79-2.59 3.51-3.96 3.51Z",
fill:"#B3BAC5"}),Object(n("AeFk").jsx)("defs",null,Object(n("AeFk").jsx)("linearGradient",{id:t,x1:"26.169",y1:"228.621",x2:"138.408",y2:"116.382",gradientUnits:"userSpaceOnUse"},Object(n("AeFk").jsx)("stop",{stopColor:"#C1C7D0"}),Object(n("AeFk").jsx)("stop",{offset:".297",stopColor:"#C6CBD4",stopOpacity:".881"}),Object(n("AeFk").jsx)("stop",{offset:".63",stopColor:"#D3D7DE",stopOpacity:".748"}),Object(n("AeFk").jsx)("stop",{offset:".98",stopColor:"#E9EBEF",stopOpacity:".608"}),Object(n("AeFk").jsx)("stop",{offset:"1",stopColor:"#EBECF0",stopOpacity:".6"}))))}},i11D:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return g}));var o=n("q1tI"),r=n.n(o),i=n("CnBM"),s=n.n(i)
;const a=e=>!!e.data,c=e=>e.isDefaultPrevented()&&(l()||d(e)||u(e)),l=()=>window.parent!==parent,d=e=>e.metaKey||e.ctrlKey,u=e=>1===e.button,p=e=>{if(!e)return;let t=h[e.toLowerCase()];if(!t)return;const[n,o]=t;if(!o)return;const i=s()({loader:()=>o().then((e=>e.default)),loading:()=>null});return r.a.createElement(i,{label:n,testId:"document-file-format-icon"})},h={"text/plain":["Document",()=>n.e("d966fbcdac01bd57e32b6a7372769da7").then(n.t.bind(null,"svbg",7))],"application/vnd.oasis.opendocument.text":["Document",()=>n.e("d966fbcdac01bd57e32b6a7372769da7").then(n.t.bind(null,"svbg",7))],"application/vnd.apple.pages":["Document",()=>n.e("d966fbcdac01bd57e32b6a7372769da7").then(n.t.bind(null,"svbg",7))],"application/vnd.google-apps.document":["Google Doc",()=>n.e("glyphGoogleDocs").then(n.t.bind(null,"d6Yr",7))],"application/msword":["Word document",()=>n.e("glyphMSWord").then(n.t.bind(null,"uCD0",7))],
"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["Word document",()=>n.e("glyphMSWord").then(n.t.bind(null,"uCD0",7))],"application/pdf":["PDF document",()=>n.e("glyphPDF").then(n.t.bind(null,"3+y3",7))],"application/vnd.oasis.opendocument.spreadsheet":["Spreadsheet",()=>n.e("glyphSpreadsheet").then(n.t.bind(null,"y6tK",7))],"application/vnd.apple.numbers":["Spreadsheet",()=>n.e("glyphSpreadsheet").then(n.t.bind(null,"y6tK",7))],"application/vnd.google-apps.spreadsheet":["Google Sheet",()=>n.e("glyphGoogleSheets").then(n.t.bind(null,"SLnJ",7))],"application/vnd.ms-excel":["Excel spreadsheet",()=>n.e("glyphMSExcel").then(n.t.bind(null,"ZSps",7))],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["Excel spreadsheet",()=>n.e("glyphMSExcel").then(n.t.bind(null,"ZSps",7))],"application/vnd.oasis.opendocument.presentation":["Presentation",()=>n.e("glyphPresentation").then(n.t.bind(null,"aZcv",7))],
"application/vnd.apple.keynote":["Presentation",()=>n.e("glyphPresentation").then(n.t.bind(null,"aZcv",7))],"application/vnd.google-apps.presentation":["Google Slide",()=>n.e("glyphGoogleSlides").then(n.t.bind(null,"H66B",7))],"application/vnd.ms-powerpoint":["PowerPoint presentation",()=>n.e("glyphMSPowerpoint").then(n.t.bind(null,"Q0ec",7))],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["PowerPoint presentation",()=>n.e("glyphMSPowerpoint").then(n.t.bind(null,"Q0ec",7))],"application/vnd.google-apps.form":["Google Form",()=>n.e("glyphGoogleForms").then(n.t.bind(null,"Iq0V",7))],"image/png":["Image",()=>n.e("glyphImage").then(n.t.bind(null,"bmt9",7))],"image/jpeg":["Image",()=>n.e("glyphImage").then(n.t.bind(null,"bmt9",7))],"image/bmp":["Image",()=>n.e("glyphImage").then(n.t.bind(null,"bmt9",7))],"image/webp":["Image",()=>n.e("glyphImage").then(n.t.bind(null,"bmt9",7))],"image/svg+xml":["Image",()=>n.e("glyphImage").then(n.t.bind(null,"bmt9",7))],
"image/gif":["GIF",()=>n.e("glyphGIF").then(n.t.bind(null,"Ejqn",7))],"audio/midi":["Audio",()=>n.e("glyphAudio").then(n.t.bind(null,"6+Ua",7))],"audio/mpeg":["Audio",()=>n.e("glyphAudio").then(n.t.bind(null,"6+Ua",7))],"audio/webm":["Audio",()=>n.e("glyphAudio").then(n.t.bind(null,"6+Ua",7))],"audio/ogg":["Audio",()=>n.e("glyphAudio").then(n.t.bind(null,"6+Ua",7))],"audio/wav":["Audio",()=>n.e("glyphAudio").then(n.t.bind(null,"6+Ua",7))],"video/mp4":["Video",()=>n.e("glyphVideo").then(n.t.bind(null,"l37K",7))],"video/quicktime":["Video",()=>n.e("glyphVideo").then(n.t.bind(null,"l37K",7))],"video/mov":["Video",()=>n.e("glyphVideo").then(n.t.bind(null,"l37K",7))],"video/webm":["Video",()=>n.e("glyphVideo").then(n.t.bind(null,"l37K",7))],"video/ogg":["Video",()=>n.e("glyphVideo").then(n.t.bind(null,"l37K",7))],"video/x-ms-wmv":["Video",()=>n.e("glyphVideo").then(n.t.bind(null,"l37K",7))],"video/x-msvideo":["Video",()=>n.e("glyphVideo").then(n.t.bind(null,"l37K",7))],
"application/zip":["Archive",()=>n.e("glyphArchive").then(n.t.bind(null,"oDpv",7))],"application/x-tar":["Archive",()=>n.e("glyphArchive").then(n.t.bind(null,"oDpv",7))],"application/x-gtar":["Archive",()=>n.e("glyphArchive").then(n.t.bind(null,"oDpv",7))],"application/x-7z-compressed":["Archive",()=>n.e("glyphArchive").then(n.t.bind(null,"oDpv",7))],"application/x-apple-diskimage":["Archive",()=>n.e("glyphArchive").then(n.t.bind(null,"oDpv",7))],"application/vnd.rar":["Archive",()=>n.e("glyphArchive").then(n.t.bind(null,"oDpv",7))],"application/dmg":["Executable",()=>n.e("glyphExecutable").then(n.t.bind(null,"36tD",7))],"text/css":["Source Code",()=>n.e("glyphCode").then(n.t.bind(null,"n4ZL",7))],"text/html":["Source Code",()=>n.e("glyphCode").then(n.t.bind(null,"n4ZL",7))],"application/javascript":["Source Code",()=>n.e("glyphCode").then(n.t.bind(null,"n4ZL",7))],"application/octet-stream":["Binary file",()=>n.e("glyphFile").then(n.t.bind(null,"31zB",7))],
"application/invision.prototype":["Prototype",()=>n.e("glyphFile").then(n.t.bind(null,"31zB",7))],"application/sketch":["Sketch",()=>n.e("glyphSketch").then(n.t.bind(null,"z0B1",7))],folder:["Folder",()=>n.e("glyphFolder").then(n.t.bind(null,"zoW8",7))]},f=e=>e?void 0:"allow-downloads allow-forms allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts",m=e=>t=>{t.preventDefault(),t.stopPropagation(),e()},b=()=>"undefined"!=typeof IntersectionObserver,g=async(e,t=2,n=500)=>{try{return await e()}catch(o){if("ChunkLoadError"===o.name&&t>0)return await(e=>new Promise((t=>setTimeout(t,e))))(n),g(e,t-1,n);throw o}}},i2bo:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),s=n.n(i),a=n("DZdY");const c=Object(a.a)("span",{target:"ezeotau0"})("line-height:16px;padding:2px 4px 2px 4px;box-decoration-break:clone;display:inline;border-radius:",Object(n("7w+A").borderRadius)(),"px;color:",Object(n("56zV").a)({
light:"var(--ds-text, #091E42)",dark:"var(--ds-text, #B8C7E0)"}),";background-color:",Object(n("56zV").a)({light:"var(--ds-background-neutral, rgba(9, 30, 66, 0.08))",dark:"var(--ds-background-neutral, #455166)"}),";",(e=>(({isSelected:e})=>e?"\n  cursor: pointer;\n  box-shadow: 0 0 0 1px var(--ds-border-selected, #0065FF);\n  outline: none;\n  user-select: none;\n  border-color: transparent;\n  &, :hover, :focus, :active {\n    text-decoration: none;\n  }\n":"user-select: text")(e)),";transition:0.1s all ease-in-out;-moz-user-select:none;cursor:pointer;&:hover{background-color:",Object(n("56zV").a)({light:"var(--ds-background-neutral-hovered, rgba(9, 30, 66, 0.13))",dark:"var(--ds-background-neutral-hovered, #313D52)"}),";}");class l extends s.a.Component{constructor(...e){super(...e),r()(this,"handleClick",(e=>{const{onClick:t}=this.props;t&&(e.preventDefault(),e.stopPropagation(),t(e))})),r()(this,"handleKeyPress",(e=>{if(" "!==e.key&&"Enter"!==e.key)return
;const{onClick:t}=this.props;t&&(e.preventDefault(),e.stopPropagation(),t(e))})),r()(this,"handleMouseDown",(e=>{e.preventDefault()}))}render(){const{isSelected:e,children:t,onClick:n,testId:o}=this.props,r=Boolean(n);return s.a.createElement(c,{isSelected:e,tabIndex:r?0:void 0,role:r?"button":void 0,onClick:this.handleClick,onMouseDown:this.handleMouseDown,onKeyPress:this.handleKeyPress,"data-testid":o},t)}}l.displayName="Frame"},i6fy:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));const o=new(n("UxO+").PluginKey)("compositionPlugin"),r=e=>o.getState(e).isComposing;t.a=()=>new(n("KkS8").a)({key:o,state:{init:()=>({isComposing:!1}),apply:(e,t)=>{const n=e.getMeta(o);return void 0===n?t:{isComposing:n}}},props:{handleDOMEvents:{compositionstart:(e,t)=>{const{tr:n}=e.state;return n.setMeta(o,!0),e.dispatch(n),!1},compositionend:(e,t)=>{const{tr:n}=e.state;return n.setMeta(o,!1),e.dispatch(n),!1}}}})},iBAD:function(e,t,n){"use strict";function o(e,t,n){
return e.filter((e=>-1===t.findIndex((t=>n?n(e,t):e===t))))}function r(e,t){return e.filter(((e,n,o)=>o.findIndex((n=>t?t(e,n):e===n))===n))}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}))},iCc5:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},iCnE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M10.208 7.308a1.09 1.09 0 010 1.483l-3.515 3.71 3.515 3.708a1.09 1.09 0 010 1.483.957.957 0 01-1.405 0l-3.866-4.08a1.635 1.635 0 010-2.225l3.866-4.08a.957.957 0 011.405 0zm3.584 0a.957.957 0 011.405 0l3.866 4.08c.583.614.583 1.61 0 2.225l-3.866 4.08a.957.957 0 01-1.405 0 1.09 1.09 0 010-1.484l3.515-3.708-3.515-3.71a1.09 1.09 0 010-1.483z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorCodeIcon";var s=i;t.default=s},"iZ5/":function(e,t,n){var o=n("BRsN");e.exports=function(e,t,n){for(var r in t)n&&e[r]?e[r]=t[r]:o(e,r,t[r]);return e}},ifNk:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var o=n("UxO+");const r=e=>t=>{const{triggerHandler:o,inputMethod:r,query:i}=e;t.setMeta(n("yUK8").a,{action:n("Y+O0").a.OPEN_TYPEAHEAD_AT_CURSOR,params:{triggerHandler:o,inputMethod:r,query:i}})
},i=({triggerHandler:e,inputMethod:t,query:i})=>s=>{r({triggerHandler:e,inputMethod:t,query:i})(s);const{selection:a}=s;if(!(a instanceof o.TextSelection||a instanceof n("WE2A").a))return s;if(a instanceof n("WE2A").a)s.insertText(" "),s.delete(s.selection.from-1,s.selection.from);else{var c,l,d,u;if(!a.$cursor)return s.deleteSelection(),s;const e=a.$cursor.pos,t=s.doc.nodeAt(e),o=t&&"placeholder"===t.type.name;t&&o&&s.delete(e,e+t.nodeSize),n("j5wO").a.chrome&&n("j5wO").a.android&&e>2&&null!=a&&null!==(c=a.$head)&&void 0!==c&&null!==(l=c.parent)&&void 0!==l&&l.textContent&&null!==(d=(u=a.$head.parent.textContent).endsWith)&&void 0!==d&&d.call(u,"@")&&s.delete(e-1,e)}return s}},ifif:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n("Novn");!function(e){e.resourceOwner="ecosystem",e.appResourceType="app",e.environmentResourceType="environment",e.extensionGroupResourceType="extension-group",e.extensionResourceType="extension",
e.appFamilyResourceTypes=[e.appResourceType,e.environmentResourceType,e.extensionGroupResourceType,e.extensionResourceType]}(t.AppFamilyAri||(t.AppFamilyAri={}));class r extends Error{constructor(e,t){super(e),this.cause=t}}t.AppFamilyAriError=r;t.NotAppFamilyAriError=class extends r{constructor(e,t){super(`ari is not a valid App family ari: ${e.toString()} as ${t}`),this.reason=t}};t.NotExpectedAppFamilyAriTypeError=class extends r{constructor(e,t,n){super(`App family ari (${t.toString()}) is not of expected type: ${e}`,n),this.cause=n}},t.parseAppAri=function(e){return o.AppFamilyAriImpl.parse(e)},t.createAppAri=function(e){return new o.AppFamilyAriImpl(e)}},ig3W:function(e,t){e.exports={}},"ijE+":function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},ik3n:function(e,t,n){"use strict";n.d(t,"a",(function(){
return o}));const o=new(n("UxO+").PluginKey)("findReplace")},iuhU:function(e,t,n){"use strict";function o(e){var t,n,r="";if(e)if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=o(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(n=o(t))&&(r&&(r+=" "),r+=n);else"boolean"==typeof e||e.call||(r&&(r+=" "),r+=e);return r}n.r(t),t.default=function(){for(var e,t=0,n="";t<arguments.length;)(e=o(arguments[t++]))&&(n&&(n+=" "),n+=e);return n}},iwHK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("pVnL"),r=n.n(o);n("q1tI");function i({nodeViewParams:e,pmPluginFactoryParams:t,Component:o,extraComponentProps:i}){let a=e.node,c=document.createElement("span");function l(e){t.eventDispatcher.emit(n("+WSe").a,{payload:e})}function d(){t.portalProviderAPI.render(function({dispatchAnalyticsEvent:e,currentNode:t,nodeViewParams:o,Component:i,extraComponentProps:s}){return function(){var a,c;return Object(n("AeFk").jsx)(n("KzBb").a,{
component:n("+PNV").b.REACT_NODE_VIEW,componentId:null!==(a=null==t||null===(c=t.type)||void 0===c?void 0:c.name)&&void 0!==a?a:n("+PNV").c.UNKNOWN_NODE,dispatchAnalyticsEvent:e},Object(n("AeFk").jsx)("span",{"aria-hidden":"true",className:"zeroWidthSpaceContainer"},Object(n("AeFk").jsx)("span",{className:"inlineNodeViewAddZeroWidthSpace"}),n("vNjH").b),Object(n("AeFk").jsx)(i,r()({view:o.view,getPos:o.getPos,node:t},s)),Object(n("AeFk").jsx)("span",{"aria-hidden":"true",className:"inlineNodeViewAddZeroWidthSpace"}))}}({dispatchAnalyticsEvent:l,currentNode:a,nodeViewParams:e,Component:o,extraComponentProps:i}),c,!1,!0)}c.contentEditable="false",s(e.node,c),c.classList.add(`${e.node.type.name}View-content-wrap`,"inlineNodeView");const{samplingRate:u,slowThreshold:p,trackingEnabled:h}=Object(n("Cd4y").a)(e.view);h&&Object(n("Cd4y").b)({nodeTypeName:a.type.name}),d(),h&&Object(n("Cd4y").c)({nodeTypeName:a.type.name,dispatchAnalyticsEvent:l,editorState:e.view.state,samplingRate:u,
slowThreshold:p});return{get dom(){return c},update:(e,t)=>a.type===e.type&&(a.sameMarkup(e)||s(e,c),a=e,d(),!0),destroy(){t.portalProviderAPI.remove(c),c=void 0}}}function s(e,t){Object.keys(e.attrs||{}).forEach((n=>{t.setAttribute(n,e.attrs[n])}))}function a({pmPluginFactoryParams:e,Component:t,extraComponentProps:n}){return function(...o){return i({nodeViewParams:{node:o[0],view:o[1],getPos:o[2],decorations:o[3]},pmPluginFactoryParams:e,Component:t,extraComponentProps:n})}}},ixoo:function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},j0F9:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var o=n("mG1W");const r=["center","wide","full-width"],i=["wrap-left","wrap-right"],s=(e,t)=>{if("number"!=typeof t||isNaN(t)||!e)return!1
;const n=e.state.doc.resolve(t),{expand:r,nestedExpand:i,layoutColumn:s}=e.state.schema.nodes;return!!Object(o.findParentNodeOfTypeClosestToPos)(n,[r,i,s])},a=(e,t,o=12,i,s)=>{let a=t.width;const c=t.layout,l=r.indexOf(c)>-1,d=r.indexOf(e)>-1,u=n("zaYB").e.indexOf(e)>-1,p=n("zaYB").e.indexOf(c)>-1;if(l&&Object(n("zaYB").d)(e,i,s))(!a||a>=100||"center"!==c)&&(a=50);else if(e!==c&&["full-width","wide"].indexOf(c)>-1)a=void 0;else if(a){const e=Math.round(a/100*o);let t=e;p&&d?(t=2*Math.floor(t/2),a=void 0):l&&u&&(e<=1?t=2:e>=o&&(t=10)),t!==e&&(a=t/o*100)}return{...t,layout:e,width:a}};function c({$pos:e,akEditorWideLayoutWidth:t,allowBreakoutSnapPoints:o,containerWidth:r,gridSize:i,gridWidth:s,insideInlineLike:a,insideLayout:c,isVideoFile:l,lineLength:d,offsetLeft:u,wrappedLayout:p}){const h=[];for(let g=0;g<s;g++){const e=Object(n("Qvlh").c)(g,d,s);h.push(c?e:e-u)}h.push(d-u);const f=p||a?1:2,m=Object(n("Qvlh").c)(f,d,i);let b=h.filter((e=>e>=m));if(!e)return b
;b=l?b.filter((e=>e>320)):b;if("doc"===e.parent.type.name&&o){b.push(t);const e=r-n("anI9").e;e>t&&b.push(e)}return b=b.sort(((e,t)=>e-t)),b}},j28F:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const o={name:"bp6sai",styles:"a.blockLink{display:block;}"};const r=Object(n("AeFk").css)(".ProseMirror{",o,";}"),i={name:"1ixuqoh",styles:"clip:rect(1px, 1px, 1px, 1px);clip-path:inset(50%);height:1px;width:1px;margin:-1px;overflow:hidden;padding:0;position:absolute"}},j3Is:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),s=n.n(i),a=n("TSYQ"),c=n.n(a),l=n("WGjm");const d=(e,t)=>t.length?Math.min(Math.max(e,t[0]),t[t.length-1]):e;class u extends s.a.Component{constructor(...e){super(...e),r()(this,"resizable",s.a.createRef()),r()(this,"state",{isResizing:!1}),r()(this,"handleResizeStart",(e=>{const{innerPadding:t=0,highlights:o,displayGrid:r,layout:i,width:s,snapPoints:a}=this.props
;e.preventDefault(),this.setState({isResizing:!0},(()=>{const e=o(s+t,a);r(e.length>0,Object(n("/OWP").c)(i),e)}))})),r()(this,"handleResize",((e,t,o,r)=>{const{highlights:i,calcNewSize:s,scaleFactor:a,snapPoints:c,displayGrid:l,layout:u,updateSize:p,innerPadding:h=0}=this.props,f=this.resizable.current,{isResizing:m}=this.state;if(!f||!f.state.original||!m)return;const b=d(f.state.original.width+r.width*(a||1),c),g=s(b+h,!1);g.layout!==u&&p(g.width,g.layout);const v=i(b,c);l(v.length>0,Object(n("/OWP").c)(g.layout),v),f.updateSize({width:b,height:"auto"}),f.setState({isResizing:!0})})),r()(this,"handleResizeStop",((e,t,o,r)=>{const{highlights:i,calcNewSize:s,snapPoints:a,displayGrid:c,layout:l,updateSize:u,dispatchAnalyticsEvent:p,nodeType:h}=this.props,f=this.resizable.current,{isResizing:m}=this.state;if(!f||!f.state.original||!m)return;const b=d(f.state.original.width+r.width,a),g=s(Object(n("GD2S").c)(b,a),!0),v=i(b,a);p&&p(((e,t,o)=>{
const r="embed"===e?n("+PNV").b.EMBEDS:n("+PNV").b.MEDIA_SINGLE;return{action:n("+PNV").a.EDITED,actionSubject:r,actionSubjectId:n("+PNV").c.RESIZED,attributes:{size:t,layout:o},eventType:n("+PNV").e.UI}})(h,g.width,g.layout)),c(v.length>0,Object(n("/OWP").c)(g.layout),v),this.setState({isResizing:!1},(()=>{u(g.width,g.layout),c(!1,Object(n("/OWP").c)(l))}))}))}render(){const e={},t={},o={},{innerPadding:r=0,width:i,pctWidth:a,selected:d,layout:u,enable:p,children:h,ratio:f,handleComponentFunc:m}=this.props,{isResizing:b}=this.state;n("GD2S").a.forEach((i=>{t[i]=`richMedia-resize-handle-${i}`,e[i]={width:"24px",[i]:-13-r+"px",zIndex:n("anI9").Z,pointerEvents:"auto"};const s=m&&m(i);s&&(o[i]=s)}));const g=c()(n("EcU6").b,`image-${u}`,this.props.className,{"is-resizing":b,"not-resized":!a,"richMedia-selected":d,"rich-media-wrapped":"wrap-left"===u||"wrap-right"===u});let v;return f&&(v={position:"absolute",width:"100%",paddingBottom:`${f}%`,top:0,pointerEvents:"none"}),
s.a.createElement(l.Resizable,{ref:this.resizable,size:{width:i,height:"auto"},className:g,handleClasses:t,handleStyles:e,handleWrapperStyle:v,handleComponent:o,enable:p,onResize:this.handleResize,onResizeStop:this.handleResizeStop,onResizeStart:this.handleResizeStart},h)}}u.displayName="Resizer"},j4JT:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>(t,o)=>{if(n("yUK8").a.getState(t).selectedIndex===e)return!1;const r=t.tr;return r.setMeta(n("yUK8").a,{action:n("Y+O0").a.UPDATE_SELECTED_INDEX,params:{selectedIndex:e}}),o&&o(r),!0}},j6jG:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var o,r=!("undefined"==typeof window||!window.document||!window.document.createElement);function i(e){if((!o&&0!==o||e)&&r){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),o=t.offsetWidth-t.clientWidth,
document.body.removeChild(t)}return o}},jSih:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("q1tI"),r=n.n(o),i=n("3zPy"),s=n.n(i);class a extends o.Component{constructor(...e){super(...e),this.setRef=e=>{this.ref=e},this.ref=void 0,this.handleKeyDown=e=>{switch(e.keyCode){case s()("up"):this.props.onArrowUp&&(this.props.onArrowUp(e),e.stopPropagation());break;case s()("down"):this.props.onArrowDown&&(this.props.onArrowDown(e),e.stopPropagation());break;case s()("left"):this.props.onArrowLeft&&(this.props.onArrowLeft(e),e.stopPropagation());break;case s()("right"):this.props.onArrowRight&&(this.props.onArrowRight(e),e.stopPropagation())}}}componentDidMount(){this.ref&&this.ref.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){this.ref&&this.ref.removeEventListener("keydown",this.handleKeyDown)}render(){return r.a.createElement("div",{ref:this.setRef},this.props.children)}}a.displayName="ArrowKeysHandler",a.defaultProps={onArrowUp:null,
onArrowDown:null,onArrowLeft:null,onArrowRight:null}},jdz0:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a}));const o={FILE_NAME:"fileName",FILE_SIZE:"fileSize",UPLOAD_TIME:"uploadTime",PREVIEW:"preview"},r={FILE_NAME:o.FILE_NAME,FILE_SIZE:o.FILE_SIZE,UPLOAD_TIME:o.UPLOAD_TIME},i={JSM:"JSM",JSW:"JSW"},s="ASC",a=r.UPLOAD_TIME},jeRt:function(e,t,n){"use strict";n.d(t,"b",(function(){return k}));var o=n("q1tI"),r=n.n(o),i=n("UxO+"),s=n("mG1W"),a=n("u6S6"),c=n.n(a);const l=e=>{const{onConfirm:t,onClose:o,options:i,intl:{formatMessage:s},testId:a}=e,c=(null==i?void 0:i.title)||s(n("aNc4").a.confirmModalDefaultHeading),l=(null==i?void 0:i.okButtonLabel)||s(n("aNc4").a.confirmModalOK),d=(null==i?void 0:i.cancelButtonLabel)||s(n("aNc4").a.confirmModalCancel);return r.a.createElement(n("xGEt").a,{onClose:o,testId:a
},r.a.createElement(n("S5I1").default,null,r.a.createElement(n("AFFc").default,{appearance:"warning"},c)),r.a.createElement(n("65si").default,null,r.a.createElement("p",null,null==i?void 0:i.message)),r.a.createElement(n("dtdJ").default,null,r.a.createElement(n("340+").a,{appearance:"default",onClick:o,testId:a?`${a}-cancel-button`:void 0},d),r.a.createElement(n("340+").a,{appearance:"warning",onClick:()=>{t(),o()},testId:a?`${a}-confirm-button`:void 0},l)))};var d=n("pVnL"),u=n.n(d);const p=e=>{var t
;const[i,s]=Object(o.useState)(!1),{onConfirm:a,onClose:c,options:l,intl:{formatMessage:d},testId:p}=e,h=(null==l?void 0:l.title)||d(n("aNc4").a.confirmModalDefaultHeading),f=(null==l?void 0:l.okButtonLabel)||d(n("aNc4").a.confirmModalOK),m=(null==l?void 0:l.cancelButtonLabel)||d(n("aNc4").a.confirmModalCancel),b=null==l?void 0:l.checkboxLabel,g=null==l||null===(t=l.getChildrenInfo)||void 0===t?void 0:t.call(l),v=({nodes:e})=>0===e.length?null:r.a.createElement("ul",null,e.map((e=>r.a.createElement(y,u()({},e,{key:e.id}))))),y=e=>{const{id:t,name:o,amount:i}=e;return r.a.createElement("li",{id:t},d(n("aNc4").a.confirmModalListUnit,{name:o,amount:i}))};return r.a.createElement(n("xGEt").a,{onClose:c,testId:p},r.a.createElement(n("S5I1").default,null,r.a.createElement(n("AFFc").default,{appearance:"warning"},h)),r.a.createElement(n("65si").default,null,r.a.createElement("p",null,null==l?void 0:l.message),!(null==g||!g.length)&&r.a.createElement(v,{nodes:g
}),r.a.createElement("p",null,r.a.createElement(n("epHX").a,{isChecked:i,onChange:()=>s(!i),label:b,testId:p?`${p}-checkbox`:void 0}))),r.a.createElement(n("dtdJ").default,null,r.a.createElement(n("340+").a,{appearance:"default",onClick:c,testId:p?`${p}-cancel-button`:void 0},m),r.a.createElement(n("340+").a,{appearance:"warning",onClick:()=>{a(i),c()},testId:p?`${p}-confirm-button`:void 0},f)))},h=Object(n("o5hF").c)((e=>{const{options:t}=e;return t?r.a.createElement(n("GPgl").a,null,((t=!1)=>t?r.a.createElement(p,e):r.a.createElement(l,e))(null==t?void 0:t.isReferentialityDialog)):null}));var f=n("CnBM");const m=n.n(f)()({loader:()=>n.e("@atlaskit-internal_editor-core-floating-toolbar").then(n.bind(null,"T4a7")).then((e=>e.default)),loading:()=>null});function b(e){return function(t,o){const r=t.tr.selection.$head.parent.maybeChild(t.tr.selection.$head.index());if(!r)return!1;if(o){const i=Object(n("yXll").b)(r,t.schema);if(i){
const t=document.createElement("div"),o=document.createElement("p");t.appendChild(o),o.appendChild(i),t.firstChild.setAttribute("data-pm-slice","1 1 []");const r=i.getAttribute("href");Object(n("xNKs").a)(t,"link"===e.name&&r?r:void 0)}const s=t.tr;s.setMeta(n("W4JY").a,{copied:!0});const a=Object(n("74Zc").b)(t,n("+PNV").a.COPIED);a&&(a.attributes.inputMethod=n("+PNV").f.FLOATING_TB,a.attributes.markType=e.name,Object(n("SVcB").a)(t,s,a)),o(s)}return!0}}function g(e){return function(t,o){const r=t.tr;return r.setMeta(n("W4JY").a,{showSelection:!0,markType:e}),o&&o(r),!0}}function v(e,t){const o=e.tr;o.setMeta(n("W4JY").a,{removeSelection:!0});const r=n("W4JY").a.getState(e);return null!=r&&r.copied&&o.setMeta(n("W4JY").a,{copied:!1}),t&&t(o),!0}const y=e=>(t,o)=>{const{tr:r,schema:i}=t;let s=Object(n("yXll").a)({nodeType:e,selection:r.selection});if(!s)return!1;const a=r;a.setMeta(n("W4JY").a,{copied:!0});const c=Object(n("74Zc").b)(t,n("+PNV").a.COPIED)
;if(c&&(c.attributes.inputMethod=n("+PNV").f.FLOATING_TB,c.attributes.nodeType=s.node.type.name,Object(n("SVcB").a)(t,a,c)),o){const e=Object(n("yXll").b)(s.node,i);if(e){const t=document.createElement("div");t.appendChild(e),s.node.type.inlineContent?t.firstChild.setAttribute("data-pm-slice","1 1 []"):t.firstChild.setAttribute("data-pm-slice","0 0 []"),Object(n("xNKs").a)(t)}a.setMeta("scrollIntoView",!1),o(a)}return!0},O=(e,t)=>(o,r)=>{let i=o.tr;const s=e=>{i=e};t?t(o,s):Object(n("lgPy").d)(e,!1)(o,s);const a=n("W4JY").a.getState(o);return null!=a&&a.copied&&i.setMeta(n("W4JY").a,{copied:!1}),r&&r(i),!0};function E(e){return t=>t.flatMap((t=>"copy-button"===t.type?null!=t&&t.hidden||!(e=>e&&e.plugins.find((e=>e.key===n("W4JY").a.key)))(e)?[]:null==t?void 0:t.items.map((e=>function(e){return"separator"===(null==e?void 0:e.type)}(e)?e:function(e){const{state:t,formatMessage:o,onMouseEnter:r,onMouseLeave:i,onFocus:s,onBlur:a}=e,c=n("W4JY").a.getState(t);let l;return l=function(e){
return"nodeType"in e&&void 0!==e.nodeType}(e)?{onClick:y(e.nodeType),onMouseEnter:r||Object(n("lgPy").d)(e.nodeType,!0,"ak-editor-selected-node"),onFocus:s||Object(n("lgPy").d)(e.nodeType,!0,"ak-editor-selected-node"),onMouseLeave:O(e.nodeType,i),onBlur:O(e.nodeType,a)}:{onClick:b(e.markType),onMouseEnter:g(e.markType),onFocus:g(e.markType),onMouseLeave:v,onBlur:v},{id:"editor.floatingToolbar.copy",type:"button",appearance:"subtle",icon:n.n(n("JyIQ")).a,title:o(null!=c&&c.copied?n("yYBl").a.copiedToClipboard:n("yYBl").a.copyToClipboard),...l,hideTooltipOnClick:!1,tabIndex:null}}(e))):[t]))}const w=(e,t)=>{try{return Object(s.findDomRefAtPos)(e.state.selection.from,e.domAtPos.bind(e))}catch(o){if(console.warn(o),t){t({action:n("+PNV").a.ERRORED,actionSubject:n("+PNV").b.CONTENT_COMPONENT,eventType:n("+PNV").e.OPERATIONAL,attributes:{component:n("+PNV").d.FLOATING_TOOLBAR,selection:e.state.selection.toJSON(),position:e.state.selection.from,docSize:e.state.doc.nodeSize,error:o.toString(),
errorStack:o.stack||void 0}})}}};function S(e){return!!e}t.a=(e,t)=>{var o,a;const l=(null==t||null===(o=t.dependencies)||void 0===o||null===(a=o.featureFlags)||void 0===a?void 0:a.sharedState.currentState())||{};return{name:"floatingToolbar",pmPlugins:(e=[])=>[{name:"floatingToolbar",plugin:({dispatch:t,providerFactory:o,getIntl:r})=>function(e){const{floatingToolbarHandlers:t,dispatch:o,providerFactory:r,getIntl:a}=e,c=a(),l=e=>{const o=t.map((t=>t(e,c,r))).filter(S).map((e=>function(e){if(Array.isArray(e.nodeType))return{...e,nodeType:e.nodeType.filter(S)};return e}(e)));return o&&((e,t)=>{let o;if(t.find((t=>{const n=Object(s.findSelectedNodeOfType)(t.nodeType)(e);return n&&(o={node:n.node,pos:n.pos,config:t}),!!n})),o)return o;const r={};t.forEach((e=>{Array.isArray(e.nodeType)?e.nodeType.forEach((t=>{r[t.name]=e})):r[e.nodeType.name]=e}));const{$from:a}=e;for(let n=a.depth;n>0;n--){const e=a.node(n),t=r[e.type.name];if(t)return{config:t,node:e,pos:a.pos}}
if(e instanceof i.AllSelection){const e=a.node(0);let t=null;const o=Object(n("+w+L").b)(e,(e=>(t=r[e.type.name],!!t)));if(o&&t)return{config:t,node:o,pos:a.pos}}})(e.selection,o)},d=(e,t)=>{const n={getConfigWithNodeInfo:l};return o(k,n),n};return new(n("KkS8").a)({key:k,state:{init:()=>(m.preload(),{getConfigWithNodeInfo:l}),apply:d}})}({floatingToolbarHandlers:e,dispatch:t,providerFactory:o,getIntl:r})},{name:"floatingToolbarData",plugin:({dispatch:e})=>(e=>new(n("KkS8").a)({state:Object(n("bmZU").b)(e,{}),key:n("dHhq").a}))(e)},{name:"forceFocus",plugin:()=>Object(n("EHlN").b)()}],contentComponent:({popupsMountPoint:e,popupsBoundariesElement:t,popupsScrollableElement:o,editorView:i,providerFactory:s,dispatchAnalyticsEvent:a})=>r.a.createElement(n("fd7e").a,{plugins:{floatingToolbarState:k,floatingToolbarData:n("dHhq").a,editorDisabledPlugin:n("QNcB").b,extensionsState:n("JE3G").a},render:({editorDisabledPlugin:d,floatingToolbarState:u,floatingToolbarData:p,extensionsState:f})=>{
var b,g;const v=null==u?void 0:u.getConfigWithNodeInfo(i.state);if(!v||!v.config||void 0!==(null===(b=v.config)||void 0===b?void 0:b.visible)&&(null===(g=v.config)||void 0===g||!g.visible))return null;const{config:y,node:O}=v,{title:S,getDomRef:k=w,items:x,align:C="center",className:T="",height:j,width:A,zIndex:N,offset:I=[0,12],forcePlacement:P,preventPopupOverflow:M,onPositionCalculated:R,focusTrap:_}=y,L=k(i,a);if(!L||d&&d.editorDisabled)return null;let D;const F=E(i.state)(Array.isArray(x)?x:x(O));R&&(D=e=>R(i,e));const B=e=>e&&e(i.state,i.dispatch,i),{confirmDialogForItem:V}=p||{},z=V?F[V]:void 0,H=l.floatingToolbarCopyButton&&y.scrollable,U="function"==typeof(null==z?void 0:z.confirmDialog)?null==z?void 0:z.confirmDialog():null==z?void 0:z.confirmDialog;return r.a.createElement(n("KzBb").a,{component:n("+PNV").b.FLOATING_TOOLBAR_PLUGIN,componentId:c()(S),dispatchAnalyticsEvent:a,fallbackComponent:null},r.a.createElement(n("poXX").a,{ariaLabel:S,offset:I,target:L,alignY:"bottom",
forcePlacement:P,fitHeight:j,fitWidth:A,alignX:C,stick:!0,zIndex:N,mountTo:e,boundariesElement:t,scrollableElement:o,onPositionCalculated:D,style:H?{maxWidth:"100%"}:{},focusTrap:_,preventOverflow:M},r.a.createElement(m,{target:L,items:F,node:O,dispatchCommand:B,editorView:i,className:T,focusEditor:()=>i.focus(),providerFactory:s,popupsMountPoint:e,popupsBoundariesElement:t,popupsScrollableElement:o,dispatchAnalyticsEvent:a,extensionsProvider:null==f?void 0:f.extensionProvider,scrollable:H,featureFlags:l})),r.a.createElement(h,{testId:"ak-floating-toolbar-confirmation-modal",options:U,onConfirm:(e=!1)=>{U.onConfirm?B(U.onConfirm(e)):B(z.onClick)},onClose:()=>{B(Object(n("36yd").a)()),i.hasFocus()||i.focus()}}))}})}};const k=new i.PluginKey("floatingToolbarPluginKey")},jlxs:function(e,t,n){var o=n("7whZ").navigator;e.exports=o&&o.userAgent||""},jo6Y:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={}
;for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}},jp2e:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s}));const o="var(--ds-border, #DFE1E6)",r="var(--ds-border, #DFE1E6)",i="var(--ds-background-neutral-subtle-hovered, #EBECF0)",s="var(--ds-background-neutral, #EBECF0)"},jssz:function(t,n,o){var r=o("7whZ"),i=o("vOBO").set,s=r.MutationObserver||r.WebKitMutationObserver,a=r.process,c=r.Promise,l="process"==o("TYje")(a);t.exports=function(){var t,n,o,d=function(){var r,i;for(l&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(e){throw t?o():n=void 0,e}}n=void 0,r&&r.enter()};if(l)o=function(){a.nextTick(d)};else if(!s||r.navigator&&r.navigator.standalone)if(c&&c.resolve){var u=c.resolve(void 0);o=function(){u.then(d)}}else o=function(){i.call(r,d)};else{var p=!0,h=document.createTextNode("");new s(d).observe(h,{
characterData:!0}),o=function(){h.data=p=!p}}return function(e){var r={fn:e,next:void 0};n&&(n.next=r),t||(t=r,o()),n=r}}},jzd5:function(e,t,n){"use strict";var o={};function r(e,t){var n;return"string"!=typeof t&&(t=r.defaultChars),n=function(e){var t,n,r=o[e];if(r)return r;for(r=o[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),r.push(n);for(t=0;t<e.length;t++)r[n=e.charCodeAt(t)]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return r}(t),e.replace(/(%[a-f0-9]{2})+/gi,(function(e){var t,o,r,i,s,a,c,l="";for(t=0,o=e.length;t<o;t+=3)(r=parseInt(e.slice(t+1,t+3),16))<128?l+=n[r]:192==(224&r)&&t+3<o&&128==(192&(i=parseInt(e.slice(t+4,t+6),16)))?(l+=(c=r<<6&1984|63&i)<128?"\ufffd\ufffd":String.fromCharCode(c),t+=3):224==(240&r)&&t+6<o&&(i=parseInt(e.slice(t+4,t+6),16),s=parseInt(e.slice(t+7,t+9),16),128==(192&i)&&128==(192&s))?(l+=(c=r<<12&61440|i<<6&4032|63&s)<2048||c>=55296&&c<=57343?"\ufffd\ufffd\ufffd":String.fromCharCode(c),t+=6):240==(248&r)&&t+9<o&&(i=parseInt(e.slice(t+4,t+6),16),
s=parseInt(e.slice(t+7,t+9),16),a=parseInt(e.slice(t+10,t+12),16),128==(192&i)&&128==(192&s)&&128==(192&a))?((c=r<<18&1835008|i<<12&258048|s<<6&4032|63&a)<65536||c>1114111?l+="\ufffd\ufffd\ufffd\ufffd":(c-=65536,l+=String.fromCharCode(55296+(c>>10),56320+(1023&c))),t+=9):l+="\ufffd";return l}))}r.defaultChars=";/?:@&=+$,#",r.componentChars="",e.exports=r},kAIj:function(t,n,o){"use strict";o.d(n,"d",(function(){return d})),o.d(n,"b",(function(){return c})),o.d(n,"a",(function(){return l}));var r=o("NY1e"),i=o("sEfC"),s=o.n(i);const a=()=>({params:{},headers:{}});class c{constructor(){this.changeListeners=new Map,this.allResultsListeners=new Map,this.errListeners=new Map,this.infoListeners=new Map,this.analyticsListeners=new Map}subscribe(e,t,n,o,r,i){t&&this.changeListeners.set(e,t),n&&this.errListeners.set(e,n),o&&this.infoListeners.set(e,o),r&&this.allResultsListeners.set(e,r),i&&this.analyticsListeners.set(e,i)}unsubscribe(e){this.changeListeners.delete(e),
this.errListeners.delete(e),this.infoListeners.delete(e),this.allResultsListeners.delete(e),this.analyticsListeners.delete(e)}}class l extends c{shouldHighlightMention(e){return!1}filter(e){throw new Error(`not yet implemented.\nParams: query=${e}`)}recordMentionSelection(e){}isFiltering(e){return!1}_notifyListeners(t,n){Object(o("EYN+").a)("ak-mention-resource._notifyListeners",t&&t.mentions&&t.mentions.length,this.changeListeners),this.changeListeners.forEach(((r,i)=>{try{r(t.mentions.slice(0,20),t.query,n)}catch(e){Object(o("EYN+").a)(`error from listener '${i}', ignoring`,e)}}))}_notifyAllResultsListeners(t){Object(o("EYN+").a)("ak-mention-resource._notifyAllResultsListeners",t&&t.mentions&&t.mentions.length,this.changeListeners),this.allResultsListeners.forEach(((n,r)=>{try{n(t.mentions.slice(0,20),t.query)}catch(e){Object(o("EYN+").a)(`error from listener '${r}', ignoring`,e)}}))}_notifyErrorListeners(t,n){this.errListeners.forEach(((r,i)=>{try{r(t,n)}catch(e){
Object(o("EYN+").a)(`error from listener '${i}', ignoring`,e)}}))}_notifyInfoListeners(t){this.infoListeners.forEach(((n,r)=>{try{n(t)}catch(e){Object(o("EYN+").a)(`error from listener '${r}', ignoring`,e)}}))}_notifyAnalyticsListeners(t,n,r,i){this.analyticsListeners.forEach(((s,a)=>{try{s(t,n,r,i)}catch(e){Object(o("EYN+").a)(`error from listener '${a}', ignoring`,e)}}))}}const d=e=>!!(e&&e.supportsMentionNameResolving&&e.supportsMentionNameResolving());n.c=class extends l{constructor(e){super(),this.verifyMentionConfig(e),this.config=e,this.lastReturnedSearch=0,this.activeSearches=new Set,this.productName=e.productName,this.shouldEnableInvite=!!e.shouldEnableInvite,this.inviteExperimentCohort=e.inviteExperimentCohort,this.onInviteItemClick=e.onInviteItemClick,this.userRole=e.userRole||"basic",this.config.debounceTime&&(this.filter=s()(this.filter,this.config.debounceTime))}shouldHighlightMention(e){return!!this.config.shouldHighlightMention&&this.config.shouldHighlightMention(e)}
notify(e,t,n){if(e>this.lastReturnedSearch)this.lastReturnedSearch=e,this._notifyListeners(t,{duration:Date.now()-e});else{const t=new Date(e).toISOString().substr(17,6);Object(o("EYN+").a)("Stale search result, skipping",t,n)}this._notifyAllResultsListeners(t)}notifyError(e,t){this._notifyErrorListeners(e,t),t&&this.activeSearches.delete(t)}async filter(e,t){try{const n=Date.now();let o;if(e){this.activeSearches.add(e);const n=this.search(e,t);o=await n.mentions}else o=await this.initialState(t);this.notify(n,o,e)}catch(n){this.notifyError(n,e)}}recordMentionSelection(e,t){return this.recordSelection(e,t).then((()=>{}),(e=>Object(o("EYN+").a)(`error recording mention selection: ${e}`,e)))}isFiltering(e){return this.activeSearches.has(e)}resolveMentionName(e){return this.config.mentionNameResolver?this.config.mentionNameResolver.lookupName(e):{id:e,name:"",status:o("W304").a.UNKNOWN}}cacheMentionName(e,t){this.config.mentionNameResolver&&this.config.mentionNameResolver.cacheName(e,t)}
supportsMentionNameResolving(){return!!this.config.mentionNameResolver}updateActiveSearches(e){this.activeSearches.add(e)}verifyMentionConfig(e){if(!e.url)throw new Error("config.url is a required parameter");e.securityProvider||(e.securityProvider=a)}initialState(e){return this.remoteInitialState(e)}clearContext(e={}){return Object.keys(e).filter((t=>e[t])).reduce(((t,n)=>({[n]:e[n],...t})),{})}getQueryParams(e){const t={};return this.config.containerId&&(t.containerId=this.config.containerId),this.config.productId&&(t.productIdentifier=this.config.productId),{...t,...this.clearContext(e)}}async remoteInitialState(e){const t={path:"bootstrap",queryParams:this.getQueryParams(e)};try{const e=await r.b.requestService(this.config,t);return this._notifyAnalyticsListeners("sli",o("akd9").d.INITIAL_STATE,o("akd9").a.SUCCEEDED),this.transformServiceResponse(e,"")}catch(n){throw this._notifyAnalyticsListeners("sli",o("akd9").d.INITIAL_STATE,o("akd9").a.FAILED),n}}search(e,t){return{
mentions:this.remoteSearch(e,t)}}async remoteSearch(e,t){const n={path:"search",queryParams:{query:e,limit:100,...this.getQueryParams(t)}};try{const t=await r.b.requestService(this.config,n);return this._notifyAnalyticsListeners("sli",o("akd9").d.SEARCH,o("akd9").a.SUCCEEDED),this.transformServiceResponse(t,e)}catch(i){throw this._notifyAnalyticsListeners("sli",o("akd9").d.SEARCH,o("akd9").a.FAILED),i}}transformServiceResponse(e,t){const n=e.mentions.map((e=>{let n;return(Object(o("W304").e)(e)||Object(o("W304").j)(e))&&(n=e.userType),{...e,lozenge:n,query:t}}));return{...e,mentions:n,query:e.query||t}}async recordSelection(e,t){const n={path:"record",queryParams:{selectedUserId:e.id,...this.getQueryParams(t)},requestInit:{method:"POST"}},i=Object(o("W304").j)(e)?o("akd9").d.SELECT_TEAM:o("akd9").d.SELECT;try{const e=await r.b.requestService(this.config,n);return this._notifyAnalyticsListeners("sli",i,o("akd9").a.SUCCEEDED),e}catch(s){
throw this._notifyAnalyticsListeners("sli",i,o("akd9").a.FAILED),s}}}},kALn:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=Object(n("D6b/").defineMessages)({openLink:{id:"fabric.editor.openLink",defaultMessage:"Open link in a new tab",description:"Opens the link in a new tab"}})},kUGv:function(e,t,n){var o=n("7whZ").document;e.exports=o&&o.documentElement},kXA1:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("CsC6");function r(e,t){if(Array.isArray(t)){let e=t;t=t=>e.indexOf(t.type.name)>-1}const n=[];for(let o=0;o<e.mapping.maps.length;o++){const t=e.mapping.maps[o];for(let e=0;e<n.length;e++)n[e]=t.map(n[e]);t.forEach(((e,t,o,r)=>n.push(o,r)))}const r=[];for(let o=0;o<n.length;o+=2){const i=n[o],s=n[o+1],a=e.doc.resolve(i),c=a.sharedDepth(s),l=a.node(c);for(let e=a.indexAfter(c),n=a.after(c+1);n<=s;++e){const o=l.maybeChild(e);if(!o)break;if(e&&-1===r.indexOf(n)){const i=l.child(e-1);i.type===o.type&&t(i,o)&&r.push(n)}n+=o.nodeSize}}
r.sort(((e,t)=>e-t));for(let i=r.length-1;i>=0;i--)Object(o.j)(e.doc,r[i])&&e.join(r[i])}},kaPT:function(e,t,n){"use strict";var o=n("q1tI");const r=n.n(o).a.createContext({});t.a=r},kcif:function(e,t,n){var o=n("KxBF"),r=n("mv/X"),i=n("Sxd8"),s=Math.ceil,a=Math.max;e.exports=function(e,t,n){t=(n?r(e,t,n):void 0===t)?1:a(i(t),0);var c=null==e?0:e.length;if(!c||t<1)return[];for(var l=0,d=0,u=Array(s(c/t));l<c;)u[d++]=o(e,l,l+=t);return u}},kcqV:function(e,t,n){var o=n("bKEA"),r=n("TSC6").f;n("czaS")("getOwnPropertyDescriptor",(function(){return function(e,t){return r(o(e),t)}}))},kiyR:function(e,t,n){"use strict";function o(e,t){var n,o,r,i,s,a=[],c=t.length;for(n=0;n<c;n++)126===(r=t[n]).marker&&-1!==r.end&&(i=t[r.end],(s=e.tokens[r.token]).type="s_open",s.tag="s",s.nesting=1,s.markup="~~",s.content="",(s=e.tokens[i.token]).type="s_close",s.tag="s",s.nesting=-1,s.markup="~~",s.content="","text"===e.tokens[i.token-1].type&&"~"===e.tokens[i.token-1].content&&a.push(i.token-1))
;for(;a.length;){for(o=(n=a.pop())+1;o<e.tokens.length&&"s_close"===e.tokens[o].type;)o++;n!==--o&&(s=e.tokens[o],e.tokens[o]=e.tokens[n],e.tokens[n]=s)}}e.exports.tokenize=function(e,t){var n,o,r,i,s=e.pos,a=e.src.charCodeAt(s);if(t)return!1;if(126!==a)return!1;if(r=(o=e.scanDelims(e.pos,!0)).length,i=String.fromCharCode(a),r<2)return!1;for(r%2&&(e.push("text","",0).content=i,r--),n=0;n<r;n+=2)e.push("text","",0).content=i+i,e.delimiters.push({marker:a,length:0,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return e.pos+=o.length,!0},e.exports.postProcess=function(e){var t,n=e.tokens_meta,r=e.tokens_meta.length;for(o(e,e.delimiters),t=0;t<r;t++)n[t]&&n[t].delimiters&&o(e,n[t].delimiters)}},"kl+u":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8 6h8a2 2 0 012 2v8a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2zm0 2v3h3V8H8zm5 0v3h3V8h-3zm-5 5v3h3v-3H8zm5 0v3h3v-3h-3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorTableIcon";var s=i;t.default=s},klNK:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("q1tI"),r=n.n(o),i=n("CnBM"),s=n.n(i);function a(e,t){t&&Object(n("ViYe").a)(t)({payload:{action:n("+PNV").a.INSERTED,actionSubject:n("+PNV").b.DOCUMENT,actionSubjectId:n("+PNV").c.EXTENSION,attributes:{extensionType:e.extensionType,key:e.key,inputMethod:n("+PNV").f.QUICK_INSERT},eventType:n("+PNV").e.TRACK}})}function c(e,t,o,i){const c=o&&"boolean"!=typeof o&&o.provider,l=t&&async function(e,t,o){const i=await e.getExtensions();return{getItems:()=>{const e=Object(n("x1JX").d)(i,(e=>{const i=s()({loader:e.icon,loading:()=>null});return{title:e.title,description:e.description,
icon:()=>r.a.createElement(i,{label:""}),keywords:e.keywords,featured:e.featured,categories:e.categories,action:r=>"function"==typeof e.node?(Object(n("4XCL").c)(e.node()).then((n=>{a(e,o),n&&t.replaceSelection(n)})),r("")):(a(e,o),r(e.node))}}));return Promise.all(e)}}}(t,e,i);return c&&l?async function(e){const{invokeList:t}=Object(n("77QF").a)(e);return{getItems:()=>t("getItems")}}([c,l]):c||l}},krE2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 5h10a1 1 0 010 2H7a1 1 0 110-2zm0 12h10a1 1 0 010 2H7a1 1 0 010-2zM4 9h16a1 1 0 011 1v4a1 1 0 01-1 1H4a1 1 0 01-1-1v-4a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorMediaWideIcon";var s=i;t.default=s},
kvAF:function(e,t,n){var o=n("GhSp").f,r=n("nA4W"),i=n("zBWt")("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,i)&&o(e,i,{configurable:!0,value:t})}},ky0j:function(e,t,n){"use strict";var o=n("AGgm").normalizeReference,r=n("AGgm").isSpace;e.exports=function(e,t){var n,i,s,a,c,l,d,u,p,h,f,m,b,g="",v=e.pos,y=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(l=e.pos+2,(c=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((d=c+1)<y&&40===e.src.charCodeAt(d)){for(d++;d<y&&(i=e.src.charCodeAt(d),r(i)||10===i);d++);if(d>=y)return!1;for(b=d,(p=e.md.helpers.parseLinkDestination(e.src,d,e.posMax)).ok&&(g=e.md.normalizeLink(p.str),e.md.validateLink(g)?d=p.pos:g=""),b=d;d<y&&(i=e.src.charCodeAt(d),r(i)||10===i);d++);if(p=e.md.helpers.parseLinkTitle(e.src,d,e.posMax),d<y&&b!==d&&p.ok)for(h=p.str,d=p.pos;d<y&&(i=e.src.charCodeAt(d),r(i)||10===i);d++);else h="";if(d>=y||41!==e.src.charCodeAt(d))return e.pos=v,!1;d++}else{
if(void 0===e.env.references)return!1;if(d<y&&91===e.src.charCodeAt(d)?(b=d+1,(d=e.md.helpers.parseLinkLabel(e,d))>=0?a=e.src.slice(b,d++):d=c+1):d=c+1,a||(a=e.src.slice(l,c)),!(u=e.env.references[o(a)]))return e.pos=v,!1;g=u.href,h=u.title}return t||(s=e.src.slice(l,c),e.md.inline.parse(s,e.md,e.env,m=[]),(f=e.push("image","img",0)).attrs=n=[["src",g],["alt",""]],f.children=m,f.content=s,h&&n.push(["title",h])),e.pos=d,e.posMax=y,!0}},l0Kd:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},l3Br:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=[{name:"PHP",alias:["php","php3","php4","php5"],value:"php"},{name:"Java",alias:["java"],value:"java"},{name:"CSharp",alias:["csharp","c#"],value:"cs"},{name:"Python",alias:["python","py"],value:"python"},{name:"JavaScript",alias:["javascript","js"],value:"javascript"},{name:"Html",alias:["html"],value:"xml"},{name:"C++",
alias:["c++","cpp","clike"],value:"cpp"},{name:"Ruby",alias:["ruby","rb","duby"],value:"ruby"},{name:"Objective-C",alias:["objective-c","objectivec","obj-c","objc"],value:"objectivec"},{name:"C",alias:["c"],value:"cpp"},{name:"Swift",alias:["swift"],value:"swift"},{name:"TeX",alias:["tex","latex"],value:"tex"},{name:"Shell",alias:["shell","bash","sh","ksh","zsh"],value:"shell"},{name:"Scala",alias:["scala"],value:"scala"},{name:"Go",alias:["go"],value:"go"},{name:"ActionScript",alias:["actionscript","actionscript3","as"],value:"actionscript"},{name:"ColdFusion",alias:["coldfusion"],value:"xml"},{name:"JavaFX",alias:["javafx","jfx"],value:"java"},{name:"VbNet",alias:["vbnet","vb.net","vfp","clipper","xbase"],value:"vbnet"},{name:"JSON",alias:["json"],value:"json"},{name:"MATLAB",alias:["matlab"],value:"matlab"},{name:"Groovy",alias:["groovy"],value:"groovy"},{name:"SQL",
alias:["sql","postgresql","postgres","plpgsql","psql","postgresql-console","postgres-console","tsql","t-sql","mysql","sqlite"],value:"sql"},{name:"R",alias:["r"],value:"r"},{name:"Perl",alias:["perl","pl"],value:"perl"},{name:"Lua",alias:["lua"],value:"lua"},{name:"Pascal",alias:["pas","pascal","objectpascal","delphi"],value:"pascal"},{name:"XML",alias:["xml"],value:"xml"},{name:"TypeScript",alias:["typescript","ts"],value:"typescript"},{name:"CoffeeScript",alias:["coffeescript","coffee-script","coffee"],value:"coffeescript"},{name:"Haskell",alias:["haskell","hs"],value:"haskell"},{name:"Puppet",alias:["puppet"],value:"puppet"},{name:"Arduino",alias:["arduino"],value:"arduino"},{name:"Fortran",alias:["fortran"],value:"fortran"},{name:"Erlang",alias:["erlang","erl"],value:"erlang"},{name:"PowerShell",alias:["powershell","posh","ps1","psm1"],value:"powershell"},{name:"Haxe",alias:["haxe","hx","hxsl"],value:"haxe"},{name:"Elixir",alias:["elixir","ex","exs"],value:"elixir"},{
name:"Verilog",alias:["verilog","v"],value:"verilog"},{name:"Rust",alias:["rust"],value:"rust"},{name:"VHDL",alias:["vhdl"],value:"vhdl"},{name:"Sass",alias:["sass"],value:"less"},{name:"OCaml",alias:["ocaml"],value:"ocaml"},{name:"Dart",alias:["dart"],value:"dart"},{name:"CSS",alias:["css"],value:"css"},{name:"reStructuredText",alias:["restructuredtext","rst","rest"],value:"rest"},{name:"Kotlin",alias:["kotlin"],value:"kotlin"},{name:"D",alias:["d"],value:"d"},{name:"Octave",alias:["octave"],value:"matlab"},{name:"QML",alias:["qbs","qml"],value:"qml"},{name:"Prolog",alias:["prolog"],value:"prolog"},{name:"FoxPro",alias:["foxpro","purebasic"],value:"purebasic"},{name:"Scheme",alias:["scheme","scm"],value:"scheme"},{name:"CUDA",alias:["cuda","cu"],value:"cpp"},{name:"Julia",alias:["julia","jl"],value:"julia"},{name:"Racket",alias:["racket","rkt"],value:"lisp"},{name:"Ada",alias:["ada","ada95","ada2005"],value:"ada"},{name:"Tcl",alias:["tcl"],value:"tcl"},{name:"Mathematica",
alias:["mathematica","mma","nb"],value:"mathematica"},{name:"Autoit",alias:["autoit"],value:"autoit"},{name:"StandardML",alias:["standardmL","sml","standardml"],value:"sml"},{name:"Objective-J",alias:["objective-j","objectivej","obj-j","objj"],value:"objectivec"},{name:"Smalltalk",alias:["smalltalk","squeak","st"],value:"smalltalk"},{name:"Vala",alias:["vala","vapi"],value:"vala"},{name:"ABAP",alias:["abap"],value:"sql"},{name:"LiveScript",alias:["livescript","live-script"],value:"livescript"},{name:"XQuery",alias:["xquery","xqy","xq","xql","xqm"],value:"xquery"},{name:"PlainText",alias:["text","plaintext"],value:"text"},{name:"Yaml",alias:["yaml","yml"],value:"yaml"},{name:"GraphQL",alias:["graphql"],value:"graphql"},{name:"AppleScript",alias:["applescript"],value:"applescript"},{name:"Clojure",alias:["clojure"],value:"clojure"},{name:"Diff",alias:["diff"],value:"diff"},{name:"VisualBasic",alias:["visualbasic"],value:"visual-basic"},{name:"JSX",alias:["jsx"],value:"jsx"},{name:"TSX",
alias:["tsx"],value:"tsx"},{name:"SplunkSPL",alias:["splunk-spl"],value:"splunk-spl"}]},l8Tq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bpfrpt_proptype_AnimationTimeoutId=t.requestAnimationTimeout=t.cancelAnimationTimeout=void 0;var o=i(n("4d7F")),r=n("OBSw");i(n("17x9"));function i(e){return e&&e.__esModule?e:{default:e}}t.cancelAnimationTimeout=function(e){return(0,r.caf)(e.id)},t.requestAnimationTimeout=function(e,t){var n=void 0;o.default.resolve().then((function(){n=Date.now()}));var i={id:(0,r.raf)((function o(){Date.now()-n>=t?e.call():i.id=(0,r.raf)(o)}))};return i};t.bpfrpt_proptype_AnimationTimeoutId=null},lYaY:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),s=n.n(i);class a extends i.PureComponent{constructor(e){super(e),r()(this,"renderWithProvider",(e=>{var t;const{allowTextFallback:o,shortName:r,id:i,fallback:a,fitToHeight:c,showTooltip:l,resourceConfig:d}=this.props
;return o&&!e.emojiProvider?s.a.createElement("span",{"data-emoji-id":i,"data-emoji-short-name":r,"data-emoji-text":a||r},a||r):e.emojiProvider?s.a.createElement(n("YFa+").a,{emojiId:{id:i,fallback:a,shortName:r},emojiProvider:e.emojiProvider,showTooltip:l,fitToHeight:c,optimistic:!0,optimisticImageURL:null==d||null===(t=d.optimisticImageApi)||void 0===t?void 0:t.getUrl({id:i,fallback:a,shortName:r})}):null})),this.providerFactory=e.providers||new(n("U7Mc").a)}componentWillUnmount(){this.props.providers||this.providerFactory.destroy()}render(){return s.a.createElement(n("D0us").a,{providers:["emojiProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}a.displayName="EmojiNode",r()(a,"displayName","EmojiNode"),r()(a,"defaultProps",{showTooltip:!0})},lZxZ:function(e,t,n){"use strict";t.a={EDITOR_MOUNTED:"Editor Component Mount Time",PROSEMIRROR_RENDERED:"ProseMirror Render Time",PROSEMIRROR_CONTENT_RENDERED:"ProseMirror Content Render Time",
ON_EDITOR_READY_CALLBACK:"onEditorReady Callback Duration",PASTE:"Editor Paste Plugin Paste Duration"}},lcwu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8 4h8a2 2 0 012 2v12a2 2 0 01-2 2H8a2 2 0 01-2-2V6a2 2 0 012-2zm1.5 4a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h5a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5h-5zm0 4a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5h-3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorNoteIcon";var s=i;t.default=s},lf5m:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return c}))
;const o=(e,t)=>{const{code:n}=e.schema.marks,o=t>=0&&e.doc.nodeAt(t);return!!o&&!!o.marks.filter((e=>e.type===n)).length},r=(e,t)=>{const{from:n,to:o,empty:r}=e.selection;if(r)return!!t.isInSet(e.tr.storedMarks||e.selection.$from.marks());let i=!1;return e.doc.nodesBetween(n,o,(e=>{i=i||t.isInSet(e.marks)})),i},i=(e,t)=>{const{$from:o,from:r,to:i,empty:s}=e.selection;if(s)return!!t.isInSet(e.storedMarks||o.marks());let a=!1;return e.selection instanceof n("n1Ll").a?e.selection.forEachCell(((n,o)=>{const r=o,i=o+n.nodeSize;a||(a=e.doc.rangeHasMark(r,i,t))})):a=e.doc.rangeHasMark(r,i,t),a},s=e=>(e=>n("FT/o").a.filter((t=>{if(e.schema.marks[t]){const{$from:n,empty:o}=e.selection,{marks:r}=e.schema;return o?!!r[t].isInSet(e.storedMarks||n.marks()):i(e,r[t])}return!1})).length>0)(e)||(e=>{let{from:t,to:o}=e.selection,r=!1;return e.doc.nodesBetween(t,o,(e=>-1===n("FT/o").b.indexOf(e.type.name)||(r=!0,!1))),r
})(e),a=(e,t)=>e&&e.filter((e=>!t.includes(e))),c=(e,t)=>e.filter((e=>e.content===t)).length>0},lgPy:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return c}));var o=n("V2qZ"),r=n("UxO+"),i=n("mG1W");const s=new r.PluginKey("decorationPlugin");let a;!function(e){e[e.DECORATION_ADD=0]="DECORATION_ADD",e[e.DECORATION_REMOVE=1]="DECORATION_REMOVE"}(a||(a={}));const c=(e,t,n="danger")=>(c,l)=>{let d,u;if(c.selection instanceof r.NodeSelection){const t=c.selection.node;(Array.isArray(e)?e:[e]).indexOf(t.type)>-1&&(d=c.selection.from,u=t)}const p=Object(i.findParentNodeOfType)(e)(c.selection);return void 0===d&&p&&(d=p.pos,u=p.node),void 0!==d&&void 0!==u&&(l&&l(c.tr.setMeta(s,{action:t?a.DECORATION_ADD:a.DECORATION_REMOVE,data:o.a.node(d,d+u.nodeSize,{class:n},{key:"decorationNode"})}).setMeta("addToHistory",!1)),!0)};t.c=()=>new(n("KkS8").a)({key:s,state:{init:()=>({decoration:void 0}),apply(e,t){if(t.decoration){
e.mapping.mapResult(t.decoration.from).deleted&&(t={decoration:void 0})}const n=e.getMeta(s);if(!n)return t;switch(n.action){case a.DECORATION_ADD:return{decoration:n.data};case a.DECORATION_REMOVE:return{decoration:void 0};default:return t}}},props:{decorations(e){const{doc:t}=e,{decoration:n}=s.getState(e);return n?o.b.create(t,[n]):null}}})},lntL:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=Object(n("D6b/").defineMessages)({unknownUserError:{id:"fabric.mention.unknow.user.error",defaultMessage:"Unknown user {userId}",description:"Mention user name could not be found or look up failed"},noAccessWarning:{id:"fabric.mention.noAccess.warning",defaultMessage:"{name} won't be notified as they have no access",description:"Warning message to show that the mentioned user won't be notified"},noAccessLabel:{id:"fabric.mention.noAccess.label",defaultMessage:"No access",description:"Label for no access icon"},defaultHeadline:{id:"fabric.mention.error.defaultHeadline",
defaultMessage:"Something went wrong",description:"Error message shown when there is an error communicating with backend"},defaultAdvisedAction:{id:"fabric.mention.error.defaultAction",defaultMessage:"Try again in a few seconds",description:"Default advised action when an error occurs"},loginAgain:{id:"fabric.mention.error.loginAgain",defaultMessage:"Try logging out then in again",description:"Login again message when there is an authentication error occurs"},differentText:{id:"fabric.mention.error.differentText",defaultMessage:"Try entering different text",description:"Enter different text message when a forbidden error occurs"},memberCountWithoutYou:{id:"fabric.elements.mentions.team.member.count",defaultMessage:"Team \u2022 {0, plural, one {1 member} other {{0} members}}",description:"Byline to show the number of members in the team when the current user is not a member of the team"},memberCountWithYou:{id:"fabric.elements.mentions.team.member.count.including.you",
defaultMessage:"Team \u2022 {0, plural, one {1 member} other {{0} members}}, including you",description:"Byline to show the number of members in the team when the current user is also a member of the team"},plus50MembersWithoutYou:{id:"fabric.elements.mentions.team.member.50plus",defaultMessage:"Team \u2022 50+ members",description:"Byline to show the number of members in the team when the number exceeds 50"},plus50MembersWithYou:{id:"fabric.elements.mentions.team.member.50plus.including.you",defaultMessage:"Team \u2022 50+ members, including you",description:"Byline to show the number of members in the team when the number exceeds 50 and also includes the current user"}})},lobk:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o=Object(n("7w+A").gridSize)(),r=2*o},lyAC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}
}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M11 7h6a1 1 0 010 2h-6a1 1 0 010-2zm0 4h6a1 1 0 010 2h-6a1 1 0 010-2zm0 4h6a1 1 0 010 2h-6a1 1 0 010-2zm-5 0h3v1H6v-1zm0 2h3v1H6v-1zm1-9H6V7h2v3H7V8zm-1 3h3v1.333h-.6V13H7.2v-.667H6V11zm0 2h3v1H6v-1zm2 3h2v1H8v-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorNumberListIcon";var s=i;t.default=s},mEWj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n("GQeE"));t.default=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return function(n){var r=n.callback,i=n.indices,s=(0,o.default)(i),a=!e||s.every((function(e){var t=i[e];return Array.isArray(t)?t.length>0:t>=0})),c=s.length!==(0,o.default)(t).length||s.some((function(e){var n=t[e],o=i[e]
;return Array.isArray(o)?n.join(",")!==o.join(","):n!==o}));t=i,a&&c&&r(i)}}},mHY4:function(e,t,n){var o=n("A9a0"),r=n("l0Kd");e.exports=Object.keys||function(e){return o(e,r)}},mIKu:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=Object(n("D6b/").defineMessages)({placeholder:{id:"fabric.editor.statusPlaceholder",defaultMessage:"Set a status",description:"Placeholder description for an empty (new) status item in the editor"},editText:{id:"fabric.editor.editStatusText",defaultMessage:"Edit Status",description:"Title for the input that changes the status text"},editColor:{id:"fabric.editor.editStatusColor",defaultMessage:"Edit Status Color",description:"Title for the color picker that changes the status color"}})},mKh9:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=(e,t,o)=>Object(n("xQCw").i)(e.doc,Object(n("4Ncm").b)(e),t,o)},mLKr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13.31 5.343l7.359 13.17A1 1 0 0119.796 20H4.204a1 1 0 01-.873-1.488l7.36-13.169a1.5 1.5 0 012.618 0zM12 8.5a1.091 1.091 0 00-1.081 1.239l.513 3.766a.573.573 0 001.136 0l.513-3.766A1.091 1.091 0 0012 8.5zm0 8.63a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorWarningIcon";var s=i;t.default=s},mRg0:function(e,t,n){"use strict";t.__esModule=!0;var o=s(n("s3Ml")),r=s(n("AyUB")),i=s(n("EJiy"));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,r.default)(t&&t.prototype,{constructor:{value:e,
enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}},mSF0:function(e,t,n){"use strict";var o=n("AGgm").arrayReplaceAt;function r(e){return/^<a[>\s]/i.test(e)}function i(e){return/^<\/a\s*>/i.test(e)}e.exports=function(e){var t,n,s,a,c,l,d,u,p,h,f,m,b,g,v,y,O,E=e.tokens;if(e.md.options.linkify)for(n=0,s=E.length;n<s;n++)if("inline"===E[n].type&&e.md.linkify.pretest(E[n].content))for(b=0,t=(a=E[n].children).length-1;t>=0;t--)if("link_close"!==(l=a[t]).type){if("html_inline"===l.type&&(r(l.content)&&b>0&&b--,i(l.content)&&b++),!(b>0)&&"text"===l.type&&e.md.linkify.test(l.content)){for(p=l.content,O=e.md.linkify.match(p),d=[],m=l.level,f=0,u=0;u<O.length;u++)g=O[u].url,v=e.md.normalizeLink(g),e.md.validateLink(v)&&(y=O[u].text,y=O[u].schema?"mailto:"!==O[u].schema||/^mailto:/i.test(y)?e.md.normalizeLinkText(y):e.md.normalizeLinkText("mailto:"+y).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+y).replace(/^http:\/\//,""),
(h=O[u].index)>f&&((c=new e.Token("text","",0)).content=p.slice(f,h),c.level=m,d.push(c)),(c=new e.Token("link_open","a",1)).attrs=[["href",v]],c.level=m++,c.markup="linkify",c.info="auto",d.push(c),(c=new e.Token("text","",0)).content=y,c.level=m,d.push(c),(c=new e.Token("link_close","a",-1)).level=--m,c.markup="linkify",c.info="auto",d.push(c),f=O[u].lastIndex);f<p.length&&((c=new e.Token("text","",0)).content=p.slice(f),c.level=m,d.push(c)),E[n].children=a=o(a,t,d)}}else for(t--;a[t].level!==l.level&&"link_open"!==a[t].type;)t--}},mY1j:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o=(e,t,o)=>r=>{const i=Object(n("/x6/").a)({extensions:["grammarly"]}),s={action:n("+PNV").a.SYNCHRONY_ERROR,actionSubject:n("+PNV").b.EDITOR,eventType:n("+PNV").e.OPERATIONAL,attributes:{error:r,browserExtensions:i}};return o.synchronyErrorDocStructure&&(s.attributes.docStructure=Object(n("hmSr").a)(e.doc,{compact:!0})),Object(n("SVcB").a)(e,t,s)
},r=(e,t)=>o=>Object(n("SVcB").a)(e,t,{action:"error"===o?n("+PNV").a.SYNCHRONY_ENTITY_ERROR:n("+PNV").a.SYNCHRONY_DISCONNECTED,actionSubject:n("+PNV").b.EDITOR,eventType:n("+PNV").e.OPERATIONAL,attributes:{onLine:navigator.onLine,visibilityState:document.visibilityState}})},miHH:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));const o={name:"16u7brl",styles:".ProseMirror{.embedCardView-content-wrap[layout^='wrap-']{max-width:100%;}.embedCardView-content-wrap[layout='wrap-left']{float:left;}.embedCardView-content-wrap[layout='wrap-right']{float:right;}.embedCardView-content-wrap[layout='wrap-right']+.embedCardView-content-wrap[layout='wrap-left']{clear:both;}}"},r={name:"lbtgsv",styles:"margin:0 10px"}},mivK:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a}));var o=n("V2qZ");function r(e,t,r){let{draftDecorationSet:i}=e;i&&t||(i=o.b.empty);let s={...e,draftDecorationSet:i};if(s.bookmark=void 0,
t&&r){s.bookmark=r.selection.getBookmark();const e=s.bookmark.resolve(r.doc),t=Object(n("CAky").a)(e.from,e.to);s.draftDecorationSet=i.add(r.doc,[t])}return s}const i=(e,t)=>{const o=Object(n("CAky").c)(e.selection,e.doc);return o.length!==t.selectedAnnotations.length||o.some((e=>!t.selectedAnnotations.some((t=>t.type===e.id))))?{...t,selectedAnnotations:o}:t},{createPluginState:s,createCommand:a}=Object(n("pVB1").a)(n("CAky").i,((e,t)=>{switch(t.type){case n("Qesr").a.UPDATE_INLINE_COMMENT_STATE:return{...e,annotations:{...e.annotations,...t.data}};case n("Qesr").a.INLINE_COMMENT_UPDATE_MOUSE_STATE:const o=Object.assign({},e.mouseData,t.data.mouseData);return{...e,mouseData:o};case n("Qesr").a.SET_INLINE_COMMENT_DRAFT_STATE:return r(e,t.data.drafting,t.data.editorState);case n("Qesr").a.INLINE_COMMENT_CLEAR_DIRTY_MARK:return{...e,dirtyAnnotations:!1,annotations:{}};case n("Qesr").a.CLOSE_COMPONENT:return{...e,selectedAnnotations:[]};case n("Qesr").a.ADD_INLINE_COMMENT:
const i=r(e,t.data.drafting,t.data.editorState);return{...i,selectedAnnotations:[...i.selectedAnnotations,...t.data.selectedAnnotations],annotations:{...e.annotations,...t.data.inlineComments}};case n("Qesr").a.INLINE_COMMENT_SET_VISIBLE:const{isVisible:s}=t.data;return s===e.isVisible?e:{...s?e:r(e,!1),isVisible:s};default:return e}}),{onSelectionChanged:i,onDocChanged:(e,t)=>e.getMeta("replaceDocument")?{...t,dirtyAnnotations:!0}:i(e,t),mapping:(e,t)=>{let n,o,{draftDecorationSet:r,bookmark:i}=t;return r&&(n=r.map(e.mapping,e.doc)),i&&(o=i.map(e.mapping)),o===i&&n===r?t:{...t,draftDecorationSet:n,bookmark:o}}})},mk3z:function(e,t,n){"use strict";function o(e){const t=Object(n("dGVe").c)(e);return Boolean(t)&&Boolean(t.pluginConfig.allowAddColumnWithCustomStep)}n.d(t,"a",(function(){return o}))},ml8T:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("CsC6"),r=n("MEpN");class i extends o.f{constructor(e,t){super(),this.pos=e,this.attrs=t}apply(e){
let t=e.nodeAt(this.pos);if(!t)return o.h.fail("No node at given position");if(t.isText)return o.h.fail("Target is a text node. Attributes are not allowed.");const n={...t.attrs||{},...this.attrs||{}};let i=t.type.create(n,r.Fragment.empty,t.marks),s=new r.Slice(r.Fragment.from(i),0,t.isLeaf?0:1);return o.h.fromReplace(e,this.pos,this.pos+1,s)}invert(e){let t=e.nodeAt(this.pos);return new i(this.pos,t?t.attrs:{})}map(e){let t=e.mapResult(this.pos,1);return t.deleted?null:new i(t.pos,this.attrs)}toJSON(){return{stepType:"setAttrs",pos:this.pos,attrs:this.attrs}}static fromJSON(e,t){if("number"!=typeof t.pos||null!==t.attrs&&"object"!=typeof t.attrs)throw new RangeError("Invalid input for SetAttrsStep.fromJSON");return new i(t.pos,t.attrs)}}o.f.jsonID("setAttrs",i)},muXR:function(e,t,n){"use strict";n.d(t,"i",(function(){return o})),n.d(t,"l",(function(){return r})),n.d(t,"k",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"n",(function(){return a})),
n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"o",(function(){return u})),n.d(t,"j",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return g}));const o=Object(n("56zV").a)({light:"var(--ds-surface, #FFFFFF)",dark:"var(--ds-surface, #1B2638)"}),r=Object(n("56zV").a)({light:`var(--ds-background-neutral-subtle, ${n("anI9").S})`,dark:`var(--ds-background-neutral-subtle, ${n("anI9").T})`}),i=Object(n("56zV").a)({light:"var(--ds-text-subtlest, #6B778C)",dark:"var(--ds-text-subtlest, #9FB0CC)"}),s=Object(n("56zV").a)({light:`var(--ds-border, ${n("anI9").N})`,dark:`var(--ds-border, ${n("anI9").O})`
}),a="var(--ds-background-selected-bold, #2684FF)",c="var(--ds-border-selected, #0065FF)",l="var(--ds-border-danger, #DE350B)",d="var(--ds-background-danger-bold, #FFBDAD)",u=n("anI9").U,p=n("9ehW").g+8-n("9ehW").c,h=10*n("anI9").W,f=h+1,m=10,b=h+n("anI9").Z,g=b+2},"mw/U":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"g",(function(){return r})),n.d(t,"j",(function(){return i})),n.d(t,"i",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return p}));const o={name:"1peccrh",styles:"display:inline-flex;align-items:center;&>div{display:flex;}"},r=Object(n("AeFk").css)("background:","var(--ds-border, #EBECF0)",";width:1px;height:24px;display:inline-block;margin:0 8px;user-select:none;"),i={name:"5o0d3v",
styles:"display:flex;align-items:center;>div,>span{display:flex;}>div>div{display:flex;}margin-left:0;min-width:auto"},s={name:"1lft6sc",styles:"margin-left:4px;min-width:40px"},a={name:"dlty3y",styles:"margin-left:-8px"},c={name:"zjik7",styles:"display:flex"},l={name:"15285xc",styles:"display:flex;min-width:80px;align-items:center;overflow:hidden;justify-content:center;flex-direction:column;padding:6px"},d={name:"1tk8yx0",styles:"padding:8px"},u={name:"1qei3w8",styles:"user-select:all"},p={name:"1iikq5b",styles:"display:flex;width:100%;align-items:center"}},n1Ll:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("MEpN"),r=n("UxO+");class i{constructor(e,t){this.anchor=e,this.head=t}map(e){return new i(e.map(this.anchor),e.map(this.head))}resolve(e){const t=e.resolve(this.anchor),o=e.resolve(this.head)
;if("row"===t.parent.type.spec.tableRole&&"row"===o.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&o.index()<o.parent.childCount&&Object(n("OC6D").a)(t,o)){const n={type:"cell",anchor:t.pos,head:o.pos};return r.Selection.fromJSON(e,n)}return r.Selection.near(o,1)}}class s extends r.Selection{constructor(e,t=e){const o=function(e,t){const o=e.node(-1),i=n("wYWE").b.get(o),s=e.start(-1),a=i.rectBetween(e.pos-s,t.pos-s),c=e.node(0),l=i.cellsInRect(a).filter((e=>e!==t.pos-s));return l.unshift(t.pos-s),l.map((e=>{const t=o.nodeAt(e);if(null===t)throw new Error(`No cell at position ${e}`);const n=e+s+1;return new r.SelectionRange(c.resolve(n),c.resolve(n+t.content.size))}))}(e,t);super(o[0].$from,o[0].$to,o),this.$anchorCell=e,this.$headCell=t,this.visible=!1}map(e,t){const o=e.resolve(t.map(this.$anchorCell.pos)),i=e.resolve(t.map(this.$headCell.pos));if(Object(n("EdO1").d)(o)&&Object(n("EdO1").d)(i)&&Object(n("OC6D").a)(o,i)){const e=this.$anchorCell.node(-1)!==o.node(-1)
;return e&&this.isRowSelection()?s.rowSelection(o,i):e&&this.isColSelection()?s.colSelection(o,i):new s(o,i)}return r.TextSelection.between(o,i)}content(){const e=this.$anchorCell.node(-1),t=n("wYWE").b.get(e),r=this.$anchorCell.start(-1),i=t.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},a=[];for(let l=i.top;l<i.bottom;l++){const r=[];for(let o=l*t.width+i.left,a=i.left;a<i.right;a++,o++){const a=t.map[o];if(!s[a]){s[a]=!0;const o=t.findCell(a);let c=e.nodeAt(a);if(null==c)throw new Error(`No cell at position ${a}`);const l=i.left-o.left,d=o.right-i.right;if(l>0||d>0){let{attrs:e}=c;if(!e)throw new Error(`No cell at position ${a}`);l>0&&(e=Object(n("11sg").c)(e,0,l)),d>0&&(e=Object(n("11sg").c)(e,e.colspan-d,d)),c=o.left<i.left?c.type.createAndFill(e):c.type.create(e,c.content)}if(null==c)throw new Error("No cell at position after create/createAndFill");if(o.top<i.top||o.bottom>i.bottom){const e={...c.attrs,rowspan:Math.min(o.bottom,i.bottom)-Math.max(o.top,i.top)}
;c=o.top<i.top?c.type.createAndFill(e):c.type.create(e,c.content)}if(null==c)throw new Error("No cell at position before rowContent.push");r.push(c)}}a.push(e.child(l).copy(o.Fragment.from(r)))}const c=this.isColSelection()&&this.isRowSelection()?e:a;return new o.Slice(o.Fragment.from(c),1,1)}replace(e,t=o.Slice.empty){const n=e.steps.length,{ranges:i}=this;for(let r=0;r<i.length;r++){const{$from:s,$to:a}=i[r],c=e.mapping.slice(n);e.replace(c.map(s.pos),c.map(a.pos),r?o.Slice.empty:t)}const s=r.Selection.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,t){this.replace(e,new o.Slice(o.Fragment.from(t),0,0))}forEachCell(e){const t=this.$anchorCell.node(-1),o=n("wYWE").b.get(t),r=this.$anchorCell.start(-1),i=o.cellsInRect(o.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let n=0;n<i.length;n++){const o=t.nodeAt(i[n]);if(null==o)throw new Error(`undefined cell at pos ${i[n]}`);e(o,r+i[n])}}isColSelection(){
if(!this.$anchorCell||!this.$headCell)throw new Error("invalid $anchorCell or $headCell");const e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;const n=e+this.$anchorCell.nodeAfter.attrs.rowspan,o=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,o)===this.$headCell.node(-1).childCount}static colSelection(e,t=e){let o=e,r=t;const i=n("wYWE").b.get(o.node(-1)),a=o.start(-1),c=i.findCell(o.pos-a),l=i.findCell(r.pos-a),d=o.node(0);return c.top<=l.top?(c.top>0&&(o=d.resolve(a+i.map[c.left])),l.bottom<i.height&&(r=d.resolve(a+i.map[i.width*(i.height-1)+l.right-1]))):(l.top>0&&(r=d.resolve(a+i.map[l.left])),c.bottom<i.height&&(o=d.resolve(a+i.map[i.width*(i.height-1)+c.right-1]))),new s(o,r)}isRowSelection(){if(!this.$anchorCell||!this.$headCell)return!1;const e=this.$anchorCell.start(-1),t=n("wYWE").b.get(this.$anchorCell.node(-1)),o=t.rowCount(this.$anchorCell.pos-e)===t.rowCount(this.$headCell.pos-e);let r=t.getMaxColInRow(this.$anchorCell)
;if(o&&this.ranges.length<=t.width&&!t.isPosMerged(this.$anchorCell.pos-e)&&!t.isPosMerged(this.$headCell.pos-e))return this.ranges.length===r;const i=t.colCount(this.$anchorCell.pos-e),s=t.colCount(this.$headCell.pos-e);if(Math.min(i,s)>0)return!1;const a=i+this.$anchorCell.nodeAfter.attrs.colspan,c=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,c)===t.width}eq(e){return e instanceof s&&e.$anchorCell.pos===this.$anchorCell.pos&&e.$headCell.pos===this.$headCell.pos}static rowSelection(e,t=e){let o=e,r=t;const i=n("wYWE").b.get(o.node(-1)),a=o.start(-1),c=i.findCell(o.pos-a),l=i.findCell(r.pos-a),d=o.node(0);return c.left<=l.left?(c.left>0&&(o=d.resolve(a+i.map[c.top*i.width])),l.right<i.width&&(r=d.resolve(a+i.map[i.width*(l.top+1)-1]))):(l.left>0&&(r=d.resolve(a+i.map[l.top*i.width])),c.right<i.width&&(o=d.resolve(a+i.map[i.width*(c.top+1)-1]))),new s(o,r)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,t){
return new s(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){return new s(e.resolve(t),e.resolve(n))}getBookmark(){return new i(this.$anchorCell.pos,this.$headCell.pos)}}r.Selection.jsonID("cell",s)},n3wV:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>{if(!Object(n("GhYq").a)(e,"cell"))return;const t=e.$anchorCell.start(-1);return n("wYWE").b.get(e.$anchorCell.node(-1)).rectBetween(e.$anchorCell.pos-t,e.$headCell.pos-t)}},n683:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s}));const o=new(n("UxO+").PluginKey)("expandPlugin"),{createPluginState:r,createCommand:i,getPluginState:s}=Object(n("pVB1").a)(o,((e,t)=>"SET_EXPAND_REF"===t.type?{...e,expandRef:t.data.ref}:e))},n7vu:function(e,t,n){var o=n("TYje");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},nA4W:function(e,t){
var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},nAx8:function(e,t,n){var o=n("FgkJ");e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,r){return e.call(t,n,o,r)}}return function(){return e.apply(t,arguments)}}},nBLk:function(e,t,n){"use strict";e.exports=function(e,t,n){var o,r,i;if(e.sCount[t]-e.blkIndent<4)return!1;for(r=o=t+1;o<n;)if(e.isEmpty(o))o++;else{if(!(e.sCount[o]-e.blkIndent>=4))break;r=++o}return e.line=r,(i=e.push("code_block","code",0)).content=e.getLines(t,r,4+e.blkIndent,!1)+"\n",i.map=[t,e.line],!0}},nO6g:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a}));var o=n("MEpN"),r=n("CsC6");const i=()=>({tableIsCollapsible:!1}),s=e=>{const t=e.selection,s=e.doc.type.schema,a=Object(n("zYPQ").c)(t);if(!a)return i()
;const c=s.nodes.expand,{node:l,pos:d}=a,u=e.doc.resolve(d),p=new o.NodeRange(u,e.doc.resolve(d+l.nodeSize),u.depth);if(!p)return i();const h=Object(r.m)(p,c);return null===h?i():{tableIsCollapsible:!0,range:p,findWrappingRes:h}},a=e=>{const t=s(e),n=e.doc.type.schema.nodes.expand;if(t.range&&t.tableIsCollapsible)return e.wrap(t.range,[{type:n}]).setMeta("scrollIntoView",!0),e}},nRFE:function(e,t,n){var o=n("/F7N"),r=Math.max,i=Math.min;e.exports=function(e,t){return(e=o(e))<0?r(e+t,0):i(e,t)}},nb9S:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("pVnL"),r=n.n(o),i=n("q1tI"),s=n.n(i);const a=e=>{var t;return(t=class extends i.Component{constructor(){super(),this.jiraCards=void 0,this.jiraCards={provider:Promise.resolve(new(n("ZNo5").a)),allowBlockCards:!0,allowEmbeds:!0}}render(){return s.a.createElement(e,r()({jiraCards:this.jiraCards},this.props))}}).displayName=`WithJiraCardProvider(${e.displayName||e.name||"Component"})`,t}},nc8v:function(e,t,n){"use strict"
;n.d(t,"i",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"r",(function(){return d})),n.d(t,"q",(function(){return u})),n.d(t,"o",(function(){return p})),n.d(t,"p",(function(){return h})),n.d(t,"n",(function(){return f})),n.d(t,"m",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return g})),n.d(t,"j",(function(){return v})),n.d(t,"k",(function(){return y})),n.d(t,"f",(function(){return O}));const o=(e,t="medium")=>{const o=Object(n("HfFq").a)(t);return Object(n("AeFk").css)({display:"flex",flexDirection:"column",justifyContent:"space-between",background:"var(--ds-surface-overlay, white)",border:`${n("jp2e").b} 1px solid`,borderRadius:"var(--ds-radius-100, 3px)",boxShadow:"var(--ds-shadow-overlay, 0 3px 6px rgba(0, 0, 0, 0.2))",height:`${e?n("W+Fu").h+o:295+o}px`,
width:"350px",minWidth:"350px",minHeight:`${260+o}px`,maxHeight:"calc(80vh - 86px)"})},r=Object(n("AeFk").css)({flex:"0 0 auto",backgroundColor:"var(--ds-surface-sunken, #EBECF0)",button:{display:"flex"}}),i=Object(n("AeFk").css)({padding:"var(--ds-space-075, 6px) var(--ds-space-100, 8px)",display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center"}),s=Object(n("AeFk").css)({color:"var(--ds-text-selected, #0065FF)","&:hover":{color:"var(--ds-text-selected, #0065FF)"}}),a=Object(n("AeFk").css)({color:"var(--ds-text-subtlest, #C1C7D0)",cursor:"default","&:hover":{color:"var(--ds-text-subtlest, #C1C7D0)"}}),c=Object(n("AeFk").css)({backgroundColor:"transparent",border:0,borderRadius:"var(--ds-radius-100, 3px)",color:"var(--ds-text-subtlest, rgba(9, 30, 66, 0.54))",cursor:"pointer",padding:"var(--ds-space-0, 0px)",transition:"color 0.2s ease","&::-moz-focus-inner":{border:"0 none",padding:"var(--ds-space-0, 0px)"},"&:hover":{color:"var(--ds-text-selected, #2684FF)"
},"&:focus-visible":{boxShadow:"0 0 0 2px var(--ds-border-focused, #4C9AFF)",transitionDuration:"0s, 0.2s",outline:"none"}}),l={name:"122uufz",styles:"display:flex;flex-direction:column;flex:1 1 auto;height:0"},d={name:"x1r3en",styles:"overflow-x:hidden;overflow-y:auto;&:focus{outline:none;}padding-bottom:var(--ds-space-100, 8px)"},u={name:"o9ww1u",styles:"opacity:0.5"},p=Object(n("AeFk").css)({boxSizing:"border-box",color:"inherit",cursor:"inherit",fontSize:"14px",outline:"none",padding:"1px var(--ds-space-0, 0px) var(--ds-space-025, 2px) var(--ds-space-075, 6px)",width:"100%","&:invalid":{boxShadow:"none"},"&::-ms-clear":{display:"none"}}),h={name:"9647pa",styles:"box-sizing:border-box;padding:10px 10px 11px 10px;width:100%"},f={name:"1ebchlz",styles:"display:flex;width:100%;height:150px;justify-content:center;align-items:center;>div{flex:0 0 auto;}"},m={name:"9kivhj",styles:"margin-left:var(--ds-space-100, 8px)"},b=Object(n("AeFk").css)({boxSizing:"border-box",
color:"var(--ds-text, #091E42)",fontSize:"14px",padding:"5px var(--ds-space-100, 8px)",textTransform:"lowercase","&:first-letter":{textTransform:"uppercase"}}),g=Object(n("AeFk").css)({display:"inline-block",textAlign:"center",width:"40px","& .emoji-common-node":{cursor:"pointer",padding:"var(--ds-space-100, 8px)",borderRadius:"5px",width:"24px",height:"24px"},"& .emoji-common-placeholder":{padding:"var(--ds-space-0, 0px)",margin:"7px",minWidth:"24px",maxWidth:"24px"},"& .emoji-common-node .emoji-common-placeholder":{margin:"var(--ds-space-0, 0px)"},"& .emoji-common-node > img":{position:"relative",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)",maxHeight:"24px",maxWidth:"24px",display:"block"},"& .emoji-common-node > .emoji-common-emoji-sprite":{height:"24px",width:"24px"}}),v={name:"ou8xsw",styles:"flex:0 0 auto"},y=Object(n("AeFk").css)({borderTop:"2px solid var(--ds-border, rgba(9, 30, 66, 0.08))",boxShadow:"0px -1px 1px 0px var(--ds-border, rgba(0, 0, 0, 0.1))"
}),O=Object(n("AeFk").css)({borderBottom:"2px solid var(--ds-border, rgba(9, 30, 66, 0.08))",boxShadow:"0px 1px 1px 0px var(--ds-border, rgba(0, 0, 0, 0.1))"})},nfRB:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("q1tI"),r=n.n(o);class i extends r.a.Component{componentDidCatch(e,t){for(const n of this.props.experiences)n.failure({metadata:{source:"UfoErrorBoundary",reason:"error",error:{name:e.name,message:e.message,infoStack:t.componentStack}}})}render(){return this.props.children}}i.displayName="UfoErrorBoundary"},nnUN:function(e,t,n){"use strict";let o;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),function(e){e.INVALID="invalid",e.DISABLED="disabled",e.VALID="valid"}(o||(o={}));const r="ak-editor-annotation",i={prefix:r,floatingComponent:`${r}-floating-component`,floatingToolbarCreateButton:`${r}-toolbar-create-button`,componentSave:`${r}-dummy-save-button`,componentClose:`${r}-dummy-close-button`}},nqdA:function(e,t,n){"use strict"
;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return h}));for(var o={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},r={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"
},i="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),s="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),a="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),c="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),l="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),d=i&&(c||+i[1]<57)||a&&c,u=0;u<10;u++)o[48+u]=o[96+u]=String(u);for(u=1;u<=24;u++)o[u+111]="F"+u;for(u=65;u<=90;u++)o[u]=String.fromCharCode(u+32),r[u]=String.fromCharCode(u);for(var p in o)r.hasOwnProperty(p)||(r[p]=o[p]);function h(e){var t=!(d&&(e.ctrlKey||e.altKey||e.metaKey)||(s||l)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?r:o)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}},oR2R:function(e,t,n){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8.062 11L6.5 9.914A1 1 0 017.914 8.5l2.616 2.616c.28.167.47.5.47.884s-.19.717-.47.884L7.914 15.5A1 1 0 116.5 14.086L8.062 13h-3.68c-.487 0-.882-.448-.882-1s.395-1 .882-1h3.68zm5.408 1.884c-.28-.167-.47-.5-.47-.884s.19-.717.47-.884L16.086 8.5A1 1 0 0117.5 9.914L15.938 11h3.68c.487 0 .882.448.882 1s-.395 1-.882 1h-3.68l1.562 1.086a1 1 0 01-1.414 1.414l-2.616-2.616z" fill="currentColor"/></svg>'},e));i.displayName="EditorCollapseIcon";var s=i;t.default=s},oSJA:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>Object.assign(Object.create(e),e).setTime(Date.now())},oSSR:function(e,t,n){"use strict";e.exports=function(e){var t,n,o,r=e.tokens;for(n=0,
o=r.length;n<o;n++)"inline"===(t=r[n]).type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},oTfp:function(e,t,n){"use strict";let o,r;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),function(e){e.DELETED="deleted",e.CLEARED="cleared",e.COLLAPSED="collapsed",e.MERGED="merged",e.SPLIT="split",e.COLORED="colored",e.TOGGLED_HEADER_COLUMN="toggledHeaderColumn",e.TOGGLED_HEADER_ROW="toggledHeaderRow",e.TOGGLED_NUMBER_COLUMN="toggledNumberColumn",e.CHANGED_BREAKOUT_MODE="changedBreakoutMode",e.CUT="cut",e.COPIED="copied",e.ADDED_ROW="addedRow",e.ADDED_COLUMN="addedColumn",e.DELETED_ROW="deletedRow",e.DELETED_COLUMN="deletedColumn",e.SORTED_COLUMN="sortedColumn",e.REPLACED="replaced",e.ATTEMPTED_TABLE_WIDTH_CHANGE="attemptedTableWidthChange",e.DISTRIBUTED_COLUMNS_WIDTHS="distributedColumnsWidths",e.FIXED="fixed"}(o||(o={})),function(e){e.WIDE="wide",e.FULL_WIDTH="fullWidth",e.NORMAL="normal"}(r||(r={}))},on6v:function(e,t,n){"use strict";let o,r;n.d(t,"a",(function(){
return o})),n.d(t,"b",(function(){return r})),function(e){e.SINGLE_COL="singleColumn",e.TWO_COLS_EQUAL="twoColumnsEqual",e.THREE_COLS_EQUAL="threeColumnsEqual",e.LEFT_SIDEBAR="twoColumnsLeftSidebar",e.RIGHT_SIDEBAR="twoColumnsRightSidebar",e.THREE_WITH_SIDEBARS="threeColumnsWithSidebars "}(o||(o={})),function(e){e.INLINE_CARD="inline",e.BLOCK_CARD="block",e.URL="url"}(r||(r={}))},osj6:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return d}));var o=n("UxO+"),r=n("MEpN");const i=e=>"inlineCard"===e.name?"inline":"blockCard"===e.name?"block":"embedCard"===e.name?"embed":void 0,s=e=>{if(e.selection instanceof o.NodeSelection)return i(e.selection.node.type)},a=e=>{const{attrs:t}=e;return{url:t.url||t.data&&t.data.url,title:t.data&&t.data.title}},c=(e,t)=>((e,t)=>({title:t&&t.title||e.title,url:t&&t.url||e.url
}))(a(e),t),l=e=>n("O8Sv").a.getState(e).cards.find((t=>t.pos===e.selection.from)),d=(e,t,o)=>{const{blockCard:i,inlineCard:s}=t.schema.nodes,a=[];return Object(n("C0PT").c)(e.content,((e,n,r)=>{var c;e.type!==i||u(t,r,null!==(c=null==o?void 0:o.allowBlockCards)&&void 0!==c&&c)?a.push(e):a.push(s.createChecked(e.attrs,e.content,e.marks))})),new r.Slice(r.Fragment.fromArray(a),e.openStart,e.openEnd)},u=(e,t,o)=>o&&Object(n("ceYy").h)(e,t)},ost5:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"a",(function(){return u}));const o=(e,t)=>e.setMeta(n("O8Sv").a,t),r=e=>t=>o(t,{type:"RESOLVE",url:e}),i=e=>t=>o(t,{type:"QUEUE",requests:e}),s=e=>t=>o(t,{type:"REGISTER",info:e}),a=e=>t=>o(t,{type:"REGISTER_EVENTS",smartLinkEvents:e}),c=e=>t=>o(t,{type:"REGISTER_EVENTS_NEXT",
smartLinkEvents:e}),l=e=>t=>o(t,{type:"SET_PROVIDER",provider:e}),d=e=>o(e,{type:"SHOW_LINK_TOOLBAR"}),u=e=>o(e,{type:"HIDE_LINK_TOOLBAR"})},p3BF:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));let o;!function(e){e.ALL_CONTROLS_HOVER="CONTROLS_HOVER",e.ROW_CONTROLS_HOVER="ROW_CONTROLS_HOVER",e.COLUMN_CONTROLS_HOVER="COLUMN_CONTROLS_HOVER",e.TABLE_CONTROLS_HOVER="TABLE_CONTROLS_HOVER",e.CELL_CONTROLS_HOVER="CELL_CONTROLS_HOVER",e.COLUMN_CONTROLS_DECORATIONS="COLUMN_CONTROLS_DECORATIONS",e.COLUMN_SELECTED="COLUMN_SELECTED",e.COLUMN_RESIZING_HANDLE="COLUMN_RESIZING_HANDLE",e.COLUMN_RESIZING_HANDLE_LINE="COLUMN_RESIZING_HANDLE_LINE",e.LAST_CELL_ELEMENT="LAST_CELL_ELEMENT"}(o||(o={}));const r={...n("9ehW").a,COLUMN_CONTROLS:`${n("kBLm").m}-column-controls`,COLUMN_CONTROLS_DECORATIONS:`${n("kBLm").m}-column-controls-decoration`,COLUMN_SELECTED:`${n("kBLm").m}-column__selected`,
ROW_CONTROLS_WRAPPER:`${n("kBLm").m}-row-controls-wrapper`,ROW_CONTROLS:`${n("kBLm").m}-row-controls`,ROW_CONTROLS_INNER:`${n("kBLm").m}-row-controls__inner`,ROW_CONTROLS_BUTTON_WRAP:`${n("kBLm").m}-row-controls__button-wrap`,ROW_CONTROLS_BUTTON:`${n("kBLm").m}-row-controls__button`,CONTROLS_BUTTON:`${n("kBLm").m}-controls__button`,CONTROLS_BUTTON_ICON:`${n("kBLm").m}-controls__button-icon`,CONTROLS_INSERT_BUTTON:`${n("kBLm").m}-controls__insert-button`,CONTROLS_INSERT_BUTTON_INNER:`${n("kBLm").m}-controls__insert-button-inner`,CONTROLS_INSERT_BUTTON_WRAP:`${n("kBLm").m}-controls__insert-button-wrap`,CONTROLS_INSERT_LINE:`${n("kBLm").m}-controls__insert-line`,CONTROLS_BUTTON_OVERLAY:`${n("kBLm").m}-controls__button-overlay`,LAYOUT_BUTTON:`${n("kBLm").m}-layout-button`,CONTROLS_INSERT_MARKER:`${n("kBLm").m}-controls__insert-marker`,CONTROLS_INSERT_COLUMN:`${n("kBLm").m}-controls__insert-column`,CONTROLS_INSERT_ROW:`${n("kBLm").m}-controls__insert-row`,
CONTROLS_DELETE_BUTTON_WRAP:`${n("kBLm").m}-controls__delete-button-wrap`,CONTROLS_DELETE_BUTTON:`${n("kBLm").m}-controls__delete-button`,CONTROLS_FLOATING_BUTTON_COLUMN:`${n("kBLm").m}-controls-floating__button-column`,CONTROLS_FLOATING_BUTTON_ROW:`${n("kBLm").m}-controls-floating__button-row`,CORNER_CONTROLS:`${n("kBLm").m}-corner-controls`,CORNER_CONTROLS_INSERT_ROW_MARKER:`${n("kBLm").m}-corner-controls__insert-row-marker`,CORNER_CONTROLS_INSERT_COLUMN_MARKER:`${n("kBLm").m}-corner-controls__insert-column-marker`,CONTROLS_CORNER_BUTTON:`${n("kBLm").m}-corner-button`,NUMBERED_COLUMN:`${n("kBLm").m}-numbered-column`,NUMBERED_COLUMN_BUTTON:`${n("kBLm").m}-numbered-column__button`,HOVERED_COLUMN:`${n("kBLm").m}-hovered-column`,HOVERED_ROW:`${n("kBLm").m}-hovered-row`,HOVERED_TABLE:`${n("kBLm").m}-hovered-table`,HOVERED_CELL:`${n("kBLm").m}-hovered-cell`,HOVERED_CELL_IN_DANGER:"danger",HOVERED_CELL_ACTIVE:"active",HOVERED_CELL_WARNING:`${n("kBLm").m}-hovered-cell__warning`,
HOVERED_DELETE_BUTTON:`${n("kBLm").m}-hovered-delete-button`,WITH_CONTROLS:`${n("kBLm").m}-with-controls`,RESIZING_PLUGIN:`${n("kBLm").m}-resizing-plugin`,RESIZE_CURSOR:`${n("kBLm").m}-resize-cursor`,IS_RESIZING:`${n("kBLm").m}-is-resizing`,RESIZE_HANDLE:`${n("kBLm").m}-resize-handle`,RESIZE_HANDLE_DECORATION:`${n("kBLm").m}-resize-decoration`,CONTEXTUAL_SUBMENU:`${n("kBLm").m}-contextual-submenu`,CONTEXTUAL_MENU_BUTTON_WRAP:`${n("kBLm").m}-contextual-menu-button-wrap`,CONTEXTUAL_MENU_BUTTON:`${n("kBLm").m}-contextual-menu-button`,CONTEXTUAL_MENU_ICON:`${n("kBLm").m}-contextual-submenu-icon`,SELECTED_CELL:"selectedCell",NODEVIEW_WRAPPER:"tableView-content-wrap",TABLE_SELECTED:`${n("kBLm").m}-table__selected`,TABLE_CELL:n("kBLm").j,TABLE_HEADER_CELL:n("kBLm").l,TABLE_STICKY:`${n("kBLm").m}-sticky`,TOP_LEFT_CELL:"table > tbody > tr:nth-child(2) > td:nth-child(1)",LAST_ITEM_IN_CELL:`${n("kBLm").m}-last-item-in-cell`,WITH_RESIZE_LINE:`${n("kBLm").m}-column-resize-line`,
WITH_RESIZE_LINE_LAST_COLUMN:`${n("kBLm").m}-column-resize-line-last-column`};let i;!function(e){e.SHOW_BEFORE_SHADOW="showBeforeShadow",e.SHOW_AFTER_SHADOW="showAfterShadow"}(i||(i={}))},p3Tp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7.5 6h9A1.5 1.5 0 0118 7.5v9a1.5 1.5 0 01-1.5 1.5h-9A1.5 1.5 0 016 16.5v-9A1.5 1.5 0 017.5 6zm3.072 8.838l.143.154a.5.5 0 00.769-.042l.13-.175 3.733-5.045a.8.8 0 00-.11-1.064.665.665 0 00-.984.118l-3.243 4.387-1.315-1.422a.663.663 0 00-.99 0 .801.801 0 000 1.07l1.867 2.019z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorTaskIcon";var s=i;t.default=s},p7hL:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){
return s}));var o=n("UxO+"),r=n("MEpN");function i(e,t,i){const s=e.selection.$from,a=e.selection.empty?s.end():e.selection.$to.pos,c=s.start(),l=0===s.depth?0:s.before(),d=e.doc.slice(s.pos,a),u=Object(n("C0PT").e)(d,((t,o,i)=>{if(t.type===e.schema.nodes.hardBreak)return e.schema.text("\n");if(t.isText)return t.mark([]);if(t.isInline)return t.attrs.timestamp?e.schema.text(Object(n("Jvvb").c)(t.attrs.timestamp,null)):t.attrs.url?e.schema.text(t.attrs.url):t.attrs.text?e.schema.text(t.attrs.text):null;if(d.content.childCount-1===i)return t.content;const s=o&&d.content.childCount-1===i;return t.content.childCount&&t.type===e.schema.nodes.paragraph&&!s?t.content.append(r.Fragment.from(e.schema.text("\n\n"))):t.content.childCount?t.content:null})),p=e.tr,h=c===t?l:t,f=e.schema.nodes.codeBlock.createChecked(i,u.content);p.replaceWith(h,Math.min(a,p.doc.content.size),f);const m=p.doc.resolve(p.mapping.map(h)+1),b=o.TextSelection.findFrom(m,1,!0)
;return b?p.setSelection(b):p.setSelection(o.TextSelection.create(p.doc,Math.min(t+s.node().nodeSize-1,p.doc.content.size)))}function s(e){if(!e.selection)return!1;const{$from:t}=e.selection,n=t.parent;if(!n.isTextblock||n.type===e.schema.nodes.codeBlock)return!1;const o=t.depth-1,r=t.node(o),i=t.index(o);return r.canReplaceWith(i,i+1,e.schema.nodes.codeBlock)}},p81E:function(e,t,n){"use strict";function o(e){let t=e.cached.tableNodeTypes;if(!t){t={},e.cached.tableNodeTypes=t;for(const n in e.nodes){const o=e.nodes[n],r=o.spec.tableRole;r&&(t[r]=o)}}return t}n.d(t,"a",(function(){return o}))},pG8m:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("lSNA"),r=n.n(o),i=n("q1tI");class s extends i.PureComponent{constructor(e){super(e),r()(this,"onMouseDown",(()=>{const{onMouseDown:e}=this.props;e&&e()})),r()(this,"onBlur",(e=>{const{onBlur:t}=this.props;t&&t(e)})),r()(this,"handleChange",(()=>{const{onChange:e}=this.props;this.input&&this.setState({
value:this.input.value}),e&&this.input&&e(this.input.value)})),r()(this,"handleKeydown",(e=>{const{onUndo:t,onRedo:n,onSubmit:o,onCancel:r}=this.props;13===e.keyCode&&o?(e.preventDefault(),o(this.input.value)):27===e.keyCode&&r?r(e):"function"==typeof t&&this.isUndoEvent(e)?(e.preventDefault(),t()):"function"==typeof n&&this.isRedoEvent(e)&&(e.preventDefault(),n()),this.props.onKeyDown&&this.props.onKeyDown(e)})),r()(this,"handleRef",(e=>{e instanceof HTMLInputElement?(this.input=e,this.props.autoFocus&&(this.focusTimeoutId=window.setTimeout((()=>this.focus())))):this.input=void 0})),this.state={value:e.defaultValue||""}}componentDidUpdate(e){e.defaultValue!==this.props.defaultValue&&this.setState({value:this.props.defaultValue})}componentWillUnmount(){window.clearTimeout(this.focusTimeoutId)}render(){
const{placeholder:e,width:t,maxLength:o,testId:r,ariaLabel:i,describedById:s,ariaActiveDescendant:a,ariaControls:c,ariaExpanded:l,ariaAutoComplete:d,role:u}=this.props,{value:p}=this.state;return Object(n("AeFk").jsx)("input",{css:[n("8to4").a,void 0!==t&&Object(n("8to4").b)(t)],role:u,"aria-autocomplete":d?"list":void 0,"aria-expanded":l,"aria-controls":c,"aria-activedescendant":a,"aria-describedby":s,"data-testid":r||"",type:"text",placeholder:e,value:p,onChange:this.handleChange,onKeyDown:this.handleKeydown,onMouseDown:this.onMouseDown,onBlur:this.onBlur,ref:this.handleRef,maxLength:o,"aria-label":i})}focus(){const{input:e}=this;if(e){const t="object"==typeof this.props.autoFocus?this.props.autoFocus:{};e.focus(t)}}isUndoEvent(e){return 90===e.keyCode&&(n("j5wO").a.mac&&e.metaKey&&!e.shiftKey||!n("j5wO").a.mac&&e.ctrlKey)}isRedoEvent(e){return!n("j5wO").a.mac&&e.ctrlKey&&89===e.keyCode||n("j5wO").a.mac&&e.metaKey&&e.shiftKey&&90===e.keyCode||e.ctrlKey&&e.shiftKey&&90===e.keyCode}}
s.displayName="PanelTextInput"},pJc0:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var o=n("q1tI");const r=Object(o.createContext)("cozy"),i=Object(o.createContext)("border")},"pP/b":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));class o{constructor(e,t){this.manifestsPromise=Promise.resolve(e),this.autoConvertHandlers=t}getExtensions(){return this.manifestsPromise}async getExtension(e,t){const n=(await this.manifestsPromise).find((n=>n.type===e&&n.key===t));if(!n)throw new Error(`Extension with type "${e}" and key "${t}" not found!`);return n}async search(e){return(await this.manifestsPromise).filter((t=>t.title.toLowerCase().includes(e.toLowerCase())))}async getAutoConverter(){if(this.autoConvertHandlers)return this.autoConvertHandlers;return Object(n("x1JX").a)(await this.manifestsPromise)}}},pRoW:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),s=n.n(i)
;const a=Object(n("qgDP").a)("fabric-elements");let c=0;const l=e=>t=>Object(n("AeFk").css)("flex:0 0 16px;width:16px;height:16px;position:relative;align-self:start;margin:var(--ds-space-050, 4px) var(--ds-space-100, 8px) 0 0;&>input[type='checkbox']{width:16px;height:16px;z-index:1;cursor:pointer;position:absolute;outline:none;margin:0;opacity:0;left:0;top:50%;transform:translateY(-50%);+div{box-sizing:border-box;display:inline;width:100%;cursor:pointer;&::after{background:",Object(n("56zV").a)({light:"var(--ds-background-input, #FFFFFF)",dark:"var(--ds-background-input, #67758F)"})({theme:t}),";background-size:16px;border-radius:3px;border-style:solid;border-width:1px;border-color:",Object(n("56zV").a)({light:"var(--ds-border, #8993A4)",dark:"var(--ds-border, #7988A3)"})({theme:t
}),";box-sizing:border-box;content:'';height:16px;left:50%;position:absolute;transition:border-color 0.2s ease-in-out;top:8px;width:16px;transform:translate(-50%, -50%);}}",e?Object(n("AeFk").css)("&:focus-visible+div:after{outline:2px solid ",Object(n("56zV").a)({light:"var(--ds-border-focused, #0065FF)",dark:"var(--ds-border-focused, #B3D4FF)"})({theme:t}),";}"):""," &:not([disabled]):hover+div::after{background:",Object(n("56zV").a)({light:"var(--ds-background-input, #EBECF0)",dark:"var(--ds-background-input, #B3D4FF)"})({theme:t
}),";transition:border 0.2s ease-in-out;}&[disabled]+div{opacity:0.5;cursor:default;}&:checked{+div::after{background:url(data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIiBmaWxsPSIjMDA1MkNDIj48L3JlY3Q+DQogIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik05LjM3NCA0LjkxNEw1LjQ1NiA4LjgzMmEuNzY5Ljc2OSAwIDAgMS0xLjA4OCAwTDIuNjI2IDcuMDkxYS43NjkuNzY5IDAgMSAxIDEuMDg4LTEuMDg5TDQuOTEyIDcuMmwzLjM3NC0zLjM3NGEuNzY5Ljc2OSAwIDEgMSAxLjA4OCAxLjA4OCI+PC9wYXRoPg0KPC9zdmc+) no-repeat 0 0;background-size:16px;border:0;border-color:transparent;}&:not([disabled]):hover+div::after{background:url(data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIiBmaWxsPSIjMDc0N0E2Ij48L3JlY3Q+DQogIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik05LjM3NCA0LjkxNEw1LjQ1NiA4LjgzMmEuNzY5Ljc2OSAwIDAgMS0xLjA4OCAwTDIuNjI2IDcuMDkxYS43NjkuNzY5IDAgMSAxIDEuMDg4LTEuMDg5TDQuOTEyIDcuMmwzLjM3NC0zLjM3NGEuNzY5Ljc2OSAwIDEgMSAxLjA4OCAxLjA4OCI+PC9wYXRoPg0KPC9zdmc+) no-repeat 0 0;background-size:16px;}}}")
;var d=Object(n("VHV8").a)()((e=>{const{appearance:t,isDone:o,isRenderer:r,contentRef:s,children:d,placeholder:u,showPlaceholder:p,disabled:h,dataAttributes:f,taskId:m,onChange:b,createAnalyticsEvent:g}=e,v=Object(n("1chJ").b)(),y=Object(i.useMemo)((()=>(e=>`${e}-${c++}`)(m)),[m]),O=Object(i.useMemo)((()=>e=>{const t=!o;b&&b(m,t);g&&a({action:t?"checked":"unchecked",actionSubject:"action",eventType:"ui",attributes:{localId:m}})(g)}),[b,m,o,g]),E=Object(i.useMemo)((()=>e=>{"Enter"===e.key&&O(e)}),[O]),w=Object(n("AeFk").jsx)("span",{css:l(r)(v),contentEditable:!1},Object(n("AeFk").jsx)("input",{id:y,"aria-labelledby":`${y}-wrapper`,name:y,type:"checkbox",onChange:O,checked:!!o,disabled:!!h,suppressHydrationWarning:!0,onKeyPress:E}),Object(n("AeFk").jsx)("div",null));return Object(n("AeFk").jsx)(n("zvNc").a,{appearance:t,contentRef:s,icon:w,placeholder:u,showPlaceholder:p,itemType:"TASK",dataAttributes:f,checkBoxId:y,theme:v},d)})),u=n("OhBV");class p extends i.PureComponent{
constructor(e){super(e),r()(this,"mounted",!1),r()(this,"onUpdate",(e=>{this.setState({isDone:"DONE"===e})})),r()(this,"handleOnChange",((e,t)=>{const{taskDecisionProvider:n,objectAri:o,onChange:r}=this.props;this.setState({isDone:t}),n&&o?n.then((n=>{this.mounted&&(n.toggleTask({localId:e,objectAri:o},t?"DONE":"TODO"),r&&r(e,t))})):r&&r(e,t)})),this.state={isDone:e.isDone}}componentDidMount(){this.mounted=!0,this.subscribe(this.props.taskDecisionProvider,this.props.objectAri,this.props.isDone)}UNSAFE_componentWillReceiveProps(e){e.isDone!==this.props.isDone&&this.onUpdate(e.isDone?"DONE":"TODO"),e.taskDecisionProvider===this.props.taskDecisionProvider&&e.objectAri===this.props.objectAri||(this.unsubscribe(),this.subscribe(e.taskDecisionProvider,e.objectAri,e.isDone))}componentWillUnmount(){this.unsubscribe(),this.mounted=!1}subscribe(e,t,n){e&&t&&e.then((e=>{if(!this.mounted)return;const{taskId:o}=this.props,r={...{localId:o,objectAri:t},state:n?"DONE":"TODO",lastUpdateDate:new Date,
type:"TASK"};e.subscribe({localId:o,objectAri:t},this.onUpdate,r)}))}unsubscribe(){const{taskDecisionProvider:e,taskId:t,objectAri:n}=this.props;e&&n&&e.then((e=>{e.unsubscribe({localId:t,objectAri:n},this.onUpdate)}))}render(){const{isDone:e}=this.state,{appearance:t,children:n,contentRef:o,objectAri:r,showPlaceholder:i,placeholder:a,taskId:c,disabled:l,dataAttributes:p,isRenderer:h}=this.props;return s.a.createElement(u.f,{data:{objectAri:r}},s.a.createElement(d,{isDone:e,isRenderer:h,taskId:c,onChange:this.handleOnChange,appearance:t,contentRef:o,showPlaceholder:i,placeholder:a,disabled:l,dataAttributes:p},n))}}p.displayName="ResourcedTaskItem",r()(p,"defaultProps",{appearance:"inline"})},pSCn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 5a7 7 0 110 14 7 7 0 010-14zm0 12.5c3.033 0 5.5-2.467 5.5-5.5S15.033 6.5 12 6.5A5.506 5.506 0 006.5 12c0 3.033 2.467 5.5 5.5 5.5zm-1.5-6a1 1 0 110-2 1 1 0 010 2zm3 0a1 1 0 110-2 1 1 0 010 2zm.27 1.583a.626.626 0 01.932.834A3.63 3.63 0 0112 15.125a3.63 3.63 0 01-2.698-1.204.625.625 0 01.93-.835c.901 1.003 2.639 1.003 3.538-.003z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorEmojiIcon";var s=i;t.default=s},pVB1:function(e,t,n){"use strict";function o(e){return"function"==typeof e}function r(e,t,n={}){const{mapping:r,onDocChanged:i,onSelectionChanged:s}=n;return{createPluginState:(n,a)=>({init:(e,t)=>o(a)?a(t):a,apply:(o,a,c,l)=>{const d=r?r(o,a,l):a;let u=d;const p=o.getMeta(e);return p&&(u=t(d,p)),i&&o.docChanged?u=i(o,u,l):s&&o.selectionSet&&(u=s(o,u,l)),u!==d&&n(e,u),u}}),createCommand:(t,n)=>(r,i)=>{if(i){const s=n?n(r.tr,r):r.tr,a=o(t)?t(r):t
;if(!s||!a)return!1;i(s.setMeta(e,a))}return!0},getPluginState:t=>e.getState(t)}}n.d(t,"a",(function(){return r}))},pYeG:function(e,t,n){"use strict";var o=n("pVnL"),r=n.n(o),i=n("lSNA"),s=n.n(i),a=n("q1tI"),c=n.n(a);class l extends a.PureComponent{constructor(e){super(e),s()(this,"handleRef",(e=>{this.setState({target:e||void 0})})),s()(this,"updatePopupPlacement",(e=>{this.setState({popupPlacement:e})})),s()(this,"handleCloseAndFocus",(e=>{var t,n;null===(t=this.state.target)||void 0===t||null===(n=t.querySelector("button"))||void 0===n||n.focus(),this.handleClose(e)})),s()(this,"handleClose",(e=>{this.props.onOpenChange&&this.props.onOpenChange({isOpen:!1,event:e})})),this.state={popupPlacement:["bottom","left"]}}renderDropdown(){const{target:e,popupPlacement:t}=this.state,{children:o,mountTo:i,boundariesElement:s,scrollableElement:a,onOpenChange:l,fitHeight:d,fitWidth:u,zIndex:p,arrowKeyNavigationProviderOptions:h,dropdownListId:f}=this.props;return c.a.createElement(n("poXX").a,{
target:e,mountTo:i,boundariesElement:s,scrollableElement:a,onPlacementChanged:this.updatePopupPlacement,fitHeight:d,fitWidth:u,zIndex:p},c.a.createElement(n("AXDw").a,r()({},h,{closeOnTab:!0,handleClose:this.handleCloseAndFocus}),c.a.createElement("div",{style:{height:0,minWidth:u||0}},c.a.createElement(n("3zmQ").a,{isOpen:!0,onOpenChange:l,position:t.join(" "),shouldFitContainer:!0,id:f},o))))}render(){const{trigger:e,isOpen:t}=this.props;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{ref:this.handleRef},e),t?this.renderDropdown():null)}}l.displayName="Dropdown";var d=Object(n("7Xhc").a)(l);const u=c.a.memo((({...e})=>{const t=Object(a.useContext)(n("gGVL").a);return c.a.createElement(d,r()({arrowKeyNavigationProviderOptions:{...e.arrowKeyNavigationProviderOptions,keyDownHandlerContext:t}},e))}));t.a=u},poXX:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),s=n.n(i),a=n("bJJb"),c=n.n(a),l=n("wSSu")
;class d extends s.a.Component{constructor(...e){var t;super(...e),r()(this,"rafIds",new Set),r()(this,"state",{validPosition:!0}),r()(this,"popupRef",s.a.createRef()),r()(this,"placement",["",""]),r()(this,"handleRef",(e=>{e&&this.initPopup(e)})),r()(this,"scheduledUpdatePosition",Object(n("w95p").a)((e=>{this.updatePosition(this.props)}))),r()(this,"onResize",(()=>this.scheduledUpdatePosition(this.props))),r()(this,"resizeObserver",null!==(t=window)&&void 0!==t&&t.ResizeObserver?new ResizeObserver((()=>{this.scheduledUpdatePosition(this.props)})):void 0),r()(this,"initFocusTrap",Object(n("w95p").a)((()=>{const e=this.popupRef.current;if(!e)return;const t={clickOutsideDeactivates:!0,escapeDeactivates:!0,initialFocus:e,fallbackFocus:e,returnFocusOnDeactivate:!1};this.focusTrap=c()(e,t),this.focusTrap.activate()})))}calculatePosition(e,t){
const{target:o,fitHeight:r,fitWidth:i,boundariesElement:s,offset:a,onPositionCalculated:c,onPlacementChanged:l,alignX:d,alignY:u,stick:p,forcePlacement:h,allowOutOfBounds:f,rect:m,preventOverflow:b}=e;if(!o||!t)return{};const g=Object(n("fuko").a)(o,s||document.body,i,r,d,u,h,b);l&&this.placement.join("")!==g.join("")&&(l(g),this.placement=g);let v=Object(n("fuko").b)({placement:g,popup:t,target:o,stick:p,offset:a,allowOutOfBounds:f,rect:m});return v=c?c(v):v,{position:v,validPosition:Object(n("fuko").d)(o)}}updatePosition(e=this.props,t=this.state){const{popup:n}=t,{position:o,validPosition:r}=this.calculatePosition(e,n);o&&r&&this.setState({position:o,validPosition:r})}cannotSetPopup(e,t,n){return!t||document.body.contains(t)&&e.offsetParent&&!e.offsetParent.contains(t)||n&&!n.contains(e.offsetParent)}initPopup(e){this.popupRef.current=e;const{target:t}=this.props,o=Object(n("fuko").c)(e);this.cannotSetPopup(e,t,o)||(this.setState({popup:e}),this.scheduledUpdatePosition(this.props),
this.props.focusTrap&&this.initFocusTrap())}UNSAFE_componentWillReceiveProps(e){this.scheduledUpdatePosition(e)}destroyFocusTrap(){var e;this.initFocusTrap.cancel(),null===(e=this.focusTrap)||void 0===e||e.deactivate()}handleChangedFocusTrapProp(e){var t;if(e.focusTrap!==this.props.focusTrap)return this.props.focusTrap?(this.focusTrap&&this.focusTrap.unpause(),this.initFocusTrap()):null===(t=this.focusTrap)||void 0===t?void 0:t.pause()}componentDidUpdate(e){this.handleChangedFocusTrapProp(e)}componentDidMount(){window.addEventListener("resize",this.onResize);const{stick:e}=this.props;this.scrollParentElement=Object(n("fuko").c)(this.props.target),this.scrollParentElement&&this.resizeObserver&&this.resizeObserver.observe(this.scrollParentElement),this.scrollElement=e?this.scrollParentElement:this.props.scrollableElement,this.scrollElement&&this.scrollElement.addEventListener("scroll",this.onResize)}componentWillUnmount(){window.removeEventListener("resize",this.onResize),
this.scrollElement&&this.scrollElement.removeEventListener("scroll",this.onResize),this.scrollParentElement&&this.resizeObserver&&this.resizeObserver.unobserve(this.scrollParentElement),this.scheduledUpdatePosition.cancel(),this.destroyFocusTrap()}renderPopup(){const{position:e}=this.state,{shouldRenderPopup:t}=this.props;return t&&!t(e||{})?null:s.a.createElement("div",{ref:this.handleRef,style:{position:"absolute",zIndex:this.props.zIndex||n("anI9").p,...e,...this.props.style},"aria-label":this.props.ariaLabel||"Popup","data-editor-popup":!0},this.props.children)}render(){const{target:e,mountTo:t}=this.props,{validPosition:n}=this.state;return e&&n?t?Object(l.createPortal)(this.renderPopup(),t):this.renderPopup():null}}d.displayName="Popup",r()(d,"defaultProps",{offset:[0,0],allowOutOfBound:!1})},qABM:function(e,t,n){"use strict";let o,r,i;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),function(e){e[e.XXL=6]="XXL",e[e.XL=5]="XL",
e[e.L=4]="L",e[e.M=3]="M",e[e.S=2]="S",e[e.XXXS=1]="XXXS"}(o||(o={})),function(e){e[e.XXL=610]="XXL",e[e.XL=540]="XL",e[e.L=460]="L",e[e.M=450]="M",e[e.S=370]="S"}(r||(r={})),function(e){e[e.XXL=650]="XXL",e[e.XL=580]="XL",e[e.L=540]="L",e[e.M=490]="M",e[e.S=410]="S"}(i||(i={}))},qAiH:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));const o=12,r=Object(n("AeFk").css)(".gridParent{width:calc(100% + ",2*o,"px);margin-left:-",o,"px;margin-right:-",o,"px;transform:scale(1);z-index:",n("anI9").t,";}.gridContainer{position:fixed;height:100vh;width:100%;pointer-events:none;}.gridLine{border-left:1px solid ","var(--ds-border, rgba(9, 30, 66, 0.08))",";display:inline-block;box-sizing:border-box;height:100%;margin-left:-1px;transition:border-color 0.15s linear;z-index:0;}.highlight{border-left:1px solid ","var(--ds-border-focused, #2684FF)",";}")},qLUp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
t.default=function(e){var t=e.cellSize,n=e.cellSizeAndPositionManager,o=e.previousCellsCount,r=e.previousCellSize,i=e.previousScrollToAlignment,s=e.previousScrollToIndex,a=e.previousSize,c=e.scrollOffset,l=e.scrollToAlignment,d=e.scrollToIndex,u=e.size,p=e.sizeJustIncreasedFromZero,h=e.updateScrollIndexCallback,f=n.getCellCount(),m=d>=0&&d<f,b=u!==a||p||!r||"number"==typeof t&&t!==r;m&&(b||l!==i||d!==s)?h(d):!m&&f>0&&(u<a||f<o)&&c>n.getTotalSize()-u&&h(f-1)};(function(e){e&&e.__esModule})(n("VZmc")),n("uUy6")},qRUV:function(e,t,n){"use strict";var o=n("SINd"),r=[["normalize",n("TCYN")],["block",n("NAgD")],["inline",n("oSSR")],["linkify",n("mSF0")],["replacements",n("u0qK")],["smartquotes",n("rzDG")]];function i(){this.ruler=new o;for(var e=0;e<r.length;e++)this.ruler.push(r[e][0],r[e][1])}i.prototype.process=function(e){var t,n,o;for(t=0,n=(o=this.ruler.getRules("")).length;t<n;t++)o[t](e)},i.prototype.State=n("cTMM"),e.exports=i},qk1C:function(e,t,n){"use strict"
;var o=n("q1tI"),r=n.n(o),i=n("EcEN"),s=n.n(i);var a=n("lSNA"),c=n.n(a);const l=Object(n("D6b/").defineMessages)({inviteItemTitle:{id:"fabric.editor.inviteItem.title",defaultMessage:"{userRole, select, admin {Invite} trusted {Invite} other {Add}} teammate to {productName}",description:"Title of the invite teammate item in typeahead plugin"},mentionsAddLabel:{id:"fabric.editor.mentionsAddLabel",defaultMessage:"add-icon",description:"icon label to describe adding a new mention"},mentionsIconLabel:{id:"fabric.editor.mentionsIconLabel",defaultMessage:"Mention",description:"icon label to describe the mention icon"},mentionsNodeLabel:{id:"fabric.editor.mentionNode.label",defaultMessage:"Tagged user",description:'Label to indicate mention node to Screen reader users, that preceeds with user name ex: "Tagged user @XXX'}});class d extends o.PureComponent{constructor(...e){super(...e),
c()(this,"handleInsertMention",(()=>!!this.props.editorView&&(Object(n("+OuI").b)(this.props.editorView).openMention(n("+PNV").f.INSERT_MENU),!0)))}render(){const e=this.props.intl.formatMessage(l.mentionsIconLabel);return r.a.createElement(n("aEOQ").a,{testId:this.props.testId,buttonId:n("Ssoj").a.MENTION,spacing:"none",onClick:this.handleInsertMention,disabled:this.props.isDisabled,title:e+"@",iconBefore:r.a.createElement(n.n(n("WfRv")).a,{label:e})})}}d.displayName="ToolbarMention";var u=Object(n("o5hF").c)(d),p=n("MEpN");const h=Object(o.lazy)((()=>n.e("@atlaskit-internal_mention/LockCircleIcon").then(n.t.bind(null,"W4vt",7)).then((e=>({default:e.default})))));var f=h,m=n("DZdY");const b=Object(m.a)("div",{target:"e1hz1gpy7"})({name:"ubau5k",styles:"align-items:center;display:flex;flex-direction:row;flex-wrap:wrap;overflow:hidden;padding:6px 14px;text-overflow:ellipsis;vertical-align:middle"}),g=Object(m.a)("span",{target:"e1hz1gpy6"
})("position:relative;flex:initial;opacity:",(e=>e.restricted?"0.5":"inherit"),";"),v=Object(m.a)("div",{target:"e1hz1gpy5"})("flex:1;min-width:0;margin-left:14px;opacity:",(e=>e.restricted?"0.5":"inherit"),";"),y=Object(m.a)("span",{target:"e1hz1gpy4"})("display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:","var(--ds-text, #091E42)",";"),O=Object(m.a)("div",{target:"e1hz1gpy3"})("display:flex;flex-direction:column;text-align:right;opacity:",(e=>e.restricted?"0.5":"inherit"),";&{&>span{margin-bottom:2px;}}"),E=Object(m.a)("div",{target:"e1hz1gpy2"})("margin-left:20px;flex:none;color:","var(--ds-text-subtlest, #7A869A)",";font-size:12px;"),w=Object(m.a)("div",{target:"e1hz1gpy1"})("background-color:",(e=>e.selected?"var(--ds-background-selected, #EBECF0)":"transparent"),";display:block;overflow:hidden;list-style-type:none;height:",48,"px;line-height:1.2;cursor:pointer;"),S=Object(m.a)("div",{target:"e1hz1gpy0"
})("padding-left:5px;color:","var(--ds-text-subtle, #42526E)",";");function k(e,t,n,o){if(!t)return null;const i=[],s=o||"";let a=0;if(n){for(let e=0;e<n.length;e++){const o=n[e],r=o.start,s=o.end;r>a&&i.push({value:t.substring(a,r),matches:!1}),i.push({value:t.substring(r,s+1),matches:!0}),a=s+1}a<t.length&&i.push({value:t.substring(a,t.length),matches:!1})}else i.push({value:t,matches:!1});return r.a.createElement(e,null,s,i.map(((e,t)=>e.matches?r.a.createElement("b",{key:t},e.value):e.value)))}const x=Object(m.a)("span",{target:"e491d9y0"})("color:","var(--ds-text-subtlest, #7A869A)",";font-size:12px;margin-top:2px;display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;");class C extends r.a.PureComponent{render(){const{highlight:e,name:t,nickname:n}=this.props.mention,o=e&&e.nickname;return t===n?null:k(x,n,o,"@")}}C.displayName="UserMentionDescriptionByline";var T=n("pVnL"),j=n.n(T);class A extends r.a.PureComponent{constructor(...e){super(...e),
c()(this,"renderByline",((e,t)=>t?e>50?this.getBylineComponent(r.a.createElement(n("3e7Q").a,n("lntL").a.plus50MembersWithYou)):this.getBylineComponent(r.a.createElement(n("3e7Q").a,j()({},n("lntL").a.memberCountWithYou,{values:{0:e}}))):e>50?this.getBylineComponent(r.a.createElement(n("3e7Q").a,n("lntL").a.plus50MembersWithoutYou)):this.getBylineComponent(r.a.createElement(n("3e7Q").a,j()({},n("lntL").a.memberCountWithoutYou,{values:{0:e}}))))),c()(this,"getBylineComponent",(e=>r.a.createElement(x,null,e)))}render(){const{context:e}=this.props.mention;if(!e)return null;const t=e.includesYou,n=e.memberCount;return this.renderByline(n,t)}}A.displayName="TeamMentionDescriptionByline";class N extends r.a.PureComponent{render(){const{userType:e}=this.props.mention;return e===n("W304").d[n("W304").d.TEAM]?r.a.createElement(A,{mention:this.props.mention}):r.a.createElement(C,{mention:this.props.mention})}}N.displayName="MentionDescriptionByline";class I extends r.a.PureComponent{
constructor(...e){super(...e),c()(this,"onMentionSelected",(e=>{(function(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)})(e)&&this.props.onSelection&&(e.preventDefault(),this.props.onSelection(this.props.mention,e))})),c()(this,"onMentionMenuItemMouseMove",(e=>{this.props.onMouseMove&&this.props.onMouseMove(this.props.mention,e)})),c()(this,"onMentionMenuItemMouseEnter",(e=>{this.props.onMouseEnter&&this.props.onMouseEnter(this.props.mention,e)}))}render(){const{mention:e,selected:t}=this.props,{id:o,highlight:i,avatarUrl:s,presence:a,name:c,mentionName:l,lozenge:d,accessLevel:u}=e,{status:p,time:h}=a||{},m=Object(n("W304").g)(u),x=i&&i.name,C=t?"var(--ds-border, #EBECF0)":void 0;return r.a.createElement(n("R4az").a,null,r.a.createElement(w,{selected:t,onMouseDown:this.onMentionSelected,onMouseMove:this.onMentionMenuItemMouseMove,onMouseEnter:this.onMentionMenuItemMouseEnter,"data-mention-id":o,"data-mention-name":l},r.a.createElement(b,null,r.a.createElement(g,{
restricted:m},r.a.createElement(n("1JKq").a,{src:s,size:"medium",presence:p,borderColor:C})),r.a.createElement(v,{restricted:m},k(y,c,x),r.a.createElement(N,{mention:e})),r.a.createElement(O,{restricted:m},function(e){if("string"==typeof e)return r.a.createElement(n("EFQh").a,null,e);if("object"==typeof e){const{appearance:t,text:o}=e;return r.a.createElement(n("EFQh").a,{appearance:t},o)}return null}(d),function(e){return e?r.a.createElement(E,null,e):null}(h)),m?r.a.createElement(r.a.Suspense,{fallback:null},r.a.createElement(n("PeA7").a,{name:c},r.a.createElement(S,null,r.a.createElement(n("Rwff").a,null,(e=>r.a.createElement(f,{label:e})))))):null)))}}I.displayName="MentionItem"
;const P=Object(n("AeFk").css)("align-items:center;display:flex;flex-direction:row;flex-wrap:wrap;overflow:hidden;padding:6px ",14,"px;text-overflow:ellipsis;vertical-align:middle;"),M=Object(n("AeFk").css)("position:relative;flex:initial;opacity:inherit;width:36px;height:",36,"px;>span{width:24px;height:24px;padding:6px;}"),R=Object(n("AeFk").css)("flex:1;min-width:0;margin-left:14px;color:","var(--ds-text-subtle, #5E6C84)",";opacity:inherit;"),_={name:"1jlqqfy",styles:"background-color:transparent;display:block;overflow:hidden;list-style-type:none;cursor:pointer"},L=Object(n("AeFk").css)("background-color:","var(--ds-background-neutral-subtle-hovered, #EBECF0)",";"),D={name:"kff9ir",styles:"text-transform:capitalize"},F={id:"invite-teammate"};var B=Object(n("o5hF").c)((({productName:e,onMount:t,onMouseEnter:r,onSelection:i,selected:s,userRole:a,intl:c})=>{const d=Object(o.useCallback)((e=>{(e=>!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))(e)&&i&&(e.preventDefault(),
i(F,e))}),[i]),u=Object(o.useCallback)((e=>{r&&r(F,e)}),[r]);return Object(o.useEffect)((()=>{t&&t()}),[t]),Object(n("AeFk").jsx)("div",{css:[_,s&&L],onMouseDown:d,onMouseEnter:u,"data-id":F.id},Object(n("AeFk").jsx)("div",{css:P},Object(n("AeFk").jsx)("span",{css:M},Object(n("AeFk").jsx)(n.n(n("9fHu")).a,{label:c.formatMessage(l.mentionsAddLabel),primaryColor:"var(--ds-icon-subtle, #5E6C84)"})),Object(n("AeFk").jsx)("div",{css:R,"data-testid":"name-section"},Object(n("AeFk").jsx)(n("3e7Q").a,j()({},l.inviteItemTitle,{values:{userRole:a||"basic",productName:Object(n("AeFk").jsx)("span",{css:D,"data-testid":"capitalized-message"},e)}})))))}));const V=e=>"TEAM"===e,z=e=>e&&e.id===F.id,H="mention",U=(e,t,n,o,r={},i=[])=>({action:t,actionSubject:e,eventType:n,attributes:{packageName:"@atlaskit/editor-core",packageVersion:"182.1.0",componentName:H,sessionId:o,...r},tags:i}),W={queryLength:0,spaceInQuery:!1},K=e=>e?{queryLength:e.length,spaceInQuery:-1!==e.indexOf(" ")}:W,$=(e,t)=>{if(e){
const n=e.findIndex((e=>e.id===t.id));return-1===n?void 0:n}},q=e=>"selected"===e;function G(e){return n("UgDi").a.getState(e)}const Y=({mentionProvider:e,firstQueryWithoutResults:t,currentQuery:n,onInviteItemMount:o})=>i=>{const s=(({mentionProvider:e,onInviteItemMount:t})=>({title:F.id,render:({isSelected:n,onClick:o,onHover:i})=>r.a.createElement(B,{productName:e?e.productName:void 0,selected:n,onMount:t,onMouseEnter:i,onSelection:o,userRole:e.userRole}),mention:F}))({mentionProvider:e,onInviteItemMount:o}),a=((e,t)=>{if(!t)return!0;let n=t.length-1,o=e.slice(n);return" "===e[n-1]&&(o=" "+o),!/\s[^\s]+\s/.test(o)})(n,t);return 0===i.length?a?[s]:[]:[...i,s]};const Q=function(e){const t=new Map;return{call:function(n){const o=t.get(n.id);if(o)return o;const r=e(n);return t.set(n.id,r),r},clear:t.clear.bind(t)}}((e=>({title:e.id,render:({isSelected:t,onClick:n,onHover:o})=>r.a.createElement(I,{mention:e,selected:t,onMouseEnter:o,onSelection:n}),getCustomComponentHeight:()=>48,
mention:e}))),X=e=>({query:t,mentions:n,stats:o})=>{let r=0,i=null,s=null;(e=>e&&!isNaN(e.teamMentionDuration))(o)?(r=o&&o.teamMentionDuration,i=null,s=n.map((e=>V(e.userType)?{teamId:e.id,includesYou:e.context.includesYou,memberCount:e.context.memberCount}:null)).filter((e=>!!e))):(r=o&&o.duration,s=null,i=n.map((e=>e.id)));const a=((e,t,n,o)=>{const{queryLength:r,spaceInQuery:i}=K(n);return{action:"rendered",actionSubject:t?"mentionTypeahead":"teamMentionTypeahead",eventType:"operational",attributes:{packageName:"@atlaskit/editor-core",packageVersion:"182.1.0",componentName:H,duration:e,userIds:t,teams:o,queryLength:r,spaceInQuery:i}}})(r,i,t,s);e(a)},Z=({sanitizePrivateContent:e,mentionInsertDisplayName:t,fireEvent:o,HighlightComponent:i})=>{let a=s()(),c=null;const l=new Set;return{id:n("FOo9").b.MENTION,trigger:"@",customRegex:"\\(?(@)",getHighlight:e=>{const t=i;return t?r.a.createElement(t,null):null},getItems({query:e,editorState:t}){const n=G(t)
;if(null==n||!n.mentionProvider)return Promise.resolve([]);const{mentionProvider:r,contextIdentifierProvider:i}=n;return new Promise((t=>{const n=`loadingMentionsForTypeAhead_${s()()}`;l.add(n),r.subscribe(n,((s,d="",u)=>{if(e!==d)return;r.unsubscribe(n),l.delete(n);const p=s.map((e=>Q.call(e)));if(X(o)({query:e,mentions:s,stats:u}),0===s.length&&null===c&&(c=e),p.length<=2){const{inviteExperimentCohort:e,userRole:t}=r;o(((e,t,n,o)=>{const{containerId:r,objectId:i,childObjectId:s}=t||{};return U("feature","exposed","operational",e,{flagKey:"confluence.frontend.invite.from.mention",value:n||"not-enrolled",containerId:r,objectId:i,childObjectId:s,userRole:o},["measurement","hasCustomAttributes"])})(a,i,e,t))}if(!r.shouldEnableInvite||p.length>2)t(p);else{const n=Y({mentionProvider:r,firstQueryWithoutResults:c||"",currentQuery:e,onInviteItemMount:()=>{o(((e,t,n)=>{const{containerId:o,objectId:r,childObjectId:i}=t||{};return U("inviteItem","rendered","ui",e,{containerId:o,objectId:r,
childObjectId:i,userRole:n})})(a,i,r.userRole))}})(p);t(n)}})),r.filter(e||"",{...i,sessionId:a})}))},onOpen:()=>{c=null},selectItem(r,i,c,{mode:l,stats:d,query:u,sourceListItem:h}){const{schema:f}=r,m=G(r),{mentionProvider:b}=m,{id:g,name:v,nickname:y,accessLevel:O,userType:E}=i.mention,w=y&&y.startsWith("@")?y.slice(1):y,S=t||!w?v:w,k={...m.contextIdentifierProvider,sessionId:a};b&&!z(i.mention)&&b.recordMentionSelection(i.mention,k);const x=d.startedAt?Date.now()-d.startedAt:0;if(b&&b.shouldEnableInvite&&z(i.mention))return"space"!==l&&(o(((e,t,n,o,r,i,s,a)=>{const{queryLength:c,spaceInQuery:l}=K(i),{containerId:d,objectId:u,childObjectId:p}=s||{};return U("inviteItem",q(r)?"clicked":"pressed","ui",o,{duration:e,queryLength:c,spaceInQuery:l,upKeyCount:t,downKeyCount:n,containerId:d,objectId:u,childObjectId:p,userRole:a})})(x,d.keyCount.arrowUp,d.keyCount.arrowDown,a,l,u,m.contextIdentifierProvider,b.userRole)),b.onInviteItemClick&&b.onInviteItemClick("mention")),r.tr
;if(o(((e,t,o,r,i,s,a,c,l)=>{const{queryLength:d,spaceInQuery:u}=K(c);let p=U("mentionTypeahead",q(i)?"clicked":"pressed","ui",r,{duration:e,position:$(a,s),keyboardKey:q(i)?void 0:i,source:s.source,queryLength:d,spaceInQuery:u,isSpecial:Object(n("W304").h)(s),accessLevel:s.accessLevel||"",userType:s.userType,userId:s.id,upKeyCount:t,downKeyCount:o,memberCount:V(s.userType)&&s.context?s.context.memberCount:null,includesYou:V(s.userType)&&s.context?s.context.includesYou:null});return l&&(p.containerId=l.containerId||void 0,p.objectId=l.objectId||void 0,p.childObjectId=l.childObjectId||void 0),p})(x,d.keyCount.arrowUp,d.keyCount.arrowDown,a,l,i.mention,h.map((e=>e.mention)),u,m.contextIdentifierProvider)),a=s()(),b&&V(E))return c(((e,t,o,r)=>{const{nodes:i,marks:s}=e,{name:a,id:c,accessLevel:l,context:d}=t,u=`${window.location.origin}/people/team/${c}`,h=d&&d.teamLink?d.teamLink:u,f=e.text(a,[s.link.create({href:h
})]),m=e.text("("),b=e.text(")"),g=e.text(" "),v=[f,g,m],y=d&&d.members?d.members:[];return y.forEach(((e,t)=>{const{name:s,id:a}=e,c=r?"":`@${s}`;r&&Object(n("kAIj").d)(o)&&o.cacheMentionName(a,s);const d=i.mention.createChecked({text:c,id:e.id,accessLevel:l,userType:"DEFAULT"});v.push(d),t!==y.length-1&&v.push(g)})),v.push(b),p.Fragment.fromArray(v)})(f,i.mention,b,e));const C=e?"":`@${S}`;e&&Object(n("kAIj").d)(b)&&b.cacheMentionName(g,S);const T=f.nodes.mention.createChecked({text:C,id:g,accessLevel:O,userType:"DEFAULT"===E?null:E}),j=f.text(" ");return c(p.Fragment.from([T,j]))},dismiss({editorState:e,query:t,stats:n,wasItemInserted:r}){c=null;const i=n.startedAt?Date.now()-n.startedAt:0;r||o(((e,t,n,o,r)=>{const{queryLength:i,spaceInQuery:s}=K(r);return U("mentionTypeahead","cancelled","ui",o,{duration:e,downKeyCount:n,upKeyCount:t,queryLength:i,spaceInQuery:s})})(i,n.keyCount.arrowUp,n.keyCount.arrowDown,a,t||""));const d=G(e);if(null!=d&&d.mentionProvider){
const e=d.mentionProvider;for(let t of l)e.unsubscribe(t)}l.clear(),a=s()()}}};class J extends o.PureComponent{constructor(e){super(e),c()(this,"renderWithProvider",(e=>{const{accessLevel:t,eventHandlers:o,id:i,text:s}=this.props,{mentionProvider:a}=e,c={};return["onClick","onMouseEnter","onMouseLeave"].forEach((e=>{c[e]=o&&o[e]||(()=>{})})),r.a.createElement(n("BB7F").a,j()({id:i,text:s,accessLevel:t,mentionProvider:a},c))})),this.providerFactory=e.providers||new(n("U7Mc").a)}componentDidMount(){n("j5wO").a.safari&&setTimeout(n("zWmI").b,0)}componentWillUnmount(){this.props.providers||this.providerFactory.destroy()}render(){return r.a.createElement(n("D0us").a,{providers:["mentionProvider","profilecardProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}J.displayName="Mention",c()(J,"displayName","Mention");const ee=({id:e,text:t,providers:i,accessLevel:s,mentionProvider:a})=>{
const[c,d]=Object(o.useState)(t),u=Object(n("3NU0").a)(),p=e=>e.status===n("W304").a.OK?`@${e.name||""}`:"@_|unknown|_";return Object(o.useEffect)((()=>{a&&a.then((async o=>{if(!t&&Object(n("kAIj").d)(o)){const t=o.resolveMentionName(e);return Object(n("W304").f)(t)?p(await t):p(t)}return t})).then((e=>{d(e)}))}),[e,t,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"assistive"},`${u.formatMessage(l.mentionsNodeLabel)} ${c}`),r.a.createElement("span",{"aria-hidden":"true"},r.a.createElement(J,{id:e,text:c,accessLevel:s,providers:i})))},te=e=>{const{providerFactory:t}=e,{id:o,text:i,accessLevel:s}=e.node.attrs;return r.a.createElement(n("D0us").a,{providers:["mentionProvider","profilecardProvider"],providerFactory:t,renderNode:e=>{const{mentionProvider:n}=e;return r.a.createElement(ee,{mentionProvider:n,id:o,text:i,providers:t,accessLevel:s})}})},ne="SET_PROVIDER",oe="SET_CONTEXT",re=e=>(t,o)=>(o&&o(t.tr.setMeta(n("UgDi").a,{action:ne,params:{provider:e}})),
!0),ie=e=>(t,o)=>(o&&o(t.tr.setMeta(n("UgDi").a,{action:oe,params:{context:e}})),!0);t.a=e=>{let t=s()();const o=n=>{if(null==e||!e.createAnalyticsEvent)return;const{createAnalyticsEvent:o}=e;n.attributes&&!n.attributes.sessionId&&(n.attributes.sessionId=t),o(n).fire("fabric-elements")},i=Z({sanitizePrivateContent:null==e?void 0:e.sanitizePrivateContent,mentionInsertDisplayName:null==e?void 0:e.insertDisplayName,HighlightComponent:null==e?void 0:e.HighlightComponent,fireEvent:o});return{name:"mention",nodes:()=>[{name:"mention",node:n("Z/xR").a}],pmPlugins:()=>[{name:"mention",plugin:t=>function(e,t,o){let r;const i=(e,o,r,i)=>{e!==n("akd9").b&&e!==n("akd9").c||t(Object(n("akd9").e)(o,r,i))};return new(n("KkS8").a)({key:n("UgDi").a,state:{init:()=>({}),apply(t,o){const{action:r,params:i}=t.getMeta(n("UgDi").a)||{action:null,params:null};let s=o;switch(r){case ne:return s={...o,mentionProvider:i.provider},e.dispatch(n("UgDi").a,s),s;case oe:return s={...o,
contextIdentifierProvider:i.context},e.dispatch(n("UgDi").a,s),s}return s}},props:{nodeViews:{mention:Object(n("iwHK").a)({pmPluginFactoryParams:e,Component:te,extraComponentProps:{providerFactory:e.providerFactory,options:o}})}},view(t){const n=(e,n)=>{switch(e){case"mentionProvider":if(!n)return re(void 0)(t.state,t.dispatch);n.then((e=>{r&&r.unsubscribe("mentionPlugin"),r=e,re(e)(t.state,t.dispatch),e.subscribe("mentionPlugin",void 0,void 0,void 0,void 0,i)})).catch((()=>re(void 0)(t.state,t.dispatch)));break;case"contextIdentifierProvider":if(!n)return ie(void 0)(t.state,t.dispatch);n.then((e=>{ie(e)(t.state,t.dispatch)}))}};return e.providerFactory.subscribe("mentionProvider",n),e.providerFactory.subscribe("contextIdentifierProvider",n),{destroy(){e.providerFactory&&(e.providerFactory.unsubscribe("mentionProvider",n),e.providerFactory.unsubscribe("contextIdentifierProvider",n)),r&&r.unsubscribe("mentionPlugin")}}}})}(t,o,e)}],
secondaryToolbarComponent:({editorView:e,disabled:t})=>r.a.createElement(n("fd7e").a,{editorView:e,plugins:{mentionState:n("UgDi").a},render:({mentionState:o={}})=>o.mentionProvider?r.a.createElement(u,{editorView:e,isDisabled:t||Object(n("Wd+7").g)(e.state)}):null}),pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"mention",title:e(n("ViDr").a.mention),description:e(n("ViDr").a.mentionDescription),keywords:["team","user"],priority:400,keyshortcut:"@",icon:()=>r.a.createElement(n("Jzj3").o,null),action(e,t){const o=e(void 0);return Object(n("ifNk").b)({triggerHandler:i,inputMethod:n("+PNV").f.QUICK_INSERT})(o),Object(n("SVcB").a)(t,o,{action:n("+PNV").a.INVOKED,actionSubject:n("+PNV").b.TYPEAHEAD,actionSubjectId:n("+PNV").c.TYPEAHEAD_MENTION,attributes:{inputMethod:n("+PNV").f.QUICK_INSERT},eventType:n("+PNV").e.UI})}}],typeAhead:i}}}},qmiZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i}))
;const o=(e={})=>(e=>fetch("https://analytics.atlassian.com/analytics/events",{method:"POST",headers:{Accept:"application/json, */*","Content-Type":"application/json"},body:JSON.stringify(e)}))({events:[{name:"atlaskit.fabric.editor.fixtable",product:"atlaskit",properties:e,serverTime:(new Date).getTime(),server:"local",user:"-"}]}),r=(e,t)=>{let n=!1;if(e.doc.descendants(((r,i)=>{"table"===r.type.name&&(n=((e,t,n,r)=>{let i=!1;return n=a(n,e,t,(t=>{const{colwidth:n,colspan:o,rowspan:s}=t.attrs;return r&&(({colspan:e,rowspan:t,tableLocalId:n},o)=>{e&&e<0&&o({nodeType:"tableCell",attribute:"colspan",reason:"negative value",tableLocalId:n,spanValue:e}),t&&t<0&&o({nodeType:"tableCell",attribute:"rowspan",reason:"negative value",tableLocalId:n,spanValue:t})})({colspan:o,rowspan:s,tableLocalId:e.attrs.localId},r),n&&n.length>o?(i=!0,t.type.createChecked({...t.attrs,colwidth:n.slice(0,o)},t.content,t.marks)):t})),!!i&&(o({message:"removeExtraneousColumnWidths"}),!0)
})(r,e.mapping.map(i),e,t))})),n)return e},i=(e,t,o,r,i)=>{let{tr:c}=e.state;const l=function(e,t,o,r){const i=r.querySelector("tr");if(!i)return[];let s=[];for(let a=0;a<i.childElementCount;a++){const c=i.children[a],l=Number(c.getAttribute("colspan")||1);for(let i=0;i<l;i++){const c=a+i,l=Object(n("wfiM").b)(c,t,o,e),d=Object(n("wfiM").a)(l,((e,t)=>Object(n("vxdq").a)(t,r).width));s[c]=Math.max(d,n("9ehW").d)}}return s}(e.domAtPos.bind(e),t,r+1,o),d=l.reduce(((e,t)=>e+t),0),u=s(d),p=Object(n("SdCE").b)(u,i.containerWidth,{});let h=1;d!==p&&(h=p/d);const f=l.map((e=>Math.floor(e*h)));return c=a(c,t,r,((e,t,n)=>{const o=f.slice(n,n+e.attrs.colspan);return e.type.createChecked({...e.attrs,colwidth:o.length?o:null},e.content,e.marks)})),c.setNodeMarkup(r,void 0,{...t.attrs,layout:u,__autoSize:!1}).setMeta("addToHistory",!1)},s=e=>e>n("anI9").X?"full-width":e>n("anI9").i&&e<n("anI9").X?"wide":"default";const a=(e,t,n,o)=>{const r=[];let i=0;for(let s=0;s<t.childCount;s++){
const e=t.child(s),n=[];for(let t=0;t<e.childCount;t++){const r=e.child(t),a=o(r,s,t);!1===a.sameMarkup(r)&&i++,n.push(a)}n.length&&r.push(e.type.createChecked(e.attrs,n,e.marks))}if(r.length&&0!==i){const o=t.type.createChecked(t.attrs,r,t.marks);return e.replaceWith(n,n+t.nodeSize,o)}return e}},qvPZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("tasksAndDecisionsPlugin")},qvvn:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n("lSNA"),r=n.n(o),i=n("pVnL"),s=n.n(i),a=n("q1tI"),c=n.n(a);const l=({props:e})=>{const t=function({props:e}){const{createAnalyticsEvent:t}=Object(n("rZ/p").a)(),o=Object(n("8OMt").a)(e),[r,i]=Object(a.useState)((()=>Object(n("C4C2").a)(e,o)));return Object(a.useLayoutEffect)((()=>{o&&Object(n("c0hv").a)(o,e)&&i(Object(n("C4C2").a)(e,o,t))}),[e,o,t]),r}({props:e});return c.a.createElement(n("HixG").a,s()({preset:t},e))};class d extends c.a.Component{render(){
return Object(n("RxBR").a)(this.props).useEditorNext?c.a.createElement(l,{props:this.props}):c.a.createElement(n("LVTJ").a,this.props)}}d.displayName="EditorMigrationComponent",r()(d,"defaultProps",n("QRYr").a)},"r/3z":function(t,n,o){"use strict";o.d(n,"f",(function(){return i})),o.d(n,"d",(function(){return a})),o.d(n,"a",(function(){return c})),o.d(n,"b",(function(){return l})),o.d(n,"c",(function(){return d})),o.d(n,"g",(function(){return u})),o.d(n,"e",(function(){return p})),o.d(n,"h",(function(){return h})),o.d(n,"i",(function(){return f}));var r=o("mG1W");const i=e=>!!e.type.spec.isolating,s=t=>{const n=o("wYWE").b.get(t),r=n.cellsInRect({left:0,top:0,right:1,bottom:n.height});for(let o=0;o<r.length;o++)try{const e=t.nodeAt(r[o]);if(e&&e.type!==t.type.schema.nodes.tableHeader)return!1}catch(e){return!1}return!0},a=e=>{const t=o("wYWE").b.get(e);for(let n=0;n<t.width;n++){const o=e.nodeAt(t.map[n]);if(o&&o.type!==e.type.schema.nodes.tableHeader)return!1}return!0
},c=e=>m(e,o("zYPQ").c,s,!1),l=e=>m(e,o("zYPQ").c,a,!1),d=e=>m(e,o("zYPQ").c,(e=>!!e.attrs.isNumberColumnEnabled),!1),u=e=>{const{permittedLayouts:t}=o("+62K").a.getState(e).pluginConfig,{bodiedExtension:n,layoutSection:i,expand:s}=e.schema.nodes;return!Object(r.hasParentNodeOfType)([s,i,n])(e.selection)&&t&&("all"===t||t.indexOf("default")>-1&&t.indexOf("wide")>-1&&t.indexOf("full-page")>-1)},p=e=>b(e).reduce(((e,t)=>e+t),0),h=(e,t)=>{let n=b(e),o=b(t);if(n.length!==o.length)return!0;return!1===n.every(((e,t)=>e===o[t]))},f=(e,t)=>{const n=o("wYWE").b.get(t),r=o("wYWE").b.get(e);return n.width!==r.width};function m(e,t,n,o){const r=t(e);return r?n(r.node,r.pos):o}function b(e){if(!e.content.firstChild)return[];let t=[];return e.content.firstChild.content.forEach((e=>{if(Array.isArray(e.attrs.colwidth)){const n=e.attrs.colspan||1;t.push(...e.attrs.colwidth.slice(0,n))}})),t}},rH8c:function(e,t,n){"use strict";const o=e=>`emoji-placeholder-${e}`;t.a=e=>{
const{shortName:t,size:r=20,showTooltip:i,representation:s,loading:a=!1}=e;let c,l;if(s&&r){const e=s.width,t=s.height;e&&t&&(c=r/t*e,l=r)}const d=c||r,u={fill:"f7f7f7",minWidth:`${d}px`,width:`${d}px`,height:`${l||r}px`};return Object(n("AeFk").jsx)("span",{"data-testid":o(t),"aria-busy":a,role:"status","aria-label":t,className:"emoji-common-placeholder",css:a?[n("+OC9").E,n("+OC9").F]:n("+OC9").E,style:u,title:i?t:""})}},rM0u:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><rect x="4" y="5" width="16" height="14" rx="2" fill="currentColor"/></svg>'},e));i.displayName="EditorLayoutSingleIcon";var s=i;t.default=s},rO12:function(e){
e.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223e","acd":"\u223f","acE":"\u223e\u0333","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","Acy":"\u0410","acy":"\u0430","AElig":"\xc6","aelig":"\xe6","af":"\u2061","Afr":"\ud835\udd04","afr":"\ud835\udd1e","Agrave":"\xc0","agrave":"\xe0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03b1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2a3f","amp":"&","AMP":"&","andand":"\u2a55","And":"\u2a53","and":"\u2227","andd":"\u2a5c","andslope":"\u2a58","andv":"\u2a5a","ang":"\u2220","ange":"\u29a4","angle":"\u2220","angmsdaa":"\u29a8","angmsdab":"\u29a9","angmsdac":"\u29aa","angmsdad":"\u29ab","angmsdae":"\u29ac","angmsdaf":"\u29ad","angmsdag":"\u29ae","angmsdah":"\u29af","angmsd":"\u2221","angrt":"\u221f","angrtvb":"\u22be","angrtvbd":"\u299d","angsph":"\u2222","angst":"\xc5","angzarr":"\u237c","Aogon":"\u0104","aogon":"\u0105","Aopf":"\ud835\udd38","aopf":"\ud835\udd52","apacir":"\u2a6f","ap":"\u2248","apE":"\u2a70","ape":"\u224a","apid":"\u224b","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224a","Aring":"\xc5","aring":"\xe5","Ascr":"\ud835\udc9c","ascr":"\ud835\udcb6","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224d","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","awconint":"\u2233","awint":"\u2a11","backcong":"\u224c","backepsilon":"\u03f6","backprime":"\u2035","backsim":"\u223d","backsimeq":"\u22cd","Backslash":"\u2216","Barv":"\u2ae7","barvee":"\u22bd","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23b5","bbrktbrk":"\u23b6","bcong":"\u224c","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201e","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29b0","bepsi":"\u03f6","bernou":"\u212c","Bernoullis":"\u212c","Beta":"\u0392","beta":"\u03b2","beth":"\u2136","between":"\u226c","Bfr":"\ud835\udd05","bfr":"\ud835\udd1f","bigcap":"\u22c2","bigcirc":"\u25ef","bigcup":"\u22c3","bigodot":"\u2a00","bigoplus":"\u2a01","bigotimes":"\u2a02","bigsqcup":"\u2a06","bigstar":"\u2605","bigtriangledown":"\u25bd","bigtriangleup":"\u25b3","biguplus":"\u2a04","bigvee":"\u22c1","bigwedge":"\u22c0","bkarow":"\u290d","blacklozenge":"\u29eb","blacksquare":"\u25aa","blacktriangle":"\u25b4","blacktriangledown":"\u25be","blacktriangleleft":"\u25c2","blacktriangleright":"\u25b8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20e5","bnequiv":"\u2261\u20e5","bNot":"\u2aed","bnot":"\u2310","Bopf":"\ud835\udd39","bopf":"\ud835\udd53","bot":"\u22a5","bottom":"\u22a5","bowtie":"\u22c8","boxbox":"\u29c9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250c","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252c","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229f","boxplus":"\u229e","boxtimes":"\u22a0","boxul":"\u2518","boxuL":"\u255b","boxUl":"\u255c","boxUL":"\u255d","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255a","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253c","boxvH":"\u256a","boxVh":"\u256b","boxVH":"\u256c","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251c","boxvR":"\u255e","boxVr":"\u255f","boxVR":"\u2560","bprime":"\u2035","breve":"\u02d8","Breve":"\u02d8","brvbar":"\xa6","bscr":"\ud835\udcb7","Bscr":"\u212c","bsemi":"\u204f","bsim":"\u223d","bsime":"\u22cd","bsolb":"\u29c5","bsol":"\\\\","bsolhsub":"\u27c8","bull":"\u2022","bullet":"\u2022","bump":"\u224e","bumpE":"\u2aae","bumpe":"\u224f","Bumpeq":"\u224e","bumpeq":"\u224f","Cacute":"\u0106","cacute":"\u0107","capand":"\u2a44","capbrcup":"\u2a49","capcap":"\u2a4b","cap":"\u2229","Cap":"\u22d2","capcup":"\u2a47","capdot":"\u2a40","CapitalDifferentialD":"\u2145","caps":"\u2229\ufe00","caret":"\u2041","caron":"\u02c7","Cayleys":"\u212d","ccaps":"\u2a4d","Ccaron":"\u010c","ccaron":"\u010d","Ccedil":"\xc7","ccedil":"\xe7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2a4c","ccupssm":"\u2a50","Cdot":"\u010a","cdot":"\u010b","cedil":"\xb8","Cedilla":"\xb8","cemptyv":"\u29b2","cent":"\xa2","centerdot":"\xb7","CenterDot":"\xb7","cfr":"\ud835\udd20","Cfr":"\u212d","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03a7","chi":"\u03c7","circ":"\u02c6","circeq":"\u2257","circlearrowleft":"\u21ba","circlearrowright":"\u21bb","circledast":"\u229b","circledcirc":"\u229a","circleddash":"\u229d","CircleDot":"\u2299","circledR":"\xae","circledS":"\u24c8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25cb","cirE":"\u29c3","cire":"\u2257","cirfnint":"\u2a10","cirmid":"\u2aef","cirscir":"\u29c2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201d","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2a74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2a6d","Congruent":"\u2261","conint":"\u222e","Conint":"\u222f","ContourIntegral":"\u222e","copf":"\ud835\udd54","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xa9","COPY":"\xa9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21b5","cross":"\u2717","Cross":"\u2a2f","Cscr":"\ud835\udc9e","cscr":"\ud835\udcb8","csub":"\u2acf","csube":"\u2ad1","csup":"\u2ad0","csupe":"\u2ad2","ctdot":"\u22ef","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22de","cuesc":"\u22df","cularr":"\u21b6","cularrp":"\u293d","cupbrcap":"\u2a48","cupcap":"\u2a46","CupCap":"\u224d","cup":"\u222a","Cup":"\u22d3","cupcup":"\u2a4a","cupdot":"\u228d","cupor":"\u2a45","cups":"\u222a\ufe00","curarr":"\u21b7","curarrm":"\u293c","curlyeqprec":"\u22de","curlyeqsucc":"\u22df","curlyvee":"\u22ce","curlywedge":"\u22cf","curren":"\xa4","curvearrowleft":"\u21b6","curvearrowright":"\u21b7","cuvee":"\u22ce","cuwed":"\u22cf","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232d","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21a1","dArr":"\u21d3","dash":"\u2010","Dashv":"\u2ae4","dashv":"\u22a3","dbkarow":"\u290f","dblac":"\u02dd","Dcaron":"\u010e","dcaron":"\u010f","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21ca","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2a77","deg":"\xb0","Del":"\u2207","Delta":"\u0394","delta":"\u03b4","demptyv":"\u29b1","dfisht":"\u297f","Dfr":"\ud835\udd07","dfr":"\ud835\udd21","dHar":"\u2965","dharl":"\u21c3","dharr":"\u21c2","DiacriticalAcute":"\xb4","DiacriticalDot":"\u02d9","DiacriticalDoubleAcute":"\u02dd","DiacriticalGrave":"`","DiacriticalTilde":"\u02dc","diam":"\u22c4","diamond":"\u22c4","Diamond":"\u22c4","diamondsuit":"\u2666","diams":"\u2666","die":"\xa8","DifferentialD":"\u2146","digamma":"\u03dd","disin":"\u22f2","div":"\xf7","divide":"\xf7","divideontimes":"\u22c7","divonx":"\u22c7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231e","dlcrop":"\u230d","dollar":"$","Dopf":"\ud835\udd3b","dopf":"\ud835\udd55","Dot":"\xa8","dot":"\u02d9","DotDot":"\u20dc","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22a1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222f","DoubleDot":"\xa8","DoubleDownArrow":"\u21d3","DoubleLeftArrow":"\u21d0","DoubleLeftRightArrow":"\u21d4","DoubleLeftTee":"\u2ae4","DoubleLongLeftArrow":"\u27f8","DoubleLongLeftRightArrow":"\u27fa","DoubleLongRightArrow":"\u27f9","DoubleRightArrow":"\u21d2","DoubleRightTee":"\u22a8","DoubleUpArrow":"\u21d1","DoubleUpDownArrow":"\u21d5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21d3","DownArrowUpArrow":"\u21f5","DownBreve":"\u0311","downdownarrows":"\u21ca","downharpoonleft":"\u21c3","downharpoonright":"\u21c2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295e","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21bd","DownRightTeeVector":"\u295f","DownRightVectorBar":"\u2957","DownRightVector":"\u21c1","DownTeeArrow":"\u21a7","DownTee":"\u22a4","drbkarow":"\u2910","drcorn":"\u231f","drcrop":"\u230c","Dscr":"\ud835\udc9f","dscr":"\ud835\udcb9","DScy":"\u0405","dscy":"\u0455","dsol":"\u29f6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22f1","dtri":"\u25bf","dtrif":"\u25be","duarr":"\u21f5","duhar":"\u296f","dwangle":"\u29a6","DZcy":"\u040f","dzcy":"\u045f","dzigrarr":"\u27ff","Eacute":"\xc9","eacute":"\xe9","easter":"\u2a6e","Ecaron":"\u011a","ecaron":"\u011b","Ecirc":"\xca","ecirc":"\xea","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042d","ecy":"\u044d","eDDot":"\u2a77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\ud835\udd08","efr":"\ud835\udd22","eg":"\u2a9a","Egrave":"\xc8","egrave":"\xe8","egs":"\u2a96","egsdot":"\u2a98","el":"\u2a99","Element":"\u2208","elinters":"\u23e7","ell":"\u2113","els":"\u2a95","elsdot":"\u2a97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25fb","emptyv":"\u2205","EmptyVerySmallSquare":"\u25ab","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014a","eng":"\u014b","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\ud835\udd3c","eopf":"\ud835\udd56","epar":"\u22d5","eparsl":"\u29e3","eplus":"\u2a71","epsi":"\u03b5","Epsilon":"\u0395","epsilon":"\u03b5","epsiv":"\u03f5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2a96","eqslantless":"\u2a95","Equal":"\u2a75","equals":"=","EqualTilde":"\u2242","equest":"\u225f","Equilibrium":"\u21cc","equiv":"\u2261","equivDD":"\u2a78","eqvparsl":"\u29e5","erarr":"\u2971","erDot":"\u2253","escr":"\u212f","Escr":"\u2130","esdot":"\u2250","Esim":"\u2a73","esim":"\u2242","Eta":"\u0397","eta":"\u03b7","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","euro":"\u20ac","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\ufb03","fflig":"\ufb00","ffllig":"\ufb04","Ffr":"\ud835\udd09","ffr":"\ud835\udd23","filig":"\ufb01","FilledSmallSquare":"\u25fc","FilledVerySmallSquare":"\u25aa","fjlig":"fj","flat":"\u266d","fllig":"\ufb02","fltns":"\u25b1","fnof":"\u0192","Fopf":"\ud835\udd3d","fopf":"\ud835\udd57","forall":"\u2200","ForAll":"\u2200","fork":"\u22d4","forkv":"\u2ad9","Fouriertrf":"\u2131","fpartint":"\u2a0d","frac12":"\xbd","frac13":"\u2153","frac14":"\xbc","frac15":"\u2155","frac16":"\u2159","frac18":"\u215b","frac23":"\u2154","frac25":"\u2156","frac34":"\xbe","frac35":"\u2157","frac38":"\u215c","frac45":"\u2158","frac56":"\u215a","frac58":"\u215d","frac78":"\u215e","frasl":"\u2044","frown":"\u2322","fscr":"\ud835\udcbb","Fscr":"\u2131","gacute":"\u01f5","Gamma":"\u0393","gamma":"\u03b3","Gammad":"\u03dc","gammad":"\u03dd","gap":"\u2a86","Gbreve":"\u011e","gbreve":"\u011f","Gcedil":"\u0122","Gcirc":"\u011c","gcirc":"\u011d","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2a8c","gel":"\u22db","geq":"\u2265","geqq":"\u2267","geqslant":"\u2a7e","gescc":"\u2aa9","ges":"\u2a7e","gesdot":"\u2a80","gesdoto":"\u2a82","gesdotol":"\u2a84","gesl":"\u22db\ufe00","gesles":"\u2a94","Gfr":"\ud835\udd0a","gfr":"\ud835\udd24","gg":"\u226b","Gg":"\u22d9","ggg":"\u22d9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2aa5","gl":"\u2277","glE":"\u2a92","glj":"\u2aa4","gnap":"\u2a8a","gnapprox":"\u2a8a","gne":"\u2a88","gnE":"\u2269","gneq":"\u2a88","gneqq":"\u2269","gnsim":"\u22e7","Gopf":"\ud835\udd3e","gopf":"\ud835\udd58","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22db","GreaterFullEqual":"\u2267","GreaterGreater":"\u2aa2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2a7e","GreaterTilde":"\u2273","Gscr":"\ud835\udca2","gscr":"\u210a","gsim":"\u2273","gsime":"\u2a8e","gsiml":"\u2a90","gtcc":"\u2aa7","gtcir":"\u2a7a","gt":">","GT":">","Gt":"\u226b","gtdot":"\u22d7","gtlPar":"\u2995","gtquest":"\u2a7c","gtrapprox":"\u2a86","gtrarr":"\u2978","gtrdot":"\u22d7","gtreqless":"\u22db","gtreqqless":"\u2a8c","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\ufe00","gvnE":"\u2269\ufe00","Hacek":"\u02c7","hairsp":"\u200a","half":"\xbd","hamilt":"\u210b","HARDcy":"\u042a","hardcy":"\u044a","harrcir":"\u2948","harr":"\u2194","hArr":"\u21d4","harrw":"\u21ad","Hat":"^","hbar":"\u210f","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22b9","hfr":"\ud835\udd25","Hfr":"\u210c","HilbertSpace":"\u210b","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21ff","homtht":"\u223b","hookleftarrow":"\u21a9","hookrightarrow":"\u21aa","hopf":"\ud835\udd59","Hopf":"\u210d","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\ud835\udcbd","Hscr":"\u210b","hslash":"\u210f","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224e","HumpEqual":"\u224f","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xcd","iacute":"\xed","ic":"\u2063","Icirc":"\xce","icirc":"\xee","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xa1","iff":"\u21d4","ifr":"\ud835\udd26","Ifr":"\u2111","Igrave":"\xcc","igrave":"\xec","ii":"\u2148","iiiint":"\u2a0c","iiint":"\u222d","iinfin":"\u29dc","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012a","imacr":"\u012b","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22b7","imped":"\u01b5","Implies":"\u21d2","incare":"\u2105","in":"\u2208","infin":"\u221e","infintie":"\u29dd","inodot":"\u0131","intcal":"\u22ba","int":"\u222b","Int":"\u222c","integers":"\u2124","Integral":"\u222b","intercal":"\u22ba","Intersection":"\u22c2","intlarhk":"\u2a17","intprod":"\u2a3c","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012e","iogon":"\u012f","Iopf":"\ud835\udd40","iopf":"\ud835\udd5a","Iota":"\u0399","iota":"\u03b9","iprod":"\u2a3c","iquest":"\xbf","iscr":"\ud835\udcbe","Iscr":"\u2110","isin":"\u2208","isindot":"\u22f5","isinE":"\u22f9","isins":"\u22f4","isinsv":"\u22f3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xcf","iuml":"\xef","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\ud835\udd0d","jfr":"\ud835\udd27","jmath":"\u0237","Jopf":"\ud835\udd41","jopf":"\ud835\udd5b","Jscr":"\ud835\udca5","jscr":"\ud835\udcbf","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039a","kappa":"\u03ba","kappav":"\u03f0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041a","kcy":"\u043a","Kfr":"\ud835\udd0e","kfr":"\ud835\udd28","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040c","kjcy":"\u045c","Kopf":"\ud835\udd42","kopf":"\ud835\udd5c","Kscr":"\ud835\udca6","kscr":"\ud835\udcc0","lAarr":"\u21da","Lacute":"\u0139","lacute":"\u013a","laemptyv":"\u29b4","lagran":"\u2112","Lambda":"\u039b","lambda":"\u03bb","lang":"\u27e8","Lang":"\u27ea","langd":"\u2991","langle":"\u27e8","lap":"\u2a85","Laplacetrf":"\u2112","laquo":"\xab","larrb":"\u21e4","larrbfs":"\u291f","larr":"\u2190","Larr":"\u219e","lArr":"\u21d0","larrfs":"\u291d","larrhk":"\u21a9","larrlp":"\u21ab","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21a2","latail":"\u2919","lAtail":"\u291b","lat":"\u2aab","late":"\u2aad","lates":"\u2aad\ufe00","lbarr":"\u290c","lBarr":"\u290e","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298b","lbrksld":"\u298f","lbrkslu":"\u298d","Lcaron":"\u013d","lcaron":"\u013e","Lcedil":"\u013b","lcedil":"\u013c","lceil":"\u2308","lcub":"{","Lcy":"\u041b","lcy":"\u043b","ldca":"\u2936","ldquo":"\u201c","ldquor":"\u201e","ldrdhar":"\u2967","ldrushar":"\u294b","ldsh":"\u21b2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27e8","LeftArrowBar":"\u21e4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21d0","LeftArrowRightArrow":"\u21c6","leftarrowtail":"\u21a2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27e6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21c3","LeftFloor":"\u230a","leftharpoondown":"\u21bd","leftharpoonup":"\u21bc","leftleftarrows":"\u21c7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21d4","leftrightarrows":"\u21c6","leftrightharpoons":"\u21cb","leftrightsquigarrow":"\u21ad","LeftRightVector":"\u294e","LeftTeeArrow":"\u21a4","LeftTee":"\u22a3","LeftTeeVector":"\u295a","leftthreetimes":"\u22cb","LeftTriangleBar":"\u29cf","LeftTriangle":"\u22b2","LeftTriangleEqual":"\u22b4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21bf","LeftVectorBar":"\u2952","LeftVector":"\u21bc","lEg":"\u2a8b","leg":"\u22da","leq":"\u2264","leqq":"\u2266","leqslant":"\u2a7d","lescc":"\u2aa8","les":"\u2a7d","lesdot":"\u2a7f","lesdoto":"\u2a81","lesdotor":"\u2a83","lesg":"\u22da\ufe00","lesges":"\u2a93","lessapprox":"\u2a85","lessdot":"\u22d6","lesseqgtr":"\u22da","lesseqqgtr":"\u2a8b","LessEqualGreater":"\u22da","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2aa1","lesssim":"\u2272","LessSlantEqual":"\u2a7d","LessTilde":"\u2272","lfisht":"\u297c","lfloor":"\u230a","Lfr":"\ud835\udd0f","lfr":"\ud835\udd29","lg":"\u2276","lgE":"\u2a91","lHar":"\u2962","lhard":"\u21bd","lharu":"\u21bc","lharul":"\u296a","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21c7","ll":"\u226a","Ll":"\u22d8","llcorner":"\u231e","Lleftarrow":"\u21da","llhard":"\u296b","lltri":"\u25fa","Lmidot":"\u013f","lmidot":"\u0140","lmoustache":"\u23b0","lmoust":"\u23b0","lnap":"\u2a89","lnapprox":"\u2a89","lne":"\u2a87","lnE":"\u2268","lneq":"\u2a87","lneqq":"\u2268","lnsim":"\u22e6","loang":"\u27ec","loarr":"\u21fd","lobrk":"\u27e6","longleftarrow":"\u27f5","LongLeftArrow":"\u27f5","Longleftarrow":"\u27f8","longleftrightarrow":"\u27f7","LongLeftRightArrow":"\u27f7","Longleftrightarrow":"\u27fa","longmapsto":"\u27fc","longrightarrow":"\u27f6","LongRightArrow":"\u27f6","Longrightarrow":"\u27f9","looparrowleft":"\u21ab","looparrowright":"\u21ac","lopar":"\u2985","Lopf":"\ud835\udd43","lopf":"\ud835\udd5d","loplus":"\u2a2d","lotimes":"\u2a34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25ca","lozenge":"\u25ca","lozf":"\u29eb","lpar":"(","lparlt":"\u2993","lrarr":"\u21c6","lrcorner":"\u231f","lrhar":"\u21cb","lrhard":"\u296d","lrm":"\u200e","lrtri":"\u22bf","lsaquo":"\u2039","lscr":"\ud835\udcc1","Lscr":"\u2112","lsh":"\u21b0","Lsh":"\u21b0","lsim":"\u2272","lsime":"\u2a8d","lsimg":"\u2a8f","lsqb":"[","lsquo":"\u2018","lsquor":"\u201a","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2aa6","ltcir":"\u2a79","lt":"<","LT":"<","Lt":"\u226a","ltdot":"\u22d6","lthree":"\u22cb","ltimes":"\u22c9","ltlarr":"\u2976","ltquest":"\u2a7b","ltri":"\u25c3","ltrie":"\u22b4","ltrif":"\u25c2","ltrPar":"\u2996","lurdshar":"\u294a","luruhar":"\u2966","lvertneqq":"\u2268\ufe00","lvnE":"\u2268\ufe00","macr":"\xaf","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21a6","mapsto":"\u21a6","mapstodown":"\u21a7","mapstoleft":"\u21a4","mapstoup":"\u21a5","marker":"\u25ae","mcomma":"\u2a29","Mcy":"\u041c","mcy":"\u043c","mdash":"\u2014","mDDot":"\u223a","measuredangle":"\u2221","MediumSpace":"\u205f","Mellintrf":"\u2133","Mfr":"\ud835\udd10","mfr":"\ud835\udd2a","mho":"\u2127","micro":"\xb5","midast":"*","midcir":"\u2af0","mid":"\u2223","middot":"\xb7","minusb":"\u229f","minus":"\u2212","minusd":"\u2238","minusdu":"\u2a2a","MinusPlus":"\u2213","mlcp":"\u2adb","mldr":"\u2026","mnplus":"\u2213","models":"\u22a7","Mopf":"\ud835\udd44","mopf":"\ud835\udd5e","mp":"\u2213","mscr":"\ud835\udcc2","Mscr":"\u2133","mstpos":"\u223e","Mu":"\u039c","mu":"\u03bc","multimap":"\u22b8","mumap":"\u22b8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20d2","nap":"\u2249","napE":"\u2a70\u0338","napid":"\u224b\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266e","naturals":"\u2115","natur":"\u266e","nbsp":"\xa0","nbump":"\u224e\u0338","nbumpe":"\u224f\u0338","ncap":"\u2a43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2a6d\u0338","ncup":"\u2a42","Ncy":"\u041d","ncy":"\u043d","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21d7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200b","NegativeThickSpace":"\u200b","NegativeThinSpace":"\u200b","NegativeVeryThinSpace":"\u200b","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226b","NestedLessLess":"\u226a","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\ud835\udd11","nfr":"\ud835\udd2b","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2a7e\u0338","nges":"\u2a7e\u0338","nGg":"\u22d9\u0338","ngsim":"\u2275","nGt":"\u226b\u20d2","ngt":"\u226f","ngtr":"\u226f","nGtv":"\u226b\u0338","nharr":"\u21ae","nhArr":"\u21ce","nhpar":"\u2af2","ni":"\u220b","nis":"\u22fc","nisd":"\u22fa","niv":"\u220b","NJcy":"\u040a","njcy":"\u045a","nlarr":"\u219a","nlArr":"\u21cd","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219a","nLeftarrow":"\u21cd","nleftrightarrow":"\u21ae","nLeftrightarrow":"\u21ce","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2a7d\u0338","nles":"\u2a7d\u0338","nless":"\u226e","nLl":"\u22d8\u0338","nlsim":"\u2274","nLt":"\u226a\u20d2","nlt":"\u226e","nltri":"\u22ea","nltrie":"\u22ec","nLtv":"\u226a\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xa0","nopf":"\ud835\udd5f","Nopf":"\u2115","Not":"\u2aec","not":"\xac","NotCongruent":"\u2262","NotCupCap":"\u226d","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226f","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226b\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2a7e\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224e\u0338","NotHumpEqual":"\u224f\u0338","notin":"\u2209","notindot":"\u22f5\u0338","notinE":"\u22f9\u0338","notinva":"\u2209","notinvb":"\u22f7","notinvc":"\u22f6","NotLeftTriangleBar":"\u29cf\u0338","NotLeftTriangle":"\u22ea","NotLeftTriangleEqual":"\u22ec","NotLess":"\u226e","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226a\u0338","NotLessSlantEqual":"\u2a7d\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2aa2\u0338","NotNestedLessLess":"\u2aa1\u0338","notni":"\u220c","notniva":"\u220c","notnivb":"\u22fe","notnivc":"\u22fd","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2aaf\u0338","NotPrecedesSlantEqual":"\u22e0","NotReverseElement":"\u220c","NotRightTriangleBar":"\u29d0\u0338","NotRightTriangle":"\u22eb","NotRightTriangleEqual":"\u22ed","NotSquareSubset":"\u228f\u0338","NotSquareSubsetEqual":"\u22e2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22e3","NotSubset":"\u2282\u20d2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2ab0\u0338","NotSucceedsSlantEqual":"\u22e1","NotSucceedsTilde":"\u227f\u0338","NotSuperset":"\u2283\u20d2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2afd\u20e5","npart":"\u2202\u0338","npolint":"\u2a14","npr":"\u2280","nprcue":"\u22e0","nprec":"\u2280","npreceq":"\u2aaf\u0338","npre":"\u2aaf\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219b","nrArr":"\u21cf","nrarrw":"\u219d\u0338","nrightarrow":"\u219b","nRightarrow":"\u21cf","nrtri":"\u22eb","nrtrie":"\u22ed","nsc":"\u2281","nsccue":"\u22e1","nsce":"\u2ab0\u0338","Nscr":"\ud835\udca9","nscr":"\ud835\udcc3","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22e2","nsqsupe":"\u22e3","nsub":"\u2284","nsubE":"\u2ac5\u0338","nsube":"\u2288","nsubset":"\u2282\u20d2","nsubseteq":"\u2288","nsubseteqq":"\u2ac5\u0338","nsucc":"\u2281","nsucceq":"\u2ab0\u0338","nsup":"\u2285","nsupE":"\u2ac6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20d2","nsupseteq":"\u2289","nsupseteqq":"\u2ac6\u0338","ntgl":"\u2279","Ntilde":"\xd1","ntilde":"\xf1","ntlg":"\u2278","ntriangleleft":"\u22ea","ntrianglelefteq":"\u22ec","ntriangleright":"\u22eb","ntrianglerighteq":"\u22ed","Nu":"\u039d","nu":"\u03bd","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224d\u20d2","nvdash":"\u22ac","nvDash":"\u22ad","nVdash":"\u22ae","nVDash":"\u22af","nvge":"\u2265\u20d2","nvgt":">\u20d2","nvHarr":"\u2904","nvinfin":"\u29de","nvlArr":"\u2902","nvle":"\u2264\u20d2","nvlt":"<\u20d2","nvltrie":"\u22b4\u20d2","nvrArr":"\u2903","nvrtrie":"\u22b5\u20d2","nvsim":"\u223c\u20d2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21d6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xd3","oacute":"\xf3","oast":"\u229b","Ocirc":"\xd4","ocirc":"\xf4","ocir":"\u229a","Ocy":"\u041e","ocy":"\u043e","odash":"\u229d","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2a38","odot":"\u2299","odsold":"\u29bc","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29bf","Ofr":"\ud835\udd12","ofr":"\ud835\udd2c","ogon":"\u02db","Ograve":"\xd2","ograve":"\xf2","ogt":"\u29c1","ohbar":"\u29b5","ohm":"\u03a9","oint":"\u222e","olarr":"\u21ba","olcir":"\u29be","olcross":"\u29bb","oline":"\u203e","olt":"\u29c0","Omacr":"\u014c","omacr":"\u014d","Omega":"\u03a9","omega":"\u03c9","Omicron":"\u039f","omicron":"\u03bf","omid":"\u29b6","ominus":"\u2296","Oopf":"\ud835\udd46","oopf":"\ud835\udd60","opar":"\u29b7","OpenCurlyDoubleQuote":"\u201c","OpenCurlyQuote":"\u2018","operp":"\u29b9","oplus":"\u2295","orarr":"\u21bb","Or":"\u2a54","or":"\u2228","ord":"\u2a5d","order":"\u2134","orderof":"\u2134","ordf":"\xaa","ordm":"\xba","origof":"\u22b6","oror":"\u2a56","orslope":"\u2a57","orv":"\u2a5b","oS":"\u24c8","Oscr":"\ud835\udcaa","oscr":"\u2134","Oslash":"\xd8","oslash":"\xf8","osol":"\u2298","Otilde":"\xd5","otilde":"\xf5","otimesas":"\u2a36","Otimes":"\u2a37","otimes":"\u2297","Ouml":"\xd6","ouml":"\xf6","ovbar":"\u233d","OverBar":"\u203e","OverBrace":"\u23de","OverBracket":"\u23b4","OverParenthesis":"\u23dc","para":"\xb6","parallel":"\u2225","par":"\u2225","parsim":"\u2af3","parsl":"\u2afd","part":"\u2202","PartialD":"\u2202","Pcy":"\u041f","pcy":"\u043f","percnt":"%","period":".","permil":"\u2030","perp":"\u22a5","pertenk":"\u2031","Pfr":"\ud835\udd13","pfr":"\ud835\udd2d","Phi":"\u03a6","phi":"\u03c6","phiv":"\u03d5","phmmat":"\u2133","phone":"\u260e","Pi":"\u03a0","pi":"\u03c0","pitchfork":"\u22d4","piv":"\u03d6","planck":"\u210f","planckh":"\u210e","plankv":"\u210f","plusacir":"\u2a23","plusb":"\u229e","pluscir":"\u2a22","plus":"+","plusdo":"\u2214","plusdu":"\u2a25","pluse":"\u2a72","PlusMinus":"\xb1","plusmn":"\xb1","plussim":"\u2a26","plustwo":"\u2a27","pm":"\xb1","Poincareplane":"\u210c","pointint":"\u2a15","popf":"\ud835\udd61","Popf":"\u2119","pound":"\xa3","prap":"\u2ab7","Pr":"\u2abb","pr":"\u227a","prcue":"\u227c","precapprox":"\u2ab7","prec":"\u227a","preccurlyeq":"\u227c","Precedes":"\u227a","PrecedesEqual":"\u2aaf","PrecedesSlantEqual":"\u227c","PrecedesTilde":"\u227e","preceq":"\u2aaf","precnapprox":"\u2ab9","precneqq":"\u2ab5","precnsim":"\u22e8","pre":"\u2aaf","prE":"\u2ab3","precsim":"\u227e","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2ab9","prnE":"\u2ab5","prnsim":"\u22e8","prod":"\u220f","Product":"\u220f","profalar":"\u232e","profline":"\u2312","profsurf":"\u2313","prop":"\u221d","Proportional":"\u221d","Proportion":"\u2237","propto":"\u221d","prsim":"\u227e","prurel":"\u22b0","Pscr":"\ud835\udcab","pscr":"\ud835\udcc5","Psi":"\u03a8","psi":"\u03c8","puncsp":"\u2008","Qfr":"\ud835\udd14","qfr":"\ud835\udd2e","qint":"\u2a0c","qopf":"\ud835\udd62","Qopf":"\u211a","qprime":"\u2057","Qscr":"\ud835\udcac","qscr":"\ud835\udcc6","quaternions":"\u210d","quatint":"\u2a16","quest":"?","questeq":"\u225f","quot":"\\"","QUOT":"\\"","rAarr":"\u21db","race":"\u223d\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221a","raemptyv":"\u29b3","rang":"\u27e9","Rang":"\u27eb","rangd":"\u2992","range":"\u29a5","rangle":"\u27e9","raquo":"\xbb","rarrap":"\u2975","rarrb":"\u21e5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21a0","rArr":"\u21d2","rarrfs":"\u291e","rarrhk":"\u21aa","rarrlp":"\u21ac","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21a3","rarrw":"\u219d","ratail":"\u291a","rAtail":"\u291c","ratio":"\u2236","rationals":"\u211a","rbarr":"\u290d","rBarr":"\u290f","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298c","rbrksld":"\u298e","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201d","rdquor":"\u201d","rdsh":"\u21b3","real":"\u211c","realine":"\u211b","realpart":"\u211c","reals":"\u211d","Re":"\u211c","rect":"\u25ad","reg":"\xae","REG":"\xae","ReverseElement":"\u220b","ReverseEquilibrium":"\u21cb","ReverseUpEquilibrium":"\u296f","rfisht":"\u297d","rfloor":"\u230b","rfr":"\ud835\udd2f","Rfr":"\u211c","rHar":"\u2964","rhard":"\u21c1","rharu":"\u21c0","rharul":"\u296c","Rho":"\u03a1","rho":"\u03c1","rhov":"\u03f1","RightAngleBracket":"\u27e9","RightArrowBar":"\u21e5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21d2","RightArrowLeftArrow":"\u21c4","rightarrowtail":"\u21a3","RightCeiling":"\u2309","RightDoubleBracket":"\u27e7","RightDownTeeVector":"\u295d","RightDownVectorBar":"\u2955","RightDownVector":"\u21c2","RightFloor":"\u230b","rightharpoondown":"\u21c1","rightharpoonup":"\u21c0","rightleftarrows":"\u21c4","rightleftharpoons":"\u21cc","rightrightarrows":"\u21c9","rightsquigarrow":"\u219d","RightTeeArrow":"\u21a6","RightTee":"\u22a2","RightTeeVector":"\u295b","rightthreetimes":"\u22cc","RightTriangleBar":"\u29d0","RightTriangle":"\u22b3","RightTriangleEqual":"\u22b5","RightUpDownVector":"\u294f","RightUpTeeVector":"\u295c","RightUpVectorBar":"\u2954","RightUpVector":"\u21be","RightVectorBar":"\u2953","RightVector":"\u21c0","ring":"\u02da","risingdotseq":"\u2253","rlarr":"\u21c4","rlhar":"\u21cc","rlm":"\u200f","rmoustache":"\u23b1","rmoust":"\u23b1","rnmid":"\u2aee","roang":"\u27ed","roarr":"\u21fe","robrk":"\u27e7","ropar":"\u2986","ropf":"\ud835\udd63","Ropf":"\u211d","roplus":"\u2a2e","rotimes":"\u2a35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2a12","rrarr":"\u21c9","Rrightarrow":"\u21db","rsaquo":"\u203a","rscr":"\ud835\udcc7","Rscr":"\u211b","rsh":"\u21b1","Rsh":"\u21b1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22cc","rtimes":"\u22ca","rtri":"\u25b9","rtrie":"\u22b5","rtrif":"\u25b8","rtriltri":"\u29ce","RuleDelayed":"\u29f4","ruluhar":"\u2968","rx":"\u211e","Sacute":"\u015a","sacute":"\u015b","sbquo":"\u201a","scap":"\u2ab8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2abc","sc":"\u227b","sccue":"\u227d","sce":"\u2ab0","scE":"\u2ab4","Scedil":"\u015e","scedil":"\u015f","Scirc":"\u015c","scirc":"\u015d","scnap":"\u2aba","scnE":"\u2ab6","scnsim":"\u22e9","scpolint":"\u2a13","scsim":"\u227f","Scy":"\u0421","scy":"\u0441","sdotb":"\u22a1","sdot":"\u22c5","sdote":"\u2a66","searhk":"\u2925","searr":"\u2198","seArr":"\u21d8","searrow":"\u2198","sect":"\xa7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\ud835\udd16","sfr":"\ud835\udd30","sfrown":"\u2322","sharp":"\u266f","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xad","Sigma":"\u03a3","sigma":"\u03c3","sigmaf":"\u03c2","sigmav":"\u03c2","sim":"\u223c","simdot":"\u2a6a","sime":"\u2243","simeq":"\u2243","simg":"\u2a9e","simgE":"\u2aa0","siml":"\u2a9d","simlE":"\u2a9f","simne":"\u2246","simplus":"\u2a24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2a33","smeparsl":"\u29e4","smid":"\u2223","smile":"\u2323","smt":"\u2aaa","smte":"\u2aac","smtes":"\u2aac\ufe00","SOFTcy":"\u042c","softcy":"\u044c","solbar":"\u233f","solb":"\u29c4","sol":"/","Sopf":"\ud835\udd4a","sopf":"\ud835\udd64","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\ufe00","sqcup":"\u2294","sqcups":"\u2294\ufe00","Sqrt":"\u221a","sqsub":"\u228f","sqsube":"\u2291","sqsubset":"\u228f","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25a1","Square":"\u25a1","SquareIntersection":"\u2293","SquareSubset":"\u228f","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25aa","squ":"\u25a1","squf":"\u25aa","srarr":"\u2192","Sscr":"\ud835\udcae","sscr":"\ud835\udcc8","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22c6","Star":"\u22c6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03f5","straightphi":"\u03d5","strns":"\xaf","sub":"\u2282","Sub":"\u22d0","subdot":"\u2abd","subE":"\u2ac5","sube":"\u2286","subedot":"\u2ac3","submult":"\u2ac1","subnE":"\u2acb","subne":"\u228a","subplus":"\u2abf","subrarr":"\u2979","subset":"\u2282","Subset":"\u22d0","subseteq":"\u2286","subseteqq":"\u2ac5","SubsetEqual":"\u2286","subsetneq":"\u228a","subsetneqq":"\u2acb","subsim":"\u2ac7","subsub":"\u2ad5","subsup":"\u2ad3","succapprox":"\u2ab8","succ":"\u227b","succcurlyeq":"\u227d","Succeeds":"\u227b","SucceedsEqual":"\u2ab0","SucceedsSlantEqual":"\u227d","SucceedsTilde":"\u227f","succeq":"\u2ab0","succnapprox":"\u2aba","succneqq":"\u2ab6","succnsim":"\u22e9","succsim":"\u227f","SuchThat":"\u220b","sum":"\u2211","Sum":"\u2211","sung":"\u266a","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","sup":"\u2283","Sup":"\u22d1","supdot":"\u2abe","supdsub":"\u2ad8","supE":"\u2ac6","supe":"\u2287","supedot":"\u2ac4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27c9","suphsub":"\u2ad7","suplarr":"\u297b","supmult":"\u2ac2","supnE":"\u2acc","supne":"\u228b","supplus":"\u2ac0","supset":"\u2283","Supset":"\u22d1","supseteq":"\u2287","supseteqq":"\u2ac6","supsetneq":"\u228b","supsetneqq":"\u2acc","supsim":"\u2ac8","supsub":"\u2ad4","supsup":"\u2ad6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21d9","swarrow":"\u2199","swnwar":"\u292a","szlig":"\xdf","Tab":"\\t","target":"\u2316","Tau":"\u03a4","tau":"\u03c4","tbrk":"\u23b4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20db","telrec":"\u2315","Tfr":"\ud835\udd17","tfr":"\ud835\udd31","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03b8","thetasym":"\u03d1","thetav":"\u03d1","thickapprox":"\u2248","thicksim":"\u223c","ThickSpace":"\u205f\u200a","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223c","THORN":"\xde","thorn":"\xfe","tilde":"\u02dc","Tilde":"\u223c","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2a31","timesb":"\u22a0","times":"\xd7","timesd":"\u2a30","tint":"\u222d","toea":"\u2928","topbot":"\u2336","topcir":"\u2af1","top":"\u22a4","Topf":"\ud835\udd4b","topf":"\ud835\udd65","topfork":"\u2ada","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25b5","triangledown":"\u25bf","triangleleft":"\u25c3","trianglelefteq":"\u22b4","triangleq":"\u225c","triangleright":"\u25b9","trianglerighteq":"\u22b5","tridot":"\u25ec","trie":"\u225c","triminus":"\u2a3a","TripleDot":"\u20db","triplus":"\u2a39","trisb":"\u29cd","tritime":"\u2a3b","trpezium":"\u23e2","Tscr":"\ud835\udcaf","tscr":"\ud835\udcc9","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040b","tshcy":"\u045b","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226c","twoheadleftarrow":"\u219e","twoheadrightarrow":"\u21a0","Uacute":"\xda","uacute":"\xfa","uarr":"\u2191","Uarr":"\u219f","uArr":"\u21d1","Uarrocir":"\u2949","Ubrcy":"\u040e","ubrcy":"\u045e","Ubreve":"\u016c","ubreve":"\u016d","Ucirc":"\xdb","ucirc":"\xfb","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21c5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296e","ufisht":"\u297e","Ufr":"\ud835\udd18","ufr":"\ud835\udd32","Ugrave":"\xd9","ugrave":"\xf9","uHar":"\u2963","uharl":"\u21bf","uharr":"\u21be","uhblk":"\u2580","ulcorn":"\u231c","ulcorner":"\u231c","ulcrop":"\u230f","ultri":"\u25f8","Umacr":"\u016a","umacr":"\u016b","uml":"\xa8","UnderBar":"_","UnderBrace":"\u23df","UnderBracket":"\u23b5","UnderParenthesis":"\u23dd","Union":"\u22c3","UnionPlus":"\u228e","Uogon":"\u0172","uogon":"\u0173","Uopf":"\ud835\udd4c","uopf":"\ud835\udd66","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21d1","UpArrowDownArrow":"\u21c5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21d5","UpEquilibrium":"\u296e","upharpoonleft":"\u21bf","upharpoonright":"\u21be","uplus":"\u228e","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03c5","Upsi":"\u03d2","upsih":"\u03d2","Upsilon":"\u03a5","upsilon":"\u03c5","UpTeeArrow":"\u21a5","UpTee":"\u22a5","upuparrows":"\u21c8","urcorn":"\u231d","urcorner":"\u231d","urcrop":"\u230e","Uring":"\u016e","uring":"\u016f","urtri":"\u25f9","Uscr":"\ud835\udcb0","uscr":"\ud835\udcca","utdot":"\u22f0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25b5","utrif":"\u25b4","uuarr":"\u21c8","Uuml":"\xdc","uuml":"\xfc","uwangle":"\u29a7","vangrt":"\u299c","varepsilon":"\u03f5","varkappa":"\u03f0","varnothing":"\u2205","varphi":"\u03d5","varpi":"\u03d6","varpropto":"\u221d","varr":"\u2195","vArr":"\u21d5","varrho":"\u03f1","varsigma":"\u03c2","varsubsetneq":"\u228a\ufe00","varsubsetneqq":"\u2acb\ufe00","varsupsetneq":"\u228b\ufe00","varsupsetneqq":"\u2acc\ufe00","vartheta":"\u03d1","vartriangleleft":"\u22b2","vartriangleright":"\u22b3","vBar":"\u2ae8","Vbar":"\u2aeb","vBarv":"\u2ae9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22a2","vDash":"\u22a8","Vdash":"\u22a9","VDash":"\u22ab","Vdashl":"\u2ae6","veebar":"\u22bb","vee":"\u2228","Vee":"\u22c1","veeeq":"\u225a","vellip":"\u22ee","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200a","Vfr":"\ud835\udd19","vfr":"\ud835\udd33","vltri":"\u22b2","vnsub":"\u2282\u20d2","vnsup":"\u2283\u20d2","Vopf":"\ud835\udd4d","vopf":"\ud835\udd67","vprop":"\u221d","vrtri":"\u22b3","Vscr":"\ud835\udcb1","vscr":"\ud835\udccb","vsubnE":"\u2acb\ufe00","vsubne":"\u228a\ufe00","vsupnE":"\u2acc\ufe00","vsupne":"\u228b\ufe00","Vvdash":"\u22aa","vzigzag":"\u299a","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2a5f","wedge":"\u2227","Wedge":"\u22c0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\ud835\udd1a","wfr":"\ud835\udd34","Wopf":"\ud835\udd4e","wopf":"\ud835\udd68","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\ud835\udcb2","wscr":"\ud835\udccc","xcap":"\u22c2","xcirc":"\u25ef","xcup":"\u22c3","xdtri":"\u25bd","Xfr":"\ud835\udd1b","xfr":"\ud835\udd35","xharr":"\u27f7","xhArr":"\u27fa","Xi":"\u039e","xi":"\u03be","xlarr":"\u27f5","xlArr":"\u27f8","xmap":"\u27fc","xnis":"\u22fb","xodot":"\u2a00","Xopf":"\ud835\udd4f","xopf":"\ud835\udd69","xoplus":"\u2a01","xotime":"\u2a02","xrarr":"\u27f6","xrArr":"\u27f9","Xscr":"\ud835\udcb3","xscr":"\ud835\udccd","xsqcup":"\u2a06","xuplus":"\u2a04","xutri":"\u25b3","xvee":"\u22c1","xwedge":"\u22c0","Yacute":"\xdd","yacute":"\xfd","YAcy":"\u042f","yacy":"\u044f","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042b","ycy":"\u044b","yen":"\xa5","Yfr":"\ud835\udd1c","yfr":"\ud835\udd36","YIcy":"\u0407","yicy":"\u0457","Yopf":"\ud835\udd50","yopf":"\ud835\udd6a","Yscr":"\ud835\udcb4","yscr":"\ud835\udcce","YUcy":"\u042e","yucy":"\u044e","yuml":"\xff","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017a","Zcaron":"\u017d","zcaron":"\u017e","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017b","zdot":"\u017c","zeetrf":"\u2128","ZeroWidthSpace":"\u200b","Zeta":"\u0396","zeta":"\u03b6","zfr":"\ud835\udd37","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21dd","zopf":"\ud835\udd6b","Zopf":"\u2124","Zscr":"\ud835\udcb5","zscr":"\ud835\udccf","zwj":"\u200d","zwnj":"\u200c"}')
},rPiI:function(t,n,o){"use strict";o.d(n,"a",(function(){return d}));var r=o("MEpN"),i=o("hyZr"),s=o("UxO+");const a=({node:e,tr:t,position:n})=>{const{start:i,end:a}=n;if(e.isText)return t.replaceWith(i,a,e);if(e.isBlock){t.delete(i,a);const n=t.mapping.map(i),c=Object(o("Gbq5").b)(t,e);if(Object(o("hSri").b)(c,n)(t))return t;const l=r.Slice.maxOpen(r.Fragment.from(c)),{from:d,to:u}=function(e,t,n){const o=e.resolve(t),r=(e,t)=>({from:e,to:t||e});for(let i=o.depth;i>=0;i--){const e=o.node(i),t=Math.max(i-1,0),s=o.node(t),a="paragraph"===e.type.name&&0===e.content.size,c=o.index(t),l=s.canReplaceWith(c,c,n.type);if(a&&l){const n=o.posAtIndex(c,t);return r(n,n+e.nodeSize)}const d=o.indexAfter(t);if(s.canReplaceWith(d,d,n.type))return r(o.posAtIndex(d,t))}return r(0)}(t.doc,n,c);t.replaceWith(d,u,e);const p=Math.min(d+(e.isAtom?e.nodeSize:l.openStart),t.doc.content.size),h=1,f=s.TextSelection.findFrom(t.doc.resolve(p),h,!0);if(f)return t.setSelection(f)}return t
},c=({editorState:t,handler:n,query:c,wasInsertedBySpace:l,selectedIndex:d,textStartPosition:u,textInserted:p})=>(h,f={})=>{const{tr:m}=t,b={start:u,end:u+(l?p.length:0)},g=(({schema:t,maybeNode:n})=>{if(!n)return null;if(n instanceof r.Node||n instanceof r.Fragment)return n;if("string"==typeof n)return t.text(n);try{return r.Node.fromJSON(t,n)}catch(e){return console.error(e),null}})({schema:t.schema,maybeNode:h});if(!g)return Object(o("7jB3").a)(m),m.delete(b.start,b.end),m;if(g instanceof r.Node&&g.isBlock?a({node:g,tr:m,position:b}):(({maybeFragment:e,tr:t,position:n,selectInlineNode:o})=>{const{start:i,end:a}=n,c=e instanceof r.Node?r.Fragment.from(e):e;t.replaceWith(i,a,c),o?t.setSelection(s.NodeSelection.create(t.doc,i)):t.setSelection(s.TextSelection.near(t.doc.resolve(i+c.size)))})({maybeFragment:g,tr:m,position:b,selectInlineNode:Boolean(f.selectInlineNode)}),Object(i.a)(m),l)return m;const v={stage:o("cblB").a.INSERTING_ITEM,query:c,selectedIndex:d,trigger:n.trigger}
;return m.step(new(o("cblB").b)(v)),m},l=({trigger:e,selectedIndex:t,position:n,query:r,wasInsertedBySpace:s,insertItem:a})=>c=>{const l=c.tr;if(Object(i.a)(l),!s){l.delete(n.start,n.end);const i={stage:o("cblB").a.DELETING_RAW_QUERY,selectedIndex:t,query:r,trigger:e};l.step(new(o("cblB").b)(i))}return l.setMeta(o("yUK8").a,{action:o("Y+O0").a.INSERT_ITEM,params:a}),l},d=e=>({item:t,handler:n,mode:r,query:s,sourceListItem:a})=>{const d=Object(o("Wd+7").c)(e.state);if(!d)return;const u=(d.stats||new(o("TBml").a)).serialize(),p={mode:r,query:s,stats:u,sourceListItem:a},{tr:h}=e.state,f=n.trigger;let m=`${f}${s}`;r===o("FOo9").a.SPACE&&(m=m.trim().concat(" "));const b=r===o("FOo9").a.SPACE,{selection:{from:g}}=h,v={start:h.selection.from,end:h.selection.from+m.length};h.setMeta(o("yUK8").a,{action:o("Y+O0").a.INSERT_RAW_QUERY,params:l({wasInsertedBySpace:b,selectedIndex:-1,insertItem:e=>{const a=c({editorState:e,query:s,mode:r,handler:n,wasInsertedBySpace:b,selectedIndex:-1,
textInserted:m,textStartPosition:g});let l=!1;const d=new Proxy(a,{apply:function(e,t,n){return l=!0,e(...n)}}),u=n.selectItem(e,t,d,p);return!l&&u&&(Object(i.a)(u),u.getMeta(o("yUK8").a)||Object(o("7jB3").a)(u)),u},position:v,query:s,trigger:f})}),h.insertText(m),Object(i.a)(h),e.dispatch(h),e.focus()}},raAN:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u}));var o=n("mG1W");const r=e=>e.setMeta(n("3FAS").b,{changed:!0});function i(e){return Object(n("eFSV").a)({type:"UPDATE_STATE",data:e})}function s(e,t){return Object(n("eFSV").a)({type:"UPDATE_STATE",data:{showContextPanel:!0,processParametersBefore:e,processParametersAfter:t}},r)}const a=Object(n("eFSV").a)({type:"UPDATE_STATE",data:{showContextPanel:!1,processParametersBefore:void 0,processParametersAfter:void 0}
},r),c=(e,t)=>Object(n("eFSV").a)({type:"UPDATE_STATE",data:{autoSaveResolve:e,autoSaveReject:t}},r),l=e=>Object(n("eFSV").a)({type:"UPDATE_STATE",data:{layout:e}},((t,o)=>{const r=Object(n("wqCz").f)(o,!0);if(r){const n=t.setNodeMarkup(r.pos,void 0,{...r.node.attrs,layout:e});return n.setMeta("scrollIntoView",!1),n}return t})),d=()=>Object(n("eFSV").a)({type:"UPDATE_STATE",data:{element:void 0}},((e,t)=>Object(n("wqCz").f)(t)?Object(o.removeSelectedNode)(e):Object(o.removeParentNodeOfType)(t.schema.nodes.bodiedExtension)(e))),u=e=>Object(n("eFSV").a)({type:"UPDATE_STATE",data:{element:void 0}},((t,o)=>e?Object(n("dqkW").d)(o,e):t))},"rh9/":function(e,t,n){"use strict";function o(e,t,o,r){return async(i,s)=>{var a;const c=await t.contextIdentifierProvider,l=null==c?void 0:c.objectId;if(r&&Object(n("ViYe").a)(r)({payload:{action:e,actionSubject:n("+PNV").b.EDITOR,attributes:{duration:i,startTime:s,objectId:l},eventType:n("+PNV").e.OPERATIONAL}}),
null!==(a=t.featureFlags)&&void 0!==a&&a.ufo){const t=o();null==t||t.mark(n("IYQB").a.loadEditor,e,s+i),null==t||t.addMetadata(n("IYQB").a.loadEditor,{objectId:l})}}}n.d(t,"a",(function(){return o}))},rnvK:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("MEpN"),r=n("mG1W");const i=(e,t,r,i,s)=>{if(!e.selection.empty)return null;let a=null;const{rule:c}=e.schema.nodes,{newInsertionBehaviour:l}=t;return l&&(a=e.tr.replaceWith(r,i,o.Fragment.empty),a=Object(n("hSri").b)(c.createChecked(),a.selection.from)(a)),a||(a=e.tr.replaceRange(r,i,new o.Slice(o.Fragment.from(e.schema.nodes.rule.createChecked()),0,0))),Object(n("SVcB").a)(e,a,{action:n("+PNV").a.INSERTED,actionSubject:n("+PNV").b.DOCUMENT,actionSubjectId:n("+PNV").c.DIVIDER,attributes:{inputMethod:s},eventType:n("+PNV").e.TRACK})},s=(e,t,o,s)=>{const{listItem:a}=e.schema.nodes;return Object(r.hasParentNodeOfType)(a)(e.selection)?null:i(e,t,o,s,n("+PNV").f.FORMATTING)};t.b=function(e,t){const o=[]
;if(e.nodes.rule&&(o.push(Object(n("9hcL").c)(/^(\-\-\-|\*\*\*)$/,((e,n,o,r)=>s(e,t,o,r)))),o.push(Object(n("9hcL").c)(new RegExp(`${n("N3sK").b}(\\-\\-\\-|\\*\\*\\*)`),((e,n,o,r)=>{const{hardBreak:i}=e.schema.nodes;return e.doc.resolve(o).nodeAfter.type!==i?null:s(e,t,o,r)})))),0!==o.length)return Object(n("9hcL").b)("rule",o,{isBlockNodeRule:!0})}},rzDG:function(e,t,n){"use strict";var o=n("AGgm").isWhiteSpace,r=n("AGgm").isPunctChar,i=n("AGgm").isMdAsciiPunct,s=/['"]/,a=/['"]/g;function c(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}function l(e,t){var n,s,l,d,u,p,h,f,m,b,g,v,y,O,E,w,S,k,x,C,T;for(x=[],n=0;n<e.length;n++){for(s=e[n],h=e[n].level,S=x.length-1;S>=0&&!(x[S].level<=h);S--);if(x.length=S+1,"text"===s.type){u=0,p=(l=s.content).length;e:for(;u<p&&(a.lastIndex=u,d=a.exec(l));){if(E=w=!0,u=d.index+1,k="'"===d[0],m=32,d.index-1>=0)m=l.charCodeAt(d.index-1);else for(S=n-1;S>=0&&("softbreak"!==e[S].type&&"hardbreak"!==e[S].type);S--)if(e[S].content){
m=e[S].content.charCodeAt(e[S].content.length-1);break}if(b=32,u<p)b=l.charCodeAt(u);else for(S=n+1;S<e.length&&("softbreak"!==e[S].type&&"hardbreak"!==e[S].type);S++)if(e[S].content){b=e[S].content.charCodeAt(0);break}if(g=i(m)||r(String.fromCharCode(m)),v=i(b)||r(String.fromCharCode(b)),y=o(m),(O=o(b))?E=!1:v&&(y||g||(E=!1)),y?w=!1:g&&(O||v||(w=!1)),34===b&&'"'===d[0]&&m>=48&&m<=57&&(w=E=!1),E&&w&&(E=g,w=v),E||w){if(w)for(S=x.length-1;S>=0&&(f=x[S],!(x[S].level<h));S--)if(f.single===k&&x[S].level===h){f=x[S],k?(C=t.md.options.quotes[2],T=t.md.options.quotes[3]):(C=t.md.options.quotes[0],T=t.md.options.quotes[1]),s.content=c(s.content,d.index,T),e[f.token].content=c(e[f.token].content,f.pos,C),u+=T.length-1,f.token===n&&(u+=C.length-1),p=(l=s.content).length,x.length=S;continue e}E?x.push({token:n,pos:d.index,single:k,level:h}):w&&k&&(s.content=c(s.content,d.index,"\u2019"))}else k&&(s.content=c(s.content,d.index,"\u2019"))}}}}e.exports=function(e){var t
;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&s.test(e.tokens[t].content)&&l(e.tokens[t].children,e)}},s1gk:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("pVnL"),r=n.n(o),i=n("q1tI"),s=n.n(i);const a=e=>({[n("eyKR").a]:t=>{const o=Object(n("d/M9").p)(t[1]);return Object(n("7xfi").a)(e,o).then((e=>{if(e){return{type:"inlineCard",attrs:{url:`${window.location.protocol}//${window.location.host}/browse/${o}`}}}return null})).catch((()=>null))}}),c=e=>({getRules:async()=>({...a(e)})}),l=e=>{var t;return(t=class extends i.Component{render(){return s.a.createElement(e,r()({autoformattingProvider:c(this.props.baseUrl)},this.props))}}).displayName="WithAutoformattingProvider",t}},s2er:function(e,t,n){var o=n("VSTI"),r=n("7whZ"),i="__core-js_shared__",s=r[i]||(r[i]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:o.version,mode:n("5ETA")?"pure":"global",
copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},s3Ml:function(e,t,n){e.exports={default:n("QRdY"),__esModule:!0}},sFWM:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var o=n("UxO+"),r=n("mG1W");const i=new o.PluginKey("mobile-selection"),s=e=>new(n("KkS8").a)({view:t=>{const n=t.domAtPos.bind(t);return{update:(t,o)=>{const{state:s,state:{selection:a,doc:c}}=t;if(o.doc.eq(c)&&o.selection.eq(a))return;const l=Object(r.findDomRefAtPos)(a.$anchor.pos,n),{top:d,left:u}=l.getBoundingClientRect(),{nodeTypes:p,markTypes:h}=(({selection:e,doc:t})=>{const n=new Array,o=new Array;return t.nodesBetween(e.from,e.to,(e=>(n.push(e.type.name),e.marks.forEach((e=>o.push(e.type.name))),!0))),{nodeTypes:Array.from(n),markTypes:Array.from(o)}})(s);e(i,{rect:{top:Math.round(d),left:Math.round(u)},selection:s.selection.toJSON(),nodeTypes:p,markTypes:h})}}}}),a=()=>({name:"mobileSelection",pmPlugins:()=>[{name:"mobileSelection",
plugin:({dispatch:e})=>s(e)}]})},sVlj:function(e,t,n){"use strict";var o=n("pVnL"),r=n.n(o),i=n("q1tI"),s=n.n(i);const a=e=>{const{emoji:t,placeholderSize:o,...a}=e;Object(n("aQUV").a)(n("xFh9").d["emoji-rendered"].getInstance(t.id||t.shortName),20,{source:"CachingEmoji",emojiId:t.id}),Object(i.useEffect)((()=>{Object(n("xFh9").a)(Object(n("xFh9").c)(t),"fmp")||Object(n("xFh9").c)(t).markFMP()}),[]);return s.a.createElement(n("nfRB").a,{experiences:[n("xFh9").d["emoji-rendered"].getInstance(e.emoji.id||e.emoji.shortName)]},(()=>Object(n("l4Cm").k)(t)?s.a.createElement(c,r()({emoji:t,placeholderSize:o},a)):s.a.createElement(n("hXRZ").a,r()({emoji:t},a)))())},c=e=>{const{emoji:t,placeholderSize:o,showTooltip:a,fitToHeight:c,children:l,...d}=e,{shortName:u,representation:p}=t,[h,f]=Object(i.useState)(),[m,b]=Object(i.useState)(!1),{emojiProvider:g}=Object(n("Iiav").a)(),v=Object(i.useCallback)((e=>{Object(n("wjyn").a)("Loading image via media cache",t.shortName),
Object(n("xFh9").c)(t).mark(n("DhJ/").e.MEDIA_START),e.getMediaEmojiDescriptionURLWithInlineToken(t).then((e=>{f(e),b(!1),Object(n("xFh9").c)(t).mark(n("DhJ/").e.MEDIA_END)})).catch((e=>{f(void 0),b(!0),Object(n("xFh9").c)(t).failure({metadata:{error:Object(n("uVoC").g)(e),reason:"failed to load media emoji",source:"CachingMediaEmoji",emojiId:t.id}})}))}),[t]);Object(i.useEffect)((()=>{g&&v(g)}),[g,v]);const y=e=>{Object(n("xFh9").c)(e).failure({metadata:{reason:"load error",source:"CachingMediaEmoji",emojiId:e.id}}),b(!0)};return h&&!m?s.a.createElement(n("hXRZ").a,r()({},d,{showTooltip:a,fitToHeight:c,emoji:h,onLoadError:y})):s.a.createElement(n("rH8c").a,{size:c||o,shortName:u,showTooltip:a,representation:p})};t.a=Object(i.memo)(a)},scwk:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("q1tI"),r=n.n(o);function i(){return r.a.createElement("svg",{focusable:"false","aria-hidden":!0,width:40,height:40
},r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"-26.046%",y1:"100%",x2:"62.626%",y2:"0%",id:"fallback-a"},r.a.createElement("stop",{stopColor:"#B3BAC5",offset:"0%"}),r.a.createElement("stop",{stopColor:"#A5ADBA",offset:"100%"}))),r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{fill:"#FFF",d:"M0 0h40v40H0z"}),r.a.createElement("path",{fill:"#DFE1E6",d:"M20 16h12v12H20z"}),r.a.createElement("path",{fill:"url(#fallback-a)",d:"M8 16h12v12H8z"}),r.a.createElement("path",{d:"M20 16c-4 .5-6.029 2.5-6.086 6-.057 3.5-2.028 5.5-5.914 6h12V16z",fill:"#A5ADBA"}),r.a.createElement("path",{fill:"#B3BAC5",d:"M17.5 13h5v3h-5z"}),r.a.createElement("path",{fill:"#A5ADBA",d:"M10 13h5v3h-5z"}),r.a.createElement("path",{fill:"#DFE1E6",d:"M25 13h5v3h-5z"})))}},sgbj:function(t,n,o){"use strict";o.d(n,"a",(function(){return S}));var r=o("CsC6");const i=(e,t,n)=>t*e.width+n;function s(e,t,n){const o=i(e,t,n)
;return n>0&&e.map[o-1]===e.map[o]||n<e.width-1&&e.map[o+1]===e.map[o]}function a(e,t,n){const o=i(e,t,n);return!(t>0)||e.map[o-e.width]!==e.map[o]}function*c(e,t){const{map:n,tableStart:r,table:c}=e;let l=t>0?-1:0;Object(o("3ILy").b)(n,c,t+l)&&(l=0===t||t===n.width?null:0);for(let d=0;d<n.height;d++){let u=i(e.map,d,t),p=n.map[u];const h=s(e.map,d,t)&&a(e.map,d,t);let f=null==l?Object(o("p81E").a)(c.type.schema).cell:c.nodeAt(n.map[u+l]).type;h||(p=n.positionAt(d,t,c));let m=c.nodeAt(p);const b={from:r+p,to:r+p,row:d,col:h?n.colCount(p):t,type:f,hasMergedCells:h};m&&(b.attrs=m.attrs,b.to=r+p+m.nodeSize);const g=yield b;g&&g>0&&(d+=g)}}function l(e,t){let[n,o]=[0,t.map.width-1];const r=e.values();let i=r.next();for(let s=0;s<t.map.height&&!i.done;s++)for(let e=n;e<=o;e++){const a=s*t.map.width+e,c=t.map.map[a],l=i.value.from-t.tableStart;if(c===l){n=e;const s=o-n+a;for(let e=a;e<=s&&t.map.map[e]===c;e++)o=n+e-a;if(n===o)return n;i=r.next();break}if(e===t.map.width-1){
if(c+t.table.nodeAt(c).nodeSize===l)return t.map.width}}return null}function d(e,t){const n=e.nodeAt(t);if(!n||"table"!==n.type.name)throw new Error(`No table at position "${t}".`);const r=o("wYWE").b.get(n),i=e.resolve(t);return{map:r,table:n,tableStart:i.start(i.depth+1),bottom:0,left:0,right:0,top:0}}function u(e){return e&&e.rowspan?e.rowspan-1:0}function p(e,t,n,r,i,s){if(void 0!==r.mergeWith){let n=e.doc.nodeAt(e.mapping.map(r.mergeWith));const a=s-t.map.colCount(r.mergeWith-t.tableStart),c=i?Object(o("11sg").c)(n.attrs,a):Object(o("11sg").a)(n.attrs,a);if(c.colspan>0)return e.setNodeMarkup(e.mapping.map(r.mergeWith),void 0,c),{tr:e,skipRows:u(c),cellStep:r};r.from=r.mergeWith,r.to=r.from+n.nodeSize,r.mergeWith=void 0}let a=0;if(i){a=u(e.doc.nodeAt(e.mapping.map(r.from)).attrs),e.delete(e.mapping.map(r.from),e.mapping.map(r.to))}else r.newCell?(e.insert(e.mapping.map(r.from),r.newCell),a=u(r.newCell.attrs)):e.insert(e.mapping.map(r.from),n.type.createAndFill());return{tr:e,
skipRows:a,cellStep:r}}function h(e,t){return void 0!==e.mergeWith?[e.mergeWith,1,1]:t?[e.from,e.to-e.from,0]:e.newCell?[e.from,0,e.newCell.nodeSize]:[e.from,0,4]}function f(e,t,n,o,r){const i=function(e,t,n){if(n)return e.map(t.from)-t.from;const[,o,r]=h(t,n);return e.map(t.from)-t.from-(r-o)}(r,n,o),s={...n,from:n.from+i,to:n.to+i};if(void 0!==n.mergeWith&&(s.mergeWith=n.mergeWith+i),o){const o=e.nodeAt(n.from);s.newCell=o.copy(o.content);const{column:r,rect:i}=t();if(r<i.map.width){const e=i.map.colCount(n.from-i.tableStart)+o.attrs.colspan-1===r;void 0!==n.mergeWith&&e&&(s.mergeWith=s.from,s.from=s.to)}}return s}function m(e,t,n,o){const r={from:e.from,to:e.to};return e.hasMergedCells&&(t!==e.col||n)&&(r.mergeWith=e.from),o&&(void 0!==o.mergeWith&&(r.mergeWith=o.mergeWith),o.newCell&&(r.newCell=o.newCell)),r}class b{constructor(e){e&&(this.table=e)}addTableSideEffect(e,t,n){this.table={from:e,to:t,node:n}}handleAddTable(e,t){
return!(t||!this.table)&&(e.insert(this.table.from,this.table.node),!0)}handleRemoveTable(e,t,n,o,r){return!(!r||1!==n.map.width||0!==o)&&(this.addTableSideEffect(t,t+n.table.nodeSize,n.table.copy(n.table.content)),e.delete(t,t+n.table.nodeSize),!0)}getTableMap(e){if(!this.table)return;const{from:t,to:n}=this.table;return e?new r.g([t,n-t,0]):new r.g([t,0,n-t])}map(e){if(this.table)return{from:e.map(this.table.from),to:e.map(this.table.to),node:this.table.node}}invert(e){if(!this.table)return;const t=e.nodeAt(this.table.from);return{from:this.table.from,to:this.table.from+t.nodeSize,node:t.copy(t.content)}}toJSON(){if(this.table)return{from:this.table.from,to:this.table.to,node:this.table.node.toJSON()}}static fromJSON(e,t){return{from:t.from,to:t.to,node:e.nodeFromJSON(t.node)}}}var g=o("lSNA"),v=o.n(g);function y(e,t,n,o){const r=o.rowNode.child(0);return e.insert(e.mapping.map(o.from),o.rowNode),function(e,t,n){const{map:o,tableStart:r}=t;for(let i=0;i<o.width;i++){
let t=n*o.width+i,s=o.map[t];const a=e.mapping.map(s+r);let c=e.doc.nodeAt(a).attrs;e.setNodeMarkup(a,void 0,{...c,rowspan:c.rowspan+1}),i+=c.colspan-1}}(e,t,n),r.attrs.rowspan-1}class O{constructor(e){v()(this,"deleteHandler",(()=>{const e=[];return{handle:(t,n,o,r,i)=>{if(!function(e,t,n){const o=e.table.child(t);return!!o&&1===o.childCount&&!s(e.map,t,n)}(n,o,r))return{handled:!1};const{row:a,skipRows:c}=function(e,t,n,o){let r=t.tableStart;for(let c=0;c<n;c++)r+=t.table.child(c).nodeSize;const i=t.table.child(n);let s=r+i.nodeSize;e.delete(e.mapping.map(r),e.mapping.map(s));const a=function(e,t,n,o){let r=0;const{map:i,table:s,tableStart:a}=t;for(let c=0;c<i.width;c++){let t=n*i.width+c,l=i.map[t];if(n>0&&l===i.map[t-i.width]){const t=e.mapping.map(l+a);let n=e.doc.nodeAt(t).attrs;e.setNodeMarkup(t,void 0,{...n,rowspan:n.rowspan-1}),c+=n.colspan-1}else c===o&&(r=s.nodeAt(l).attrs.rowspan-1)}return r}(e,t,n,o);return{skipRows:a,row:{from:r,to:s,rowNode:i.copy(i.content)}}}(t,n,o,r)
;return e.push(a),{handled:!0,skipRows:c}},end:()=>{e.length>0?this.rows=e:this.rows=void 0}}})),v()(this,"addHandler",(()=>{let e=0,t=0;return{handle:(n,o,r,i,s)=>{if(!this.rows||t>=this.rows.length)return{handled:!1};let a,c;for(;(c=this.rows[t])&&c.from>e&&c.from<s.from;)a=y(n,o,r-1,c),t++;return e=s.from,a&&0!==a?{handled:!0,skipRows:a-1}:{handled:!1}},end:(e,n,o)=>{if(!this.rows||t>=this.rows.length)return;let r;for(;r=this.rows[t];)y(e,n,n.map.height-1,r),t++}}})),this.rows=e}start(e){return e?this.deleteHandler():this.addHandler()}addRowRanges(e,t){if(!this.rows)return e;const n=[];for(const o of this.rows){const{from:e,to:r}=o;t?n.push(e,r-e,0):n.push(e,0,r-e)}return function(e,t){const n=[],o=e.length,r=t.length;let i=0,s=0;for(;i<o&&s<r;)e[i]<t[s]?(n.push(e[i],e[i+1],e[i+2]),i+=3):(n.push(t[s],t[s+1],t[s+2]),s+=3);return i<o&&n.push(...e.slice(i)),s<r&&n.push(...t.slice(i)),n}(e,n)}map(e){return[]}invert(e,t,n){if(!this.rows)return;const o=[];for(const r of this.rows)if(t){
let e=n.map(r.from)-r.from;o.push({...r,from:r.from+e,to:r.from+e})}return o}toJSON(){if(!this.rows)return;const e=[];for(const t of this.rows)e.push({from:t.from,to:t.to,rowNode:t.rowNode.toJSON()});return e}static fromJSON(e,t){const n=[];for(const o of t)n.push({from:o.from,to:o.to,rowNode:e.nodeFromJSON(o.rowNode)});return n}}class E{constructor(e){this.table=new b(e&&e.table),this.rows=new O(e&&e.rows)}getTableMap(e){return this.table.getTableMap(e)}map(e){const t={},n=this.table.map(e),o=this.rows.map(e);return n&&(t.table=n),o&&(t.rows=o),t}invert(e,t,n){const o={},r=this.table.invert(e);r&&(o.table=r);const i=this.rows.invert(e,t,n);return i&&(o.rows=i),o}toJSON(){const e=this.table.toJSON(),t=this.rows.toJSON();if(!e&&!t)return;const n={};return e&&(n.table=e),t&&(n.rows=t),n}static fromJSON(e,t){const n={};return t.table&&(n.table=b.fromJSON(e,t.table)),t.rows&&(n.rows=O.fromJSON(e,t.rows)),n}}const w="ak-add-column";class S extends r.f{constructor(e,t,n=!1){super(),
this.tablePos=e,this.isDelete=n,this.sideEffectsHandler=new E(t.sideEffects),this.columnInfo=function(e){return new Map(e.map((e=>[e.from,e])))}(t.cells)}apply(t){const{tablePos:n}=this,o=new r.i(t);if(this.sideEffectsHandler.table.handleAddTable(o,this.isDelete))return r.h.ok(o.doc);let i;try{i=d(t,n)}catch(e){return r.h.fail(e.message)}const s=l(this.columnInfo,i);return null===s?r.h.fail(`No column for this cells "${function(e){let t=[];for(const n of e.values())t.push(n.from);return`[${t.join(",")}]`}(this.columnInfo)}" in table at position "${n}".`):(this.sideEffectsHandler.table.handleRemoveTable(o,this.tablePos,i,s,this.isDelete)||(this.columnInfo=this.applyCellSteps(o,i,s,this.isDelete)),r.h.ok(o.doc))}map(e){const t=e.mapResult(this.tablePos);if(t.deleted)return null;const n=[];for(const r of this.columnInfo.values()){const t=e.mapResult(r.from),o=e.mapResult(r.to);if(t.deleted&&o.deleted)continue;const i={...r,from:t.pos,to:o.pos}
;void 0!==r.mergeWith&&(i.mergeWith=e.map(r.mergeWith)),n.push(i)}if(0===n.length)return null;const o=this.sideEffectsHandler.map(e);return new S(t.pos,{cells:n,sideEffects:o},this.isDelete)}invert(e){const t=this.getMap(),n=((e,t,n)=>Object(o("Wwog").a)((()=>{const o=d(e,t),r=l(n,o);if(null===r)throw new Error("no column");return{rect:o,column:r}})))(e,this.tablePos,this.columnInfo),r=Array.from(this.columnInfo.values(),(o=>f(e,n,o,this.isDelete,t))),i=this.sideEffectsHandler.invert(e,this.isDelete,t);return new S(this.tablePos,{cells:r,sideEffects:i},!this.isDelete)}getMap(){const e=this.sideEffectsHandler.getTableMap(this.isDelete);if(e)return e;let t=[];for(const n of this.columnInfo.values())t.push(...h(n,this.isDelete));return t=this.sideEffectsHandler.rows.addRowRanges(t,this.isDelete),new r.g(t)}merge(e){return null}toJSON(){const e={stepType:w,tablePos:this.tablePos,cells:Array.from(this.columnInfo.values(),(e=>{const t={from:e.from,to:e.to}
;return void 0!==e.mergeWith&&(t.mergeWith=e.mergeWith),void 0!==e.newCell&&(t.newCell=e.newCell.toJSON()),t})),isDelete:this.isDelete},t=this.sideEffectsHandler.toJSON();return t&&(e.sideEffects=t),e}static fromJSON(e,t){const n=t.cells.map((t=>({...t,newCell:t.newCell?e.nodeFromJSON(t.newCell):void 0})));let o;return t.sideEffects&&(o=E.fromJSON(e,t.sideEffects)),new S(t.tablePos,{cells:n,sideEffects:o},t.isDelete)}static create(e,t,n,o=!1){const r=[],i=c(d(e,t),n);let s=i.next();for(;!s.done;){const e=s.value;r.push(m(e,n,o));let t=0;e.attrs&&e.attrs.rowspan&&(t=e.attrs.rowspan-1),s=i.next(t)}return new S(t,{cells:r},o)}applyCellSteps(e,t,n,o){const r=new Map,i=this.sideEffectsHandler.rows.start(this.isDelete),s=c(t,n);let a=s.next();for(;!a.done;){const c=a.value,l=m(c,n,o,this.columnInfo.get(c.from)),d=i.handle(e,t,c.row,n,c);if(d.handled){a=s.next(d.skipRows);continue}const{skipRows:u,cellStep:h}=p(e,t,c,l,o,n);r.set(l.from,h),a=s.next(u)}return i.end(e,t,n),r}}r.f.jsonID(w,S)},
si0k:function(e,t,n){"use strict";function o(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function r(e){return Object.prototype.toString.call(e)}function i(e){return"[object Function]"===r(e)}function s(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var a={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var c={"http:":{validate:function(e,t,n){var o=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(o)?o.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var o=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(o)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:o.match(n.re.no_http)[0].length:0}},"mailto:":{
validate:function(e,t,n){var o=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(o)?o.match(n.re.mailto)[0].length:0}}},l="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function d(){return function(e,t){t.normalize(e)}}function u(e){var t=e.re=n("siWD")(e.__opts__),o=e.__tlds__.slice();function a(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||o.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),o.push(t.src_xn),t.src_tlds=o.join("|"),t.email_fuzzy=RegExp(a(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(a(t.tpl_link_fuzzy),"i"),
t.link_no_ip_fuzzy=RegExp(a(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(a(t.tpl_host_fuzzy_test),"i");var c=[];function l(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var o={validate:null,link:null};if(e.__compiled__[t]=o,function(e){return"[object Object]"===r(e)}(n))return!function(e){return"[object RegExp]"===r(e)}(n.validate)?i(n.validate)?o.validate=n.validate:l(t,n):o.validate=function(e){return function(t,n){var o=t.slice(n);return e.test(o)?o.match(e)[0].length:0}}(n.validate),void(i(n.normalize)?o.normalize=n.normalize:n.normalize?l(t,n):o.normalize=d());!function(e){return"[object String]"===r(e)}(n)?l(t,n):c.push(t)}})),c.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={
validate:null,normalize:d()};var u=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(s).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+u+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+u+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function p(e,t){var n=e.__index__,o=e.__last_index__,r=e.__text_cache__.slice(n,o);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=o+t,this.raw=r,this.text=r,this.url=r}function h(e,t){var n=new p(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function f(e,t){if(!(this instanceof f))return new f(e,t);t||function(e){return Object.keys(e||{}).reduce((function(e,t){return e||a.hasOwnProperty(t)}),!1)}(e)&&(t=e,e={}),this.__opts__=o({},a,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",
this.__schemas__=o({},c,e),this.__compiled__={},this.__tlds__=l,this.__tlds_replaced__=!1,this.re={},u(this)}f.prototype.add=function(e,t){return this.__schemas__[e]=t,u(this),this},f.prototype.set=function(e){return this.__opts__=o(this.__opts__,e),this},f.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,o,r,i,s,a,c;if(this.re.schema_test.test(e))for((a=this.re.schema_search).lastIndex=0;null!==(t=a.exec(e));)if(r=this.testSchemaAt(e,t[2],a.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+r;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||c<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length)),
this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(o=e.match(this.re.email_fuzzy))&&(i=o.index+o[1].length,s=o.index+o[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=s)),this.__index__>=0},f.prototype.pretest=function(e){return this.re.pretest.test(e)},f.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},f.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(h(this,t)),t=this.__last_index__);for(var o=t?e.slice(t):e;this.test(o);)n.push(h(this,t)),o=o.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},f.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),u(this),
this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,u(this),this)},f.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},f.prototype.onCompile=function(){},e.exports=f},siWD:function(e,t,n){"use strict";e.exports=function(e){var t={};t.src_Any=n("y8fO").source,t.src_Cc=n("p7ys").source,t.src_Z=n("T8I8").source,t.src_P=n("fKCf").source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><\uff5c]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><\uff5c]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",
t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+"[><\uff5c]|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+").|;(?!"+t.src_ZCc+").|\\!+(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",
t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><\uff5c]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},soJG:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),
n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s}));var o=n("UxO+");async function r(e){const t=e.state&&n("JE3G").a.getState(e.state);t&&t.showContextPanel&&await new Promise((t=>{Object(n("raAN").b)(t)(e.state,e.dispatch)}))}async function i(e){const t=e.state&&n("wBzk").a.getState(e.state);return t&&t.waitForMediaUpload&&await t.waitForPendingTasks(),e.state.doc}function s(e){return(t,n)=>{let{tr:r}=t,i=!1;const s=e=>{const t=e.selection.toJSON();r.setSelection(o.Selection.fromJSON(r.doc,t)),e.steps.forEach((e=>{r.step(e)})),i=!0};return e.forEach((e=>e(t,s))),!(!n||!i)&&(n(r),!0)}}},sriu:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var o=n("pVnL"),r=n.n(o),i=n("q1tI"),s=n.n(i),a=n("DTaC");const c=Object(n("D6b/").defineMessages)({heading:{defaultMessage:"Something went wrong!",description:"Heading displayed when an unhandled error occurs.",id:"fabric.linkPicker.unhandledError.heading"},description:{defaultMessage:"Try reloading the page.",
description:"Body message shown underneath the heading when an unhandled error occurs.",id:"fabric.linkPicker.unhandledError.description"}}),l=()=>{const e=Object(n("3NU0").a)(),t=e.formatMessage(c.heading),o=e.formatMessage(c.description);return Object(n("AeFk").jsx)("div",{css:n("CHoB").c,"data-testid":"link-picker-root-error-boundary-ui"},Object(n("AeFk").jsx)(n("Z+5E").a,{header:t,renderImage:()=>Object(n("AeFk").jsx)(n("i/+K").a,null),description:o}))};class d extends i.Component{constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e,t){const{onError:n}=this.props;n&&n(e,t),this.setState({hasError:!0})}render(){const{children:e,ErrorComponent:t}=this.props,{hasError:n}=this.state;return n&&t?s.a.createElement(t,null):e}}d.displayName="BaseErrorBoundary";var u=Object(n("VHV8").a)()((function({children:e,createAnalyticsEvent:t}){const o=Object(n("6EZf").b)(),r=Object(i.useCallback)(((e,r)=>{var i,s,a;t(Object(n("7xzX").a)("ui.linkPicker.unhandledErrorCaught",{
browserInfo:(null===(i=window)||void 0===i||null===(s=i.navigator)||void 0===s?void 0:s.userAgent)||"unknown",error:e.toString(),componentStack:null!==(a=null==r?void 0:r.componentStack)&&void 0!==a?a:""})).fire("media"),Object(n("9l+G").b)(n("9l+G").e.mounted,o)}),[t,o]);return s.a.createElement(d,{onError:r,ErrorComponent:l},e)}));const p=({hideDisplayText:e})=>Object(n("AeFk").jsx)("div",{css:e?n("CHoB").e:n("CHoB").d,"data-testid":"link-picker-root-loader-boundary-ui"},Object(n("AeFk").jsx)(n("6UK4").a,{testId:"link-picker.component-loading-indicator",size:"medium"})),h="link-picker-root",f={packageName:n("3ecq").a,packageVersion:n("3ecq").b,componentName:"linkPicker",source:"linkPicker"},m=Object(a.j)((()=>n.e("@atlaskit-internal_link-picker").then(n.bind(null,"sFk6"))),{moduleId:"./node_modules/@atlaskit/link-picker/dist/es2019/ui/link-picker/index.js"}),b=({children:e})=>s.a.createElement("div",{"data-testid":h},e),g=Object(i.memo)((e=>{const{component:t}=e,o=null!=t?t:b
;return s.a.createElement(n("APFK").a,{data:f},s.a.createElement(n("6EZf").a,null,s.a.createElement(u,null,s.a.createElement(a.b,{fallback:s.a.createElement(p,{hideDisplayText:e.hideDisplayText})},s.a.createElement(o,r()({},e,{"data-testid":h}),s.a.createElement(m,e))))))}))},st3q:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),s=n.n(i),a=n("17x9"),c=n.n(a);class l extends s.a.Component{constructor(...e){super(...e),r()(this,"listeners",{}),r()(this,"debounce",null),r()(this,"notAppliedState",{}),r()(this,"isSubscribed",!1),r()(this,"callsCount",0),r()(this,"state",this.getPluginsStates(this.props.plugins,this.getEditorView(this.props,this.context))),r()(this,"handlePluginStateChange",((e,t,n,o)=>r=>{(this.state[e]!==r||o)&&this.updateState({stateSubset:{[e]:r},pluginName:t,performanceOptions:n})})),r()(this,"updateState",(({stateSubset:e,pluginName:t,performanceOptions:o})=>{this.notAppliedState={...this.notAppliedState,...e},
this.debounce&&window.clearTimeout(this.debounce);const r=!1!==this.props.debounce?e=>window.setTimeout(e,0):e=>e();this.debounce=r((()=>{const e=`\ud83e\udd89${t}::WithPluginState`;o.trackingEnabled&&Object(n("61k9").b)(e),this.setState(this.notAppliedState,(()=>{o.trackingEnabled&&Object(n("61k9").c)(e,(e=>{if(++this.callsCount%o.samplingRate==0&&e>o.slowThreshold){const o=this.getEditorView();this.dispatchAnalyticsEvent({action:n("+PNV").a.WITH_PLUGIN_STATE_CALLED,actionSubject:n("+PNV").b.EDITOR,eventType:n("+PNV").e.OPERATIONAL,attributes:{plugin:t,duration:e,participants:Object(n("eMYd").a)(o&&o.state)}})}}))})),this.debounce=null,this.notAppliedState={}}))})),r()(this,"dispatchAnalyticsEvent",(e=>{const t=this.getEventDispatcher();if(t){Object(n("SMi2").b)(t)(n("rJZJ").b,{payload:e})}})),r()(this,"onContextUpdate",(()=>{this.subscribe(this.props)}))}getEditorView(e,t){const n=e||this.props,o=t||this.context
;return n.editorView||o&&o.editorActions&&o.editorActions._privateGetEditorView()||o&&o.editorSharedConfig&&o.editorSharedConfig.editorView}getEventDispatcher(e){return(e||this.props).eventDispatcher||this.context&&this.context.editorActions&&this.context.editorActions._privateGetEventDispatcher()||this.context&&this.context.editorSharedConfig&&this.context.editorSharedConfig.eventDispatcher}getPluginsStates(e,t){if(!t||!e)return{};return Object.keys(e).reduce(((n,o)=>{const r=e[o];return r?(n[o]=r.getState(t.state),n):n}),{})}subscribe(e){var t,n;const o=e.plugins,r=this.getEventDispatcher(e),i=this.getEditorView(e);if(!r||!i||this.isSubscribed)return;const s=(e=>e.analyticsPlugin$)(i.state),a=s&&s.performanceTracking&&s.performanceTracking.uiTracking||{},c=!0===a.enabled,l=null!==(t=a.samplingRate)&&void 0!==t?t:100,d=null!==(n=a.slowThreshold)&&void 0!==n?n:4;this.isSubscribed=!0;const u=this.getPluginsStates(o,i);this.setState(u),Object.keys(o).forEach((e=>{const t=o[e]
;if(!t)return;const n=t.key,i=u[e],s=i&&i.subscribe,a=this.handlePluginStateChange(e,n,{samplingRate:l,slowThreshold:d,trackingEnabled:c},s);s?i.subscribe(a):r.on(t.key,a),this.listeners[t.key]={handler:a,pluginKey:t}}))}unsubscribe(){const e=this.getEventDispatcher(),t=this.getEditorView();e&&t&&this.isSubscribed&&(Object.keys(this.listeners).forEach((n=>{const o=this.listeners[n].pluginKey.getState(t.state);o&&o.unsubscribe?o.unsubscribe(this.listeners[n].handler):e.off(n,this.listeners[n].handler)})),this.listeners=[])}subscribeToContextUpdates(e){e&&e.editorActions&&e.editorActions._privateSubscribe(this.onContextUpdate)}unsubscribeFromContextUpdates(e){e&&e.editorActions&&e.editorActions._privateUnsubscribe(this.onContextUpdate)}componentDidMount(){this.subscribe(this.props),this.subscribeToContextUpdates(this.context)}UNSAFE_componentWillReceiveProps(e){this.isSubscribed||this.subscribe(e)}componentWillUnmount(){this.debounce&&window.clearTimeout(this.debounce),
this.unsubscribeFromContextUpdates(this.context),this.unsubscribe()}render(){const{render:e}=this.props;return e(this.state)}}l.displayName="WithPluginState",r()(l,"displayName","WithPluginState"),r()(l,"contextTypes",{editorActions:c.a.object,editorSharedConfig:c.a.object})},"t+JJ":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var o=n("UxO+");const r=[48,49,50,51,52,53,54],i=(e,t)=>{switch(e){case n("Kuh0").k:return!!t.schema.nodes.paragraph;case n("Kuh0").e:case n("Kuh0").f:case n("Kuh0").g:case n("Kuh0").h:case n("Kuh0").i:case n("Kuh0").j:return!!t.schema.nodes.heading;case n("Kuh0").a:return!!t.schema.nodes.blockquote;case n("Kuh0").b:return!!t.schema.nodes.codeBlock;case n("Kuh0").m:return!!t.schema.nodes.panel}},s=(e,t)=>{if(!t.selection)return n("Kuh0").k;let o;const{$from:r,$to:i}=t.selection;return t.doc.nodesBetween(r.pos,i.pos,(r=>{const i=e.filter((e=>e===((e,t)=>{if(e.type===t.nodes.heading){
const t=n("Kuh0").c[e.attrs.level];if(t)return t}else if(e.type===t.nodes.paragraph)return n("Kuh0").k;return n("Kuh0").l})(r,t.schema)));i.length>0&&(o?o!==n("Kuh0").l&&o!==i[0]&&(o=n("Kuh0").l):o=i[0])})),o||n("Kuh0").l},a=(e,t)=>(0===e?Object(n("XJbs").g)(n("+PNV").f.FORMATTING)(t.state,t.dispatch):Object(n("XJbs").f)(e,n("+PNV").f.FORMATTING)(t.state,t.dispatch),!0),c=new o.PluginKey("blockTypePlugin"),l=(e,t)=>{let o=0;return new(n("KkS8").a)({appendTransaction(e,n,o){if(t){const e=o.doc.resolve(o.doc.content.size-1).node(1),{paragraph:t}=o.schema.nodes;if(e&&e.isBlock&&e.type!==t)return o.tr.insert(o.doc.content.size,o.schema.nodes.paragraph.create()).setMeta("addToHistory",!1)}},state:{init(e,t){const o=n("Kuh0").n.filter((e=>i(e,t))),r=n("Kuh0").o.filter((e=>i(e,t)));return{currentBlockType:s(o,t),blockTypesDisabled:Object(n("D4z0").a)(t),availableBlockTypes:o,availableWrapperBlockTypes:r}},apply(t,o,r,i){const a={...o,currentBlockType:s(o.availableBlockTypes,i),
blockTypesDisabled:Object(n("D4z0").a)(i)};return a.currentBlockType===o.currentBlockType&&a.blockTypesDisabled===o.blockTypesDisabled||e(c,a),a}},key:c,props:{handleKeyDown:(e,t)=>{const i=r.indexOf(t.keyCode);if(i>-1&&t.altKey){if(n("j5wO").a.mac&&t.metaKey)return a(i,e);if(!n("j5wO").a.mac&&t.ctrlKey&&o!==t.DOM_KEY_LOCATION_RIGHT)return a(i,e)}else"Alt"===t.key?o=t.location:t.altKey||(o=0);return!1}}})}},t0jr:function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"c",(function(){return f}));var o=n("MEpN"),r=n("UxO+");const i=Object(n("SVcB").b)({action:n("+PNV").a.INSERTED,actionSubject:n("+PNV").b.TEXT,actionSubjectId:n("+PNV").c.LINE_BREAK,eventType:n("+PNV").e.TRACK})(function(){return function(e,t){
const{$from:n}=e.selection,i=n.parent,{hardBreak:s}=e.schema.nodes;if(s){const n=s.createChecked();if(i&&i.type.validContent(o.Fragment.from(n)))return t&&t(e.tr.replaceSelectionWith(n,!1)),!0}return e.selection instanceof r.TextSelection&&(t&&t(e.tr.insertText("\n")),!0)}}()),s=(e,t)=>!(Object(n("D4z0").c)(e)||!c(e))&&(l(false)(e,t),!0),a=(e,t)=>!(Object(n("D4z0").b)(e)||!c(e))&&(l(true)(e,t),!0);function c(e){const{selection:{$from:t}}=e,n=t.node(t.depth),o=!!n&&n.type===e.schema.nodes.codeBlock,i=e.selection instanceof r.NodeSelection;return t.depth>1||i||o}function l(e=!0){return function(t,n){const o=t.schema.nodes.paragraph;if(!o)return!1;let i;if(t.selection instanceof r.TextSelection){if(function(e){const t=e.selection.$from.node(1);return t.isTextblock&&t.type!==e.schema.nodes.codeBlock&&2===t.nodeSize}(t))return!1;i=function(e,t){const{$from:n,$to:o}=e.selection;let r;r=t?o.end(0):n.start(0);return r}(t,e)}else i=function(e,t){
const{$from:n,$to:o}=e.selection,i=e.selection instanceof r.NodeSelection&&e.doc.nodeAt(e.selection.$anchor.pos),s=i&&"mediaGroup"===i.type.name;let a;t?(a=o.end(o.depth),a=o.depth>0&&!s?a+1:a):(a=n.start(n.depth),a=n.depth>0&&!s?a-1:a);return a}(t,e);const s=t.tr.insert(i,o.createAndFill());return s.setSelection(r.TextSelection.create(s.doc,i+1)),n&&n(s),!0}}function d(e){const{doc:{type:{schema:{nodes:{paragraph:t}}}},doc:n}=e;!n.lastChild||n.lastChild.type===t&&0===n.lastChild.content.size||t&&e.insert(n.content.size,t.createAndFill()),e.setSelection(r.TextSelection.create(e.doc,e.doc.content.size-1)),e.scrollIntoView()}const u=e=>(t,n)=>{const{from:o,to:r}=t.selection,i=t.tr;return t.doc.nodesBetween(o,r,((n,o)=>{n.type===t.schema.nodes.mediaSingle&&i.setNodeMarkup(o,void 0,{...n.attrs,layout:"center"===e?"center":`align-${e}`})})),!(!i.docChanged||!n)&&(n(i.scrollIntoView()),!0)},p=(e,t,n)=>(o,r,i,s)=>{let a=!1;return s.doc.nodesBetween(o,r,((o,r,c)=>{if(!o.type.isBlock)return!1
;if((!n||(Array.isArray(n)?n.indexOf(o.type)>-1:n(s.schema,o,c)))&&c.type.allowsMarkType(e)){const n=o.marks.filter((t=>t.type===e)),s=n.length?n[0].attrs:void 0,c=t(s,o);void 0!==c&&(i.setNodeMarkup(r,o.type,o.attrs,o.marks.filter((t=>!e.excludes(t.type))).concat(!1===c?[]:e.create(c))),a=!0)}})),a},h=(e,t,o)=>(r,i)=>{let s=!1;const a=r.tr,c=p(e,t,o);if(r.selection instanceof n("n1Ll").a)r.selection.forEachCell(((e,t)=>{s=c(t,t+e.nodeSize,a,r)}));else{const{from:e,to:t}=r.selection;s=c(e,t,a,r)}return!(!s||!a.docChanged)&&(i&&i(a.scrollIntoView()),!0)},f=(e,t)=>{const n=e.tr;return n.replace(0,e.doc.nodeSize-2),n.setSelection(r.Selection.atStart(n.doc)),!!t&&(t(n),!0)}},t93G:function(e,t,n){"use strict";let o,r,i,s;n.d(t,"a",(function(){return o})),function(e){e.EDIT="edit",e.NEW="new"}(o||(o={})),function(e){e.RESOLVED="resolved",e.UNRESOLVED="unresolved"}(r||(r={})),function(e){e.TEXT="text",e.INLINE_CARD="inlineCard",e.BLOCK_CARD="blockCard",e.EMBED="embed"}(i||(i={})),function(e){
e.JIRA="jiraIssue",e.CONFLUENCE="confluencePage",e.BITBUCKET_PR="bitbucketPR",e.BITBUCKET_REPO="bitbucketRepo",e.TRELLO_CARD="trelloCard",e.TRELLO_BOARD="trelloBoard",e.STATUS_PAGE="statusPage",e.BOX="boxFile",e.DROPBOX="dropboxFile",e.OFFICE="office",e.DRIVE="drive",e.YOUTUBE="youtubeVideo",e.TWITTER="twitterTweet",e.OTHER="other"}(s||(s={}))},"td/r":function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("sEfC"),s=n.n(i),a=Object(n("D6b/").defineMessages)({placeholderText:{id:"canned-response-issue-view-modal.common.canned-response-form.canned-response-content-editor.placeholder-text",defaultMessage:"use /image to add images, videos and files",description:"Placeholder text for canned response editor"}}),c=Object(n("D6b/").defineMessages)({dropdownTitle:{id:"canned-response-issue-view-modal.common.canned-response-form.canned-response-content-editor.template-variable-dropdown.dropdown-title",defaultMessage:"Insert variable",description:"Title of Insert Variable Dropdown"},
issueSummary:{id:"canned-response-issue-view-modal.common.canned-response-form.canned-response-content-editor.template-variable-dropdown.issue-summary",defaultMessage:"Issue Summary",description:"Title of Issue Summary dropdown Option"},issueKey:{id:"canned-response-issue-view-modal.common.canned-response-form.canned-response-content-editor.template-variable-dropdown.issue-key",defaultMessage:"Issue Key",description:"Title of Issue Key dropdown Option"},issueReporter:{id:"canned-response-issue-view-modal.common.canned-response-form.canned-response-content-editor.template-variable-dropdown.issue-reporter",defaultMessage:"Issue Reporter",description:"Title of Issue Reporter dropdown Option"},issueResolution:{id:"canned-response-issue-view-modal.common.canned-response-form.canned-response-content-editor.template-variable-dropdown.issue-resolution",defaultMessage:"Issue Resolution",description:"Title of Issue Resolution dropdown Option"},issueAssignee:{
id:"canned-response-issue-view-modal.common.canned-response-form.canned-response-content-editor.template-variable-dropdown.issue-assignee",defaultMessage:"Issue Assignee",description:"Title of Issue Assignee dropdown Option"},requestStatus:{id:"canned-response-issue-view-modal.common.canned-response-form.canned-response-content-editor.template-variable-dropdown.request-status",defaultMessage:"Request Status",description:"Title of Request Status dropdown Option"},currentUser:{id:"canned-response-issue-view-modal.common.canned-response-form.canned-response-content-editor.template-variable-dropdown.current-user",defaultMessage:"Current User",description:"Title of Current User dropdown Option"},requestUrl:{id:"canned-response-issue-view-modal.common.canned-response-form.canned-response-content-editor.template-variable-dropdown.request-url",defaultMessage:"Request URL",description:"Title of Request URL dropdown Option"},portalUrl:{
id:"canned-response-issue-view-modal.common.canned-response-form.canned-response-content-editor.template-variable-dropdown.portal-url",defaultMessage:"Portal URL",description:"Title of Portal URL dropdown Option"}});const l=[{text:"currentUser",type:n("SHqh").a.TEXT},{text:"issueSummary",type:n("SHqh").a.TEXT},{text:"issueKey",type:n("SHqh").a.TEXT},{text:"issueReporter",type:n("SHqh").a.TEXT},{text:"issueResolution",type:n("SHqh").a.TEXT},{text:"issueAssignee",type:n("SHqh").a.TEXT},{text:"requestStatus",type:n("SHqh").a.TEXT}],d=[{text:"currentUser",type:n("SHqh").a.TEXT},{text:"issueSummary",type:n("SHqh").a.TEXT},{text:"issueKey",type:n("SHqh").a.TEXT},{text:"issueReporter",type:n("SHqh").a.TEXT},{text:"issueResolution",type:n("SHqh").a.TEXT},{text:"issueAssignee",type:n("SHqh").a.TEXT},{text:"requestStatus",type:n("SHqh").a.TEXT},{text:"requestUrl",type:n("SHqh").a.INLINE_CARD},{text:"portalUrl",type:n("SHqh").a.INLINE_CARD}],u=({editorActions:e})=>{
const{formatMessage:t}=Object(n("3NU0").a)(),[i,s]=Object(o.useState)(!1),[a,u]=Object(o.useState)(null),p=Object(n("AWMj").a)()?d:l,h=Object(o.useCallback)((()=>{if(!i&&a){const t={type:"inlineExtension",attrs:{extensionType:n("jHPN").b,extensionKey:n("jHPN").a,text:a.text,parameters:{type:a.type}}};Object(n("s27v").b)(t,e),u(null)}}),[e,a,i]);return Object(o.useEffect)((()=>{h()}),[i,a,h]),r.a.createElement(n("ztRY").a,{trigger:t(c.dropdownTitle),isOpen:i,onOpenChange:e=>s(e.isOpen)},r.a.createElement(n("nYno").a,null,p.sort(((e,t)=>e.text.localeCompare(t.text))).map((e=>r.a.createElement(n("Gf1E").a,{key:e.text,onClick:()=>u(e)},t(c[e.text]))))))};u.displayName="TemplateVariableDropdown";var p=u;const h=({content:e,onFormDataChange:t,mediaProvider:i})=>{const{formatMessage:c}=Object(n("3NU0").a)(),l=Object(o.useRef)(null),d=[new(n("pP/b").a)([n("ydRh").b])],u=Object(o.useCallback)((e=>s()((()=>{e.getValue().then((e=>{if(void 0!==e){const o=Object(n("bmwK").g)(Object(n("bmwK").i)(e))
;if(!o||Object(n("bmwK").e)(o))return void t({content:void 0});t({content:o})}})).catch((()=>{}))}),50)),[t]);return r.a.createElement("div",{ref:l},r.a.createElement(n("mgK1").a,null,r.a.createElement(n("GqfY").a,null,r.a.createElement(n("WdXo").a,{render:t=>r.a.createElement(n("LVTJ").a,{minHeight:216,onChange:u(t),defaultValue:e,primaryToolbarComponents:r.a.createElement(p,{editorActions:t}),allowExtension:!0,useStickyToolbar:!0,extensionProviders:d,popupsBoundariesElement:l.current||void 0,linking:{smartLinks:{provider:Promise.resolve(new(n("ZNo5").a)),allowBlockCards:!0}},placeholder:Object(n("AWMj").a)()&&!Object(n("AWMj").b)()?c(a.placeholderText):void 0,media:Object(n("AWMj").a)()&&!Object(n("AWMj").b)()?{provider:i,allowMediaSingle:!1}:void 0,featureFlags:{"floating-toolbar-link-settings-button":Object(n("AWMj").c)()}})}))))};h.displayName="CannedResponseEditor";t.default=Object(n("3izs").a)(h)},tkcb:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),
n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return p}));var o=n("MEpN"),r=n("UxO+"),i=n("mG1W");const s={text:"",color:"neutral"},a=(e=0)=>(t,i)=>{const a=i.schema.nodes.status.createChecked({...s,localId:n("klzq").b.generate()}),c=i.schema.text(" "),l=t(o.Fragment.from([a,c]),{selectInlineNode:!0}),d=l.selection.from+e;return l.setSelection(r.NodeSelection.create(l.doc,d)).setMeta(n("KwUl").a,{showStatusPickerAt:d,isNew:!0})},c=e=>(t,a)=>{const{schema:c}=t,l=e?Object.assign(e,{text:e.text.trim(),localId:e.localId||n("klzq").b.generate()}):e,d={...s,...l};let u=t.tr;const{showStatusPickerAt:p}=n("KwUl").a.getState(t);if(!p){const e=c.nodes.status.createChecked(d),s=o.Fragment.fromArray([e,t.schema.text(" ")])
;if(Object(i.canInsert)(u.selection.$from,s))u.insert(u.selection.from,s).setSelection(r.NodeSelection.create(u.doc,u.selection.from-s.size));else{const e=r.NodeSelection.create(u.doc,u.selection.from-u.selection.$anchor.parentOffset-1);u.insert(e.to,s).setSelection(r.NodeSelection.create(u.doc,e.to+1))}return u.setMeta(n("KwUl").a,{showStatusPickerAt:u.selection.from,isNew:!0}).scrollIntoView(),a&&a(u),!0}return!!t.doc.nodeAt(p)&&(u.setNodeMarkup(p,c.nodes.status,d).setSelection(r.NodeSelection.create(u.doc,p)).setMeta(n("KwUl").a,{showStatusPickerAt:p}).scrollIntoView(),a&&a(u),!0)},l=(e,t)=>Object(n("SVcB").b)({action:n("+PNV").a.INSERTED,actionSubject:n("+PNV").b.DOCUMENT,actionSubjectId:n("+PNV").c.STATUS,attributes:{inputMethod:e},eventType:n("+PNV").e.TRACK})(c(t)),d=e=>(t,o)=>(o(t.tr.setMeta(n("KwUl").a,{showStatusPickerAt:e,isNew:!1})),!0),u=e=>(t,n)=>{const o=t.tr;return o.replace(e,e+1),n&&n(o),!0},p=()=>e=>{
const{state:t,dispatch:o}=e,{showStatusPickerAt:i}=n("KwUl").a.getState(t);if(!i)return;const s=t.tr.doc.nodeAt(i);if(!s)return;let a=t.tr;a=a.setMeta(n("KwUl").a,{showStatusPickerAt:null,isNew:!1}),s.attrs.text?a.selection.from===i&&(a=a.setSelection(r.Selection.near(t.tr.doc.resolve(i+2)))):a=a.delete(i,i+1),o(a),e.focus()}},tmH4:function(e,t,n){"use strict";n.d(t,"b",(function(){return At})),n.d(t,"a",(function(){return It}));var o=n("q1tI"),r=n.n(o),i=n("lSNA"),s=n.n(i)
;const a=Object(n("AeFk").css)(".ProseMirror .telepointer{position:relative;transition:opacity 200ms;",n("8PVD").a.map(((e,t)=>((e,t)=>`\n  &.color-${t} {\n    background-color: ${e.selection};\n    &::after {\n      background-color: ${e.solid};\n      color: var(--ds-text-inverse, #fff);\n      border-color: ${e.solid};\n    }\n  }\n`)(e,t))),";&.telepointer-selection{line-height:1.2;pointer-events:none;user-select:none;}&.telepointer-selection-badge::after{content:attr(data-initial);position:absolute;display:block;top:-14px;font-size:",Object(n("anI9").fb)(9),";padding:2px;color:var(--ds-text-inverse, white);left:-1px;border-radius:2px 2px 2px 0;line-height:initial;}&.","telepointer-dim","{opacity:0.2;}}"),c=n("AeFk").keyframes`
  from, to {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
`,l=".ProseMirror-gapcursor",d=".ProseMirror-widget",u='[layout="wrap-left"]',p='[layout="wrap-right"]',h=Object(n("AeFk").css)(".ProseMirror{&.","ProseMirror-hide-gapcursor","{caret-color:transparent;}",l,"{display:none;pointer-events:none;position:relative;& span{caret-color:transparent;position:absolute;height:100%;width:100%;display:block;}& span::after{animation:1s ",c," step-end infinite;border-left:1px solid;content:'';display:block;position:absolute;top:0;height:100%;}&.-left span::after{left:-3px;}&.-right span::after{right:-3px;}& span[layout='full-width'],& span[layout='wide']{margin-left:50%;transform:translateX(-50%);}&",p,"{float:right;}&:first-of-type+ul,&:first-of-type+span+ul,&:first-of-type+ol,&:first-of-type+span+ol,&:first-of-type+pre,&:first-of-type+span+pre,&:first-of-type+blockquote,&:first-of-type+span+blockquote{margin-top:0;}}&.ProseMirror-focused ",l,"{display:block;border-color:transparent;}}",l,u,"+span+",u,",",l,p,"+span+",p,",",l,"+",u,"+",p,",",l,"+",u,"+span+",p,",",l,"+",p,"+",u,",",l,"+",p,"+span+",u,",",u,"+",l,"+",p,",",u,"+",l,"+span ",p,",",p,"+",l,"+",u,",",p,"+",l,"+span+",u,",",u,"+",l,"{clear:none;}",u,"+",l,"+",p,">div,",u,"+",l,"+span+",p,">div,",p,"+",l,"+",u,">div,",p,"+",l,"+span+",u,">div,",l,"+",p,"+",u,">div,",l,"+",p,"+span+",u,">div,",l,"+",u,"+",p,">div,",l,"+",u,"+span+",p,">div{margin-right:0;margin-left:0;margin-bottom:0;}",u,"+",l,",",p,"+",l,"{float:left;}",l,"+",u,"+span+",p,"::after,",l,"+",p,"+span+",u,"::after,",u,"+",l,"+",p,"::after,",u,"+",l,"+span+",p,"::after,",p,"+",l,"+",u,"::after,",p,"+",l,"+span+",u,"::after{visibility:hidden;display:block;font-size:0;content:' ';clear:both;height:0;}",u,"+",l,"+",p,"+*,",u,"+",l,"+",p,"+span+*,",p,"+",l,"+",u,"+*,",p,"+",l,"+",u,"+span+*,",u,"+",l,"+span+",p,"+*,",p,"+",l,"+span+",u,"+*,",l,"+",u,"+span+",p,"+*,",l,"+",p,"+span+",u,"+*,",u,"+",l,"+",p,"+*>*,",u,"+",l,"+",p,"+span+*>*,",p,"+",l,"+",u,"+*>*,",p,"+",l,"+",u,"+span+*>*,",u,"+",l,"+span+",p,"+*>*,",p,"+",l,"+span+",u,"+*>*,",l,"+",u,"+span+",p,"+*>*,",l,"+",p,"+span+",u,"+*>*,",d,"+",l,"+*,",d,"+",l,"+span+*{margin-top:0;}"),f=Object(n("AeFk").css)(".ProseMirror .placeholder-decoration{color:","var(--ds-text-subtlest, #6B778C)",";width:100%;pointer-events:none;user-select:none;.placeholder-android{pointer-events:none;outline:none;user-select:none;position:absolute;}}")
;var m={name:"1dgciks",styles:"&::after{height:100%;content:'';position:absolute;left:0;top:0;width:24px;background-color:var(--ds-blanket-danger, none);}"}
;const b=()=>m,g=Object(n("AeFk").css)(".ProseMirror{li{position:relative;>p:not(:first-child){margin:4px 0 0 0;}>style:first-child+p{margin-top:",n("anI9").ab,";}}& :not([data-node-type='decisionList'])>li{",n("j5wO").a.safari?n("P7RL").b:"",";}}"),v=Object(n("AeFk").css)(".ProseMirror{",n("EcU6").a," & [layout='full-width'] .",n("EcU6").b,",& [layout='wide'] .",n("EcU6").b,"{margin-left:50%;transform:translateX(-50%);}& [layout^='wrap-']+[layout^='wrap-']{clear:none;&+p,&+div[class^='fabric-editor-align'],&+ul,&+ol,&+h1,&+h2,&+h3,&+h4,&+h5,&+h6{clear:both!important;}& .",n("EcU6").b,"{margin-left:0;margin-right:0;}}.mediaSingleView-content-wrap[layout^='wrap-']{max-width:100%;clear:inherit;}.mediaSingleView-content-wrap[layout='wrap-left']{float:left;}.mediaSingleView-content-wrap[layout='wrap-right']{float:right;}.mediaSingleView-content-wrap[layout='wrap-right']+.mediaSingleView-content-wrap[layout='wrap-left']{clear:both;}&>.mediaSingleView-content-wrap{.richMedia-resize-handle-right{margin-right:-",n("anI9").x,"px;}.richMedia-resize-handle-left{margin-left:-",n("anI9").x,"px;}}}.richMedia-resize-handle-right,.richMedia-resize-handle-left{display:flex;flex-direction:column;justify-content:center;}.richMedia-resize-handle-right{align-items:flex-end;padding-right:12px;margin-right:-",n("anI9").w,"px;}.richMedia-resize-handle-left{align-items:flex-start;padding-left:12px;margin-left:-",n("anI9").w,"px;}.richMedia-resize-handle-right::after,.richMedia-resize-handle-left::after{content:' ';display:flex;width:3px;height:64px;border-radius:6px;}.",n("EcU6").b,":hover .richMedia-resize-handle-left::after,.",n("EcU6").b,":hover .richMedia-resize-handle-right::after{background:","var(--ds-border, #B3BAC5)",";}.",n("anI9").H," .richMedia-resize-handle-right::after,.",n("anI9").H," .richMedia-resize-handle-left::after,.",n("EcU6").b," .richMedia-resize-handle-right:hover::after,.",n("EcU6").b," .richMedia-resize-handle-left:hover::after,.",n("EcU6").b,".is-resizing .richMedia-resize-handle-right::after,.",n("EcU6").b,".is-resizing .richMedia-resize-handle-left::after{background:","var(--ds-border-focused, #2684FF)",";}.__resizable_base__{left:unset!important;width:auto!important;height:auto!important;}.danger>div>div>.media-card-frame,.danger>span>a{background-color:",`var(--ds-background-danger, ${n("anI9").j})`,";box-shadow:0px 0px 0px ",n("anI9").D,"px ",`var(--ds-border-danger, ${n("anI9").l})`,";transition:background-color 0s,box-shadow 0s;}.mediaGroupView-content-wrap.danger{.",n("5TVH").a,"::after{border:1px solid ",`var(--ds-border-danger, ${n("anI9").m})`,";}}.danger{.",n("EcU6").b," .",n("5TVH").b,"::after{border:1px solid ",`var(--ds-border-danger, ${n("anI9").m})`,";}.",n("EcU6").b," .",n("va9E").a,"::after{border:1px solid ",`var(--ds-border-danger, ${n("anI9").m})`,";}.",n("EcU6").b," .","new-file-experience-wrapper","{box-shadow:0 0 0 1px ",`var(--ds-border-danger, ${n("anI9").m})`,"!important;}.richMedia-resize-handle-right::after,.richMedia-resize-handle-left::after{background:",`var(--ds-icon-danger, ${n("anI9").m})`,";}div div .media-card-frame,.inlineCardView-content-wrap>span>a{background-color:var(--ds-blanket-danger, rgb(255, 189, 173, 0.5));transition:background-color 0s;}div div .media-card-frame::after{box-shadow:none;}}"),y=Object(n("AeFk").css)(".ProseMirror{.ProseMirror-fake-text-cursor{display:inline;pointer-events:none;position:relative;}.ProseMirror-fake-text-cursor::after{content:'';display:inline;top:0;position:absolute;border-right:1px solid var(--ds-border, rgba(0, 0, 0, 0.4));}.ProseMirror-fake-text-selection{display:inline;pointer-events:none;position:relative;background-color:","var(--ds-background-selected, #B3D4FF)",";}}"),O="mentionView-content-wrap",E=Object(n("AeFk").css)(".",O,"{&.",n("anI9").H," [data-mention-id]>span{",Object(n("zrlP").a)([n("5iLT").a.BoxShadow,n("5iLT").a.Background]),"color:","var(--ds-text-subtle, #42526E)",";}}.danger{.",O,".",n("anI9").H,">span>span>span{box-shadow:0 0 0 ",n("anI9").F,"px ",n("anI9").l,";background-color:",`var(--ds-background-danger, ${n("anI9").k})`,";}.",O,">span>span>span{background-color:","var(--ds-background-neutral, rgba(9, 30, 66, 0.08))",";color:","var(--ds-text-subtle, #42526E)",";}}"),w={
EMOJI_CONTAINER:"emojiView-content-wrap",EMOJI_NODE:n("+OC9").r,EMOJI_SPRITE:n("+OC9").v,EMOJI_IMAGE:n("+OC9").o,EMOJI_PLACEHOLDER:n("+OC9").D
},S=Object(n("AeFk").css)(".",w.EMOJI_CONTAINER,"{display:inline-block;.",w.EMOJI_NODE,"{cursor:pointer;&.",w.EMOJI_IMAGE,">span{display:flex;}}&.",n("anI9").H,"{.",w.EMOJI_SPRITE,",.",w.EMOJI_IMAGE,"{border-radius:2px;",Object(n("zrlP").a)([n("5iLT").a.Blanket,n("5iLT").a.BoxShadow]),";}}}"),k=Object(n("AeFk").css)(".ProseMirror span[data-placeholder]{color:","var(--ds-text-subtlest, #5E6C84)",";display:inline;}.ProseMirror span.pm-placeholder{display:inline;color:","var(--ds-text-subtlest, #5E6C84)",";}.ProseMirror span.pm-placeholder__text{display:inline;color:","var(--ds-text-subtlest, #5E6C84)",";}.ProseMirror span.pm-placeholder.",n("anI9").H,"{",Object(n("zrlP").a)([n("5iLT").a.Background]),";}.ProseMirror span.pm-placeholder__text[data-placeholder]::after{color:","var(--ds-text-subtlest, #5E6C84)",";cursor:text;content:attr(data-placeholder);display:inline;}"),x=Object(n("AeFk").css)(".extensionView-content-wrap,.bodiedExtensionView-content-wrap{margin:",n("anI9").ab," 0;&:first-of-type{margin-top:0;}&:last-of-type{margin-bottom:0;}&:not(.danger).",n("anI9").H,"{&>span>.extension-container{",Object(n("zrlP").a)([n("5iLT").a.BoxShadow]),";}}&.danger>span>.extension-container{box-shadow:0 0 0 ",n("anI9").F,"px ",`var(--ds-border-danger, ${n("anI9").l})`,";background-color:",`var(--ds-background-danger, ${n("anI9").j})`,";}&.inline{word-wrap:break-all;}}.extensionView-content-wrap .extension-container{overflow:hidden;}.bodiedExtensionView-content-wrap .extensionView-content-wrap .extension-container{width:100%;max-width:100%;}[data-mark-type='fragment']{&>.extensionView-content-wrap,&>.bodiedExtensionView-content-wrap{margin:",n("anI9").ab," 0;}&>[data-mark-type='dataConsumer']{&>.extensionView-content-wrap,&>.bodiedExtensionView-content-wrap{margin:",n("anI9").ab," 0;}}&:first-child{&>.extensionView-content-wrap,&>.bodiedExtensionView-content-wrap{margin-top:0;}&>[data-mark-type='dataConsumer']{&>.extensionView-content-wrap,&>.bodiedExtensionView-content-wrap{margin-top:0;}}}&:nth-last-of-type(-n + 2):not(:first-of-type){&>.extensionView-content-wrap,&>.bodiedExtensionView-content-wrap{margin-bottom:0;}&>[data-mark-type='dataConsumer']{&>.extensionView-content-wrap,&>.bodiedExtensionView-content-wrap{margin-bottom:0;}}}}"),C=Object(n("56zV").a)({
light:"var(--ds-background-neutral-subtle, rgba(255, 255, 255, 0.6))",dark:"var(--ds-background-neutral-subtle, rgba(9, 10, 11, 0.29))"}),T=e=>Object(n("AeFk").css)("color:",Object(n("56zV").a)({light:"var(--ds-icon-subtle, rgba(9, 30, 66, 0.42))",dark:"var(--ds-icon-subtle, #d9dde3)"})(e),";"),j=Object(n("56zV").a)({dark:"var(--ds-blanket-selected, #0C294F4B)"}),A=Object(n("56zV").a)({dark:"1px solid var(--ds-border-selected, #4794ff4B)"}),N=Object(n("56zV").a)({dark:"3px"}),I=Object(n("56zV").a)({light:"var(--ds-background-danger, #FFEBE6)",dark:"var(--ds-background-danger, #441C13)"}),P=Object(n("56zV").a)({dark:"1px solid var(--ds-border-danger, #FF7452)"}),M=Object(n("56zV").a)({light:"var(--ds-border-danger, #FF5630)"}),R=Object(n("56zV").a)({dark:"3px"
}),_=Object(n("AeFk").css)(".","search-match","{background-color:","#B3D4FF",";}.","selected-search-match","{background-color:","#2684FF",";color:white;}"),L=Object(n("AeFk").css)("[data-decision-wrapper]{cursor:pointer;}.",n("anI9").H,">[data-decision-wrapper],ol[data-node-type='decisionList'].",n("anI9").H,"{border-radius:4px;",Object(n("zrlP").a)([n("5iLT").a.BoxShadow,n("5iLT").a.Blanket]),";}.danger{.",n("aNVf").a.DECISION_CONTAINER,".",n("anI9").H,">div{box-shadow:0 0 0 ",n("anI9").F,"px ",`var(--ds-border-danger, ${n("anI9").l})`,";background-color:",`var(--ds-blanket-danger, ${n("anI9").k})`,";&::after{content:none;}}}"),D="statusView-content-wrap",F="status-lozenge-span",B=Object(n("AeFk").css)(".",n("9ehW").a.TABLE_CELL_WRAPPER,",.",n("9ehW").a.TABLE_HEADER_CELL_WRAPPER,",[data-layout-section]{.",D,"{max-width:100%;line-height:0;>span{width:100%;}}}.",D,"{>span{cursor:pointer;line-height:0;}&.",n("anI9").H," .",F,">span{",Object(n("zrlP").a)([n("5iLT").a.BoxShadow]),";}}.danger{.",F,">span{background-color:",n("anI9").k,";}.",D,".",n("anI9").H," .",F,">span{box-shadow:0 0 0 ",n("anI9").F,"px ",n("anI9").l,";}}"),V=Object(n("AeFk").css)(".",n("javD").a.INLINE_CARD_CONTAINER,"{max-width:calc(100% - 20px);vertical-align:top;word-break:break-all;.card{padding-left:2px;padding-right:2px;padding-top:0.5em;padding-bottom:0.5em;margin-bottom:-0.5em;.",n("javD").a.LOADER_WRAPPER,">a:focus{",Object(n("zrlP").a)([n("5iLT").a.BoxShadow]),";}}&.",n("anI9").H," .",n("javD").a.LOADER_WRAPPER,">a{",Object(n("zrlP").a)([n("5iLT").a.BoxShadow]),";}.",n("javD").a.LOADER_WRAPPER,">a{z-index:1;position:relative;}&.danger{.",n("javD").a.LOADER_WRAPPER,">a{box-shadow:0 0 0 1px ",`var(--ds-border-danger, ${n("anI9").l})`,";z-index:2;}}}.",n("javD").a.BLOCK_CARD_CONTAINER,"{.",n("javD").a.LOADER_WRAPPER,">div{cursor:pointer;&:hover{background-color:","var(--ds-background-neutral-subtle-hovered, #F4F5F7)",";}}&.",n("anI9").H," .",n("javD").a.LOADER_WRAPPER,">div{",Object(n("zrlP").a)([n("5iLT").a.BoxShadow]),";}&.danger{.",n("javD").a.LOADER_WRAPPER,">div{box-shadow:0 0 0 1px ",`var(--ds-border-danger, ${n("anI9").l})`,"!important;}}}.",n("javD").a.EMBED_CARD_CONTAINER,"{.",n("javD").a.LOADER_WRAPPER,">div{cursor:pointer;&::after{transition:box-shadow 0s;}}&.",n("anI9").H," .",n("javD").a.LOADER_WRAPPER,">div{",Object(n("zrlP").a)([n("5iLT").a.BoxShadow]),";}&.",n("anI9").H," .",n("javD").a.LOADER_WRAPPER,">div::after{",Object(n("zrlP").a)([n("5iLT").a.BoxShadow]),";}&.danger{.media-card-frame::after{box-shadow:0 0 0 1px ",`var(--ds-border-danger, ${n("anI9").l})`,"!important;background:",`var(--ds-background-danger, ${n("anI9").j})`,"!important;}.richMedia-resize-handle-right::after,.richMedia-resize-handle-left::after{background:",`var(--ds-border-danger, ${n("anI9").l})`,";}}}.","card-floating-toolbar--link-picker","{padding:0;}"),z=Object(n("AeFk").css)(".",n("SmJf").a.DATE_CONTAINER,"{.",n("SmJf").a.DATE_WRAPPER,"{line-height:initial;cursor:pointer;}&.",n("anI9").H,"{.",n("SmJf").a.DATE_WRAPPER,">span{",Object(n("zrlP").a)([n("5iLT").a.BoxShadow]),";}}}.danger{.",n("SmJf").a.DATE_CONTAINER,".",n("anI9").H," .",n("SmJf").a.DATE_WRAPPER,">span{box-shadow:0 0 0 ",n("anI9").F,"px ",`var(--ds-border-danger, ${n("anI9").l})`,";}}"),H=Object(n("AeFk").css)(".","inlineNodeView","{display:inline;user-select:all;white-space:nowrap;&>*:not(span[aria-hidden='true'].zeroWidthSpaceContainer){white-space:pre-wrap;}}&.ua-safari{.","inlineNodeView","{::selection,*::selection{background:transparent;}}}&.ua-chrome .","inlineNodeView",">span{user-select:none;}.","inlineNodeView","AddZeroWidthSpace{::after{content:'",n("vNjH").b,"';}}"),U=e=>Object(n("AeFk").css)(".ProseMirror{outline:none;font-size:",Object(n("anI9").cb)({
theme:e.theme
}),"px;",n("WAxQ").a,";",n("s2Dg").a,";",n("nSh4").c,";",n("QjiX").a,";",n("l/VS").a,";",H,";}.ProseMirror[contenteditable='false'] .taskItemView-content-wrap{pointer-events:none;opacity:0.7;}.ProseMirror-hideselection *::selection{background:transparent;}.ProseMirror-hideselection *::-moz-selection{background:transparent;}.ProseMirror-selectednode{outline:none;}.ProseMirror-selectednode:empty{outline:2px solid var(--ds-border-focused, #8cf);}",k," ",f," ",(e=>Object(n("AeFk").css)(".ProseMirror{",Object(n("P7RL").c)(e),";}.ProseMirror li{>.code-block{margin:",n("anI9").ab," 0 0 0;}>.code-block:first-child,>.ProseMirror-gapcursor:first-child+.code-block{margin-top:0;}>div:last-of-type.code-block{margin-bottom:",n("anI9").ab,";}}.ProseMirror .code-block.",n("anI9").H,":not(.danger){",Object(n("zrlP").a)([n("5iLT").a.BoxShadow,n("5iLT").a.Blanket]),";}.ProseMirror .danger.code-block{box-shadow:0 0 0 ",n("anI9").F,"px ",`var(--ds-border-danger, ${n("anI9").l})`,";.",n("IIKj").a.gutter,"{background-color:","var(--ds-background-danger, #FFBDAD)",";color:",`var(--ds-text-danger, ${n("anI9").m})`,";",b(),";}.",n("IIKj").a.content,"{background-color:",`var(--ds-blanket-danger, ${n("anI9").j})`,";}}.ProseMirror .danger .code-block{.",n("IIKj").a.gutter,"{background-color:var(--ds-background-danger, rgba(255, 143, 115, 0.5));color:",`var(--ds-text-danger, ${n("anI9").m})`,";",b(),";}.",n("IIKj").a.content,"{background-color:var(--ds-blanket-danger, rgba(255, 189, 173, 0.5));}}"))(e)," ",(e=>Object(n("AeFk").css)(".ProseMirror{",n("6167").a,";",Object(n("rgrP").a)(e),";}"))(e)," ",(e=>Object(n("AeFk").css)(Object(n("Bz3y").a)(e),";"))(e)," ",n("0Puh").a," ",g," ",(e=>Object(n("AeFk").css)(".ProseMirror{",Object(n("tLow").a)(e),";hr{cursor:pointer;padding:4px 0;margin:calc(",n("anI9").v,"em - 4px) 0;background-clip:content-box;&.",n("anI9").H,"{outline:none;background-color:",`var(--ds-border-selected, ${n("anI9").E})`,";}}}"))(e)," ",v," ",(e=>Object(n("AeFk").css)(".ProseMirror{",n("A3Oq").a," [data-layout-section]{margin:",Object(n("7w+A").gridSize)()-1,"px -",n("anI9").Y,"px 0;transition:border-color 0.3s ",n("anI9").M,";cursor:pointer;[data-layout-column]{flex:1;min-width:0;border:",n("anI9").F,"px solid ",Object(n("56zV").a)({
light:"var(--ds-border, rgba(9, 30, 66, 0.13))",dark:"var(--ds-border, #3B475C)"
})(e),";border-radius:4px;padding:",n("DJAv").a,"px;box-sizing:border-box;>div{>:not(style):first-child,>style:first-child+*{margin-top:0;}>.ProseMirror-gapcursor:first-child+*,>style:first-child+.ProseMirror-gapcursor+*{margin-top:0;}>.ProseMirror-gapcursor:first-child+span+*,>style:first-child+.ProseMirror-gapcursor:first-child+span+*{margin-top:0;}>.embedCardView-content-wrap:first-of-type .rich-media-item{margin-top:0;}>.mediaSingleView-content-wrap:first-of-type .rich-media-item{margin-top:0;}>.ProseMirror-gapcursor.-right:first-child+.mediaSingleView-content-wrap .rich-media-item,>style:first-child+.ProseMirror-gapcursor.-right+.mediaSingleView-content-wrap .rich-media-item,>.ProseMirror-gapcursor.-right:first-of-type+.embedCardView-content-wrap .rich-media-item{margin-top:0;}>.ProseMirror-gapcursor:first-child+span+.mediaSingleView-content-wrap .rich-media-item,>style:first-child+.ProseMirror-gapcursor+span+.mediaSingleView-content-wrap .rich-media-item{margin-top:0;}>[data-node-type='decisionList']{li:first-of-type [data-decision-wrapper]{margin-top:0;}}}[data-layout-content]{height:100%;cursor:text;}}[data-layout-column]+[data-layout-column]{margin-left:",n("DJAv").b,"px;}@media screen and (max-width: ",n("anI9").eb,"px){[data-layout-column]+[data-layout-column]{margin-left:0;}}&.selected [data-layout-column],&:hover [data-layout-column]{border:",n("anI9").F,"px solid ",Object(n("56zV").a)({
light:"var(--ds-border, rgba(9, 30, 66, 0.25))",dark:"var(--ds-border, #455166)"
})(e),";}&.selected.danger>[data-layout-column]{background-color:",`var(--ds-background-danger, ${n("anI9").j})`,";border-color:",`var(--ds-border-danger, ${n("anI9").l})`,";}&.",n("anI9").H,":not(.danger){[data-layout-column]{",Object(n("zrlP").a)([n("5iLT").a.Border,n("5iLT").a.Blanket]),";}}}}.fabric-editor--full-width-mode .ProseMirror{[data-layout-section]{.",n("p3BF").b.TABLE_CONTAINER,"{margin:0 ",2,"px;}}}"))(e)," ",a," ",h,";",Object(n("xGNL").d)(e)," ",(e=>Object(n("AeFk").css)(".ProseMirror{",Object(n("7csE").e)(e),";.",n("7csE").a.prefix,"{cursor:pointer;&.danger{box-shadow:0 0 0 ",n("anI9").F,"px ",n("anI9").l,";background-color:",`var(--ds-background-danger, ${n("anI9").j})`,"!important;.",n("7csE").a.icon,"{color:",`var(--ds-icon-danger, ${n("anI9").m})`,"!important;}}}.",n("7csE").a.content,"{cursor:text;}.danger .",n("7csE").a.prefix,"{&[data-panel-type]{background-color:",`var(--ds-blanket-danger, ${n("anI9").k})`,";.",n("7csE").a.icon,"{color:",`var(--ds-icon-danger, ${n("anI9").m})`,";}}}}.",n("7csE").a.prefix,".",n("anI9").H,":not(.danger){",Object(n("zrlP").a)([n("5iLT").a.BoxShadow,n("5iLT").a.Blanket]),";}"))(e)," ",y," ",E," ",S," ",n("aNVf").b," ",n("qAiH").b," ",n("j28F").a," ",n("jV9w").a," ",n("SmJf").b," ",x," ",(e=>Object(n("AeFk").css)(".",n("5I88").a.icon,">div{display:flex;}.",n("5I88").a.prefix,"{",n("WwMu").e.containerStyles({
expanded:!1,focused:!1})(e)," overflow:hidden;cursor:pointer;box-sizing:border-box;td>&{margin-top:0;}.",n("5I88").a.iconContainer," svg{",T(e),";transform:rotate(90deg);}&.",n("anI9").H,":not(.danger){",Object(n("zrlP").a)([n("5iLT").a.Blanket,n("5iLT").a.Border])," ::after{background-color:",j(e),";border:",A(e),";border-radius:",N(e),";}}&.danger{background:",I(e),";border:",P(e),";border-color:",M(e),";border-radius:",R(e),";}}.ProseMirror>.",n("5I88").a.type("expand"),",.",n("eFkm").a.BREAKOUT_MARK_DOM,">.",n("5I88").a.type("expand"),"{margin-left:-",n("anI9").Y,"px;margin-right:-",n("anI9").Y,"px;}.",n("5I88").a.content,"{",n("WwMu").e.contentStyles({expanded:!1,focused:!1})(e)," cursor:text;padding-top:0px;}.",n("5I88").a.titleInput,"{",n("WwMu").e.titleInputStyles(e),";}.",n("5I88").a.titleContainer,"{",n("WwMu").e.titleContainerStyles(e),";align-items:center;overflow:visible;}.",n("5I88").a.expanded,"{background:",C(e),";border-color:",Object(n("56zV").a)({
light:"var(--ds-border, rgba(9, 30, 66, 0.13))",dark:"var(--ds-border, #283447)"})(e),";.",n("5I88").a.content,"{padding-top:",Object(n("7w+A").gridSize)(),"px;}}.",n("5I88").a.inputContainer,"{width:100%;}.",n("5I88").a.prefix,":(.",n("5I88").a.expanded,"){.expand-content-wrapper{height:auto;}}.",n("5I88").a.prefix,":not(.",n("5I88").a.expanded,"){.ak-editor-expand__content{position:absolute;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;}.",n("5I88").a.iconContainer," svg{",T(e),";transform:rotate(0deg);}&:not(.",n("anI9").H,"):not(.danger){background:transparent;border-color:transparent;&:hover{border-color:",Object(n("56zV").a)({light:"var(--ds-border, rgba(9, 30, 66, 0.25))",dark:"var(--ds-border, #283447)"
})(e),";background:",C(e),";}}}"))(e)," ",_," ",L," ",B," ",Object(n("xLj0").c)(e)," ",V," ",n("javD").b," ",z," ",n("miHH").a," ",n("1BIu").b," .panelView-content-wrap{box-sizing:border-box;}.mediaGroupView-content-wrap ul{padding:0;}div.fabric-editor-block-mark[class^='fabric-editor-align']{clear:none!important;}.fabric-editor-align-end{text-align:right;}.fabric-editor-align-start{text-align:left;}.fabric-editor-align-center{text-align:center;}.pm-table-header-content-wrap :not(.fabric-editor-alignment),.pm-table-header-content-wrap :not(p, .fabric-editor-block-mark)+div.fabric-editor-block-mark,.pm-table-cell-content-wrap :not(p, .fabric-editor-block-mark)+div.fabric-editor-block-mark{p:first-of-type{margin-top:0;}}.hyperlink-floating-toolbar,.",n("KG1a").a.FLOATING_TOOLBAR_COMPONENT,"{padding:0;}.hyperlink-open-link{svg{max-width:18px;}&[href]{padding:0 4px;}}"),W=e=>r.a.forwardRef(((t,r)=>{const{className:i,children:s}=t,a=Object(n("zIvK").i)(),c=Object(o.useMemo)((()=>U({theme:a
})),[a]);return Object(n("AeFk").jsx)("div",{className:i,ref:r,css:[c,e]},s)}));W();const K=`0.5s ${n("anI9").M}`,$=2*n("anI9").u,q={name:"cui2x",styles:"min-width:340px;height:100%;display:flex;flex-direction:column;box-sizing:border-box"},G=W(Object(n("AeFk").css)("flex-grow:1;height:100%;overflow-y:scroll;position:relative;display:flex;flex-direction:column;scroll-behavior:smooth;",n("SPzD").a,";"));G.displayName="ScrollContainer";const Y=Object(n("AeFk").css)("padding:0 ",n("anI9").g,"px;transition:padding 500ms ",n("anI9").M,";"),Q=Object(n("AeFk").css)("display:flex;flex-direction:row;height:calc(100% - ",n("anI9").a,");box-sizing:border-box;margin:0;padding:0;transition:padding 0ms ",n("anI9").M,";"),X={name:"x7r12n",styles:"height:100%;box-sizing:border-box;align-self:flex-end"},Z={name:"13pcf2n",styles:".fabric-editor--full-width-mode{.pm-table-container,.code-block,.extension-container{display:none;}}"
},J=e=>Object(n("AeFk").css)(".fabric-editor--full-width-mode{.pm-table-container,.code-block,.extension-container{max-width:",e-$-4,"px;}[data-layout-section]{max-width:",e-$+2*n("anI9").Y,"px;}}"),ee=({layoutMaxWidth:e,fullWidthMode:t,containerWidth:n})=>[ne,!t&&te(e),n?J(n):Z],te=e=>Object(n("AeFk").css)("max-width:",e+$,"px;"),ne=Object(n("AeFk").css)("line-height:24px;padding-top:50px;padding-bottom:55px;height:calc(\n    100% - 105px\n  );width:100%;margin:auto;flex-direction:column;flex-grow:1;max-width:",n("anI9").s+$,"px;transition:max-width ",K,";& .ProseMirror{flex-grow:1;box-sizing:border-box;}& .ProseMirror{&>*{clear:both;}>p,>ul,>ol:not(",n("cfwZ").b,"):not(",n("Xrqx").b,"),>h1,>h2,>h3,>h4,>h5,>h6{clear:none;}>p:last-child{margin-bottom:24px;}}",n("xGNL").c,";.fabric-editor--full-width-mode{.fabric-editor-breakout-mark,.extension-container.block,.pm-table-container{width:100%!important;}.fabric-editor-breakout-mark{margin-left:unset!important;transform:none!important;}}"),oe=Object(n("AeFk").css)("box-sizing:border-box;padding:0 ",n("anI9").u,"px;"),re=(e,t)=>{
var o,r;const i=!(null==e||null===(o=e.hasFocus)||void 0===o||!o.call(e)),s=t.target,a=s.classList.contains("ak-editor-content-area"),c=(e=>{for(;e;){if(e.classList&&e.classList.contains("ak-editor-content-area"))return!0;e=e.parentNode}return!1})(s.parentNode),l=(e=>Boolean(null==e?void 0:e.closest(".ProseMirror")))(s);if(l)return!1
;const d=Boolean(t.currentTarget.querySelector(".ak-editor-content-area")),u="INPUT"===s.nodeName,p=!!Object(n("uYq7").b)(s,"[data-editor-popup]"),h="TEXTAREA"===s.nodeName,f=!!Object(n("uYq7").b)(s,'nav[aria-label="Breadcrumbs"]'),m=window.getSelection(),b="Range"===(null==m?void 0:m.type)&&Object(n("uYq7").b)(null==m?void 0:m.anchorNode,"[data-editor-popup]"),g=Boolean(Object(n("uYq7").b)(t.currentTarget,"div[offset]"))||Boolean(Object(n("uYq7").b)(s,"div[offset]")),v=Boolean(Object(n("uYq7").b)(t.currentTarget,"button"))||Boolean(Object(n("uYq7").b)(s,"button"))||"BUTTON"===(null===(r=t.currentTarget)||void 0===r?void 0:r.nodeName)||"BUTTON"===s.nodeName,y=Boolean(c),O=((y&&!l||!d)&&!i||!y&&i||a&&!y&&!i||d&&!a&&!y&&!i)&&!g&&!v&&!u&&!h&&!p&&!f&&!b&&(e=>{const t=e.closest("[role=dialog]");return!t||!(null==t||!t.querySelector(".akEditor"))})(s);O&&e&&ie(e,t)},ie=(e,t)=>{var o;const{dispatch:r,dom:i,state:s}=e,{tr:a}=s,c=!(null==e||null===(o=e.hasFocus)||void 0===o||!o.call(e))
;t.clientY>i.getBoundingClientRect().bottom&&Object(n("t0jr").a)(a),Object(n("wFWU").c)(s)&&Object(n("wFWU").e)(a,t,i,e.posAtCoords.bind(e),c),(a.docChanged||a.selectionSet)&&(r&&r(a),e.focus(),t.stopPropagation(),t.preventDefault())};const se={name:"sox1a6",styles:"flex-grow:1;height:100%"};var ae=({editorView:e,editorDisabled:t,children:o})=>{const i=r.a.useCallback((n=>{e&&(t||re(e,n))}),[e,t]);return Object(n("AeFk").jsx)("div",{"data-testid":"click-wrapper",css:se,onMouseDown:i},o)};const ce={name:"zjik7",styles:"display:flex"};class le extends r.a.Component{constructor(...e){super(...e),s()(this,"transitionEvent",Object(n("D4z0").u)()),s()(this,"forceComponentUpdate",(e=>{e.propertyName.includes("width")&&this.forceUpdate()})),s()(this,"removeModeChangeListener",(e=>{e&&this.transitionEvent&&e.removeEventListener(this.transitionEvent,this.forceComponentUpdate)})),s()(this,"addModeChangeListener",(e=>{
e&&this.transitionEvent&&e.addEventListener(this.transitionEvent,this.forceComponentUpdate)}))}shouldComponentUpdate(e){const{editorView:t,editorActions:n,items:o,providerFactory:r,eventDispatcher:i,popupsMountPoint:s,popupsBoundariesElement:a,popupsScrollableElement:c,containerElement:l,disabled:d,wrapperElement:u}=this.props;return!(e.editorView===t&&e.editorActions===n&&e.items===o&&e.providerFactory===r&&e.eventDispatcher===i&&e.popupsMountPoint===s&&e.popupsBoundariesElement===a&&e.popupsScrollableElement===c&&e.containerElement===l&&e.disabled===d&&e.wrapperElement===u)}componentDidMount(){this.addModeChangeListener(this.props.contentArea)}UNSAFE_componentWillReceiveProps(e){this.props.contentArea!==e.contentArea&&(this.removeModeChangeListener(this.props.contentArea),this.addModeChangeListener(e.contentArea))}componentWillUnmount(){this.removeModeChangeListener(this.props.contentArea)}render(){
const{items:e,editorView:t,editorActions:o,eventDispatcher:i,providerFactory:s,appearance:a,popupsMountPoint:c,popupsBoundariesElement:l,popupsScrollableElement:d,containerElement:u,disabled:p,dispatchAnalyticsEvent:h,wrapperElement:f}=this.props;return e&&t?Object(n("AeFk").jsx)(n("KzBb").a,{component:n("+PNV").b.PLUGIN_SLOT,fallbackComponent:null},Object(n("AeFk").jsx)("div",{css:ce},e.map(((e,n)=>{const m={key:n},b=e({editorView:t,editorActions:o,eventDispatcher:i,providerFactory:s,dispatchAnalyticsEvent:h,appearance:a,popupsMountPoint:c,popupsBoundariesElement:l,popupsScrollableElement:d,containerElement:u,disabled:p,wrapperElement:f});return b&&r.a.cloneElement(b,m)})))):null}}le.displayName="PluginSlot",s()(le,"displayName","PluginSlot");const de=e=>{const[t,n]=Object(o.useState)(0);return Object(o.useEffect)((()=>{n(e)}),[e]),t};var ue=({editorView:e})=>{const{width:t}=Object(o.useContext)(n("GxTc").a),{width:i}=Object(o.useContext)(n("dHUS").b),s=de(i),a=de(t)
;return Object(o.useEffect)((()=>{const t=s-a;if(t<=0||isNaN(t)||!e)return;const{dom:o,state:{tr:r},dispatch:i}=e;return r.setMeta(n("IXso").b,{width:t,containerWidth:s,lineLength:o?o.clientWidth:void 0}),i(r),()=>{}}),[e,a,s]),r.a.createElement(r.a.Fragment,null)},pe=Object(n("D6b/").defineMessages)({toolbarLabel:{id:"fabric.editor.toolbarLabel",defaultMessage:"Editor toolbar",description:"Label for the ARIA region landmark"},pageActionsLabel:{id:"fabric.editor.pageActionsLabel",defaultMessage:"Page actions",description:"Label for the ARIA region landmark"},editableContentLabel:{id:"fabric.editor.editableContentLabel",defaultMessage:"Editable content",description:"Label for the ARIA region landmark"}});const he=r.a.memo((e=>{const t=Object(n("zIvK").i)(),o="full-width"===e.appearance;return Object(n("AeFk").jsx)(n("dHUS").a,null,(({width:r})=>Object(n("AeFk").jsx)(n("GxTc").b,null,(({positionedOverEditor:i})=>Object(n("AeFk").jsx)("div",{css:[Q,i&&Y],
"data-testid":"ak-editor-fp-content-area"},Object(n("AeFk").jsx)(G,{ref:e.scrollContainerRef,className:"fabric-editor-popup-scroll-parent"},Object(n("AeFk").jsx)(ae,{editorView:e.editorView,editorDisabled:e.disabled},Object(n("AeFk").jsx)("div",{css:ee({fullWidthMode:o,layoutMaxWidth:t.layoutMaxWidth,containerWidth:r}),role:"region","aria-label":e.intl.formatMessage(pe.editableContentLabel),ref:e.contentAreaRef},Object(n("AeFk").jsx)("div",{css:oe,className:["ak-editor-content-area",o?"fabric-editor--full-width-mode":""].join(" ")},e.customContentComponents,Object(n("AeFk").jsx)(le,{editorView:e.editorView,editorActions:e.editorActions,eventDispatcher:e.eventDispatcher,providerFactory:e.providerFactory,appearance:e.appearance,items:e.contentComponents,contentArea:e.contentArea,popupsMountPoint:e.popupsMountPoint,popupsBoundariesElement:e.popupsBoundariesElement,popupsScrollableElement:e.popupsScrollableElement,disabled:!!e.disabled,containerElement:e.scrollContainer,
dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,wrapperElement:e.wrapperElement}),e.editorDOMElement)))),Object(n("AeFk").jsx)("div",{css:X},e.contextPanel||Object(n("AeFk").jsx)(n("/97s").a,{visible:!1})),Object(n("AeFk").jsx)(ue,{editorView:e.editorView}))))))})),fe=Object(n("o5hF").c)(he);var me=n("HRS3").a,be=n("pVnL"),ge=n.n(be);const ve=[{width:n("qABM").c.XXL,size:n("qABM").a.XXL},{width:n("qABM").c.XL,size:n("qABM").a.XL},{width:n("qABM").c.L,size:n("qABM").a.L},{width:n("qABM").c.M,size:n("qABM").a.M},{width:n("qABM").c.S,size:n("qABM").a.S}],ye=[{width:n("qABM").b.XXL,size:n("qABM").a.XXL},{width:n("qABM").b.XL,size:n("qABM").a.XL},{width:n("qABM").b.L,size:n("qABM").a.L},{width:n("qABM").b.M,size:n("qABM").a.M},{width:n("qABM").b.S,size:n("qABM").a.S}],Oe=e=>Object(n("9TOn").a)(e)?ve:ye,Ee=Object(n("AeFk").css)("display:flex;@media (max-width: ",n("anI9").A,"px){justify-content:space-between;}");class we extends r.a.Component{shouldComponentUpdate(e){
return e.toolbarSize!==this.props.toolbarSize||e.disabled!==this.props.disabled||e.popupsMountPoint===this.props.popupsMountPoint||e.popupsBoundariesElement===this.props.popupsBoundariesElement||e.popupsScrollableElement===this.props.popupsScrollableElement||e.isReducedSpacing!==this.props.isToolbarReducedSpacing}render(){const{appearance:e,editorView:t,editorActions:o,eventDispatcher:i,providerFactory:s,items:a,popupsMountPoint:c,popupsBoundariesElement:l,popupsScrollableElement:d,toolbarSize:u,disabled:p,isToolbarReducedSpacing:h,dispatchAnalyticsEvent:f,containerElement:m}=this.props;return a&&a.length?Object(n("AeFk").jsx)("div",{css:Ee},a.map(((n,b)=>{const g={key:b},v=n({editorView:t,editorActions:o,eventDispatcher:i,providerFactory:s,appearance:e,popupsMountPoint:c,popupsBoundariesElement:l,popupsScrollableElement:d,disabled:p,toolbarSize:u,isToolbarReducedSpacing:h,containerElement:m,isLastItem:b===a.length-1,dispatchAnalyticsEvent:f,wrapperElement:null})
;return v&&r.a.cloneElement(v,g)}))):null}}we.displayName="ToolbarInner";const Se=e=>r.a.createElement(we,{items:e.items,editorView:e.editorView,editorActions:e.editorActions,eventDispatcher:e.eventDispatcher,providerFactory:e.providerFactory,appearance:e.appearance,popupsMountPoint:e.popupsMountPoint,popupsBoundariesElement:e.popupsBoundariesElement,popupsScrollableElement:e.popupsScrollableElement,disabled:e.disabled,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,toolbarSize:e.toolbarSize,isToolbarReducedSpacing:e.toolbarSize<n("qABM").a.XXL,containerElement:e.containerElement}),ke=Object(n("AeFk").css)("width:100%;position:relative;@media (max-width: ",n("anI9").A,"px){grid-column:1/2;grid-row:2;width:calc(100% - 30px);margin:0 15px;}"),xe=e=>{const t=r.a.createRef(),[i,s]=r.a.useState(void 0),a=((e,{skip:t})=>{const[n,o]=r.a.useState(void 0);return r.a.useEffect((()=>{!t&&e.current&&o(Math.round(e.current.getBoundingClientRect().width))}),[t,o,e]),n})(t,{skip:void 0!==i
}),c=void 0===i&&void 0===a?void 0:((e,t)=>(Oe(t).find((({width:t})=>e>t))||{size:n("qABM").a.XXXS}).size)(i||a,e.appearance),l=Object(o.useMemo)((()=>{const t=((e,t)=>(Oe(t).find((({size:t})=>e===t))||{width:n("qABM").b.S}).width)(Object(n("9TOn").a)(e.appearance)&&e.twoLineEditorToolbar?n("qABM").a.S:n("qABM").a.M,e.appearance),o=`min-width: ${e.hasMinWidth?t:"254"}px`;return[ke,o]}),[e.appearance,e.hasMinWidth,e.twoLineEditorToolbar]);return Object(n("AeFk").jsx)("div",{css:l},Object(n("AeFk").jsx)(n("qBu9").a,{setWidth:s}),e.editorView&&c?Object(n("AeFk").jsx)(Se,ge()({},e,{toolbarSize:c})):Object(n("AeFk").jsx)("div",{ref:t}))}
;const Ce=Object(n("AeFk").css)("box-shadow:0 ",n("anI9").V,"px 0 0 ","var(--ds-border, #EBECF0)",";"),Te=Object(n("AeFk").css)("@media (max-width: ",868,"px){flex-wrap:wrap;height:calc(",56,"px * 2);}"),je=Object(n("AeFk").css)("position:relative;align-items:center;box-shadow:none;transition:box-shadow 200ms ",n("anI9").M,";z-index:",n("anI9").y,";display:flex;height:",56,"px;flex-shrink:0;background-color:var(--ds-surface, white);& object{height:0!important;}@media (max-width: ",n("anI9").A,"px){display:grid;height:calc(",56,"px * 2);}"),Ae=(e,t)=>[je,e&&Ce,t&&Te],Ne=Object(n("AeFk").css)("margin:",2*Object(n("7w+A").gridSize)(),"px;height:",4*Object(n("7w+A").gridSize)(),"px;width:",4*Object(n("7w+A").gridSize)(),"px;@media (max-width: ",n("anI9").A,"px){grid-column:1;grid-row:1;}"),Ie=Object(n("AeFk").css)("display:flex;flex-grow:1;@media (max-width: ",n("anI9").A,"px){grid-column:1;grid-row:1;}"),Pe=Object(n("AeFk").css)("@media (max-width: ",868,"px){flex:1 1 100%;height:",56,"px;justify-content:flex-end;min-width:fit-content;}"),Me=e=>[Ie,e&&Pe],Re={
name:"g8017n",styles:"min-width:fit-content"},_e=Object(n("AeFk").css)("@media (max-width: ",868,"px){display:flex;flex-grow:1;flex:1 1 100%;margin:auto;height:",56,"px;min-width:0;}"),Le=e=>[Re,e&&_e],De={name:"t6ix9q",styles:"align-items:center;display:flex;flex-grow:1"},Fe={name:"1vr7vmn",styles:"align-items:center;display:flex"},Be=r.a.memo((e=>{var t,r,i,s,a,c,l,d,u;const[p,h]=Object(o.useState)(!1),f=Object(n("AeFk").jsx)("div",{css:De},e.beforeIcon&&Object(n("AeFk").jsx)("div",{css:Ne},e.beforeIcon),Object(n("AeFk").jsx)(xe,{editorView:e.editorView,editorActions:e.editorActions,eventDispatcher:e.eventDispatcher,providerFactory:e.providerFactory,appearance:e.appearance,items:e.primaryToolbarComponents,popupsMountPoint:e.popupsMountPoint,popupsBoundariesElement:e.popupsBoundariesElement,popupsScrollableElement:e.popupsScrollableElement,disabled:e.disabled,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,containerElement:e.containerElement,hasMinWidth:e.hasMinWidth,
twoLineEditorToolbar:!(null===(t=e.featureFlags)||void 0===t||!t.twoLineEditorToolbar)})),m=Object(n("AeFk").jsx)("div",{css:Fe},null!==(r=e.featureFlags)&&void 0!==r&&r.twoLineEditorToolbar&&e.customPrimaryToolbarComponents&&"before"in e.customPrimaryToolbarComponents?Object(n("AeFk").jsx)(n("M5S8").a,{beforePrimaryToolbarComponents:e.customPrimaryToolbarComponents.before}):null,!0!==(null==e||null===(i=e.featureFlags)||void 0===i?void 0:i.showAvatarGroupAsPlugin)||null!==(s=e.featureFlags)&&void 0!==s&&s.twoLineEditorToolbar?Object(n("AeFk").jsx)(me,{editorView:e.editorView,eventDispatcher:e.eventDispatcher,inviteToEditComponent:null===(a=e.collabEdit)||void 0===a?void 0:a.inviteToEditComponent,inviteToEditHandler:null===(c=e.collabEdit)||void 0===c?void 0:c.inviteToEditHandler,isInviteToEditButtonSelected:null===(l=e.collabEdit)||void 0===l?void 0:l.isInviteToEditButtonSelected,featureFlags:e.featureFlags||{}
}):null,null!==(d=e.featureFlags)&&void 0!==d&&d.findReplace&&null!==(u=e.featureFlags)&&void 0!==u&&u.twoLineEditorToolbar?Object(n("AeFk").jsx)(n("NjQP").a,{popupsBoundariesElement:e.popupsBoundariesElement,popupsMountPoint:e.popupsMountPoint,popupsScrollableElement:e.popupsScrollableElement,editorView:e.editorView,containerElement:e.containerElement,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,featureFlags:e.featureFlags}):null,e.customPrimaryToolbarComponents&&"after"in e.customPrimaryToolbarComponents?e.customPrimaryToolbarComponents.after:e.customPrimaryToolbarComponents);Object(o.useEffect)((()=>{var t;if(null!==(t=e.featureFlags)&&void 0!==t&&t.twoLineEditorToolbar){const e=()=>{h(window.innerWidth<=868)};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}}));const b=e=>e.altKey&&("F9"===e.key||120===e.keyCode),g=t=>{var n,o;null!==(n=e.editorView)&&void 0!==n&&n.hasFocus()||(null===(o=e.editorView)||void 0===o||o.focus())}
;return Object(n("AeFk").jsx)(n("GxTc").b,null,(({width:t})=>{var o,r,i;return Object(n("AeFk").jsx)(n("gGVL").b,{editorView:e.editorView,childComponentSelector:"[data-testid='ak-editor-main-toolbar']",isShortcutToFocusToolbar:b,handleEscape:g},Object(n("AeFk").jsx)("div",{css:Ae(e.showKeyline||t>0,!(null===(o=e.featureFlags)||void 0===o||!o.twoLineEditorToolbar)),"data-testid":"ak-editor-main-toolbar"},Object(n("AeFk").jsx)("div",{css:Me(!(null===(r=e.featureFlags)||void 0===r||!r.twoLineEditorToolbar)),role:"toolbar","aria-label":e.intl.formatMessage(pe.toolbarLabel)},p?m:f),Object(n("AeFk").jsx)("div",{css:Le(!(null===(i=e.featureFlags)||void 0===i||!i.twoLineEditorToolbar)),"data-testid":"avatar-group-outside-plugin",role:"region","aria-label":e.intl.formatMessage(pe.pageActionsLabel)},p?f:m)))}))})),Ve=Object(n("o5hF").c)(Be);class ze extends r.a.Component{constructor(e){super(e),s()(this,"state",{showKeyline:!1}),s()(this,"scrollContainer",null),
s()(this,"wrapperElementRef",r.a.createRef()),s()(this,"contentAreaRef",(e=>{this.contentArea=e})),s()(this,"scrollContainerRef",(e=>{const t=this.scrollContainer;t&&t.removeEventListener("scroll",this.updateToolbarKeyline),this.scrollContainer=e||null,this.scrollContainer&&(this.scrollContainer.addEventListener("scroll",this.updateToolbarKeyline,!1),this.updateToolbarKeyline())})),s()(this,"updateToolbarKeyline",Object(n("w95p").a)((()=>{if(!this.scrollContainer)return!1;const{scrollTop:e}=this.scrollContainer,t=e>n("anI9").V;return t!==this.state.showKeyline&&this.setState({showKeyline:t}),!1}))),s()(this,"handleResize",(()=>{this.updateToolbarKeyline()})),this.featureFlags=e.featureFlags,e.innerRef&&(this.wrapperElementRef=e.innerRef)}componentDidMount(){window.addEventListener("resize",this.handleResize,!1)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.updateToolbarKeyline.cancel()}render(){const{props:e}=this,{showKeyline:t}=this.state
;return Object(n("AeFk").jsx)(n("GxTc").c,null,Object(n("AeFk").jsx)("div",{css:q,className:"akEditor",ref:this.wrapperElementRef},Object(n("AeFk").jsx)(Ve,{appearance:e.appearance,beforeIcon:e.primaryToolbarIconBefore,collabEdit:e.collabEdit,containerElement:this.scrollContainer,customPrimaryToolbarComponents:e.customPrimaryToolbarComponents,disabled:!!e.disabled,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,editorActions:e.editorActions,editorDOMElement:e.editorDOMElement,editorView:e.editorView,eventDispatcher:e.eventDispatcher,hasMinWidth:e.enableToolbarMinWidth,popupsBoundariesElement:e.popupsBoundariesElement,popupsMountPoint:e.popupsMountPoint,popupsScrollableElement:e.popupsScrollableElement,primaryToolbarComponents:e.primaryToolbarComponents,providerFactory:e.providerFactory,showKeyline:t,featureFlags:this.featureFlags}),Object(n("AeFk").jsx)(fe,{appearance:e.appearance,contentArea:this.contentArea,contentAreaRef:this.contentAreaRef,contentComponents:e.contentComponents,
contextPanel:e.contextPanel,customContentComponents:e.customContentComponents,disabled:e.disabled,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,editorActions:e.editorActions,editorDOMElement:e.editorDOMElement,editorView:e.editorView,eventDispatcher:e.eventDispatcher,popupsBoundariesElement:e.popupsBoundariesElement,popupsMountPoint:e.popupsMountPoint,popupsScrollableElement:e.popupsScrollableElement,providerFactory:e.providerFactory,scrollContainer:this.scrollContainer,scrollContainerRef:this.scrollContainerRef,wrapperElement:this.wrapperElementRef.current})))}}ze.displayName="FullPageEditor",s()(ze,"displayName","FullPageEditor");const He=n("AeFk").keyframes`
  50% {
    background-color: ${"var(--ds-blanket-danger, #FF8F73)"};
  }
`,Ue=n("AeFk").keyframes`
  0% {
    background-color: ${"var(--ds-blanket-danger, #FF8F73)"};
  }
  50% {
    background-color: auto;
  }
  100% {
    background-color: ${"var(--ds-blanket-danger, #FF8F73)"};
  }
`,We=Object(n("AeFk").css)("&.-flash>div{animation:0.25s ease-in-out ",Ue,";}&>div{animation:'none';}"),Ke=Object(n("AeFk").css)(We," &>div{animation:0.25s ease-in-out ",He,";}");class $e extends r.a.Component{constructor(...e){super(...e),s()(this,"toggle",!1)}render(){const{animate:e,children:t}=this.props;return this.toggle=e&&!this.toggle,Object(n("AeFk").jsx)("div",{css:e?Ke:We,className:this.toggle?"-flash":""},t)}}$e.displayName="WithFlash";const qe=Object(n("AeFk").css)("line-height:20px;height:auto;overflow-x:hidden;overflow-y:auto;",n("SPzD").a,";max-width:inherit;box-sizing:border-box;word-wrap:break-word;div>.ProseMirror{outline:none;white-space:pre-wrap;padding:0;margin:0;&>:last-child{padding-bottom:0.5em;}}"),Ge=W();Ge.displayName="ContentArea";class Ye extends r.a.Component{constructor(...e){super(...e),s()(this,"appearance","chromeless"),s()(this,"containerElement",null),s()(this,"renderChrome",(({maxContentSize:e})=>{
const{editorDOMElement:t,editorView:o,editorActions:r,eventDispatcher:i,providerFactory:s,contentComponents:a,customContentComponents:c,maxHeight:l,minHeight:d=30,popupsMountPoint:u,popupsBoundariesElement:p,popupsScrollableElement:h,disabled:f,dispatchAnalyticsEvent:m}=this.props,b=Boolean(null==e?void 0:e.maxContentSizeReached);return Object(n("AeFk").jsx)($e,{animate:b},Object(n("AeFk").jsx)("div",{css:[qe,l&&Object(n("AeFk").css)("max-height:",l,"px;"),Object(n("AeFk").css)("min-height:",d,"px;")],"data-testid":"chromeless-editor",ref:e=>this.containerElement=e},Object(n("AeFk").jsx)(Ge,{className:"ak-editor-content-area"},c,Object(n("AeFk").jsx)(le,{editorView:o,editorActions:r,eventDispatcher:i,providerFactory:s,appearance:this.appearance,items:a,popupsMountPoint:u,popupsBoundariesElement:p,popupsScrollableElement:h,containerElement:this.containerElement,disabled:!!f,dispatchAnalyticsEvent:m,wrapperElement:this.containerElement}),t)))}))}render(){
return Object(n("AeFk").jsx)(n("fd7e").a,{plugins:{maxContentSize:n("5fPG").b},render:this.renderChrome})}}Ye.displayName="Editor",s()(Ye,"displayName","ChromelessEditorAppearance");var Qe=n("TSYQ"),Xe=n.n(Qe);const Ze=Object(n("AeFk").css)("position:relative;align-items:center;padding:",Object(n("7w+A").gridSize)(),"px ",Object(n("7w+A").gridSize)(),"px 0;display:flex;height:auto;background-color:var(--ds-surface, white);box-shadow:none;padding-left:",20,"px;&>div{>:first-child:not(style),>style:first-child+*{margin-left:0;}}.block-type-btn{padding-left:0;}"),Je=Object(n("AeFk").css)("position:relative;position:sticky;padding-bottom:",Object(n("7w+A").gridSize)(),"px;z-index:",n("anI9").y,";transition:box-shadow ease-in-out 0.2s;&.show-keyline{box-shadow:0 ",n("anI9").V,"px 0 0 ","var(--ds-border, #EBECF0)",";}"),et=e=>{const[t,r]=Object(o.useState)(0);return Object(o.useEffect)((()=>{var t,n
;null!==(t=e.externalToolbarRef)&&void 0!==t&&null!==(n=t.current)&&void 0!==n&&n.clientHeight?r(e.externalToolbarRef.current.clientHeight):r(e.offsetTop||0)}),[e.externalToolbarRef,e.offsetTop]),Object(n("AeFk").jsx)("div",{css:[Ze,Je,Object(n("AeFk").css)("top:",t,"px;")],"data-testid":"ak-editor-main-toolbar",className:"show-keyline"},e.children)},tt=e=>Object(n("AeFk").jsx)("div",{css:Ze,"data-testid":"ak-editor-main-toolbar"},e.children),nt=({useStickyToolbar:e,children:t})=>e?Object(n("AeFk").jsx)(et,(e=>{const t="object"==typeof e&&!("offsetTop"in e);return"object"!=typeof e?{externalToolbarRef:void 0,offsetTop:void 0}:"object"==typeof e&&"offsetTop"in e?{offsetTop:e.offsetTop}:t?{externalToolbarRef:e}:void 0})(e),t):Object(n("AeFk").jsx)(tt,null,t),ot=Object(n("AeFk").css)("display:flex;justify-content:flex-end;align-items:center;flex-grow:1;padding-right:",20,"px;>div{display:flex;flex-shrink:0;}")
;const rt=Object(n("AeFk").css)("display:flex;flex-direction:column;.less-margin .ProseMirror{margin:12px ",8,"px ",8,"px;}min-width:272px;height:auto;background-color:var(--ds-background-input, white);border:1px solid ","var(--ds-border, #DFE1E6)",";box-sizing:border-box;border-radius:",Object(n("7w+A").borderRadius)(),"px;max-width:inherit;word-wrap:break-word;"),it=W(Object(n("AeFk").css)("flex-grow:1;overflow-x:hidden;overflow-y:auto;line-height:24px;.ProseMirror{margin:12px ",14,"px ",14,"px;}.gridParent{margin-left:",14-n("qAiH").a,"px;margin-right:",14-n("qAiH").a,"px;width:calc(100% + ",14-n("qAiH").a,"px);}padding:",20,"px;",n("xGNL").b,";"));it.displayName="ContentArea";const st={name:"10tiwzk",styles:"box-sizing:border-box;justify-content:flex-end;align-items:center;display:flex;padding:12px 1px"};class at extends r.a.Component{constructor(e){super(e),s()(this,"appearance","comment"),s()(this,"containerElement",null),s()(this,"wrapperElementRef",r.a.createRef()),
s()(this,"handleSave",(()=>{this.props.editorView&&this.props.onSave&&this.props.onSave(this.props.editorView)})),s()(this,"handleCancel",(()=>{this.props.editorView&&this.props.onCancel&&this.props.onCancel(this.props.editorView)})),s()(this,"renderChrome",(({maxContentSize:e,mediaState:t})=>{const{editorDOMElement:o,editorView:r,editorActions:i,eventDispatcher:s,providerFactory:a,contentComponents:c,customContentComponents:l,customPrimaryToolbarComponents:d,primaryToolbarComponents:u,customSecondaryToolbarComponents:p,popupsMountPoint:h,popupsBoundariesElement:f,popupsScrollableElement:m,maxHeight:b,minHeight:g=150,onSave:v,onCancel:y,disabled:O,dispatchAnalyticsEvent:E,intl:w,useStickyToolbar:S}=this.props,k=Boolean(null==e?void 0:e.maxContentSizeReached),x=!!v||!!y||!!p;return Object(n("AeFk").jsx)($e,{animate:k},Object(n("AeFk").jsx)("div",{css:[rt,Object(n("AeFk").css)("min-height:",g,"px;")],className:"akEditor",ref:this.wrapperElementRef},Object(n("AeFk").jsx)(nt,{
useStickyToolbar:S},Object(n("AeFk").jsx)(n("gGVL").b,{editorView:r,childComponentSelector:"[data-testid='ak-editor-main-toolbar']",isShortcutToFocusToolbar:e=>e.altKey&&("F9"===e.key||120===e.keyCode),handleEscape:e=>{null!=r&&r.hasFocus()||null==r||r.focus()},editorAppearance:this.appearance,useStickyToolbar:S},Object(n("AeFk").jsx)(xe,{editorView:r,editorActions:i,eventDispatcher:s,providerFactory:a,appearance:this.appearance,items:u,popupsMountPoint:h,popupsBoundariesElement:f,popupsScrollableElement:m,disabled:!!O,dispatchAnalyticsEvent:E,containerElement:this.containerElement}),Object(n("AeFk").jsx)("div",{css:ot},d))),Object(n("AeFk").jsx)(ae,{editorView:r,editorDisabled:O},Object(n("AeFk").jsx)(n("dHUS").a,null,(({width:e})=>Object(n("AeFk").jsx)(it,{ref:e=>this.containerElement=e,css:b?Object(n("AeFk").css)("max-height:",b,"px;"):null,className:Xe()("ak-editor-content-area",{"less-margin":e<n("anI9").z})},l,Object(n("AeFk").jsx)(le,{editorView:r,editorActions:i,
eventDispatcher:s,dispatchAnalyticsEvent:E,providerFactory:a,appearance:this.appearance,items:c,popupsMountPoint:h,popupsBoundariesElement:f,popupsScrollableElement:m,containerElement:this.containerElement,disabled:!!O,wrapperElement:this.wrapperElementRef.current}),o)))),Object(n("AeFk").jsx)(ue,{editorView:r})),x&&Object(n("AeFk").jsx)("div",{css:st,"data-testid":"ak-editor-secondary-toolbar"},Object(n("AeFk").jsx)(n("/HJ0").a,null,!!v&&Object(n("AeFk").jsx)(n("0+Gd").a,{appearance:"primary",onClick:this.handleSave,testId:"comment-save-button",isDisabled:O||t&&!t.allUploadsFinished},w.formatMessage(n("yYBl").a.saveButton)),!!y&&Object(n("AeFk").jsx)(n("0+Gd").a,{appearance:"subtle",onClick:this.handleCancel,isDisabled:O},w.formatMessage(n("yYBl").a.cancelButton))),Object(n("AeFk").jsx)("span",{style:{flexGrow:1}}),p))})),e.innerRef&&(this.wrapperElementRef=e.innerRef)}render(){return Object(n("AeFk").jsx)(n("fd7e").a,{plugins:{maxContentSize:n("5fPG").b,mediaState:n("wBzk").a},
render:this.renderChrome})}}at.displayName="Editor",s()(at,"displayName","CommentEditorAppearance");const ct=Object(n("o5hF").c)(at),lt=({isExpanded:e,minHeight:t})=>Object(n("AeFk").css)("height:100%;",e&&t?`min-height: ${t}px`:"",";");class dt extends r.a.Component{constructor(...e){super(...e),s()(this,"clickElementRef",r.a.createRef()),s()(this,"handleClick",(e=>{const{editorView:t,editorDisabled:n}=this.props;if(!t)return;n||re(t,e);e.clientY>t.dom.getBoundingClientRect().bottom&&(e.preventDefault(),this.clickElementRef.current&&this.clickElementRef.current.scrollIntoView(!1))}))}render(){return Object(n("AeFk").jsx)("div",{css:lt({isExpanded:this.props.isExpanded,minHeight:this.props.minHeight}),className:"editor-click-wrapper",onClick:this.handleClick,ref:this.clickElementRef},this.props.children)}}dt.displayName="ClickAreaMobile";const ut={name:"13z0tpu",
styles:"min-height:30px;width:100%;max-width:inherit;box-sizing:border-box;word-wrap:break-word;div>.ProseMirror{outline:none;white-space:pre-wrap;padding:0;margin:0;}"},pt=W();function ht({editorView:e,persistScrollGutter:t,children:r,editorDisabled:i}){const s=Object(o.useCallback)((({maxContentSize:o,mobileDimensions:s})=>{const a=Boolean(null==o?void 0:o.maxContentSizeReached);let c=100,l=!0;if(s){const{keyboardHeight:e,windowHeight:n,mobilePaddingTop:o,isExpanded:r}=s;t?(c=n-o,l=r):c=n-e-2*o}return Object(n("AeFk").jsx)($e,{animate:a},Object(n("AeFk").jsx)("div",{css:ut},Object(n("AeFk").jsx)(dt,{editorView:e||void 0,minHeight:c,persistScrollGutter:t,isExpanded:l,editorDisabled:i},Object(n("AeFk").jsx)(pt,null,Object(n("AeFk").jsx)("div",{className:"ak-editor-content-area"},r)))))}),[r,e,t,i]);return Object(n("AeFk").jsx)(n("fd7e").a,{plugins:{maxContentSize:n("5fPG").b,mobileDimensions:n("RB5l").c},render:s})}
function ft({editorView:e,maxHeight:t,persistScrollGutter:n,editorDOMElement:o,disabled:i}){return r.a.createElement(ht,{editorView:e||null,maxHeight:t,persistScrollGutter:n,editorDisabled:i},o,e&&r.a.createElement(ue,{editorView:e}))}pt.displayName="ContentArea";var mt=Object(n("o5hF").c)((function(e){return r.a.createElement(n("QdCa").a,e)})),bt=n("EcEN"),gt=n.n(bt);const vt=e=>{const t=/Chrome\//.test(e)&&!/OPR\//.test(e);if((t?parseInt((e.match(/Chrome\/(\d+)/)||[])[1],10):0)>=84)return!1;const n=/gecko\/\d/i.test(e);if((n?parseInt((e.match(/Firefox\/(\d+)/)||[])[1],10):0)>=84)return!1;const o=/Edge\/(\d+)/.exec(e);if((o?+o[1]:0)>=84)return!1;return!((!t&&!n&&/Version\/([0-9\._]+).*Safari/.test(e)?parseInt((e.match(/Version\/([0-9\._]+).*Safari/)||[])[1],10):0)>=12)};class yt extends r.a.Component{constructor(e){super(e),s()(this,"browserExtensions",void 0),s()(this,"state",{error:void 0}),s()(this,"sendErrorData",(async e=>{var t,o
;const r=await this.getProductName(),{error:i,errorInfo:s,errorStack:a}=e,c=gt()(),l=(null===(t=window)||void 0===t||null===(o=t.navigator)||void 0===o?void 0:o.userAgent)||"unknown",d={product:r,browserInfo:l,error:i,errorInfo:s,errorId:c,browserExtensions:this.browserExtensions,docStructure:this.featureFlags.errorBoundaryDocStructure&&this.props.editorView?Object(n("hmSr").a)(this.props.editorView.state.doc,{compact:!0}):void 0,outdatedBrowser:vt(l)};var u;(this.fireAnalyticsEvent({action:n("+PNV").a.EDITOR_CRASHED,actionSubject:n("+PNV").b.EDITOR,eventType:n("+PNV").e.OPERATIONAL,attributes:d}),this.fireAnalyticsEvent({action:n("+PNV").a.EDITOR_CRASHED_ADDITIONAL_INFORMATION,actionSubject:n("+PNV").b.EDITOR,eventType:n("+PNV").e.OPERATIONAL,attributes:{errorId:c},nonPrivacySafeAttributes:{errorStack:a}}),this.featureFlags.ufo&&this.props.editorView)&&(null===(u=this.experienceStore)||void 0===u||u.failAll({...this.getExperienceMetadata(d),errorStack:a}))})),
s()(this,"getProductName",(async()=>{const{contextIdentifierProvider:e}=this.props;if(e){const t=await e;if(t.product)return t.product}return"atlaskit"})),s()(this,"fireAnalyticsEvent",(e=>{var t,o;null===(t=(o=this.props).createAnalyticsEvent)||void 0===t||t.call(o,e).fire(n("+WSe").b)})),s()(this,"getExperienceMetadata",(e=>{var t;return{browserInfo:e.browserInfo,error:e.error.toString(),errorInfo:{componentStack:e.errorInfo.componentStack},errorId:e.errorId,browserExtensions:null===(t=e.browserExtensions)||void 0===t?void 0:t.toString(),docStructure:e.docStructure}})),this.featureFlags=e.featureFlags,e.editorView&&(this.experienceStore=n("IYQB").b.getInstance(e.editorView))}componentDidCatch(e,t){this.sendErrorData({error:e.toString(),errorInfo:t,errorStack:e.stack}),this.setState({error:e},(()=>{if(this.props.rethrow)throw e}))}async componentDidMount(){this.browserExtensions=await Object(n("/x6/").a)({extensions:["grammarly"],async:!0,asyncTimeoutMs:2e4})}render(){
return r.a.createElement(n("ZPJ6").a,null,this.props.children)}}yt.displayName="ErrorBoundaryWithEditorView",s()(yt,"defaultProps",{rethrow:!0});var Ot=(e=>t=>{const{editorActions:o}=Object(n("GqfY").b)();return r.a.createElement(e,ge()({},t,{editorView:null==o?void 0:o._privateGetEditorView()}))})(yt),Et=n("17x9"),wt=n.n(Et);function St(e){const t=r.a.useContext(e);return r.a.useMemo((()=>({Provider:e.Provider,Consumer:e.Consumer,value:t})),[t,e])}const kt=({children:e})=>{const t=St(n("qxR6").a),o=St(n("5TYI").a);return r.a.createElement(xt,{card:t,analytics:o},e)};class xt extends r.a.PureComponent{constructor(...e){super(...e),s()(this,"contextState",{})}getChildContext(){return{contextAdapter:{card:this.props.card,analytics:this.props.analytics}}}render(){return this.props.children}}function Ct(e){return void 0===e?n("anI9").q:["comment","chromeless","mobile"].includes(e)?void 0:n("anI9").q}function Tt(e,t,r,i){!function(e){const t=Object(o.useRef)(!1);t.current||(e(),
t.current=!0)}((()=>{var o,s,a;(Object(n("61k9").b)(n("lZxZ").a.EDITOR_MOUNTED),null!=e&&null!==(o=e.ttiTracking)&&void 0!==o&&o.enabled||null!=t&&t.ufo)&&Object(n("TdfU").b)(((o,s,a)=>{Object(n("OL56").a)(o,s,a,e,t,i,r())}),null==e||null===(s=e.ttiTracking)||void 0===s?void 0:s.ttiIdleThreshold,null==e||null===(a=e.ttiTracking)||void 0===a?void 0:a.ttiCancelTimeout)}))}function jt(e,t,o,r){const i=Object(n("Ip2m").a)((()=>e))(o);return{extensionProvider:i,quickInsertProvider:Object(n("klNK").a)(e,i,t,r)}}function At(e){const{props:t,getExperienceStore:r,editorActions:i,createAnalyticsEvent:s}=e;!function(e,t,r){Tt(e.performanceTracking,e.featureFlags,t,r),Object(o.useEffect)((()=>(Object(n("61k9").c)(n("lZxZ").a.EDITOR_MOUNTED,Object(n("rh9/").a)(n("+PNV").a.EDITOR_MOUNTED,e,t,r)),()=>{var o,r,i,s;Object(n("61k9").a)(n("lZxZ").a.EDITOR_MOUNTED),
(null==e||null===(o=e.performanceTracking)||void 0===o||null===(r=o.onEditorReadyCallbackTracking)||void 0===r?void 0:r.enabled)&&Object(n("61k9").a)(n("lZxZ").a.ON_EDITOR_READY_CALLBACK),null!==(i=e.featureFlags)&&void 0!==i&&i.ufo&&(null===(s=t())||void 0===s||s.abortAll({reason:"editor component unmounted"}))})),[])}(t,r,s);const a=function(e,t,r){const{extensionProviders:i,quickInsert:s}=e,a=Object(o.useRef)(new(n("U7Mc").a)),[c,l]=Object(o.useState)(jt(t,s,i,r)),d=Object(n("8OMt").a)({extensionProviders:i,quickInsert:s});return Object(o.useEffect)((()=>{if(i&&i!==(null==d?void 0:d.extensionProviders)||s&&s!==(null==d?void 0:d.quickInsert)){const o=jt(t,s,i,r);return l(o),void Object(n("cnTP").a)(a.current,Object(n("9GNJ").a)(e),o.extensionProvider,o.quickInsertProvider)}Object(n("cnTP").a)(a.current,Object(n("9GNJ").a)(e),c.extensionProvider,c.quickInsertProvider)
}),[e,null==d?void 0:d.quickInsert,null==d?void 0:d.extensionProviders,r,t,c.extensionProvider,c.quickInsertProvider,i,s]),Object(o.useEffect)((()=>()=>{a.current.destroy()}),[]),a.current}(t,i,s),c={...e,providerFactory:a};return Object(n("AeFk").jsx)(It,c)}xt.displayName="LegacyContextAdapter",s()(xt,"childContextTypes",{contextAdapter:wt.a.object});var Nt={name:"13udsys",styles:"height:100%"};function It({props:e,handleAnalyticsEvent:t,createAnalyticsEvent:r,handleSave:i,editorActions:s,providerFactory:a,onEditorCreated:c,onEditorDestroyed:l,preset:d}){var u,p;const h=function(e){switch(e=e||"comment"){case"full-page":case"full-width":return ze;case"chromeless":return Ye;case"comment":return ct;case"mobile":return ft;default:throw new Error(`Appearance '${e}' is not supported by the editor.`)}}(e.appearance),f={...e,onSave:e.onSave?i:void 0,analyticsHandler:void 0
},m=Object(n("RxBR").a)(e),b=null===(u=e.performanceTracking)||void 0===u||null===(p=u.renderTracking)||void 0===p?void 0:p.editor,g=null==b?void 0:b.enabled,v=null==b?void 0:b.useShallow;return Object(n("AeFk").jsx)(o.Fragment,null,g&&Object(n("AeFk").jsx)(n("JI5p").a,{componentProps:e,action:n("+PNV").a.RE_RENDERED,actionSubject:n("+PNV").b.EDITOR,handleAnalyticsEvent:t,propsToIgnore:["defaultValue"],useShallow:v}),Object(n("AeFk").jsx)(Ot,{createAnalyticsEvent:r,contextIdentifierProvider:e.contextIdentifierProvider,featureFlags:m},Object(n("AeFk").jsx)(n("dHUS").c,{css:Nt},Object(n("AeFk").jsx)(n("GqfY").a,{editorActions:s},Object(n("AeFk").jsx)(kt,null,Object(n("AeFk").jsx)(n("67gn").c,{onAnalyticsEvent:t,useAnalyticsContext:e.UNSAFE_useAnalyticsContext,render:t=>Object(n("AeFk").jsx)(o.Fragment,null,Object(n("AeFk").jsx)(mt,{editorProps:f,createAnalyticsEvent:r,portalProviderAPI:t,providerFactory:a,onEditorCreated:c,onEditorDestroyed:l,allowAnalyticsGASV3:e.allowAnalyticsGASV3,
disabled:e.disabled,preset:d,render:({editor:t,view:o,eventDispatcher:r,config:c,dispatchAnalyticsEvent:l,editorRef:d})=>{var u,p;return Object(n("AeFk").jsx)(n("2omN").a,{baseFontSize:Ct(e.appearance)},Object(n("AeFk").jsx)(h,{innerRef:d,appearance:e.appearance,disabled:e.disabled,editorActions:s,editorDOMElement:t,editorView:o,providerFactory:a,eventDispatcher:r,dispatchAnalyticsEvent:l,maxHeight:e.maxHeight,minHeight:e.minHeight,onSave:e.onSave?i:void 0,onCancel:e.onCancel,popupsMountPoint:e.popupsMountPoint,popupsBoundariesElement:e.popupsBoundariesElement,popupsScrollableElement:e.popupsScrollableElement,contentComponents:c.contentComponents,primaryToolbarComponents:c.primaryToolbarComponents,primaryToolbarIconBefore:e.primaryToolbarIconBefore,secondaryToolbarComponents:c.secondaryToolbarComponents,insertMenuItems:e.insertMenuItems,customContentComponents:e.contentComponents,customPrimaryToolbarComponents:e.primaryToolbarComponents,
customSecondaryToolbarComponents:e.secondaryToolbarComponents,contextPanel:e.contextPanel,collabEdit:e.collabEdit,persistScrollGutter:e.persistScrollGutter,enableToolbarMinWidth:null!=(null===(u=e.featureFlags)||void 0===u?void 0:u.toolbarMinWidthOverflow)?!(null===(p=e.featureFlags)||void 0===p||!p.toolbarMinWidthOverflow):e.allowUndoRedoButtons,useStickyToolbar:e.useStickyToolbar,featureFlags:m}))}}),Object(n("AeFk").jsx)(n("67gn").d,{portalProviderAPI:t}))}))))))}},tudb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SCROLL_DIRECTION_VERTICAL=t.SCROLL_DIRECTION_HORIZONTAL=t.SCROLL_DIRECTION_FORWARD=t.SCROLL_DIRECTION_BACKWARD=void 0,t.default=function(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,i=e.startIndex,s=e.stopIndex;return r===o?{overscanStartIndex:Math.max(0,i),overscanStopIndex:Math.min(t-1,s+n)}:{overscanStartIndex:Math.max(0,i-n),overscanStopIndex:Math.min(t-1,s)}};n("uUy6"),t.SCROLL_DIRECTION_BACKWARD=-1
;var o=t.SCROLL_DIRECTION_FORWARD=1;t.SCROLL_DIRECTION_HORIZONTAL="horizontal",t.SCROLL_DIRECTION_VERTICAL="vertical"},tvGp:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var o=n("lSNA"),r=n.n(o);class i{constructor(){r()(this,"enabled",!1)}log(...e){this.enabled&&console.log(i.UFOprefix,...e)}warn(...e){this.enabled&&console.warn(i.UFOprefix,...e)}enable(){this.enabled=!0}disable(){this.enabled=!1}}r()(i,"UFOprefix","[ufo\ud83d\udef8]");const s=new i,a=(...e)=>{s.log(...e)},c=(...e)=>{s.warn(...e)}},"u/2i":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("tableFlexiColumnResizing")},"u/8/":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=({id:e,status:t,extensionKey:o,definitionId:r,resourceType:i,destinationProduct:s,destinationSubproduct:a,location:c,error:l})=>{const d=Object(n("wUXh").d)(e,t)||{duration:void 0};if("resolved"===t){const t=Object(n("Yto3").j)({id:e,
extensionKey:o,definitionId:r,resourceType:i,destinationProduct:s,destinationSubproduct:a,location:c});return{...t,attributes:{...t.attributes,duration:d.duration}}}if("ResolveUnsupportedError"!==(null==l?void 0:l.type)){const u=Object(n("Yto3").B)({id:e,status:t,extensionKey:o,definitionId:r,resourceType:i,destinationProduct:s,destinationSubproduct:a,location:c,error:l});return{...u,attributes:{...u.attributes,duration:d.duration}}}}},u0qK:function(e,t,n){"use strict";var o=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,r=/\((c|tm|r|p)\)/i,i=/\((c|tm|r|p)\)/gi,s={c:"\xa9",r:"\xae",p:"\xa7",tm:"\u2122"};function a(e,t){return s[t.toLowerCase()]}function c(e){var t,n,o=0;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||o||(n.content=n.content.replace(i,a)),"link_open"===n.type&&"auto"===n.info&&o--,"link_close"===n.type&&"auto"===n.info&&o++}function l(e){var t,n,r=0
;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||r||o.test(n.content)&&(n.content=n.content.replace(/\+-/g,"\xb1").replace(/\.{2,}/g,"\u2026").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1\u2014").replace(/(^|\s)--(?=\s|$)/gm,"$1\u2013").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1\u2013")),"link_open"===n.type&&"auto"===n.info&&r--,"link_close"===n.type&&"auto"===n.info&&r++}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(r.test(e.tokens[t].content)&&c(e.tokens[t].children),o.test(e.tokens[t].content)&&l(e.tokens[t].children))}},uBDH:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("pVnL"),r=n.n(o),i=n("q1tI"),s=n.n(i);const a=e=>s.a.createElement("svg",r()({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s.a.createElement("path",{
d:"M8.33333 8C8.15267 8 8 8.14933 8 8.33333V15.6667C8.0007 15.7549 8.03604 15.8392 8.0984 15.9016C8.16076 15.964 8.24514 15.9993 8.33333 16H15.6667C15.8473 16 16 15.8507 16 15.6667V8.33333C16 8.15267 15.8507 8 15.6667 8H8.33333Z",fill:"currentColor"}),s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 7C4 5.34315 5.34315 4 7 4H17C18.6569 4 20 5.34315 20 7V17C20 18.6569 18.6569 20 17 20H7C5.34315 20 4 18.6569 4 17V7ZM7 6C6.44772 6 6 6.44772 6 7V17C6 17.5523 6.44772 18 7 18H17C17.5523 18 18 17.5523 18 17V7C18 6.44772 17.5523 6 17 6H7Z",fill:"currentColor"})),c=e=>s.a.createElement(n("UnwW").b,r()({glyph:a},e))},uERC:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("pVnL"),r=n.n(o),i=n("q1tI"),s=n.n(i);const a=e=>s.a.createElement("svg",r()({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M12 22C9.34784 22 6.8043 20.9464 4.92893 19.0711C3.05357 17.1957 2 14.6522 2 12C2 9.34784 3.05357 6.8043 4.92893 4.92893C6.8043 3.05357 9.34784 2 12 2C14.6522 2 17.1957 3.05357 19.0711 4.92893C20.9464 6.8043 22 9.34784 22 12C22 14.6522 20.9464 17.1957 19.0711 19.0711C17.1957 20.9464 14.6522 22 12 22V22ZM13.705 8.295L11.015 13.4325L9.08625 11.695C8.9642 11.5852 8.82172 11.5005 8.66694 11.4457C8.51216 11.391 8.3481 11.3672 8.18415 11.3759C8.0202 11.3845 7.85955 11.4254 7.71139 11.4961C7.56322 11.5669 7.43044 11.6661 7.32063 11.7881C7.21081 11.9102 7.1261 12.0527 7.07135 12.2074C7.0166 12.3622 6.99287 12.5263 7.00152 12.6902C7.01016 12.8542 7.05102 13.0148 7.12175 13.163C7.19248 13.3112 7.2917 13.4439 7.41375 13.5538L10.5388 16.3663C10.6803 16.4938 10.8492 16.5872 11.0325 16.6395C11.2157 16.6917 11.4085 16.7014 11.596 16.6678C11.7836 16.6341 11.9609 16.558 12.1146 16.4453C12.2682 16.3326 12.3941 16.1863 12.4825 16.0175L15.92 9.455C16.0738 9.16127 16.1047 8.81847 16.0057 8.502C15.9068 8.18553 15.6862 7.92133 15.3925 7.7675C15.0988 7.61367 14.756 7.58283 14.4395 7.68176C14.123 7.78068 13.8588 8.00127 13.705 8.295V8.295Z",
fill:"currentColor"})),c=e=>s.a.createElement(n("UnwW").b,r()({glyph:a},e))},uIwD:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("fwbU"),r=n("0f8l");function i(e){return new(n("KkS8").a)({props:{handleKeyDown(t,n){const i=Object(r.keyName)(n);let s=n;return n.ctrlKey&&1===i.length&&/[^\u0000-\u007f]/.test(i)&&(s=new KeyboardEvent("keydown",{key:r.base[n.keyCode],code:n.code,ctrlKey:!0})),Object(o.a)(e)(t,s)}}})}},uOGI:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("collabEditPlugin")},uUy6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),
t.bpfrpt_proptype_VisibleCellRange=t.bpfrpt_proptype_Alignment=t.bpfrpt_proptype_OverscanIndicesGetter=t.bpfrpt_proptype_OverscanIndices=t.bpfrpt_proptype_OverscanIndicesGetterParams=t.bpfrpt_proptype_RenderedSection=t.bpfrpt_proptype_ScrollbarPresenceChange=t.bpfrpt_proptype_Scroll=t.bpfrpt_proptype_NoContentRenderer=t.bpfrpt_proptype_CellSize=t.bpfrpt_proptype_CellSizeGetter=t.bpfrpt_proptype_CellRangeRenderer=t.bpfrpt_proptype_CellRangeRendererParams=t.bpfrpt_proptype_StyleCache=t.bpfrpt_proptype_CellCache=t.bpfrpt_proptype_CellRenderer=t.bpfrpt_proptype_CellRendererParams=t.bpfrpt_proptype_CellPosition=void 0;(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e})(n("q1tI")),o(n("VZmc")),o(n("17x9"));function o(e){return e&&e.__esModule?e:{default:e}}t.bpfrpt_proptype_CellPosition=null,t.bpfrpt_proptype_CellRendererParams=null,t.bpfrpt_proptype_CellRenderer=null,
t.bpfrpt_proptype_CellCache=null,t.bpfrpt_proptype_StyleCache=null,t.bpfrpt_proptype_CellRangeRendererParams=null,t.bpfrpt_proptype_CellRangeRenderer=null,t.bpfrpt_proptype_CellSizeGetter=null,t.bpfrpt_proptype_CellSize=null,t.bpfrpt_proptype_NoContentRenderer=null,t.bpfrpt_proptype_Scroll=null,t.bpfrpt_proptype_ScrollbarPresenceChange=null,t.bpfrpt_proptype_RenderedSection=null,t.bpfrpt_proptype_OverscanIndicesGetterParams=null,t.bpfrpt_proptype_OverscanIndices=null,t.bpfrpt_proptype_OverscanIndicesGetter=null,t.bpfrpt_proptype_Alignment=null,t.bpfrpt_proptype_VisibleCellRange=null},uVoC:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"n",(function(){return i})),n.d(t,"k",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"i",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"j",(function(){return f})),n.d(t,"p",(function(){return b})),n.d(t,"r",(function(){return g})),n.d(t,"q",(function(){return v})),
n.d(t,"s",(function(){return O})),n.d(t,"u",(function(){return E})),n.d(t,"t",(function(){return w})),n.d(t,"w",(function(){return S})),n.d(t,"v",(function(){return k})),n.d(t,"d",(function(){return x})),n.d(t,"f",(function(){return C})),n.d(t,"e",(function(){return T})),n.d(t,"o",(function(){return j})),n.d(t,"m",(function(){return A})),n.d(t,"l",(function(){return N})),n.d(t,"g",(function(){return I}));const o=Object(n("qgDP").a)("fabric-elements"),r=(e,t,o,r,i={})=>({eventType:e,action:t,actionSubject:o,actionSubjectId:r,attributes:{packageName:n("HHRn").a,packageVersion:n("HHRn").b,...i}}),i=e=>r("operational","succeeded","recordEmojiSelection",void 0,{source:e}),s=e=>r("operational","failed","recordEmojiSelection",void 0,{source:e}),a=(e,t={},n)=>r("ui",e,"emojiPicker",n,t),c=()=>a("opened"),l=e=>a("closed",e),d=[{id:"-1f3fb",skinToneModifier:"light"},{id:"-1f3fc",skinToneModifier:"mediumLight"},{id:"-1f3fd",skinToneModifier:"medium"},{id:"-1f3fe",skinToneModifier:"mediumDark"},{
id:"-1f3ff",skinToneModifier:"dark"}],u=e=>{if(!e)return{};for(const{id:t,skinToneModifier:n}of d)if(-1!==e.indexOf(t))return{skinToneModifier:n,baseEmojiId:e.replace(t,"")};return{}},p=e=>a("clicked",{...u(e.emojiId),...e},"emoji"),h=e=>a("clicked",e,"category"),f=e=>a("searched",e,"query"),m=(e,t={})=>r("ui",e,"emojiSkintoneSelector",void 0,t),b=e=>m("clicked",e),g=e=>m("opened",e),v=()=>m("cancelled"),y=(e,t,n)=>r("ui",e,"emojiUploader",t,n),O=()=>y("clicked","addButton"),E=e=>y("clicked","confirmButton",e),w=()=>y("clicked","cancelButton"),S=e=>r("operational","finished","emojiUploader",void 0,e),k=e=>r("operational","failed","emojiUploader",void 0,e),x=e=>r("ui","clicked","emojiPicker","deleteEmojiTrigger",e),C=e=>r("ui","clicked","emojiPicker","deleteEmojiConfirm",e),T=e=>r("ui","clicked","emojiPicker","deleteEmojiCancel",e),j=()=>r("ui","clicked","emojiUploader","selectFile"),A=e=>()=>{
e&&e.createAnalyticsEvent&&Object(n("qgDP").a)("editor")(i("typeahead"))(e.createAnalyticsEvent)},N=e=>t=>(e&&e.createAnalyticsEvent&&Object(n("qgDP").a)("editor")(s("typeahead"))(e.createAnalyticsEvent),Promise.reject(t)),I=e=>e instanceof Error?{name:e.name,message:e.message}:e},uccp:function(e,t,n){n("5Qd4"),e.exports=n("VSTI").Object.assign},ugGH:function(e,t,n){e.exports=n("BRsN")},ujKG:function(e,t,n){"use strict";let o;n.d(t,"a",(function(){return o})),function(e){e.Before="Before",e.Start="Start",e.Inside="Inside",e.End="End"}(o||(o={}))},ukM9:function(e,t){e.exports=function(e,t,n,o){if(!(e instanceof t)||void 0!==o&&o in e)throw TypeError(n+": incorrect invocation!");return e}},umwh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13 11V7a1 1 0 00-2 0v4H7a1 1 0 000 2h4v4a1 1 0 002 0v-4h4a1 1 0 000-2h-4z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorAddIcon";var s=i;t.default=s},usqY:function(e,t,n){"use strict";function o(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,t){for(var n=e.pos;n<e.posMax&&!o(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}},"v++r":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}))
;const o=({selected:e})=>`\n    ${n("zrlP").b}\n\n    &::after {\n      content: '';\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      top: 0;\n      box-sizing: border-box;\n      pointer-events: none;\n      ${n("FcH9").b}\n      ${e?Object(n("zrlP").a)([n("5iLT").a.Border]):""}\n    }\n  `},v9Uh:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>e===n("jdz0").d.JSM?"request":"issue"},vNbC:function(e,t,n){n("du/1");var o=n("VSTI").Object;e.exports=function(e,t){return o.create(e,t)}},vNjH:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o="\u200b",r="\u200d"},vOBO:function(e,t,n){var o,r,i,s=n("nAx8"),a=n("Temt"),c=n("kUGv"),l=n("BfU5"),d=n("7whZ"),u=d.process,p=d.setImmediate,h=d.clearImmediate,f=d.MessageChannel,m=d.Dispatch,b=0,g={},v="onreadystatechange",y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},O=function(e){y.call(e.data)}
;p&&h||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++b]=function(){a("function"==typeof e?e:Function(e),t)},o(b),b},h=function(e){delete g[e]},"process"==n("TYje")(u)?o=function(e){u.nextTick(s(y,e,1))}:m&&m.now?o=function(e){m.now(s(y,e,1))}:f?(i=(r=new f).port2,r.port1.onmessage=O,o=s(i.postMessage,i,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(o=function(e){d.postMessage(e+"","*")},d.addEventListener("message",O,!1)):o=v in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),y.call(e)}}:function(e){setTimeout(s(y,e,1),0)}),e.exports={set:p,clear:h}},vREE:function(e,t,n){"use strict";let o;n.d(t,"a",(function(){return o})),function(e){e.FIND_REPLACE="findReplace",e.EMOJI="emoji",e.ORDERED_LIST="orderedList",e.BULLET_LIST="bulletList",e.MEDIA="media",e.MENTION="mention",e.DECISION_LIST="decisionList",e.TASK_LIST="taskList",e.TEXT_COLOR="color",
e.TEXT_FORMATTING_STRONG="strong",e.TEXT_FORMATTING_ITALIC="italic",e.UNDO="undo",e.REDO="redo",e.INDENT="indent",e.OUTDENT="outdent"}(o||(o={}))},vRZh:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return l}));var o=n("UxO+");function r(e){const{selection:t,doc:n}=e;return n.nodeSize-t.$to.pos-2===t.$to.depth}function i(e){const{selection:t}=e;return t.$from.pos===t.$from.depth}function s(e){const{selection:t}=e,{$to:r}=t;return!(t instanceof n("WE2A").a)&&(!!(t instanceof o.NodeSelection&&t.node.isBlock)||l(r)===r.pos+1)}function a(e){const{selection:t}=e,{$from:r}=t;return!(t instanceof n("WE2A").a)&&(!!(t instanceof o.NodeSelection&&t.node.isBlock)||c(r)===r.pos)}function c(e){return e.start(e.depth)}function l(e){return e.end(e.depth)+1}},vRhk:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),
n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"i",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return h}));var o=n("UxO+"),r=n("mG1W");const i=e=>Object(n("n683").a)({type:"SET_EXPAND_REF",data:{ref:e}},(e=>e.setMeta("addToHistory",!1))),s=(e,t)=>(o,r)=>{if(!t||isNaN(e))return!1;const i={action:n("+PNV").a.DELETED,actionSubject:t.type===o.schema.nodes.expand?n("+PNV").b.EXPAND:n("+PNV").b.NESTED_EXPAND,attributes:{inputMethod:n("+PNV").f.TOOLBAR},eventType:n("+PNV").e.TRACK};return t&&r&&r(Object(n("SVcB").a)(o,o.tr.delete(e,e+t.nodeSize),i)),!0},a=()=>(e,t)=>{const o=Object(n("beyY").a)(e);return!!o&&s(o.pos,o.node)(e,t)},c=(e,t,n)=>(o,r)=>{const i=o.doc.nodeAt(t);if(i&&i.type===n&&r){const{tr:n}=o;n.setNodeMarkup(t,i.type,{...i.attrs,title:e},i.marks),r(n)}return!0},l=(e,t)=>(o,r)=>{const i=o.doc.nodeAt(e)
;if(i&&i.type===t&&r){const{tr:s}=o,a=!i.attrs.__expanded;s.setNodeMarkup(e,i.type,{...i.attrs,__expanded:a},i.marks),!1===a&&Object(n("beyY").a)(o)&&s.setSelection(new(n("WE2A").a)(s.doc.resolve(e+i.nodeSize),n("WE2A").c.RIGHT));const c={action:n("+PNV").a.TOGGLE_EXPAND,actionSubject:t===o.schema.nodes.expand?n("+PNV").b.EXPAND:n("+PNV").b.NESTED_EXPAND,attributes:{platform:n("N6uE").d.WEB,mode:n("N6uE").c.EDITOR,expanded:a},eventType:n("+PNV").e.TRACK};r(Object(n("SVcB").a)(o,s.setMeta("isRemote",!0),c))}return!0},d=e=>{const{expand:t,nestedExpand:o}=e.schema.nodes;return(Object(n("zYPQ").c)(e.selection)?o:t).createAndFill({})},u=(e,t)=>{const o=d(e),i={action:n("+PNV").a.INSERTED,actionSubject:n("+PNV").b.DOCUMENT,actionSubjectId:o.type===e.schema.nodes.expand?n("+PNV").c.EXPAND:n("+PNV").c.NESTED_EXPAND,attributes:{inputMethod:n("+PNV").f.INSERT_MENU},eventType:n("+PNV").e.TRACK};return t&&t(Object(n("SVcB").a)(e,Object(r.safeInsert)(o)(e.tr).scrollIntoView(),i)),!0
},p=e=>(t,n,o)=>{if(o){const r=o.domAtPos(e).node.parentElement;if(r){h(t,n,o);const e=r.querySelector("input");if(e)return e.focus(),!0}}return!1},h=(e,t,n)=>{const{tr:r,doc:i,selection:s}=e;return n&&!n.hasFocus()&&n.focus(),t&&t(r.setSelection(o.TextSelection.create(i,s.from))),!0}},vWgF:function(e,t,n){"use strict";e.exports=n("rO12")},va3J:function(e,t,n){"use strict";var o=n("7whZ"),r=n("VSTI"),i=n("GhSp"),s=n("C61u"),a=n("zBWt")("species");e.exports=function(e){var t="function"==typeof r[e]?r[e]:o[e];s&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},va9E:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i}));const o="media-card-inline-player",r=({dimensions:e,breakpointSize:t="medium",shouldUsePointerCursor:o})=>Object(n("AeFk").css)(Object(n("W0fT").b)({breakpointSize:t
})," ",(e=>e&&e.height?`height: ${Object(n("HtLz").a)(e.height)}; max-height: 100%;`:"")(e)," ",(e=>e&&e.width?`width: ${Object(n("HtLz").a)(e.width)}; max-width: 100%;`:"")(e)," cursor:",o?"pointer":"default",";");r.displayName="CardViewWrapper";const i=({dimensions:e,selected:t})=>Object(n("AeFk").css)("width:",Object(n("FD6u").a)(e).width||"100%",";height:",Object(n("FD6u").a)(e).height||"auto",";overflow:hidden;border-radius:",Object(n("7w+A").borderRadius)(),"px;position:relative;max-width:100%;max-height:100%;",Object(n("v++r").a)(t)," video{width:100%;height:100%;}");i.displayName="InlinePlayerWrapper"},vkwj:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return l}));var o=n("V2qZ");var r=e=>(t,o)=>{switch(o.type){case n("SjlK").a.ACTIVATE:case n("SjlK").a.FIND:return{...t,isActive:!0,shouldFocus:o.type===n("SjlK").a.ACTIVATE,findText:void 0!==o.findText?o.findText:t.findText,matches:o.matches||t.matches,
index:void 0!==o.index?o.index:t.index};case n("SjlK").a.UPDATE_DECORATIONS:return{...t,decorationSet:o.decorationSet};case n("SjlK").a.FIND_NEXT:case n("SjlK").a.FIND_PREVIOUS:return{...t,index:o.index,decorationSet:o.decorationSet};case n("SjlK").a.REPLACE:case n("SjlK").a.REPLACE_ALL:return{...t,replaceText:o.replaceText,decorationSet:o.decorationSet,matches:o.matches,index:o.index};case n("SjlK").a.CANCEL:return e();case n("SjlK").a.BLUR:return{...t,shouldFocus:!1};case n("SjlK").a.TOGGLE_MATCH_CASE:return{...t,shouldMatchCase:!t.shouldMatchCase};default:return t}};const i={isActive:!1,shouldFocus:!1,findText:"",replaceText:"",index:0,matches:[],decorationSet:o.b.empty,shouldMatchCase:!1},{createCommand:s,getPluginState:a,createPluginState:c}=Object(n("pVB1").a)(n("ik3n").a,r((()=>i)),{onDocChanged:(e,t)=>{const{isActive:r,findText:i}=t;if(!r||!i)return t;if(!e.steps.find(n("XyUv").j))return t;let{index:s,decorationSet:a,matches:c,shouldMatchCase:l}=t
;const d=Object(n("CqIp").d)(e.doc,i,l);a=a.map(e.mapping,e.doc);const u=a.find().length,p=c.map((t=>({start:e.mapping.map(t.start),end:e.mapping.map(t.end)})));let h=[],f=[];if(d.length>0&&0===u?h=d:0===d.length&&u>0?a=o.b.empty:(d.length>0||u>0)&&e.steps.forEach((t=>{Object(n("XyUv").j)(t)&&(h=[...h,...d.filter((o=>Object(n("CqIp").h)(o,t,e)&&!Object(n("CqIp").c)(a,o)))],f=[...f,...Object(n("iBAD").b)(p.filter((o=>Object(n("CqIp").h)(o,t,e)&&!!Object(n("CqIp").c)(a,o))),d,((e,t)=>e.start===t.start&&e.end===t.end))])})),f.length>0){const t=f.reduce(((e,t)=>[...e,...a.find(t.start,t.end)]),[]);a=Object(n("CqIp").k)(a,t,e.doc)}h.length>0&&(a=a.add(e.doc,Object(n("CqIp").b)(e.selection.from,h)));let m=s;const b=p[s];b&&(m=d.findIndex((e=>e.start===b.start))),void 0!==m&&-1!==m||(m=Object(n("CqIp").e)(e.selection.from,d));const g=d[m];return a=Object(n("CqIp").l)(a,[b,g],e.doc),g&&(a=a.add(e.doc,Object(n("CqIp").b)(0,[g]))),{...t,matches:d,index:m,decorationSet:a}}
}),l=e=>new(n("KkS8").a)({key:n("ik3n").a,state:c(e,(()=>i)),props:{decorations(e){const{isActive:t,findText:n,decorationSet:o}=a(e);if(t&&n)return o}}})},vsMl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm4-8h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4a1 1 0 011-1zM6 5h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorAlignImageCenterIcon";var s=i;t.default=s},vsOh:function(t,n,o){"use strict";o.d(n,"a",(function(){return s}));var r=o("ScxJ");class i{constructor(e,t,n,r="editor-quick-search",i=!1){switch(t){case o("61vS").a.ConfluencePageBlog:case o("61vS").a.JiraIssue:break;default:throw new Error(`Unsupported scope - ${t}`)}
this.scope=t,this.cloudId=e,this.analyticsIdentifier=r,this.useConfluenceTypeInAri=i;const s={cloudId:e,aggregatorUrl:n};this.client=Object(o("FUiX").a)(s)}getAriString(t){try{return new r.ResourceIdentifier(t).toString()}catch(e){return""}}confluencePageBlogResponseTransformer(e){return e?e.results.map((e=>{var t;return{title:e.title,url:e.baseUrl+e.url,container:e.container.title,contentType:this.mapToContentType(e.content&&e.content.type),updatedTimestamp:e.lastModified,objectId:this.getAriString({resourceOwner:"confluence",cloudId:this.cloudId,resourceType:this.useConfluenceTypeInAri&&(null===(t=e.content)||void 0===t?void 0:t.type)||"content",resourceId:e.content&&e.content.id})}})):[]}jiraIssueResponseTransformer(e){return e?e.results.map((e=>({title:e.name,url:e.url,container:e.attributes.container&&e.attributes.container.title||"",contentType:this.mapToContentType(e.attributes["@type"],e.attributes.issueTypeName),updatedTimestamp:e.attributes.updated,
objectId:this.getAriString({resourceOwner:"jira",cloudId:this.cloudId,resourceType:"issue",resourceId:e.id})}))):[]}mapToContentType(e,t){switch(e){case"issue":switch(t){case"Bug":return"jira.issue.bug";case"Story":return"jira.issue.story";case"Task":return"jira.issue.task";default:return"jira.issue"}case"page":return"confluence.page";case"blogpost":return"confluence.blogpost";default:return"default"}}async quickSearch(e,t){const n=await this.client.search({query:e,scopes:[this.scope],analytics:{identifier:this.analyticsIdentifier},resultLimit:t});switch(this.scope){case o("61vS").a.ConfluencePageBlog:{const e=n.response.retrieveScope(this.scope);return this.confluencePageBlogResponseTransformer(e)}case o("61vS").a.JiraIssue:{const e=n.response.retrieveScope(this.scope);return this.jiraIssueResponseTransformer(e)}default:throw new Error(`Unsupported scope - ${this.scope}`)}}}const s=(e,t,n,o,r)=>new i(e,t,n,o,r)},vtDw:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}))
;var o=n("q1tI");const r=(e,t)=>{if(e&&e.attributes)for(const[n,o]of Object.entries(t))void 0===e.attributes[n]&&(e.attributes[n]=o);return e},i=(e,t,i,s)=>{const{dispatchAnalytics:a}=(e=>{const{createAnalyticsEvent:t}=Object(n("rZ/p").a)();return{dispatchAnalytics:Object(o.useMemo)((()=>e||(e=>{t(e).fire(n("Yto3").a)})),[e,t])}})(t),c=i||"NULL",{store:l}=Object(n("qxR6").b)(),d=l?Object(n("+lU9").a)(l,e):void 0,u=d?d.details:void 0,p=Object(n("CvEH").c)(u),h=Object(n("CvEH").d)(u),f=Object(n("CvEH").f)(u),m=Object(n("CvEH").i)(u),b=Object(n("CvEH").e)(u),g=Object(o.useMemo)((()=>({id:c,definitionId:p,extensionKey:h,resourceType:f,destinationSubproduct:m,destinationProduct:b,location:s})),[c,p,h,f,m,b,s]),v=Object(o.useMemo)((()=>({authEvent:({display:e,extensionKey:t,definitionId:o,resourceType:i,destinationProduct:s,destinationSubproduct:c,location:l})=>a(r(Object(n("Yto3").q)({display:e,extensionKey:t,definitionId:o,resourceType:i,destinationProduct:s,destinationSubproduct:c,
location:l}),g)),authAlternateAccountEvent:({display:e,extensionKey:t,definitionId:o,resourceType:i,destinationProduct:s,destinationSubproduct:c,location:l})=>a(r(Object(n("Yto3").p)({display:e,extensionKey:t,definitionId:o,resourceType:i,destinationProduct:s,destinationSubproduct:c,location:l}),g)),buttonClickedEvent:e=>a(r({action:"clicked",actionSubject:"button",actionSubjectId:e.actionSubjectId,attributes:{...n("Yto3").f,...e.attributes},eventType:"ui"},g)),cardClickedEvent:({id:e,display:t,status:o,definitionId:i,extensionKey:s,isModifierKeyPressed:c,location:l,destinationProduct:d,destinationSubproduct:u,actionSubjectId:p})=>a(r(Object(n("Yto3").r)({id:e,display:t,status:o,definitionId:i,extensionKey:s,isModifierKeyPressed:c,location:l,destinationProduct:d,destinationSubproduct:u,actionSubjectId:p}),g)),
iframeDwelledEvent:({id:e,display:t,status:o,definitionId:i,extensionKey:s,location:c,destinationProduct:l,destinationSubproduct:d,dwellTime:u,dwellPercentVisible:p})=>a(r(Object(n("Yto3").w)({id:e,display:t,status:o,definitionId:i,extensionKey:s,location:c,destinationProduct:l,destinationSubproduct:d,dwellTime:u,dwellPercentVisible:p}),g)),iframeFocusedEvent:({id:e,display:t,status:o,definitionId:i,extensionKey:s,location:c,destinationProduct:l,destinationSubproduct:d})=>a(r(Object(n("Yto3").x)({id:e,display:t,status:o,definitionId:i,extensionKey:s,location:c,destinationProduct:l,destinationSubproduct:d}),g)),actionClickedEvent:({id:e,actionType:t,display:o,invokeType:i,extensionKey:s,definitionId:c,resourceType:l,destinationProduct:d,destinationSubproduct:u,location:p})=>{Object(n("UkcH").c)("smart-link-action-invocation",e,{actionType:t,display:o,extensionKey:s,invokeType:i}),a(r(Object(n("Yto3").o)({id:e,actionType:t,display:o,extensionKey:s,definitionId:c,resourceType:l,
destinationProduct:d,destinationSubproduct:u,location:p}),g))},hoverCardOpenLinkClickedEvent:({previewDisplay:e,definitionId:t,extensionKey:o,destinationProduct:i,destinationSubproduct:s,location:l,previewInvokeMethod:d})=>{a(r(Object(n("Yto3").u)({id:c,previewDisplay:e,definitionId:t,extensionKey:o,destinationProduct:i,destinationSubproduct:s,location:l,previewInvokeMethod:d}),g))},closedAuthEvent:({display:e,extensionKey:t,definitionId:o,resourceType:i,destinationProduct:s,destinationSubproduct:c,location:l})=>a(r(Object(n("Yto3").s)({display:e,extensionKey:t,definitionId:o,resourceType:i,destinationProduct:s,destinationSubproduct:c,location:l}),g)),modalClosedEvent:e=>a(r({action:"closed",actionSubject:"modal",actionSubjectId:e.actionSubjectId,attributes:{...n("Yto3").f,...e.attributes},eventType:"ui"},g)),renderSuccessEvent:({display:e,status:t,id:o,extensionKey:i,definitionId:s,resourceType:l,destinationProduct:d,destinationSubproduct:u,location:p})=>{const h=o||c
;Object(n("UkcH").d)("smart-link-rendered",h,{extensionKey:i,display:e}),Object(n("UkcH").d)("smart-link-authenticated",h,{display:e}),a(r(Object(n("Yto3").A)({display:e,status:t,extensionKey:i,definitionId:s,resourceType:l,destinationProduct:d,destinationSubproduct:u,location:p}),g))},renderFailedEvent:({display:e,id:t,error:o,errorInfo:i,extensionKey:s,definitionId:l,resourceType:d,destinationProduct:u,destinationSubproduct:p,location:h})=>{const f=t||c;Object(n("UkcH").c)("smart-link-rendered",f),Object(n("UkcH").b)("smart-link-rendered",f),Object(n("UkcH").b)("smart-link-authenticated",f),a(r(Object(n("Yto3").z)({display:e,error:o,errorInfo:i,extensionKey:s,definitionId:l,resourceType:d,destinationProduct:u,destinationSubproduct:p,location:h}),g))},hoverCardViewedEvent:({previewDisplay:e,previewInvokeMethod:t,id:o,extensionKey:i,definitionId:s,resourceType:c,destinationProduct:l,destinationSubproduct:d,location:u,status:p})=>a(r(Object(n("Yto3").v)({id:o,previewDisplay:e,
extensionKey:i,definitionId:s,resourceType:c,destinationProduct:l,destinationSubproduct:d,location:u,previewInvokeMethod:t,status:p}),g)),hoverCardDismissedEvent:({id:e,previewDisplay:t,hoverTime:o,previewInvokeMethod:i,extensionKey:s,definitionId:c,resourceType:l,destinationProduct:d,destinationSubproduct:u,location:p,status:h})=>a(r(Object(n("Yto3").t)({previewDisplay:t,id:e,hoverTime:o,extensionKey:s,definitionId:c,resourceType:l,destinationProduct:d,destinationSubproduct:u,location:p,previewInvokeMethod:i,status:h}),g)),learnMoreClickedEvent:()=>a(r(Object(n("Yto3").y)(),g))})),[c,g,a]),y=Object(o.useMemo)((()=>({invokeSucceededEvent:({id:e,actionType:t,display:o,extensionKey:i,definitionId:s,resourceType:c,destinationProduct:l,destinationSubproduct:d,location:u})=>{Object(n("UkcH").d)("smart-link-action-invocation",e),a(r(Object(n("Yto3").i)({id:e,actionType:t,display:o,extensionKey:i,definitionId:s,resourceType:c,destinationProduct:l,destinationSubproduct:d,location:u}),g))},
invokeFailedEvent:({id:e,actionType:t,display:o,reason:i,extensionKey:s,definitionId:c,resourceType:l,destinationProduct:d,destinationSubproduct:u,location:p})=>{Object(n("UkcH").b)("smart-link-action-invocation",e),a(r(Object(n("Yto3").h)({id:e,actionType:t,display:o,reason:i,extensionKey:s,definitionId:c,resourceType:l,destinationProduct:d,destinationSubproduct:u,location:p}),g))},connectSucceededEvent:({id:e,extensionKey:t,definitionId:o,resourceType:i,destinationProduct:s,destinationSubproduct:l,location:d})=>{const u=e||c;Object(n("UkcH").c)("smart-link-authenticated",u,{extensionKey:t,status:"success"}),a(r(Object(n("Yto3").e)({...g,id:u,extensionKey:t,definitionId:o,resourceType:i,destinationProduct:s,destinationSubproduct:l,location:d}),g))},connectFailedEvent:({id:e,reason:t,extensionKey:o,definitionId:i,resourceType:s,destinationProduct:l,destinationSubproduct:d,location:u})=>{const p=e||c;Object(n("UkcH").c)("smart-link-authenticated",p,{extensionKey:o,status:t}),
a(r(Object(n("Yto3").d)({...g,id:p,reason:t,extensionKey:o,definitionId:i,resourceType:s,destinationProduct:l,destinationSubproduct:d,location:u}),g))},instrument:({id:e,status:t,extensionKey:o,definitionId:i,resourceType:s,destinationProduct:c,destinationSubproduct:l,location:d,error:u})=>{const p=Object(n("u/8/").a)({...g,id:e,status:t,extensionKey:o,definitionId:i,resourceType:s,destinationProduct:c,destinationSubproduct:l,location:d,error:u});p&&a(r(p,g))},chunkloadFailedEvent:({display:e,error:t,errorInfo:o,extensionKey:i,definitionId:s,resourceType:c,destinationProduct:l,destinationSubproduct:d,location:u})=>{a(r(Object(n("Yto3").c)({display:e,error:t,errorInfo:o,extensionKey:i,definitionId:s,resourceType:c,destinationProduct:l,destinationSubproduct:d,location:u}),g))}})),[c,g,a]),O=Object(o.useMemo)((()=>({appAccountConnected:({extensionKey:e,definitionId:t,resourceType:o,destinationProduct:i,destinationSubproduct:s,location:c})=>a(r(Object(n("Yto3").m)({...g,extensionKey:e,
definitionId:t,resourceType:o,destinationProduct:i,destinationSubproduct:s,location:c}),g)),appAccountAuthStarted:({extensionKey:e,location:t})=>a(r(Object(n("Yto3").l)({...g,extensionKey:e,location:t}),g)),linkUpdated:e=>a(r(Object(n("Yto3").n)({...g,...e}),g))})),[g,a]),E=Object(o.useMemo)((()=>({authPopupEvent:({extensionKey:e,definitionId:t,resourceType:o,destinationProduct:i,destinationSubproduct:s,location:c})=>a(r(Object(n("Yto3").k)({...g,extensionKey:e,definitionId:t,resourceType:o,destinationProduct:i,destinationSubproduct:s,location:c}),g)),modalViewedEvent:e=>a(r({action:"viewed",actionSubject:e.name,attributes:{...n("Yto3").f,...e.attributes},eventType:"screen",name:e.name},g))})),[g,a]);return Object(o.useMemo)((()=>({ui:v,operational:y,track:O,screen:E})),[v,y,O,E])}},vxdq:function(e,t,n){"use strict";function o(e,t,s=[],a=document.createElement("canvas")){return function(e,t,s,a){const c=[];let l=0;for(let d=0;d<e.childNodes.length;d++){const u=e.childNodes[d]
;if(u.nodeType!==Node.COMMENT_NODE)if(u.nodeType===Node.TEXT_NODE){const e=u.parentNode,n=getComputedStyle(e);let o=0;o="CODE"===e.nodeName||"PRE"===e.nodeName?i(s,e,u.textContent,n.font):r(s,u.textContent,n.font);const d=e.offsetLeft-t.offsetLeft;c.push(l),l+=o+d,"nowrap"===n.whiteSpace&&a.push(e.offsetWidth+3)}else{const e=getComputedStyle(u);e.minWidth&&e.minWidth.endsWith("px")&&"0px"!==e.minWidth&&a.push(Object(n("E40G").a)(e.minWidth));const{width:r}=o(u,t,a,s);e.display&&e.display.indexOf("inline")>-1?l+=r:(c.push(l),l=r)}}return c.push(l),{minWidth:a.reduce(((e,t)=>Math.max(t,e)),0),width:c.reduce(((e,t)=>Math.max(t,e)),0)}}(e,t||e,a,s)}function r(e,t,n){const o=e.getContext("2d");return o?(n&&(o.font=n),Math.round(o.measureText(t||"").width)):0}function i(e,t,n,o){let i=t;"CODE"===t.nodeName&&(i=t.parentNode);const s=getComputedStyle(i);return n&&"pre"===s.whiteSpace?n.split("\n").reduce(((t,n)=>Math.max(r(e,n,o),t)),0):r(e,n,o)}n.d(t,"a",(function(){return o}))},
"vys+":function(e,t,n){"use strict";e.exports=function(e,t,n,o){var r,i,s,a,c,l,d,u=!1,p=e.bMarks[t]+e.tShift[t],h=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(p+3>h)return!1;if(126!==(r=e.src.charCodeAt(p))&&96!==r)return!1;if(c=p,(i=(p=e.skipChars(p,r))-c)<3)return!1;if(d=e.src.slice(c,p),s=e.src.slice(p,h),96===r&&s.indexOf(String.fromCharCode(r))>=0)return!1;if(o)return!0;for(a=t;!(++a>=n)&&!((p=c=e.bMarks[a]+e.tShift[a])<(h=e.eMarks[a])&&e.sCount[a]<e.blkIndent);)if(e.src.charCodeAt(p)===r&&!(e.sCount[a]-e.blkIndent>=4||(p=e.skipChars(p,r))-c<i||(p=e.skipSpaces(p))<h)){u=!0;break}return i=e.sCount[t],e.line=a+(u?1:0),(l=e.push("fence","code",0)).info=s,l.content=e.getLines(t+1,a,i,!0),l.markup=d,l.map=[t,e.line],!0}},w4ej:function(e,t,n){"use strict";const o=e=>t=>Object(n("AeFk").css)({flex:"0 0 16px",height:"16px",width:"16px",margin:"var(--ds-space-050, 4px) var(--ds-space-150, 12px) 0 0",color:e?"var(--ds-icon-subtle, #7A869A)":Object(n("56zV").a)({
light:"var(--ds-icon-success, #00875A)",dark:"var(--ds-icon-success, #57D9A3)"})({theme:t}),"> span":{margin:"-8px"}});t.a=({appearance:e,children:t,contentRef:r,placeholder:i,showPlaceholder:s,dataAttributes:a})=>{const c=Object(n("1chJ").b)(),l=Object(n("AeFk").jsx)("span",{contentEditable:!1,css:o(s)(c)},Object(n("AeFk").jsx)(n.n(n("efs6")).a,{label:"Decision",size:"large"}));return Object(n("AeFk").jsx)(n("zvNc").a,{appearance:e,contentRef:r,icon:l,placeholder:i,showPlaceholder:s,itemType:"DECISION",dataAttributes:a,theme:c},t)}},wBzk:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("mediaPlugin")},wFWU:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return l}));var o=n("UxO+"),r=n("mG1W");const i=(e,t)=>(i,s,a)=>{const{doc:c,selection:l,tr:d}=i;let u=Object(n("+ld7").b)(e)?l.$from:l.$to,p=l.empty
;if(l instanceof o.TextSelection){if(!t||!t(e.toString()))return!1;if(((e,t,o)=>{var r;const{doc:i,schema:s}=t;switch(e){case n("+ld7").a.UP:return!Object(n("vRZh").b)(t)&&(Object(n("wHIA").a)(o,s,"before")||Object(n("183E").d)(i,s,o,-1)||Object(n("ceYy").e)(o,t));case n("+ld7").a.DOWN:return Object(n("vRZh").d)(t)||Object(n("183E").d)(i,s,o,1)||Object(n("wHIA").a)(o,s,"after")||"text"===(null===(r=o.nodeBefore)||void 0===r?void 0:r.type.name)&&!o.nodeAfter;default:return!1}})(e,i,u))return!1;u=c.resolve(Object(n("+ld7").b)(e)?u.before():u.after()),p=!1}if(l instanceof o.NodeSelection){if(l.node.isInline)return!1;if(e===n("+ld7").a.UP&&!Object(n("vRZh").b)(i)&&!Object(n("ceYy").e)(u,i)||e===n("+ld7").a.DOWN)return!1}if(function(e,t){var o
;const{selection:r}=t,i=r instanceof n("WE2A").a&&e===n("+ld7").a.UP&&r.$from.nodeBefore&&Object(n("ceYy").d)(r.$from.nodeBefore),s=r instanceof n("WE2A").a&&e===n("+ld7").a.DOWN&&"mediaGroup"===(null===(o=r.$from.nodeAfter)||void 0===o?void 0:o.type.name);return i||s}(e,i)){const t=function(e,t){const{selection:i,tr:s}=t;let a=Object(n("+ld7").b)(e)?i.$from:i.$to;if(e===n("+ld7").a.UP&&i.$from.nodeBefore&&Object(n("ceYy").d)(i.$from.nodeBefore)){var c;const e=Object(r.findPositionOfNodeBefore)(s.selection);e&&"right"===i.side&&"mediaSingle"===(null===(c=s.doc.nodeAt(e))||void 0===c?void 0:c.type.name)?s.setSelection(new o.NodeSelection(s.doc.resolve(e))).scrollIntoView():(e||0===e)&&s.setSelection(new(n("WE2A").a)(s.doc.resolve(e),n("WE2A").c.LEFT)).scrollIntoView()}if(e===n("+ld7").a.DOWN&&i.$from.nodeAfter){const e="right"===i.side?a.pos:a.pos+i.$from.nodeAfter.nodeSize;e&&s.setSelection(new(n("WE2A").a)(s.doc.resolve(e),n("WE2A").c.LEFT)).scrollIntoView()}return s}(e,i)
;return s&&s(t),!0}if(l instanceof n("WE2A").a&&Object(n("OeyQ").a)(Object(n("+ld7").b)(e)?u.nodeBefore:u.nodeAfter)&&(Object(n("+ld7").b)(e)&&l.side===n("WE2A").c.LEFT||Object(n("+ld7").c)(e)&&l.side===n("WE2A").c.RIGHT))return s&&s(d.setSelection(new(n("WE2A").a)(u,l.side===n("WE2A").c.RIGHT?n("WE2A").c.LEFT:n("WE2A").c.RIGHT)).scrollIntoView()),!0;if(a){const e=a.domAtPos.bind(a),t=Object(r.findDomRefAtPos)(u.pos,e);if(t&&t.textContent===n("vNjH").b)return!1}const h=n("WE2A").a.findFrom(u,Object(n("+ld7").b)(e)?-1:1,p);return!!h&&(Object(n("OeyQ").a)(Object(n("+ld7").c)(e)?h.$from.nodeBefore:h.$from.nodeAfter)?(s&&s(d.setSelection(h).scrollIntoView()),!0):(s&&s(d.setSelection(new(n("WE2A").a)(h.$from,Object(n("+ld7").c)(e)?n("WE2A").c.LEFT:n("WE2A").c.RIGHT)).scrollIntoView()),!0))},s=e=>(t,i)=>{if(t.selection instanceof n("WE2A").a){const{$from:s,$anchor:a}=t.selection;let{tr:c}=t;if(Object(n("+ld7").b)(e)){
if("left"===t.selection.side)return c.setSelection(new(n("WE2A").a)(a,n("WE2A").c.RIGHT)),i&&i(c),!0;c=Object(r.removeNodeBefore)(t.tr)}else s.nodeAfter&&(c=c.delete(s.pos,s.pos+s.nodeAfter.nodeSize));return i&&i(c.setSelection(o.Selection.near(c.doc.resolve(c.mapping.map(t.selection.$from.pos)))).scrollIntoView()),!0}return!1},a=(e,t=n("WE2A").c.LEFT)=>(o,r)=>{if(e>o.doc.content.size)return!1;const i=o.doc.resolve(e);return!!n("WE2A").a.valid(i)&&(r&&r(o.tr.setSelection(new(n("WE2A").a)(i,t))),!0)},c=(e,t,r,i,s)=>{const a=((e,t,o,r)=>{const i=t.getBoundingClientRect();if(e.clientY<i.top)return{position:0,side:n("WE2A").c.LEFT};if(i.left>0){const t=o({left:i.left,top:e.clientY});if(t&&t.inside>-1){const o=r.doc.resolve(t.inside).before(1),s=e.clientX<i.left?n("WE2A").c.LEFT:n("WE2A").c.RIGHT;let a;if(s===n("WE2A").c.LEFT)a=o;else{const e=r.doc.nodeAt(o);e&&(a=o+e.nodeSize)}return{position:a,side:s}}}return null})(t,r,i,e);if(!a)return
;const c=void 0!==a.position?e.doc.resolve(a.position):null;if(null===c)return;if((a.side===n("WE2A").c.LEFT?Object(n("OeyQ").a)(c.nodeAfter):Object(n("OeyQ").a)(c.nodeBefore))&&n("WE2A").a.valid(c))e.selection instanceof n("WE2A").a?e.setSelection(o.Selection.near(c)):e.setSelection(new(n("WE2A").a)(c,a.side));else if(!1===s){const t=o.Selection.findFrom(c,a.side===n("WE2A").c.LEFT?1:-1,!0);t&&e.setSelection(t)}},l=e=>Boolean(n("AYiB").a.get(e))},wHIA:function(e,t,n){"use strict";function o(e,t,n){if(!t.nodes.tableRow)return!1;let o=e.doc,r=e;const i="before"===n?"nodeBefore":"nodeAfter";for(;r.depth>0;){var s;if((null===(s=r[i])||void 0===s?void 0:s.type)===t.nodes.tableRow)return!0;r=o.resolve(r[n]())}return!1}n.d(t,"a",(function(){return o}))},wIOw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M5.138 13.026a.98.98 0 00.386 1.366 1.066 1.066 0 001.421-.371C8.051 12.167 10.104 11 12.37 11c2.437 0 4.619 1.351 5.648 3.429.246.498.868.71 1.388.473.519-.238.74-.833.493-1.333C18.528 10.802 15.618 9 12.37 9c-3.02 0-5.759 1.557-7.232 4.026z"/><path d="M4.5 10v3.9c0 .607.494 1.1 1.102 1.1h3.896a1 1 0 100-2H6.503v-3A1 1 0 004.5 10z"/></g></svg>'},e));i.displayName="UndoIcon";var s=i;t.default=s},wYM1:function(e,t,n){var o=n("USwo");o(o.S+o.F*!n("C61u"),"Object",{defineProperty:n("GhSp").f})},wYWE:function(e,t,n){"use strict";let o,r,i;if(n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),"undefined"!=typeof WeakMap){let e=new WeakMap;o=t=>e.get(t),r=(t,n)=>(e.set(t,n),n)}else{let e=[],t=10,n=0;o=t=>{for(let n=0;n<e.length;n+=2)if(e[n]===t)return e[n+1]},r=(o,r)=>(n===t&&(n=0),e[n++]=o,e[n++]=r)}
class s{constructor(e,t,n,o){this.left=e,this.top=t,this.right=n,this.bottom=o}}!function(e){e.COLLISION="collision",e.OVERLONG_ROWSPAN="overlong_rowspan",e.MISSING="missing",e.COLWIDTH_MISMATCH="colwidth mismatch"}(i||(i={}));class a{constructor(e,t,n,o){this.width=e,this.height=t,this.map=n,this.problems=o}findCell(e){for(let t=0;t<this.map.length;t++){let n=this.map[t];if(n!==e)continue;let o=t%this.width,r=t/this.width|0,i=o+1,a=r+1;for(let e=1;i<this.width&&this.map[t+e]===n;e++)i++;for(let e=1;a<this.height&&this.map[t+this.width*e]===n;e++)a++;return new s(o,r,i,a)}throw new RangeError("No cell with offset "+e+" found")}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]===e)return t%this.width;throw new RangeError("No cell with offset "+e+" found")}rowCount(e){if(this.width<=0)throw new RangeError("Wrong table width found");for(let t=0;t<this.map.length;t++)if(this.map[t]===e)return Math.floor(t/this.width);throw new RangeError("No cell with offset "+e+" found")}
isPosMerged(e){return this.map.filter((t=>t===e)).length>1}nextCell(e,t,n){let{left:o,right:r,top:i,bottom:s}=this.findCell(e);return"horiz"===t?(n<0?0===o:r===this.width)?null:this.map[i*this.width+(n<0?o-1:r)]:(n<0?0===i:s===this.height)?null:this.map[o+this.width*(n<0?i-1:s)]}rectBetween(e,t){let{left:n,right:o,top:r,bottom:i}=this.findCell(e),{left:a,right:c,top:l,bottom:d}=this.findCell(t);return new s(Math.min(n,a),Math.min(r,l),Math.max(o,c),Math.max(i,d))}cellsInRect(e){let t=[],n={};for(let o=e.top;o<e.bottom;o++)for(let r=e.left;r<e.right;r++){let i=o*this.width+r,s=this.map[i];n[s]||(n[s]=!0,r===e.left&&r&&this.map[i-1]===s||o===e.top&&o&&this.map[i-this.width]===s||t.push(s))}return t}positionAt(e,t,n){for(let o=0,r=0;;o++){let i=r+n.child(o).nodeSize;if(o===e){let n=t+e*this.width,o=(e+1)*this.width;for(;n<o&&this.map[n]<r;)n++;return n===o?i-1:this.map[n]}r=i}}getMaxColInRow(e){let t=e.parent;if("tableRow"===t.type.name)return t.childCount}static get(e){
return o(e)||r(e,function(e){if("table"!==e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);let t=function(e){let t=-1,n=!1;for(let o=0;o<e.childCount;o++){let r=e.child(o),i=0;if(n)for(let t=0;t<o;t++){let n=e.child(t);for(let e=0;e<n.childCount;e++){let r=n.child(e);t+r.attrs.rowspan>o&&(i+=r.attrs.colspan)}}for(let e=0;e<r.childCount;e++){let t=r.child(e);i+=t.attrs.colspan,t.attrs.rowspan>1&&(n=!0)}-1===t?t=i:t!==i&&(t=Math.max(t,i))}return t}(e),n=e.childCount,o=[],r=0,s=null,l=[];for(let i=0,a=t*n;i<a;i++)o[i]=0;for(let a=0,c=0;a<n;a++){let d=e.child(a);c++;for(let e=0;;e++){for(;r<o.length&&0!==o[r];)r++;if(e===d.childCount)break;let u=d.child(e),{colspan:p,rowspan:h,colwidth:f}=u.attrs;for(let e=0;e<h;e++){if(e+a>=n){(s||(s=[])).push({type:i.OVERLONG_ROWSPAN,pos:c,n:h-e});break}let d=r+e*t;for(let e=0;e<p;e++){0===o[d+e]?o[d+e]=c:(s||(s=[])).push({type:i.COLLISION,row:a,pos:c,n:p-e});let n=f&&f[e];if(n){let o=(d+e)%t*2,r=l[o]
;null==r||r!==n&&1===l[o+1]?(l[o]=n,l[o+1]=1):r===n&&l[o+1]++}}}r+=p,c+=u.nodeSize}let u=(a+1)*t,p=0;for(;r<u;)0===o[r++]&&p++;p&&(s||(s=[])).push({type:i.MISSING,row:a,n:p}),c++}let d=new a(t,n,o,s),u=!1;for(let i=0;!u&&i<l.length;i+=2)null!=l[i]&&l[i+1]<n&&(u=!0);if(l.length>0&&l.length!==2*t){for(let e=0;e<2*t-l.length;e++)l.push(140,0);u=!0}u&&function(e,t,n){e.problems||(e.problems=[]);let o={};for(let r=0;r<e.map.length;r++){let s=e.map[r];if(o[s])continue;o[s]=!0;let a=n.nodeAt(s),l=null;for(let n=0;n<a.attrs.colspan;n++){let o=t[2*((r+n)%e.width)];null==o||a.attrs.colwidth&&a.attrs.colwidth[n]===o||((l||(l=c(a.attrs)))[n]=o)}l&&e.problems.unshift({type:i.COLWIDTH_MISMATCH,pos:s,colwidth:l})}}(d,l,e);return d}(e))}}function c(e){if(e.colwidth)return e.colwidth.slice();let t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}},wfiM:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return s})),
n.d(t,"a",(function(){return a}));var o=n("mG1W");const r=(e,t,o)=>{const r=a(e,c),i=r<o?n("9ehW").i:a(e,function(e){return(t,o,r)=>{if(r&&r>1)return Object(n("E40G").a)(t.width);const{minWidth:i}=Object(n("vxdq").a)(o,o);return Math.max(((e,t)=>e+Object(n("E40G").a)(t.paddingLeft)+Object(n("E40G").a)(t.paddingRight))(i,t),i,e)}}(o));return{index:t,width:r<o?n("9ehW").i:r,minWidth:i}},i=e=>Math.max(e.width-e.minWidth,0),s=(e,t,r,i)=>{const s=n("wYWE").b.get(t),a=s.cellsInRect({left:e,right:e+1,top:0,bottom:s.height}),c=[];return a.forEach((e=>{const t=Object(o.findDomRefAtPos)(e+r,i);t&&c.push(t)})),c},a=(e,t)=>{let n=0,o=0;return e.forEach((e=>{const r=getComputedStyle(e),i=Number(e.getAttribute("colspan")||1);if(i>1)o=t(r,e,i);else if(r){const o=t(r,e,i);n=Math.max(o,n)}})),n||o};function c(e){return Object(n("E40G").a)(e.width)}},wlNh:function(e,t,n){var o=n("nAx8"),r=n("xMGN"),i=n("bS86"),s=n("d+lc"),a=n("0WpP"),c=n("I90/"),l={},d={};(t=e.exports=function(e,t,n,u,p){
var h,f,m,b,g=p?function(){return e}:c(e),v=o(n,u,t?2:1),y=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(i(g)){for(h=a(e.length);h>y;y++)if((b=t?v(s(f=e[y])[0],f[1]):v(e[y]))===l||b===d)return b}else for(m=g.call(e);!(f=m.next()).done;)if((b=r(m,v,f.value,t))===l||b===d)return b}).BREAK=l,t.RETURN=d},wlgv:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var o=n("UxO+");let r;!function(e){e.UPDATE="UPDATE"}(r||(r={}));var i=(e,t)=>t.type===r.UPDATE?{canUndo:t.canUndo,canRedo:t.canRedo}:e;const s=new o.PluginKey("historyPlugin"),a=()=>({canUndo:!1,canRedo:!1}),{createPluginState:c,getPluginState:l}=Object(n("pVB1").a)(s,i);t.a=()=>({name:"history",pmPlugins:()=>[{name:"history",plugin:({dispatch:e})=>(e=>new(n("KkS8").a)({state:c(e,a),key:s,appendTransaction:(e,t,n)=>{if(e.find((e=>e.docChanged&&!1!==e.getMeta("addToHistory")))){const e=(e=>{const t=(e=>e.plugins.find((e=>"history$"===e.key)))(e);if(t)return t.getState(e)})(n);if(!e)return
;const t=e.done.eventCount>0,o=e.undone.eventCount>0,{canUndo:i,canRedo:a}=l(n);if(t!==i||o!==a){const e={type:r.UPDATE,canUndo:t,canRedo:o};return n.tr.setMeta(s,e)}}}}))(e)}]})},wqCz:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l}));var o=n("mG1W");const r=(e,t=!1)=>{const{inlineExtension:n,extension:r,bodiedExtension:i}=e.schema.nodes,s=[r,i,n];return Object(o.findSelectedNodeOfType)(s)(e.selection)||t&&Object(o.findParentNodeOfType)(s)(e.selection)||void 0},i=(e,t)=>{const n=r(e,!0);if(!t)return n;if(n&&n.node.attrs.localId===t)return n;const{inlineExtension:o,extension:i,bodiedExtension:s}=e.schema.nodes,a=[i,s,o];let c;return e.doc.descendants(((e,n)=>{a.includes(e.type)&&e.attrs.localId===t&&(c={node:e,pos:n})})),c},s=(e,t,r)=>{const i=Object(o.findDomRefAtPos)(r.pos,t)
;return(r.node.type!==e.nodes.bodiedExtension?i.querySelector(".extension-container"):Object(n("uYq7").b)(i,".extension-container")||i.querySelector(".extension-container"))||i},a=e=>{var t;return null===(t=e.marks)||void 0===t?void 0:t.find((e=>"dataConsumer"===e.type.name))},c=(e,t)=>Object(n("anr2").b)(t,e,{includeDocNode:!0}).map((({node:e})=>e.type.name)),l=(e,t)=>{const o=Object(n("anr2").b)(e,[t]);return o.length>=1?o[0]:void 0}},wqPz:function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},wtjL:function(e,t,n){"use strict";var o=n("Vwaf").HTML_TAG_RE;e.exports=function(e,t){var n,r,i,s=e.pos;return!!e.md.options.html&&(i=e.posMax,!(60!==e.src.charCodeAt(s)||s+2>=i)&&(!(33!==(n=e.src.charCodeAt(s+1))&&63!==n&&47!==n&&!function(e){var t=32|e;return t>=97&&t<=122}(n))&&(!!(r=e.src.slice(s).match(o))&&(t||(e.push("html_inline","",0).content=e.src.slice(s,s+r[0].length)),e.pos+=r[0].length,!0))))}},"x+VZ":function(t,n,o){"use strict"
;o.d(n,"h",(function(){return k})),o.d(n,"f",(function(){return x})),o.d(n,"j",(function(){return C})),o.d(n,"g",(function(){return T})),o.d(n,"i",(function(){return A})),o.d(n,"a",(function(){return N})),o.d(n,"m",(function(){return I})),o.d(n,"n",(function(){return P})),o.d(n,"e",(function(){return R})),o.d(n,"b",(function(){return _})),o.d(n,"k",(function(){return L})),o.d(n,"l",(function(){return D})),o.d(n,"d",(function(){return F})),o.d(n,"c",(function(){return B}));var r=o("MEpN");const i=new Set(["strong","underline","textColor","link","em","subsup","strike"]),s=e=>{let t=!1,n=[];const r=Object(o("MUVu").a)(e,{text:e=>{if((e=>{var t,n;const o=null===(t=e.marks)||void 0===t||null===(n=t.map((e=>e.type)))||void 0===n?void 0:n.filter((e=>i.has(e)||"annotation"===e));return!(null==o||!o.length)&&new Set(o).size!==o.length})(e)){const o=(e=>{const t=new Map,n=new Map,o=[];if(i.forEach((e=>{t.set(e,!1)})),!e.marks)return{discardedMarks:o};let r=e.marks.filter((e=>{const r=e.type
;if("annotation"===r){var i;const t=null===(i=e.attrs)||void 0===i?void 0:i.id;return n.has(t)?(o.push(e),!1):(n.set(t,!0),!0)}return!t.has(r)||(t.get(r)?(o.push(e),!1):(t.set(r,!0),!0))}));return{node:{...e,marks:r},discardedMarks:o}})(e),r=o.discardedMarks;if(r.length)return n.push(...r),t=!0,o.node}}});return{transformedAdf:r,isTransformed:t,discardedMarks:n}},a=e=>({type:"listItem",content:e}),c=e=>({type:"tableRow",content:e}),l=e=>(...t)=>({type:"tableCell",attrs:e,content:t}),d=e=>{var t;return!(null!=e&&null!==(t=e.content)&&void 0!==t&&t.length)},u=e=>"tableCell"===e.type?[Object(o("KENz").a)()]:[],p=e=>t=>{if(d(t))return e(),{...t,content:u(t)}},h=e=>{var t;return null===(t=e.content)||void 0===t?void 0:t.map((e=>{if(e)switch(e.type){case"listItem":if(d(e)){return a([Object(o("KENz").a)()])}return e;case"text":return a([Object(o("KENz").a)(e)]);default:return a([e])}return e}))},f=e=>t=>{if((e=>{var t
;return null===(t=e.content)||void 0===t?void 0:t.some((e=>"listItem"!==(null==e?void 0:e.type)))})(t)||(e=>{var t;return null===(t=e.content)||void 0===t?void 0:t.some((e=>{var t;return"listItem"===(null==e?void 0:e.type)&&!(null!==(t=e.content)&&void 0!==t&&t.length)}))})(t))return e(),{...t,content:h(t)}},m=e=>{var t;const n=(e=>{var t;let n=1;return null===(t=e.content)||void 0===t||t.forEach((e=>{var t;"tableRow"===(null==e?void 0:e.type)&&"number"==typeof(null===(t=e.content)||void 0===t?void 0:t.length)&&e.content.length>n&&(n=e.content.length)})),n})(e);return null===(t=e.content)||void 0===t?void 0:t.map((e=>{if(e)switch(e.type){case"text":return c([l({})(Object(o("KENz").a)(e)),...new Array(n-1).fill(l({})(Object(o("KENz").a)()))]);case"tableCell":return c([e]);case"tableRow":return d(e)?c([...new Array(n).fill(l({})(Object(o("KENz").a)()))]):e;default:return e}return e}))},b=e=>t=>{if((e=>{var t;return null==e||null===(t=e.content)||void 0===t?void 0:t.some((e=>{var t
;return"tableRow"===(null==e?void 0:e.type)&&0===(null==e||null===(t=e.content)||void 0===t?void 0:t.length)}))})(t)||(e=>{var t;return null===(t=e.content)||void 0===t?void 0:t.some((e=>"tableRow"!==(null==e?void 0:e.type)))})(t))return e(),{...t,content:m(t)}},g=e=>t=>{if(d(t))return e(),!1},v=e=>{var t,n;return null!==(t=null===(n=e.content)||void 0===n?void 0:n.some((e=>{var t;return"heading"===(null==e?void 0:e.type)&&(null==e||null===(t=e.marks)||void 0===t?void 0:t.some((e=>"indentation"===e.type)))})))&&void 0!==t&&t},y=e=>{var t;return{...e,content:null===(t=e.content)||void 0===t?void 0:t.map((e=>{var t;return"heading"===(null==e?void 0:e.type)?{...e,marks:null===(t=e.marks)||void 0===t?void 0:t.filter((e=>"indentation"!==e.type))}:e}))}},O=(e,t)=>{let n={};return e.forEach(((e,o)=>{null!=e&&e.type&&t.includes(e.type)&&(n[e.type]?n[e.type]++:n[e.type]=1)})),n},E=(e,t,n)=>{let o=10,r=O(t,[e])[e],i=t.findIndex(n);for(;r>1&&i>-1&&o-- >0;)t.splice(i,1),i=t.findIndex(n),
r=O(t,[e])[e]},w=e=>{let t=!1;return{transformedAdf:Object(o("MUVu").a)(e,{mediaSingle:e=>{var n;if(null==e||null===(n=e.content)||void 0===n||!n.length)return;const o=O(e.content,["media","caption"]);return Object.values(o).some((e=>e>1))?(t=!0,((e,t)=>{if(!e.content)return;const n=[...e.content];return Object.keys(t).forEach((e=>{E(e,n,(t=>(null==t?void 0:t.type)===e&&d(t))),E(e,n,(t=>(null==t?void 0:t.type)===e))})),{...e,content:n}})(e,o)):void 0}}),isTransformed:t}};const S=(e,t)=>{const n=t&&t.isInSet(e.marks);return n?n.attrs.mode:e.attrs.layout};function k(e){return!!e&&"paragraph"===e.type.name&&!e.childCount}function x(e){if(e.isInline)return(e=>e.isText?!!e.textContent.trim():"hardBreak"!==e.type.name)(e);if(e.isBlock&&(e.isLeaf||e.isAtom))return!0;if(!e.childCount)return!1;for(let t=0;t<e.childCount;t++){const n=e.child(t);if(!["paragraph","text","hardBreak"].includes(n.type.name)||x(n))return!0}return!1}function C(e){if(e&&e.textContent)return!1
;if(!e||!e.childCount||1===e.childCount&&k(e.firstChild))return!0;const t=[],n=[];return e.forEach((e=>{e.isInline?n.push(e):t.push(e)})),!n.length&&!t.filter((e=>!!e.childCount&&!(1===e.childCount&&k(e.firstChild))||e.isAtom)).length}function T(e){const t=e.content.firstChild;return!(1!==e.childCount||!t)&&k(t)}function j(e){return 1===e.depth}function A(e){const{selection:t}=e,{$cursor:n,$anchor:o}=t;if(!n)return!1;const r=n.node();return!!r&&(k(r)&&j(o))}function N(e){const{selection:t}=e,{$cursor:n,$anchor:o}=t;if(!n)return!1;const r=n.nodeBefore;if(!r)return!1;if("text"===r.type.name&&"{"===r.text){return 0===o.node().marks.length&&j(o)}return!1}function I(e,t,n,o,i,s){if(!t)return;const a=t.map((t=>P(e,t,n,o,i,s))).filter((e=>Boolean(e)));return 0!==a.length?r.Fragment.from(a):void 0}function P(t,n,i,a,c,l){if(!n)return;let d;if("string"==typeof n)try{if(c){d=c.parse(n).toJSON()}else d=JSON.parse(n)}catch(e){
return void console.error(`Error processing value: ${n} isn't a valid JSON`)}else d=n;if(Array.isArray(d))console.error(`Error processing value: ${d} is an array, but it must be an object.`);else try{if("doc"===d.type&&(Array.isArray(d.content)&&0===d.content.length&&d.content.push({type:"paragraph",content:[]}),d.version||(d.version=1)),c)return r.Node.fromJSON(t,d);let{transformedAdf:e,isTransformed:n}=Object(o("kwba").a)(d);n&&l&&l({action:o("+PNV").a.MEDIA_LINK_TRANSFORMED,actionSubject:o("+PNV").b.EDITOR,eventType:o("+PNV").e.OPERATIONAL}),({transformedAdf:e,isTransformed:n}=(e=>{let t=!1;return{transformedAdf:Object(o("MUVu").a)(e,{text:e=>{if((e=>{var t;const n=null===(t=e.marks)||void 0===t?void 0:t.map((e=>e.type));return(null==n?void 0:n.includes("link"))&&(null==n?void 0:n.includes("code"))})(e))return t=!0,(e=>e.marks?{...e,marks:e.marks.filter((e=>"code"!==e.type))}:e)(e)}}),isTransformed:t}})(e)),n&&l&&l({action:o("+PNV").a.TEXT_LINK_MARK_TRANSFORMED,
actionSubject:o("+PNV").b.EDITOR,eventType:o("+PNV").e.OPERATIONAL});let h=[];({transformedAdf:e,isTransformed:n,discardedMarks:h}=s(e)),n&&l&&l({action:o("+PNV").a.DEDUPE_MARKS_TRANSFORMED_V2,actionSubject:o("+PNV").b.EDITOR,eventType:o("+PNV").e.OPERATIONAL,attributes:{discardedMarkTypes:h.map((e=>e.type))}}),({transformedAdf:e,isTransformed:n}=(e=>{let t=!1;const n=()=>{t=!0};let r=Object(o("MUVu").a)(e,{tableCell:p(n)});return r=Object(o("MUVu").a)(r||e,{bulletList:f(n),orderedList:f(n),table:b(n),mediaSingle:g(n)}),{transformedAdf:r,isTransformed:t}})(e)),n&&l&&l({action:o("+PNV").a.NODES_MISSING_CONTENT_TRANSFORMED,actionSubject:o("+PNV").b.EDITOR,eventType:o("+PNV").e.OPERATIONAL}),({transformedAdf:e,isTransformed:n}=(e=>{let t=!1;return{transformedAdf:Object(o("MUVu").a)(e,{tableCell:e=>{if(v(e))return t=!0,y(e)},tableHeader:e=>{if(v(e))return t=!0,y(e)}}),isTransformed:t}})(e)),n&&l&&l({action:o("+PNV").a.INDENTATION_MARKS_TRANSFORMED,actionSubject:o("+PNV").b.EDITOR,
eventType:o("+PNV").e.OPERATIONAL}),({transformedAdf:e,isTransformed:n}=w(e)),n&&l&&l({action:o("+PNV").a.INVALID_MEDIA_CONTENT_TRANSFORMED,actionSubject:o("+PNV").b.EDITOR,eventType:o("+PNV").e.OPERATIONAL});const m=Object(o("TNgD").a)(t,e||d,l);let O=M(m,i,a);const E=r.Node.fromJSON(t,O);try{E.check()}catch(u){throw l&&l({action:o("+PNV").a.INVALID_PROSEMIRROR_DOCUMENT,actionSubject:o("+PNV").b.EDITOR,eventType:o("+PNV").e.OPERATIONAL,attributes:{errorStack:u instanceof Error?u.stack:String(u)}}),u}return l&&Object(o("zEwg").a)(E,t,l),E}catch(e){if(l&&l({action:o("+PNV").a.DOCUMENT_PROCESSING_ERROR,actionSubject:o("+PNV").b.EDITOR,eventType:o("+PNV").e.OPERATIONAL,nonPrivacySafeAttributes:{errorStack:e instanceof Error?e.stack:String(e)}}),console.error(`Error processing document:\n${e instanceof Error?e.message:String(e)}\n\n`,JSON.stringify(d)),function(e){
return e instanceof RangeError&&(!!e.message.match(/^Invalid collection of marks for node/)||!!e.message.match(/^Invalid content for node/))}(e))throw e;return}}const M=(e,t,n)=>n&&t?function(e,t){const n=new Map;let r=!1;const i=Object(o("MUVu").a)(e,{mention:e=>{if(e.attrs&&e.attrs.text){r=!0;const t=e.attrs.text,o=t.startsWith("@")?t.slice(1):t;n.set(e.attrs.id,o)}return{...e,attrs:{...e.attrs,text:""}}}});if(r&&t){const e=(r,i)=>{i&&i.then((r=>{Object(o("kAIj").d)(r)&&(n.forEach(((e,t)=>{r.cacheMentionName(t,e)})),n.clear(),t.unsubscribe("mentionProvider",e))}))};t.subscribe("mentionProvider",e)}return i}(e,t):e,R=e=>{let t=-1,n=-1;return e.mapping.maps.forEach(((o,r)=>{o.forEach(((o,i)=>{const s=e.mapping.slice(r).map(o,-1),a=e.mapping.slice(r).map(i);t=s<t||-1===t?s:t,n=a>n||-1===n?a:n}))})),-1!==t?{from:t,to:n}:null},_=e=>t=>{let n=null;for(let o=t.depth;o>0;o--){const r=t.node(o);e(r)&&(n={pos:o>0?t.before(o):0,start:t.start(o),depth:o,node:r})}return n
},L=e=>e.selection.$to.parent.type===e.schema.nodes.paragraph&&e.selection.$to.pos===e.doc.resolve(e.selection.$to.pos).end();function D(e,t,n){const o=R(e);o&&e.doc.nodesBetween(o.from,o.to,t,n)}function F(e){let t={};return e.nodesBetween(0,e.nodeSize-2,(e=>{t[e.type.name]=(t[e.type.name]||0)+1})),t}function B(e,t,n=["wide","full-width"]){const o=new Set;if("doc"===e.type.name&&e.childCount)for(let r=0;r<e.childCount&&o.size!==n.length;++r){const i=S(e.child(r),t.marks.breakout);i&&n.includes(i)&&o.add(i)}return[...o]}},x1JX:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a}));const o=(e,t)=>{const o=e.map((e=>(e.modules.quickInsert||[]).map((t=>function(e,t){const o=t.title||e.title,r=`${e.key}:${t.key}`,i=Object(n("4XCL").a)(t.action,e);if(!i)throw new Error(`Couldn't find any action for ${o} (${r})`);return{key:r,title:o,extensionType:e.type,
keywords:t.keywords||e.keywords||[],featured:t.featured||!1,categories:t.categories||e.categories||[],description:t.description||e.description,summary:e.summary,documentationUrl:e.documentationUrl,icon:t.icon||e.icons[48],node:i}}(e,t)))));return[].concat(...o).map(t)};async function r(e){const t=await Promise.all(e.map((async e=>e.modules.autoConvert&&e.modules.autoConvert.url?e.modules.autoConvert.url:[])));return[].concat(...t)}async function i(e){const t=await e;return(e=>t=>{for(const n of e){const e=n(t);if(e)return e}})(await t.getAutoConverter())}const s=(e,...t)=>{console.error(e,...t)},a=(e,t,n)=>e.map((e=>{if(e.modules.contextualToolbars){const o=(e=>{if(e.length>1){const t=e.map((e=>e.context));return t.find(((e,n)=>n!==t.findIndex((t=>((e,t)=>{if(e.type===t.type&&e.nodeType===t.nodeType){if("node"===e.type)return!0;if("extension"===e.type&&"extension"===t.type)return e.extensionKey===t.extensionKey&&e.extensionType===t.extensionType}return!1})(e,t)))))}
})(e.modules.contextualToolbars);return o?(s(`[contextualToolbars] Duplicate context detected - ${JSON.stringify(o)}.`),[]):e.modules.contextualToolbars.map((e=>{if(function(e,t){var n;if("node"===e.context.type&&e.context.nodeType===t.type)return!0;if("extension"!==e.context.type||t.type!==e.context.nodeType)return!1;const{extensionType:o,extensionKey:r}=e.context;if(o&&o!==(null===(n=t.attrs)||void 0===n?void 0:n.extensionType))return!1;var i,s;return"string"==typeof r?r===(null===(i=t.attrs)||void 0===i?void 0:i.extensionKey):!(!Array.isArray(r)||!r.length)&&r.includes(null===(s=t.attrs)||void 0===s?void 0:s.extensionKey)}(e,t)){const{toolbarItems:o}=e;return"function"==typeof o?o(t,n):o}return[]})).flatMap((t=>t.map((t=>((e,t)=>{const{tooltip:n,key:o,label:r,icon:i,action:a,disabled:c}=e,l=[t,o].join(":");"function"!=typeof a&&s(`Provided action is not a function for extension toolbar button: ${r} (${l})`);let d={};switch(e.display){case"icon":
i||s(`icon should be provided for extension toolbar button (${l}), when display is set to 'icon'`),d={icon:i};break;case"label":r||s(`label should be provided for extension toolbar button (${l}), when display is set to 'label'`),d={label:r};break;default:r&&i||s(`label and icon should be provided for extension toolbar button (${l}), when display is not set or set to 'icon-and-label'`),d={icon:i,label:r}}return{key:l,tooltip:n,action:a,disabled:c,...d}})(t,e.key)))))}return[]})).flatMap((e=>e))},x2he:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>{const{textColor:t}=e.schema.marks;if(t){const{empty:o,ranges:r,$cursor:i}=e.selection;return!!(o&&!i||i&&(e=>{const{doc:{type:{schema:{marks:{link:t}}}},pos:n}=e;return!!t&&e.doc.rangeHasMark(n,Math.min(n+1,e.doc.content.size),t)})(i)||!1===Object(n("RLN1").a)(e.doc,r,t))||!!Object(n("RLN1").b)(t,e.storedMarks||i&&i.marks())}return!0}},x3gE:function(t,n,o){"use strict";var r=o("q1tI"),i=o.n(r),s=o("wSSu"),a=o.n(s)
;async function c(t,n){let r,s,c;if(await(async e=>window.Dropbox?(window.Dropbox.appKey=e,Promise.resolve()):o.e("e1c4cca18f77b8735a3a499e1f0ad840").then(o.bind(null,"mCVK")).then((()=>{window.Dropbox.appKey=e})))(t),n){let e=await o.e("ca7b27cf97d5362cc3971578846590b2").then(o.bind(null,"YSxk"));r=document.getElementById("twp-dropbox-popup-mount-point"),r||(r=document.createElement("div"),r.id="twp-dropbox-popup-mount-point",document.body.appendChild(r)),a.a.render(i.a.createElement(e.default,{onClose:()=>{}}),r)}try{s=await new Promise(((e,t)=>{window.Dropbox.choose({iframe:n,windowName:n?"twp-dropboxjs-iframe":void 0,success:e,cancel:t})}))}catch(e){return void(r&&a.a.unmountComponentAtNode(r))}if(!s.length)return void(r&&a.a.unmountComponentAtNode(r));const l=s.map((e=>(e=>({type:"inlineCard",attrs:e}))({url:e.link})));return c=1===l.length?l[0]:{type:"paragraph",content:l},r&&a.a.unmountComponentAtNode(r),c}n.a=({appKey:t,canMountinIframe:n})=>({title:"Dropbox",
type:"com.dropbox.fabric",key:"dropbox",description:"Embed Dropbox file to collaborate with your team",icons:{16:()=>o.e("@atlaskit-internal_editor-dropbox").then(o.bind(null,"d2qm")).then((e=>e.default)),24:()=>o.e("@atlaskit-internal_editor-dropbox").then(o.bind(null,"d2qm")).then((e=>e.default)),48:()=>o.e("@atlaskit-internal_editor-dropbox").then(o.bind(null,"d2qm")).then((e=>e.default))},modules:{quickInsert:[{key:"item",action:()=>new Promise((async(o,r)=>{try{let e=await c(t,n);e?o(e):r()}catch(e){r(e)}}))}]}})},x6oP:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=Object(n("D6b/").defineMessages)({typeAheadPopupLabel:{id:"fabric.editor.typeAhead.popupLabel",defaultMessage:"Typeahead results",description:"the result of a typeahead, similar to autocomplete results+"},quickInsertPopupLabel:{id:"fabric.editor.typeAhead.quickInsertPopupLabel",defaultMessage:"Shortcuts for inserts and formatting",
description:"the result of a quick insert typeahead, similar to autocomplete results+"},quickInsertInputLabel:{id:"fabric.editor.typeAhead.quickInsertInputLabel",defaultMessage:"Begin typing to search or filter shortcut options",description:"assisitve text for typeahed input field"},emojiPopupLabel:{id:"fabric.editor.typeahead.emojiPopupLabel",defaultMessage:"Emoji shortcuts",description:"the result of a emoji typeahead, similar to autocomplete results+"},emojiInputLabel:{id:"fabric.editor.typeahead.emojiInputLabel",defaultMessage:"Begin typing to search or filter emoji options",description:"assisitve text for typeahed input field"},mentionPopupLabel:{id:"fabric.editor.typeahead.mentionPopupLabel",defaultMessage:"Users you can tag",description:"the aria label of a mention typeahead popup"},mentionInputLabel:{id:"fabric.editor.typeahead.mentionInputLabel",defaultMessage:"Begin typing to search for users to tag",description:"assisitve text for typeahed input field"},metionListItemLabel:{
id:"fabric.editor.typeahead.metionListItemLabel",defaultMessage:"User {name} @{shortName}",description:"assistive text for user mention items username and nickname"},emojiListItemLabel:{id:"fabric.editor.typeahead.emojiListItemLabel",defaultMessage:"Emoji {name} Text Shortcut {shortcut}",description:"assistive text for emoji name and shortcut"},inputQueryAssistiveLabel:{id:"fabric.editor.inputQueryAssistiveTxt",defaultMessage:"When autocomplete results are available use up and down arrows to review and enter to select. Touch device users, explore by touch or with swipe gestures.",description:"Assistive text to the user when using typeahead shortcut"},searchResultsLabel:{id:"fabric.editor.searchResults",defaultMessage:"{itemsLength, plural, one {# search result} other {# search results}} available",description:"Assistive text to the user when using typeahead shortcut and it preceeds with a number - Ex: 10 search results available"},noSearchResultsLabel:{
id:"fabric.editor.noSearchResults",defaultMessage:"No search results",description:"Assistive text to the user when using typeahead shortcut"},descriptionLabel:{id:"fabric.editor.description",defaultMessage:"Description",description:"Description"},shortcutLabel:{id:"fabric.editor.shortcut",defaultMessage:"Text shortcut",description:"Text shortcut"}})},x8g9:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=(e,t)=>o=>e?(o.setNodeMarkup(e.pos,void 0,Object.assign({},e.node.attrs,t)),Object(n("oSJA").a)(o)):o},xGNL:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return w})),n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return k}))
;const o=e=>Object(n("AeFk").css)(".",n("p3BF").b.CONTROLS_INSERT_LINE,"{background:",n("muXR").h,";display:none;position:absolute;z-index:",n("anI9").W,";",e,";}"),r=(e,t)=>Object(n("AeFk").css)(".",n("p3BF").b.CONTROLS_INSERT_MARKER,"{",(e=>Object(n("AeFk").css)("background-color:",Object(n("muXR").f)(e),";position:absolute;height:",4,"px;width:",4,"px;border-radius:50%;pointer-events:none;"))(e),";",t,";}"),i=e=>Object(n("AeFk").css)("border-radius:",Object(n("7w+A").borderRadius)(),"px;border-width:0px;display:inline-flex;max-width:100%;text-align:center;margin:0px;padding:0px;text-decoration:none;transition:background 0.1s ease-out 0s,box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38) 0s;outline:none!important;cursor:none;>.",n("p3BF").b.CONTROLS_BUTTON_ICON,"{display:inline-flex;max-height:100%;max-width:100%;}",e,";"),s=()=>Object(n("AeFk").css)(".",n("p3BF").b.CONTROLS_INSERT_BUTTON_INNER,"{position:absolute;z-index:",n("anI9").W+10,";bottom:0;}.",n("p3BF").b.CONTROLS_INSERT_BUTTON_INNER,",.",n("p3BF").b.CONTROLS_INSERT_BUTTON,"{height:",20,"px;width:",20,"px;}.",n("p3BF").b.CONTROLS_INSERT_BUTTON,"{",i("\n      background: var(--ds-surface-overlay, white);\n      box-shadow: var(--ds-shadow-overlay, 0 4px 8px -2px rgba(9, 30, 66, 0.31), 0 0 1px rgba(9, 30, 66, 0.31));\n      color: var(--ds-icon, #5E6C84);\n    "),";}.",n("p3BF").b.CONTROLS_INSERT_LINE,"{display:none;}&:hover .",n("p3BF").b.CONTROLS_INSERT_LINE,"{display:flex;}"),a=()=>Object(n("AeFk").css)(".",n("p3BF").b.CONTROLS_INSERT_BUTTON,":hover{background:","var(--ds-background-brand-bold, #0065FF)",";color:var(--ds-icon-inverse, white);cursor:pointer;}"),c=Object(n("AeFk").css)(s()," ",a()," ",o("\n    width: 2px;\n    left: 9px;\n  "),";"),l=Object(n("AeFk").css)(s()," ",a()," ",o("\n    height: 2px;\n    top: -11px;\n    left: 19px;\n  "),";"),d=Object(n("AeFk").css)(".",n("p3BF").b.CONTROLS_DELETE_BUTTON_WRAP,",.",n("p3BF").b.CONTROLS_DELETE_BUTTON,"{height:",16,"px;width:",16,"px;}.",n("p3BF").b.CONTROLS_DELETE_BUTTON_WRAP,"{.",n("p3BF").b.CONTROLS_DELETE_BUTTON,"{",i("\n        background: var(--ds-background-neutral, rgba(9, 30, 66, 0.04));\n        color: var(--ds-icon, #5E6C84);\n      "),";}}.",n("p3BF").b.CONTROLS_DELETE_BUTTON,":hover{background:","var(--ds-background-danger-bold, #FF5630)",";color:var(--ds-icon-inverse, white);cursor:pointer;}"),u=Object(n("AeFk").css)("color:","var(--ds-text-inverse, #FFFFFF)",";background-color:",`var(--ds-background-selected, ${n("muXR").n})`,";border-color:",n("muXR").h,";z-index:",n("muXR").a,";"),p=e=>Object(n("AeFk").css)(".",n("p3BF").b.COLUMN_CONTROLS_DECORATIONS,"{display:none;cursor:pointer;position:absolute;width:calc(100% + ",2*n("9ehW").c,"px);left:-1px;top:-",25+n("9ehW").c,"px;height:",25,"px;z-index:0;&::before{content:' ';background-color:",Object(n("muXR").f)(e),";position:absolute;height:",4,"px;width:",4,"px;border-radius:50%;pointer-events:none;top:2px;right:-1px;}&::after{content:' ';",((e,t)=>Object(n("AeFk").css)("background:",Object(n("muXR").l)(e),";border:1px solid ",Object(n("muXR").f)(e),";display:block;box-sizing:border-box;padding:0;:focus{outline:none;}",t,";"))(e,`\n        border-right: ${n("9ehW").c}px solid ${Object(n("muXR").f)(e)};\n        border-bottom: none;\n        height: ${n("muXR").o}px;\n        width: 100%;\n        position: absolute;\n        top: ${25-n("muXR").o}px;\n        left: 0px;\n        z-index: ${n("muXR").b};\n      `),";}}div.",n("p3BF").b.WITH_CONTROLS,">.",n("p3BF").b.ROW_CONTROLS_WRAPPER,"::after{content:' ';background-color:",Object(n("muXR").f)(e),";position:absolute;height:",4,"px;width:",4,"px;border-radius:50%;pointer-events:none;top:-",n("muXR").o+n("9ehW").c,"px;right:-1px;}.",n("p3BF").b.WITH_CONTROLS," .",n("p3BF").b.COLUMN_CONTROLS_DECORATIONS,"{display:block;}table tr:first-of-type td.",n("p3BF").b.TABLE_CELL,",table tr:first-of-type th.",n("p3BF").b.TABLE_HEADER_CELL,"{&.",n("p3BF").b.COLUMN_SELECTED,",&.",n("p3BF").b.HOVERED_COLUMN,",&.",n("p3BF").b.HOVERED_TABLE,"{.",n("p3BF").b.COLUMN_CONTROLS_DECORATIONS,"::after{",u,";}&.",n("p3BF").b.HOVERED_CELL_IN_DANGER," .",n("p3BF").b.COLUMN_CONTROLS_DECORATIONS,"::after{background-color:",`var(--ds-background-danger, ${n("muXR").m})`,";border:1px solid ",n("muXR").g,";border-bottom:none;z-index:",100*n("anI9").W,";}}}.",n("p3BF").b.TABLE_SELECTED," table tr:first-of-type td.",n("p3BF").b.TABLE_CELL,",.",n("p3BF").b.TABLE_SELECTED," table tr:first-of-type th.",n("p3BF").b.TABLE_HEADER_CELL,"{.",n("p3BF").b.COLUMN_CONTROLS_DECORATIONS,"::after{",u,";}}"),h=Object(n("AeFk").css)(".",n("p3BF").b.TABLE_CONTAINER,".",n("p3BF").b.HOVERED_DELETE_BUTTON,"{.",n("p3BF").b.SELECTED_CELL,",.",n("p3BF").b.COLUMN_SELECTED,",.",n("p3BF").b.HOVERED_CELL,"{border:1px solid ",n("muXR").g,";}.",n("p3BF").b.SELECTED_CELL,"::after{background:","var(--ds-blanket-danger, rgba(255, 235, 230, 0.3))",";}}"),f=Object(n("AeFk").css)(":not(.",n("p3BF").b.IS_RESIZING,") .",n("p3BF").b.TABLE_CONTAINER,":not(.",n("p3BF").b.HOVERED_DELETE_BUTTON,"){.",n("p3BF").b.HOVERED_CELL,"{position:relative;border:1px solid ",n("muXR").h,";}}"),m=Object(n("AeFk").css)(":not(.",n("p3BF").b.IS_RESIZING,") .",n("p3BF").b.TABLE_CONTAINER,":not(.",n("p3BF").b.HOVERED_DELETE_BUTTON,"){td.",n("p3BF").b.HOVERED_CELL_WARNING,"{background-color:","var(--ds-background-warning, #FFFAE6)","!important;border:1px solid ","var(--ds-border-warning, #FFC400)",";}}"),b=Object(n("AeFk").css)(".",n("p3BF").b.TABLE_CONTAINER,"{.",n("p3BF").b.RESIZE_HANDLE_DECORATION,"{background-color:transparent;position:absolute;width:",n("muXR").c,"px;height:100%;top:0;right:-",n("muXR").c/2,"px;cursor:col-resize;z-index:",n("muXR").d,";}td.",n("p3BF").b.WITH_RESIZE_LINE,"::before{content:' ';position:absolute;left:-2px;top:-1px;width:",2,"px;height:calc(100% + 2px);background-color:",n("muXR").h,";z-index:",2*n("muXR").b,";}th.",n("p3BF").b.WITH_RESIZE_LINE,"::before{content:' ';left:-2px;position:absolute;width:",2,"px;height:calc(100% + ",n("muXR").o+n("9ehW").c,"px);background-color:",n("muXR").h,";z-index:",2*n("muXR").b,";top:-",n("muXR").o+n("9ehW").c,"px;}td.",n("p3BF").b.WITH_RESIZE_LINE_LAST_COLUMN,"::before{content:' ';position:absolute;right:-1px;top:-1px;width:",2,"px;height:calc(100% + 2px);background-color:",n("muXR").h,";z-index:",2*n("muXR").b,";}th.",n("p3BF").b.WITH_RESIZE_LINE_LAST_COLUMN,"::before{content:' ';right:-1px;position:absolute;width:",2,"px;height:calc(100% + ",n("muXR").o+n("9ehW").c,"px);background-color:",n("muXR").h,";z-index:",2*n("muXR").b,";top:-",n("muXR").o+n("9ehW").c,"px;}table tr:first-of-type th.",n("p3BF").b.WITH_RESIZE_LINE," .",n("p3BF").b.RESIZE_HANDLE_DECORATION,"::after,table tr:first-of-type td.",n("p3BF").b.WITH_RESIZE_LINE," .",n("p3BF").b.RESIZE_HANDLE_DECORATION,"::after{top:-",n("muXR").o+n("9ehW").c,"px;height:calc(100% + ",n("muXR").o+n("9ehW").c,"px);}}"),g=n("muXR").o+1,v=10,y=`\n.${n("p3BF").b.NODEVIEW_WRAPPER}.${n("anI9").H} table tbody tr {\n  th,td {\n    ${Object(n("zrlP").a)([n("5iLT").a.Blanket,n("5iLT").a.Border])}\n  }\n}\n`,O=`.${n("p3BF").b.TABLE_CONTAINER} {\n  > .${n("p3BF").b.TABLE_STICKY_SENTINEL_TOP}, > .${n("p3BF").b.TABLE_STICKY_SENTINEL_BOTTOM} {\n    position: absolute;\n    width: 100%;\n    height: 1px;\n    margin-top: -1px;\n    // need this to avoid sentinel being focused via keyboard\n    // this still allows it to be detected by intersection observer\n    visibility: hidden;\n  }\n  > .${n("p3BF").b.TABLE_STICKY_SENTINEL_TOP} {\n    top: 25px;\n  }\n  > .${n("p3BF").b.TABLE_STICKY_SENTINEL_BOTTOM} {\n      bottom: 62px;\n  }\n  &.${n("p3BF").b.WITH_CONTROLS} {\n    > .${n("p3BF").b.TABLE_STICKY_SENTINEL_TOP} {\n      top: 0px;\n    }\n    > .${n("p3BF").b.TABLE_STICKY_SENTINEL_BOTTOM} {\n      margin-bottom: 25px;\n    }\n  }\n}`,E=`\n  .${n("p3BF").b.TABLE_SHADOW_SENTINEL_LEFT},\n  .${n("p3BF").b.TABLE_SHADOW_SENTINEL_RIGHT} {\n    position: absolute;\n    top: 0;\n    height: 100%;\n    width: 1px;\n    visibility: hidden;\n  }\n  .${n("p3BF").b.TABLE_SHADOW_SENTINEL_LEFT} {\n    left: 0;\n  }\n  .${n("p3BF").b.TABLE_SHADOW_SENTINEL_RIGHT} {\n    right: 0;\n  }\n`,w=e=>{
var t,o,i,s
;return Object(n("AeFk").css)(".",n("p3BF").b.LAYOUT_BUTTON," button{background:","var(--ds-background-neutral, rgba(9, 30, 66, 0.04))",";color:","var(--ds-icon, #5E6C84)",";cursor:none;}.",n("p3BF").b.LAYOUT_BUTTON,":not(.",n("p3BF").b.IS_RESIZING,") button:hover{background:","var(--ds-background-neutral-hovered, #0065FF)",";color:var(--ds-icon, white)!important;cursor:pointer;}.ProseMirror{",Object(n("9ehW").j)(e),";",(e=>Object(n("AeFk").css)(".",n("p3BF").b.TABLE_CONTAINER,".",n("p3BF").b.WITH_CONTROLS," table tr:first-of-type td,.",n("p3BF").b.TABLE_CONTAINER,".",n("p3BF").b.WITH_CONTROLS," table tr:first-of-type th{position:relative;}"))(),";",h,";",f,";",m,";",b,";",y,";",(e=>e?Object(n("AeFk").css)(">*:not([data-mark-type='fragment']) .",n("p3BF").b.NODEVIEW_WRAPPER," .",n("p3BF").b.TABLE_CONTAINER,"{margin-left:unset!important;width:100%!important;}>[data-mark-type='fragment'] * .",n("p3BF").b.NODEVIEW_WRAPPER," .",n("p3BF").b.TABLE_CONTAINER,"{margin-left:unset!important;width:100%!important;}"):Object(n("AeFk").css)(">* .",n("p3BF").b.NODEVIEW_WRAPPER," .",n("p3BF").b.TABLE_CONTAINER,"{margin-left:unset!important;width:100%!important;}"))(null===(o=null===(i=e.featureFlags)||void 0===i?void 0:i.useFragmentMarkBreakoutWidthStylingFix)||void 0===o||o)," ",p(e),";.",n("p3BF").b.LAST_ITEM_IN_CELL,"{margin-bottom:0;}.",n("p3BF").b.TABLE_NODE_WRAPPER,"{td.",n("p3BF").b.TABLE_CELL,",th.",n("p3BF").b.TABLE_HEADER_CELL,"{position:relative;overflow:visible;}td.",n("p3BF").b.TABLE_CELL,"{background-color:",Object(n("muXR").i)(e),";&::after{height:100%;content:'';border-left:1px solid ",Object(n("muXR").f)(e),";border-bottom:1px solid ",Object(n("muXR").f)(e),";position:absolute;right:0px;top:0px;bottom:0;width:100%;display:inline-block;pointer-events:none;}}}.",n("p3BF").b.CONTROLS_FLOATING_BUTTON_COLUMN,"{",c,";}.",n("p3BF").b.CONTROLS_FLOATING_BUTTON_ROW,"{",l,";}",d,".",n("p3BF").b.TABLE_STICKY," .",n("p3BF").b.NUMBERED_COLUMN," .",n("p3BF").b.NUMBERED_COLUMN_BUTTON,":first-of-type{margin-top:",10,"px;width:",n("anI9").R,"px;position:fixed!important;z-index:",n("anI9").K,"!important;box-shadow:0px -",8,"px var(--ds-surface, white);border-right:0 none;}.",n("p3BF").b.TABLE_STICKY," .",n("p3BF").b.CORNER_CONTROLS,".sticky{position:fixed!important;z-index:",n("anI9").J,"!important;background:var(--ds-surface, white);width:",n("muXR").o,"px;height:",n("muXR").o,"px;}.",n("p3BF").b.CORNER_CONTROLS,".sticky .",n("p3BF").b.CONTROLS_CORNER_BUTTON,"{border-bottom:0px none;border-right:0px none;height:",n("muXR").o,"px;width:",n("muXR").o,"px;}.",n("p3BF").b.TABLE_STICKY," .",n("p3BF").b.COLUMN_CONTROLS_DECORATIONS,"{z-index:0;}.",n("p3BF").b.TABLE_STICKY," .",n("p3BF").b.ROW_CONTROLS," .",n("p3BF").b.ROW_CONTROLS_BUTTON_WRAP,".sticky{position:fixed!important;z-index:",n("anI9").K,"!important;display:flex;border-left:",n("muXR").o,"px solid var(--ds-surface, white);margin-left:-",n("muXR").o,"px;}.",n("p3BF").b.TABLE_STICKY," col:first-of-type{border-right:1px solid var(--ds-surface, green);}tr.sticky{padding-top:",8,"px;position:fixed;display:grid;z-index:",n("muXR").e,";overflow-y:visible;overflow-x:hidden;grid-auto-flow:column;background:var(--ds-surface, white);box-sizing:content-box;margin-top:2px;box-shadow:","var(--ds-shadow-overflow, 0 6px 4px -4px rgba(9, 30, 66, 0.13))",";margin-left:-1px;&.no-pointer-events{pointer-events:none;}}.",n("p3BF").b.TABLE_STICKY," .",n("p3BF").b.TABLE_STICKY_SHADOW,"{left:unset;position:fixed;z-index:",n("muXR").e+1,";}.",n("p3BF").b.WITH_CONTROLS,".",n("p3BF").b.TABLE_STICKY," .",n("p3BF").b.TABLE_STICKY_SHADOW,"{padding-bottom:",n("muXR").o,"px;}tr.sticky th{border-bottom:",1,"px solid ",Object(n("muXR").f)(e),";margin-right:-1px;}.",n("p3BF").b.TABLE_STICKY," tr.sticky>th:last-child{border-right-width:1px;}.",n("p3BF").b.TABLE_STICKY," tr.sticky>th:first-of-type{margin-left:0px;}.",n("p3BF").b.TABLE_STICKY," tr.sticky::after{content:' ';width:",v+1,"px;}.",n("p3BF").b.TABLE_STICKY," .sticky+tr{min-height:0px;}.",n("p3BF").b.TABLE_CONTAINER,".",n("p3BF").b.TABLE_STICKY,"{tr.sticky td.",n("p3BF").b.WITH_RESIZE_LINE,",tr.sticky th.",n("p3BF").b.WITH_RESIZE_LINE,"{.",n("p3BF").b.RESIZE_HANDLE_DECORATION,"::after{right:",(n("muXR").c-2)/2+1,"px;}}tr.sticky td.",n("p3BF").b.WITH_RESIZE_LINE,".",n("p3BF").b.SELECTED_CELL,",tr.sticky th.",n("p3BF").b.WITH_RESIZE_LINE,".",n("p3BF").b.SELECTED_CELL,"{.",n("p3BF").b.RESIZE_HANDLE_DECORATION,"::after{right:",(n("muXR").c-2)/2,"px;}}}tr.sticky .",n("p3BF").b.HOVERED_CELL,",tr.sticky .",n("p3BF").b.SELECTED_CELL,"{z-index:1;}.",n("p3BF").b.WITH_CONTROLS," tr.sticky{padding-top:",n("muXR").j,"px;}.",n("p3BF").b.WITH_CONTROLS,".",n("p3BF").b.TABLE_STICKY," .",n("p3BF").b.NUMBERED_COLUMN," .",n("p3BF").b.NUMBERED_COLUMN_BUTTON,":first-of-type{margin-top:",n("muXR").j+2,"px;}.",n("p3BF").b.CORNER_CONTROLS,".sticky{border-top:",n("muXR").j-n("muXR").o+2,"px solid var(--ds-surface, white);}",null!==(t=e.featureFlags)&&void 0!==t&&t.stickyHeadersOptimization?O:""," ",(e=>Object(n("AeFk").css)(".",n("p3BF").b.TABLE_RIGHT_SHADOW,",.",n("p3BF").b.TABLE_LEFT_SHADOW,"{display:block;height:calc(100% - ",n("9ehW").g,"px);position:absolute;pointer-events:none;top:",n("9ehW").g,"px;z-index:",n("anI9").I,";width:8px;}.",n("p3BF").b.TABLE_LEFT_SHADOW,"{background:linear-gradient(\n        to left,\n        transparent 0,\n        ","var(--ds-shadow-overflow-spread, rgba(9, 30, 66, 0.13))"," 100%\n      ),linear-gradient(\n        to right,\n        var(--ds-shadow-overflow-perimeter, transparent) 0px,\n        transparent 1px\n      );left:0px;}.",n("p3BF").b.TABLE_CONTAINER,"[data-number-column='true']>:not(.",n("p3BF").b.TABLE_STICKY_SHADOW,").",n("p3BF").b.TABLE_LEFT_SHADOW,"{left:",n("anI9").R-1,"px;}.",n("p3BF").b.TABLE_RIGHT_SHADOW,"{background:linear-gradient(\n        to right,\n        transparent 0,\n        ","var(--ds-shadow-overflow-spread, rgba(9, 30, 66, 0.13))"," 100%\n      ),linear-gradient(\n        to left,\n        var(--ds-shadow-overflow-perimeter, transparent) 0px,\n        transparent 1px\n      );left:calc(100% + 2px);}.",n("p3BF").b.TABLE_COLUMN_CONTROLS_DECORATIONS,"{z-index:0;}.",n("p3BF").b.WITH_CONTROLS,"{.",n("p3BF").b.TABLE_RIGHT_SHADOW,",.",n("p3BF").b.TABLE_LEFT_SHADOW,"{height:calc(100% - ",n("9ehW").h,"px);top:",n("9ehW").h,"px;}.",n("p3BF").b.TABLE_LEFT_SHADOW,"{border-left:1px solid ",Object(n("muXR").f)(e),";}}"))(e)," .",n("p3BF").b.TABLE_STICKY," .",n("p3BF").b.TABLE_STICKY_SHADOW,"{height:0;}.less-padding{padding:0 ",8,"px;.",n("p3BF").b.ROW_CONTROLS_WRAPPER,"{padding:0 ",8,"px;&::after{right:6px!important;}}&.",n("p3BF").b.TABLE_CONTAINER,"[data-number-column='true']{padding-left:",n("anI9").R+8-1,"px;}.",n("p3BF").b.TABLE_LEFT_SHADOW,"{left:6px;}.",n("p3BF").b.TABLE_RIGHT_SHADOW,"{left:calc(100% - 6px);}}>.",n("p3BF").b.NODEVIEW_WRAPPER,"{/**\n       * Prevent margins collapsing, aids with placing the gap-cursor correctly\n       * @see https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Box_Model/Mastering_margin_collapsing\n       *\n       * TODO: Enable this, many tests will fail!\n       * border-top: 1px solid transparent;\n       */}.",n("p3BF").b.CORNER_CONTROLS,"{width:",n("muXR").o+1,"px;height:",g,"px;display:none;.",n("p3BF").b.CORNER_CONTROLS_INSERT_ROW_MARKER,"{position:relative;",r(e,"\n          left: -11px;\n          top: 9px;\n        "),";}}.",n("p3BF").b.CORNER_CONTROLS,".sticky{.",n("p3BF").b.CORNER_CONTROLS_INSERT_ROW_MARKER,"{display:none!important;}}.",n("p3BF").b.CONTROLS_CORNER_BUTTON,"{position:absolute;top:0;width:",n("muXR").o+1,"px;height:",n("muXR").o+1,"px;border:1px solid ",Object(n("muXR").f)(e),";border-radius:0;border-top-left-radius:",3,"px;background:",Object(n("muXR").l)(e),";box-sizing:border-box;padding:0;:focus{outline:none;}}.active .",n("p3BF").b.CONTROLS_CORNER_BUTTON,"{border-color:",n("muXR").h,";background:",`var(--ds-background-selected, ${n("muXR").n})`,";}.",n("p3BF").b.TABLE_CONTAINER,"[data-number-column='true']{.",n("p3BF").b.CORNER_CONTROLS,",.",n("p3BF").b.CONTROLS_CORNER_BUTTON,"{width:",n("anI9").U+n("anI9").R,"px;}.",n("p3BF").b.ROW_CONTROLS," .",n("p3BF").b.CONTROLS_BUTTON,"{border-right-width:0;}}:not(.",n("p3BF").b.IS_RESIZING,") .",n("p3BF").b.CONTROLS_CORNER_BUTTON,":hover{border-color:",n("muXR").h,";background:",`var(--ds-background-selected, ${n("muXR").n})`,";cursor:pointer;}:not(.",n("p3BF").b.IS_RESIZING,") .",n("p3BF").b.CONTROLS_CORNER_BUTTON,".",n("p3BF").b.HOVERED_CELL_IN_DANGER,"{border-color:",n("muXR").g,";background:",`var(--ds-background-danger, ${n("muXR").m})`,";}.",n("p3BF").b.ROW_CONTROLS,"{width:",n("muXR").o,"px;box-sizing:border-box;display:none;position:relative;",r(e,"\n        bottom: -1px;\n        left: -11px;\n      "),";",((e,t)=>Object(n("AeFk").css)(".",n("p3BF").b.CONTROLS_BUTTON,"{background:",Object(n("muXR").l)(e),";border:1px solid ",Object(n("muXR").f)(e),";display:block;box-sizing:border-box;padding:0;",t,";:focus{outline:none;}}.",n("p3BF").b.ROW_CONTROLS_BUTTON,"::after{content:' ';background-color:transparent;left:-15px;top:0;position:absolute;width:15px;height:100%;z-index:1;}.active .",n("p3BF").b.CONTROLS_BUTTON,"{color:","var(--ds-icon-inverse, #FFFFFF)",";background-color:",`var(--ds-background-selected, ${n("muXR").n})`,";border-color:",n("muXR").h,";}"))(e,`\n        border-bottom: 1px solid ${Object(n("muXR").f)(e)};\n        border-right: 0px;\n        border-radius: 0;\n        height: 100%;\n        width: ${n("muXR").o}px;\n\n        .${n("p3BF").b.CONTROLS_BUTTON_OVERLAY} {\n          position: absolute;\n          width: 30px;\n          height: 50%;\n          right: 0;\n          bottom: 0;\n        }\n        .${n("p3BF").b.CONTROLS_BUTTON_OVERLAY}:first-of-type {\n          top: 0;\n        }\n      `),";.",n("p3BF").b.ROW_CONTROLS_INNER,"{display:flex;flex-direction:column;}.",n("p3BF").b.ROW_CONTROLS_BUTTON_WRAP,":last-child>button{border-bottom-left-radius:",3,"px;}.",n("p3BF").b.ROW_CONTROLS_BUTTON_WRAP,"{position:relative;margin-top:-1px;}.",n("p3BF").b.ROW_CONTROLS_BUTTON_WRAP,":hover,.",n("p3BF").b.ROW_CONTROLS_BUTTON_WRAP,".active,.",n("p3BF").b.CONTROLS_BUTTON,":hover{z-index:",n("anI9").W,";}}:not(.",n("p3BF").b.IS_RESIZING,") .",n("p3BF").b.ROW_CONTROLS,"{",(()=>Object(n("AeFk").css)(".",n("p3BF").b.CONTROLS_BUTTON,":hover{color:","var(--ds-icon-inverse, #FFFFFF)",";background-color:",`var(--ds-background-selected, ${n("muXR").n})`,";border-color:",n("muXR").h,";cursor:pointer;}"))()," ",(()=>Object(n("AeFk").css)(".",n("p3BF").b.HOVERED_CELL_IN_DANGER," .",n("p3BF").b.CONTROLS_BUTTON,"{background-color:",`var(--ds-background-danger, ${n("muXR").m})`,";border-color:",n("muXR").g,";position:relative;z-index:",n("anI9").W,";}"))(),";}.",n("p3BF").b.NUMBERED_COLUMN,"{position:relative;float:right;margin-left:",n("anI9").U-1,"px;top:",n("anI9").U,"px;width:",n("anI9").R+1,"px;box-sizing:border-box;}.",n("p3BF").b.NUMBERED_COLUMN_BUTTON,"{border:1px solid ",Object(n("muXR").f)(e),";box-sizing:border-box;margin-top:-1px;padding-bottom:2px;padding:10px 2px;text-align:center;font-size:",Object(n("anI9").fb)(Object(n("7w+A").fontSize)()),";background-color:",Object(n("muXR").l)(e),";color:",Object(n("muXR").k)(e),";border-color:",Object(n("muXR").f)(e),";:first-child:not(style),style:first-child+*{margin-top:0;}:last-child{border-bottom:1px solid ",Object(n("muXR").f)(e),";}}.",n("p3BF").b.WITH_CONTROLS,"{.",n("p3BF").b.CORNER_CONTROLS,",.",n("p3BF").b.ROW_CONTROLS,"{display:block;}.",n("p3BF").b.NUMBERED_COLUMN,"{padding-left:1px;.",n("p3BF").b.NUMBERED_COLUMN_BUTTON,"{border-left:0 none;}.",n("p3BF").b.NUMBERED_COLUMN_BUTTON,".active{border-bottom:1px solid ",n("muXR").h,";border-color:",n("muXR").h,";background-color:",`var(--ds-background-selected, ${n("muXR").n})`,";position:relative;z-index:",n("anI9").W,";color:","var(--ds-text-selected, #FFFFFF)",";}}}:not(.",n("p3BF").b.IS_RESIZING,") .",n("p3BF").b.WITH_CONTROLS,"{.",n("p3BF").b.NUMBERED_COLUMN_BUTTON,"{cursor:pointer;}.",n("p3BF").b.NUMBERED_COLUMN_BUTTON,":hover{border-bottom:1px solid ",n("muXR").h,";border-color:",n("muXR").h,";background-color:",`var(--ds-background-selected, ${n("muXR").n})`,";position:relative;z-index:",n("anI9").W,";color:","var(--ds-text-selected, #FFFFFF)",";}.",n("p3BF").b.NUMBERED_COLUMN_BUTTON,".",n("p3BF").b.HOVERED_CELL_IN_DANGER,"{background-color:",`var(--ds-background-danger, ${n("muXR").m})`,";border:1px solid ",n("muXR").g,";border-left:0;color:","var(--ds-text-danger, #BF2600)",";position:relative;z-index:",n("anI9").W,";}}.",n("p3BF").b.TABLE_NODE_WRAPPER,">table{table-layout:fixed;white-space:normal;border-top:none;margin-right:-1px;position:relative;>tbody>tr{white-space:pre-wrap;}.",n("p3BF").b.COLUMN_CONTROLS_DECORATIONS,"+*{margin-top:0;}th.",n("p3BF").b.TABLE_HEADER_CELL,">.fabric-editor-block-mark{>h1:first-of-type,>h2:first-of-type,>h3:first-of-type,>h4:first-of-type,>h5:first-of-type,>h6:first-of-type{margin-top:0;}}.",n("p3BF").b.SELECTED_CELL,",.",n("p3BF").b.HOVERED_CELL_IN_DANGER,"{position:relative;}.",n("p3BF").b.SELECTED_CELL,"::after,.",n("p3BF").b.HOVERED_CELL_IN_DANGER,"::after{z-index:",n("anI9").J,";position:absolute;content:'';left:0;right:0;top:0;bottom:0;width:100%;pointer-events:none;}.",n("p3BF").b.SELECTED_CELL,"{border:1px solid ",n("muXR").h,";}.",n("p3BF").b.SELECTED_CELL,"::after{background:","var(--ds-blanket-selected, rgba(179, 212, 255, 0.3))",";z-index:",n("anI9").J,";}th.",n("p3BF").b.HOVERED_CELL_IN_DANGER,"::after,td.",n("p3BF").b.HOVERED_CELL_IN_DANGER,"::after{background:","var(--ds-blanket-danger, rgba(255, 235, 230, 0.3))",";z-index:",100*n("anI9").W,";}td.",n("p3BF").b.HOVERED_CELL,",td.",n("p3BF").b.SELECTED_CELL,"{&::after{height:100%;width:100%;border:1px solid ",n("muXR").h,";content:'';position:absolute;left:-1px;top:-1px;bottom:0;z-index:",n("anI9").J,";display:inline-block;pointer-events:none;}&.",n("p3BF").b.HOVERED_CELL_IN_DANGER,"::after{border:1px solid ",n("muXR").g,";z-index:",100*n("anI9").W,";}}}.",n("p3BF").b.ROW_CONTROLS_WRAPPER,"{position:absolute;top:",n("9ehW").g-g+1,"px;}.",n("p3BF").b.ROW_CONTROLS_WRAPPER,".",n("p3BF").b.TABLE_LEFT_SHADOW,"{z-index:",n("anI9").W,";}.",n("p3BF").b.ROW_CONTROLS_WRAPPER,"{left:-",n("muXR").o,"px;}.",n("p3BF").b.TABLE_NODE_WRAPPER,"{padding-right:",v,"px;margin-right:-",v,"px;padding-bottom:0px;overflow:auto;overflow-y:hidden;position:relative;}}.ProseMirror.",n("p3BF").b.IS_RESIZING,"{.",n("p3BF").b.TABLE_NODE_WRAPPER,"{overflow-x:auto;",n("SPzD").a,";}}.ProseMirror.",n("p3BF").b.RESIZE_CURSOR,"{cursor:col-resize;}",null!=e&&null!==(s=e.featureFlags)&&void 0!==s&&s.restartNumberedLists?"":"\n  .ProseMirror .pm-table-cell-content-wrap ol[data-child-count='100+'] {\n    padding-left: revert;\n  }\n"," ",E,";")
},S=Object(n("AeFk").css)(".ProseMirror .",n("p3BF").b.TABLE_NODE_WRAPPER,">table{margin-left:0;margin-right:-1px;width:100%;}"),k=Object(n("AeFk").css)(".ProseMirror .",n("p3BF").b.TABLE_NODE_WRAPPER,">table{margin-left:0;margin-right:0;",n("SPzD").a,";}")},xGQ6:function(e,t,n){"use strict";var o={};function r(e,t,n){var i,s,a,c,l,d="";for("string"!=typeof t&&(n=t,t=r.defaultChars),void 0===n&&(n=!0),l=function(e){var t,n,r=o[e];if(r)return r;for(r=o[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}(t),i=0,s=e.length;i<s;i++)if(a=e.charCodeAt(i),n&&37===a&&i+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))d+=e.slice(i,i+3),i+=2;else if(a<128)d+=l[a];else if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&i+1<s&&(c=e.charCodeAt(i+1))>=56320&&c<=57343){d+=encodeURIComponent(e[i]+e[i+1]),i++;continue}d+="%EF%BF%BD"}else d+=encodeURIComponent(e[i]);return d}
r.defaultChars=";/?:@&=+$,-_.!~*'()#",r.componentChars="-_.!~*'()",e.exports=r},xMGN:function(t,n,o){var r=o("d+lc");t.exports=function(t,n,o,i){try{return i?n(r(o)[0],o[1]):n(o)}catch(e){var s=t.return;throw void 0!==s&&r(s.call(t)),e}}},xN1B:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 5h12a1 1 0 010 2H6a1 1 0 110-2zm0 12h12a1 1 0 010 2H6a1 1 0 010-2zm0-8h12a1 1 0 011 1v4a1 1 0 01-1 1H6a1 1 0 01-1-1v-4a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorMediaCenterIcon";var s=i;t.default=s},xNKs:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a}));var o=n("ABYF");function r(e){
const{clipboardData:t}=e;return!!t&&function(e,t){return(e=>!e.indexOf&&!!e.contains)(e)?e.contains(t):e.indexOf(t)>-1}(t.types,"Files")}const i=()=>!!navigator.clipboard&&"function"==typeof navigator.clipboard.writeText,s=async e=>{if(i())try{await navigator.clipboard.writeText(e)}catch(t){throw new Error("Clipboard api is not supported")}else{if(!(()=>window.clipboardData&&"function"==typeof window.clipboardData.setData)())throw new Error("Clipboard api is not supported");try{await window.clipboardData.setData("text",e)}catch(t){throw new Error("IE clipboard api is not supported")}}},a=async(e,t)=>{if(i()&&"undefined"!=typeof ClipboardItem)try{const n=new ClipboardItem({"text/plain":new Blob([t||e.innerText],{type:"text/plain"}),"text/html":new Blob([e.innerHTML],{type:"text/html"})});await navigator.clipboard.write([n])}catch(n){throw new Error("Clipboard api is not supported")}else{const n=o,r=new n.DT;r.setData("text/plain",t||e.innerText),r.setData("text/html",e.innerHTML),
n.write(r)}}},xQCw:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return h}));var o=n("V2qZ");const r=(e,t)=>t.find(void 0,void 0,(t=>t.key.indexOf(e)>-1)),i=e=>r(n("p3BF").c.COLUMN_SELECTED,e),s=e=>r(n("p3BF").c.ALL_CONTROLS_HOVER,e),a=(e,t)=>e.map((e=>o.a.node(e.pos,e.pos+e.node.nodeSize,{class:n("p3BF").b.HOVERED_CELL_WARNING},{key:n("p3BF").c.CELL_CONTROLS_HOVER}))),c=(e,t,r,i,s)=>{const a=Object(n("zYPQ").c)(r.selection);if(!a)return[];const c=n("wYWE").b.get(a.node),[l,d]=e.reduce((([e,t],n)=>((null===e||n.pos<e)&&(e=n.pos),(null===t||n.pos>t)&&(t=n.pos),[e,t])),[null,null]);if(null===l||null===d)return[];let u=e.map((e=>e.pos));if(i){const{recLeft:t,recTop:o,recRight:r,recBottom:i}=e.reduce(((e,t)=>{
const{left:n,right:o,bottom:r,top:i}=c.findCell(t.pos-a.start);return{recLeft:Math.min(e.recLeft,n),recTop:Math.min(e.recTop,i),recRight:Math.max(e.recRight,o),recBottom:Math.max(e.recBottom,r)}}),{recLeft:1/0,recTop:1/0,recRight:-1/0,recBottom:-1/0}),s=new(n("wYWE").a)(t,o,r,i);u=c.cellsInRect(s).map((e=>e+a.start))}return u.map((e=>{const a=r.doc.nodeAt(e),c=[n("p3BF").b.HOVERED_CELL];let l;switch(i&&c.push(n("p3BF").b.HOVERED_CELL_IN_DANGER),s&&c.push(n("p3BF").b.SELECTED_CELL),c.push("column"===t?n("p3BF").b.HOVERED_COLUMN:"row"===t?n("p3BF").b.HOVERED_ROW:n("p3BF").b.HOVERED_TABLE),t){case"row":l=n("p3BF").c.ROW_CONTROLS_HOVER;break;case"column":l=n("p3BF").c.COLUMN_CONTROLS_HOVER;break;default:l=n("p3BF").c.TABLE_CONTROLS_HOVER}return o.a.node(e,e+a.nodeSize,{class:c.join(" ")},{key:l})}))},l=e=>{const{selection:t,doc:r}=e,i=Object(n("zYPQ").c)(t),s=Object(n("n3wV").a)(t);if(!i||!s)return[];return n("wYWE").b.get(i.node).cellsInRect(s).map(((e,t)=>{const s=r.nodeAt(e+i.start)
;return o.a.node(e+i.start,e+i.start+s.nodeSize,{class:n("p3BF").b.COLUMN_SELECTED},{key:`${n("p3BF").c.COLUMN_SELECTED}_${t}`})}))},d=e=>{const t=Object(n("Rl6m").a)(0)(e)||[];let r=0;return t.map((e=>{const t=e.node.attrs.colspan||1,i=r,s=i+t;return r=s,o.a.widget(e.pos+1,(()=>{const e=document.createElement("div");return e.classList.add(n("p3BF").b.COLUMN_CONTROLS_DECORATIONS),e.dataset.startIndex=`${i}`,e.dataset.endIndex=`${s}`,e}),{key:`${n("p3BF").c.COLUMN_CONTROLS_DECORATIONS}_${s}`,side:-100})}))},u=(e,t,n,o)=>{const i=r(o,t);return t.remove(i).add(e,n)},p=(e,t,r)=>{const i=[[],[]],s=Object(n("zYPQ").c)(e.selection);if(!s||!s.node)return i;const a=n("wYWE").b.get(s.node);if(!a.width)return i;const c=(e,t,r,i,s)=>{const a=i+s.nodeSize-1;return o.a.widget(a,(()=>{const t=document.createElement("div");return t.classList.add(n("p3BF").b.RESIZE_HANDLE_DECORATION),t.dataset.startIndex=`${e.left}`,t.dataset.endIndex=`${e.right}`,t}),{
key:`${n("p3BF").c.COLUMN_RESIZING_HANDLE}_${r}_${t}`})},l=(e,t,r)=>{let i;return r.forEach(((e,n,o)=>{if(o===r.childCount-1){const o=n+t+1;i={from:o,to:o+e.nodeSize}}})),i?o.a.node(i.from,i.to,{class:n("p3BF").b.LAST_ITEM_IN_CELL},{key:`${n("p3BF").c.LAST_CELL_ELEMENT}_${e.left}_${e.right}`}):null},d=[],u=[];for(let n=0;n<a.height;n++){const o={};if(n===t)for(let t=0;t<a.width;t++){const i=a.map[a.width*n+t];if(o[i])continue;o[i]=!0;const p=s.start+i,h=e.doc.nodeAt(p);if(!h)continue;const f=t,m=(h.attrs.colspan||1)+f;if(m!==r.right)continue;const b=c({left:f,right:m},t,n,p,h),g=l({left:f,right:m},p,h);d.push(b),u.push(g)}}return[d,u.filter(n("XyUv").f)]},h=(e,t)=>{const r=Object(n("zYPQ").c)(e);if(!r||null===t.right)return[];let i=t.right;const s=n("wYWE").b.get(r.node),a=i===s.width;a&&(i-=1);const c=a?n("p3BF").b.WITH_RESIZE_LINE_LAST_COLUMN:n("p3BF").b.WITH_RESIZE_LINE;return(e=>Array.from(Array(e).keys()))(s.height).map((e=>s.map[s.width*e+i])).filter(((e,t)=>{if(a)return!0
;return e!==s.map[s.width*t+i-1]})).map((e=>({pos:e+r.start,node:r.node.nodeAt(e)}))).map(((e,r)=>{if(e&&e.node)return o.a.node(e.pos,e.pos+e.node.nodeSize,{class:c},{key:`${n("p3BF").c.COLUMN_RESIZING_HANDLE_LINE}_${t.right}_${r}`})})).filter(n("XyUv").f)}},xXl2:function(t,n,o){"use strict";var r,i,s,a,c=o("5ETA"),l=o("7whZ"),d=o("nAx8"),u=o("aqg2"),p=o("USwo"),h=o("ekG2"),f=o("FgkJ"),m=o("ukM9"),b=o("wlNh"),g=o("2zfi"),v=o("vOBO").set,y=o("jssz")(),O=o("8sL3"),E=o("wqPz"),w=o("jlxs"),S=o("JKKi"),k="Promise",x=l.TypeError,C=l.process,T=C&&C.versions,j=T&&T.v8||"",A=l.Promise,N="process"==u(C),I=function(){},P=i=O.f,M=!!function(){try{var t=A.resolve(1),n=(t.constructor={})[o("zBWt")("species")]=function(e){e(I,I)};return(N||"function"==typeof PromiseRejectionEvent)&&t.then(I)instanceof n&&0!==j.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),R=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},_=function(t,n){if(!t._n){t._n=!0;var o=t._c;y((function(){
for(var r=t._v,i=1==t._s,s=0,a=function(n){var o,s,a,c=i?n.ok:n.fail,l=n.resolve,d=n.reject,u=n.domain;try{c?(i||(2==t._h&&F(t),t._h=1),!0===c?o=r:(u&&u.enter(),o=c(r),u&&(u.exit(),a=!0)),o===n.promise?d(x("Promise-chain cycle")):(s=R(o))?s.call(o,l,d):l(o)):d(r)}catch(e){u&&!a&&u.exit(),d(e)}};o.length>s;)a(o[s++]);t._c=[],t._n=!1,n&&!t._h&&L(t)}))}},L=function(e){v.call(l,(function(){var t,n,o,r=e._v,i=D(e);if(i&&(t=E((function(){N?C.emit("unhandledRejection",r,e):(n=l.onunhandledrejection)?n({promise:e,reason:r}):(o=l.console)&&o.error&&o.error("Unhandled promise rejection",r)})),e._h=N||D(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},F=function(e){v.call(l,(function(){var t;N?C.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},B=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),_(t,!0))},V=function(t){var n,o=this;if(!o._d){o._d=!0,o=o._w||o;try{
if(o===t)throw x("Promise can't be resolved itself");(n=R(t))?y((function(){var r={_w:o,_d:!1};try{n.call(t,d(V,r,1),d(B,r,1))}catch(e){B.call(r,e)}})):(o._v=t,o._s=1,_(o,!1))}catch(e){B.call({_w:o,_d:!1},e)}}};M||(A=function(e){m(this,A,k,"_h"),f(e),r.call(this);try{e(d(V,this,1),d(B,this,1))}catch(t){B.call(this,t)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=o("iZ5/")(A.prototype,{then:function(e,t){var n=P(g(this,A));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=N?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&_(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),s=function(){var e=new r;this.promise=e,this.resolve=d(V,e,1),this.reject=d(B,e,1)},O.f=P=function(e){return e===A||e===a?new s(e):i(e)}),p(p.G+p.W+p.F*!M,{Promise:A}),o("kvAF")(A,k),o("va3J")(k),a=o("VSTI").Promise,p(p.S+p.F*!M,k,{reject:function(e){var t=P(this);return(0,t.reject)(e),
t.promise}}),p(p.S+p.F*(c||!M),k,{resolve:function(e){return S(c&&this===a?A:this,e)}}),p(p.S+p.F*!(M&&o("h3Hq")((function(e){A.all(e).catch(I)}))),k,{all:function(e){var t=this,n=P(t),o=n.resolve,r=n.reject,i=E((function(){var n=[],i=0,s=1;b(e,!1,(function(e){var a=i++,c=!1;n.push(void 0),s++,t.resolve(e).then((function(e){c||(c=!0,n[a]=e,--s||o(n))}),r)})),--s||o(n)}));return i.e&&r(i.v),n.promise},race:function(e){var t=this,n=P(t),o=n.reject,r=E((function(){b(e,!1,(function(e){t.resolve(e).then(n.resolve,o)}))}));return r.e&&o(r.v),n.promise}})},xfML:function(e,t,n){var o=n("USwo");o(o.S,"Object",{setPrototypeOf:n("DrT7").set})},xgJV:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("lSNA"),r=n.n(o),i=n("q1tI");n("jp2e").d;const s=Object(n("AeFk").css)({backgroundColor:n("jp2e").c}),a=Object(n("AeFk").css)({cursor:"pointer",display:"block",listStyleType:"none",overflow:"hidden",width:350}),c={name:"1oa7hyp",
styles:"display:flex;flex-direction:row;flex-wrap:wrap;vertical-align:middle"};160..toFixed();class l extends i.PureComponent{constructor(...e){super(...e),r()(this,"onEmojiSelected",(e=>{const{emoji:t,onSelection:o}=this.props;Object(n("M3Ny").a)(e)&&o&&(e.preventDefault(),o(Object(n("l4Cm").q)(t),t,e))})),r()(this,"onEmojiMenuItemMouseMove",(e=>{const{emoji:t,onMouseMove:o}=this.props;o&&o(Object(n("l4Cm").q)(t),t,e)}))}render(){const{selected:e,emoji:t,emojiProvider:o}=this.props,r=[a,e&&s];return Object(n("AeFk").jsx)(n("OVD/").a,{emojiProvider:o},Object(n("AeFk").jsx)("div",{className:"ak-emoji-typeahead-item "+(e?"emoji-typeahead-selected":""),css:r,onMouseDown:this.onEmojiSelected,onMouseMove:this.onEmojiMenuItemMouseMove,"data-emoji-id":t.shortName},Object(n("AeFk").jsx)("div",{css:c},t&&Object(n("AeFk").jsx)(n("S5tn").a,{emoji:t}))))}}l.displayName="EmojiTypeAheadItem"},xltk:function(e,t,n){"use strict";t.a=()=>({allowRule:!0,allowTextColor:!0,allowTables:{
allowColumnResizing:!0,allowControls:!0,allowHeaderRow:!0,allowHeaderColumn:!0,allowNumberColumn:!0},allowPanel:!0,allowStatus:!0,allowDate:!0,allowExpand:{allowInsertion:!0,allowInteractiveExpand:!0}})},xuwc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 8.51c0-.282.229-.51.5-.51h11c.276 0 .5.228.5.51v8.98c0 .282-.229.51-.5.51h-11a.505.505 0 01-.5-.51V8.51zm2 2.995v.99c0 .291.226.505.505.505h.99a.497.497 0 00.505-.505v-.99A.497.497 0 009.495 11h-.99a.497.497 0 00-.505.505zm3 0v.99c0 .291.226.505.505.505h.99a.497.497 0 00.505-.505v-.99a.497.497 0 00-.505-.505h-.99a.497.497 0 00-.505.505zm-3 3v.99c0 .291.226.505.505.505h.99a.497.497 0 00.505-.505v-.99A.497.497 0 009.495 14h-.99a.497.497 0 00-.505.505zM7.5 8v1h3V8h-3zm6 0v1h3V8h-3zm.5-1.495c0-.279.214-.505.505-.505h.99c.279 0 .505.214.505.505V8h-2V6.505zm-6 0C8 6.226 8.214 6 8.505 6h.99c.279 0 .505.214.505.505V8H8V6.505z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorDateIcon";var s=i;t.default=s},y4yO:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=Object(n("D6b/").defineMessages)({url:{id:"fabric.editor.url",
defaultMessage:"Display URL",description:"Convert the card to become a regular text-based hyperlink."},block:{id:"fabric.editor.displayBlock",defaultMessage:"Display card",description:"Display link as a card with a rich preview similar to in a Facebook feed with page title, description, and potentially an image."},inline:{id:"fabric.editor.displayInline",defaultMessage:"Display inline",description:"Display link with the title only."},embed:{id:"fabric.editor.displayEmbed",defaultMessage:"Display embed",description:"Display link as an embedded object"},link:{id:"fabric.editor.displayLink",defaultMessage:"Display as text",description:"Convert the card to become a regular text-based hyperlink."},card:{id:"fabric.editor.cardFloatingControls",defaultMessage:"Card options",description:"Options to change card type"},blockCardUnavailable:{id:"fabric.editor.blockCardUnavailable",defaultMessage:"The inline link is inside {node} and cannot have its view changed",
description:"Warning message to show the user that this node cannot change its view"},displayOptionUnavailableInParentNode:{id:"fabric.editor.displayOptionUnavailableInParentNode",defaultMessage:"This display option isn't available inside {node}",description:"Warning message to show the user that this node option is not available inside a parent node type"},urlTitle:{id:"fabric.editor.urlTitle",defaultMessage:"URL",description:"Title for option to convert the card to become a regular text-based hyperlink."},blockTitle:{id:"fabric.editor.blockTitle",defaultMessage:"Card",description:"Title for option to display link in the card view."},inlineTitle:{id:"fabric.editor.inlineTitle",defaultMessage:"Inline",description:"Title for option to display link in the inline view."},embedTitle:{id:"fabric.editor.embedTitle",defaultMessage:"Embed",description:"Title for option to display link as an embedded object."},urlDescription:{id:"fabric.editor.urlDescription",
defaultMessage:"Display link as URL",description:"Description for option to convert the card to become a regular text-based hyperlink."},blockDescription:{id:"fabric.editor.blockDescription",defaultMessage:"Display more information about a link, including a summary and actions",description:"Description for option to display link in the card view."},inlineDescription:{id:"fabric.editor.inlineDescription",defaultMessage:"Display link as inline text",description:"Description for option to display link in the inline view."},embedDescription:{id:"fabric.editor.ecombedDescription",defaultMessage:"Display an interactive preview of a link",description:"Description for option to display link as an embedded object."}})},yA3P:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return m}));var o=n("q1tI"),r=n.n(o)
;const i=Object(n("AeFk").css)("width:",40,"px;height:",40,"px;overflow:hidden;border:1px solid var(--ds-border, rgba(223, 225, 229, 0.5));border-radius:",Object(n("7w+A").borderRadius)(),"px;box-sizing:border-box;display:flex;justify-content:center;align-items:center;div{width:",40,"px;height:",40,"px;}"),s={name:"dblrt7",styles:"display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between"},a=e=>Object(n("AeFk").css)("white-space:initial;color:",Object(n("56zV").a)({light:"var(--ds-text, #172B4D)",dark:"var(--ds-text, #B8C7E0)"})(e),";.item-title{line-height:1.4;}.item-description{font-size:",Object(n("anI9").fb)(12),";color:","var(--ds-text-subtlest, #6B778C)",";margin-top:3px;}"),c={name:"ou8xsw",styles:"flex:0 0 auto"},l=Object(n("AeFk").css)("overflow:hidden;&:hover{background-color:","var(--ds-background-selected, #EBECF0)",";}&:focus{box-shadow:inset 0px 0px 0px 2px ","var(--ds-border-focused, #4C9AFF)",";outline:none;}"),d={"& > button:focus":{
boxShadow:"inset 0px 0px 0px 2px var(--ds-border-focused, #4C9AFF)",outline:"none","&:active":{boxShadow:"none"}}},u=Object(n("AeFk").css)("background-color:","var(--ds-background-selected, #EBECF0)",";"),p=r.a.memo((({label:e})=>Object(n("AeFk").jsx)(n("scwk").a,null))),h=()=>{},f=({title:e,description:t,shortcut:o})=>{const r=Object(n("3NU0").a)(),i=t?` ${r.formatMessage(n("x6oP").a.descriptionLabel)} ${t}.`:"",s=o?` ${r.formatMessage(n("x6oP").a.shortcutLabel)} ${o}.`:"";return Object(n("AeFk").jsx)("span",{className:"assistive"},`${e}. ${i} ${s}`)},m=({item:e,itemsLength:t,selectedIndex:m,onItemClick:b,itemIndex:g,ariaLabel:v})=>{const y=g===m||-1===m&&0===g,{icon:O,title:E,render:w}=e,S=Object(o.useMemo)((()=>Object(n("AeFk").jsx)("div",{css:i},O?O():Object(n("AeFk").jsx)(p,{label:E}))),[O,E]),k=Object(o.useCallback)((()=>{b(n("FOo9").a.SELECTED,g)}),[b,g]),x=r.a.createRef(),C=r.a.createRef(),T=m===g;Object(o.useLayoutEffect)((()=>{var e
;T&&(null==x||null===(e=x.current)||void 0===e||e.focus())}),[x,T]),Object(o.useLayoutEffect)((()=>{var e;T&&(null==C||null===(e=C.current)||void 0===e||e.focus())}),[C,T]);const j=Object(o.useMemo)((()=>{if(!w)return null;const e=w,o=[l,y&&u];return Object(n("AeFk").jsx)("div",{"aria-selected":y,role:"option","aria-label":v,"aria-setsize":t,tabIndex:0,css:o,className:"ak-typeahead-item "+(y?"typeahead-selected-item":""),ref:x},Object(n("AeFk").jsx)("div",{"aria-hidden":!0},Object(n("AeFk").jsx)(e,{onClick:k,isSelected:!1,onHover:h})))}),[w,y,v,t,x,k]);return j||Object(n("AeFk").jsx)("span",{css:d},Object(n("AeFk").jsx)(n("IS3e").a,{onClick:k,iconBefore:S,isSelected:y,"aria-selected":y,"aria-label":E,"aria-setsize":t,role:"option",ref:C},Object(n("AeFk").jsx)("div",{"aria-hidden":!0},Object(n("AeFk").jsx)("div",{css:a},Object(n("AeFk").jsx)("div",{css:s},Object(n("AeFk").jsx)("div",{className:"item-title"},e.title),Object(n("AeFk").jsx)("div",{css:c
},e.keyshortcut&&Object(n("AeFk").jsx)("div",{css:n("ZQ9N").a},e.keyshortcut))),Object(n("AeFk").jsx)("div",{className:"item-description"},e.description))),Object(n("AeFk").jsx)(f,{title:e.title,description:e.description,shortcut:e.keyshortcut})))}},yKnv:function(e,t,n){"use strict";function o(e,t){var n,o,r,i,s,a;for(n=t.length-1;n>=0;n--)95!==(o=t[n]).marker&&42!==o.marker||-1!==o.end&&(r=t[o.end],a=n>0&&t[n-1].end===o.end+1&&t[n-1].marker===o.marker&&t[n-1].token===o.token-1&&t[o.end+1].token===r.token+1,s=String.fromCharCode(o.marker),(i=e.tokens[o.token]).type=a?"strong_open":"em_open",i.tag=a?"strong":"em",i.nesting=1,i.markup=a?s+s:s,i.content="",(i=e.tokens[r.token]).type=a?"strong_close":"em_close",i.tag=a?"strong":"em",i.nesting=-1,i.markup=a?s+s:s,i.content="",a&&(e.tokens[t[n-1].token].content="",e.tokens[t[o.end+1].token].content="",n--))}e.exports.tokenize=function(e,t){var n,o,r=e.pos,i=e.src.charCodeAt(r);if(t)return!1;if(95!==i&&42!==i)return!1
;for(o=e.scanDelims(e.pos,42===i),n=0;n<o.length;n++)e.push("text","",0).content=String.fromCharCode(i),e.delimiters.push({marker:i,length:o.length,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return e.pos+=o.length,!0},e.exports.postProcess=function(e){var t,n=e.tokens_meta,r=e.tokens_meta.length;for(o(e,e.delimiters),t=0;t<r;t++)n[t]&&n[t].delimiters&&o(e,n[t].delimiters)}},yQFZ:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},yUK8:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("typeAheadPlugin")},yXll:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var o=n("mG1W"),r=n("MEpN");function i({nodeType:e,selection:t}){let n=Object(o.findSelectedNodeOfType)(e)(t);return n||(n=Object(o.findParentNodeOfType)(e)(t)),n}const s=(e,t)=>r.DOMSerializer.fromSchema(t).serializeNode(e)},yYBl:function(e,t,n){"use strict"
;n.d(t,"b",(function(){return o}));const o=Object(n("D6b/").defineMessages)({addLink:{id:"fabric.editor.mediaAddLink",defaultMessage:"Add link",description:"Add link"},unableToOpenLink:{id:"fabric.editor.unableToOpenLink",defaultMessage:"Unable to open this link",description:"Unable to open this link"},unlink:{id:"fabric.editor.unlink",defaultMessage:"Unlink",description:"Removes the hyperlink but keeps your text."},editLink:{id:"fabric.editor.editLink",defaultMessage:"Edit link",description:"Edit the link, update display text"},placeholder:{id:"fabric.editor.hyperlinkToolbarPlaceholder",defaultMessage:"Paste or search for link",description:"Paste or search for link"},linkPlaceholder:{id:"fabric.editor.linkPlaceholder",defaultMessage:"Paste link",description:"Create a new link by pasting a URL."},linkAddress:{id:"fabric.editor.linkAddress",defaultMessage:"Link address",description:"Insert the address of the link"},invalidLink:{id:"fabric.editor.invalidLink",
defaultMessage:"Please enter a valid link.",description:"Please enter a valid link."},emptyLink:{id:"fabric.editor.emptyLink",defaultMessage:"Please enter a link.",description:"Please enter a link."},settingsLink:{id:"fabric.editor.settingsLinks",defaultMessage:"Go to Link Preferences",description:"Go to Link Preferences"}});t.a=n("OrwF").a},ydRh:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("q1tI"),r=n.n(o),i=n("pVnL"),s=n.n(i);n("3d9S");n("3gNG"),n("3gNG"),n("3gNG"),n("3gNG"),n("3gNG"),n("3gNG");const a=Object(o.forwardRef)((({as:e="span",style:t,...r},i)=>o.createElement(e,s()({},r,{style:t,ref:i,className:Object(n("TCwg").a)(["_ca0qidpf _u5f31y44 _n3tdyh40 _19bv1y44 _bfhk1cs6 _19it1ljb",r.className])}))));const c=({content:e})=>{if("string"==typeof e){const t=`{{${e}}}`;return r.a.createElement(a,null,t)}return null},l=e=>{const{node:t}=e;return r.a.createElement(c,t)};l.displayName="ExtensionHandler";const d={title:"Template Variable",type:n("jHPN").b,
key:n("jHPN").a,description:"Inserts template variables",icons:{48:()=>n.e("template-extension_icon-code").then(n.t.bind(null,"iCnE",7)).then((e=>e.default))},modules:{nodes:{default:{type:"inlineExtension",render:async()=>l}}}};t.b=d},yg4z:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const o={"\u2026":"...","\u2192":"->","\u2190":"<-","\u2013":"--","\u201c":'"',"\u201d":'"',"\u2018":"'","\u2019":"'"},r=new RegExp(`[${Object.keys(o).join("")}]`,"g"),i=(e,t,i)=>{const{schema:s}=i.doc.type,{mention:a,text:c,emoji:l}=s.nodes,d=Object(n("D4z0").g)(i.doc,e,t,(e=>{const{mention:t,text:n,emoji:o}=e.nodes;return(e,r,i)=>{if(e.type===t||e.type===o||e.type===n)return i.isTextblock}})(s));d.forEach((({node:t,pos:n})=>{if(t.type===a||t.type===l)((e,t,n,o)=>{const r=o.mapping.map(e),{schema:i}=o.doc.type;o.replaceWith(r,r+t,i.text(n))})(n,t.nodeSize,t.attrs.text,i);else if(t.type===c&&t.text){((e,t,n)=>{const{schema:i}=n.doc.type;let s;for(;s=r.exec(t);){
const{0:t,index:r}=s,a=n.mapping.map(e+r),c=i.text(o[t]);n.replaceWith(a,a+t.length,c)}})(n>e?n:e,n>e?t.text:t.text.substr(e-n),i)}}))}},ytXc:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s}));var o=n("mG1W");function r(e){const t=e.doc.nodeAt(e.pos);let r=null;if(Object(n("EvmU").d)(t))r=e.pos;else{const t=Object(o.findParentNodeClosestToPos)(e,n("EvmU").d);r=t&&t.pos}if(null==r)return null;const i=e.doc.nodeAt(r);return i?{node:i,pos:r}:null}function i(e){const t=e.doc.nodeAt(e.pos),r=Object(n("EvmU").c)(t)?e:Object(o.findParentNodeClosestToPos)(e,n("EvmU").c);if(!r||null===r.pos)return null;const i=e.doc.nodeAt(r.pos);return i?{node:i,pos:r.pos}:null}function s(e){const{doc:t}=e;if(e.pos+1>t.content.size)return null;if(0===e.depth)return t.resolve(e.pos+1);const r=t.nodeAt(e.pos),i=e.before(),a=t.nodeAt(i);if(Object(n("EvmU").d)(r)&&!Object(n("EvmU").c)(a))return t.resolve(e.pos+1)
;const c=Object(o.findParentNodeClosestToPos)(e,n("EvmU").d);if(!c)return null;return s(t.resolve(c.pos))}},yu4X:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return a}));var o=n("MEpN");const r=e=>{const t=[];return e.content.firstChild.content.forEach((e=>{const n=e.attrs.colspan||1;Array.isArray(e.attrs.colwidth)?e.attrs.colwidth.slice(0,n).forEach((e=>{t.push(["col",e?{style:`width: ${e}px;`}:{}])})):t.push(...Array.from({length:n},(e=>["col",{}])))})),t},i=(e,t)=>{let n=e.querySelector("colgroup");return n&&e.removeChild(n),n=function(e){return o.DOMSerializer.renderSpec(document,["colgroup",{},...r(e)]).dom}(t),e.insertBefore(n,e.firstChild),n.children
},s=e=>!!Object(n("C0PT").b)(e.content.firstChild.content).find((e=>e.attrs.colwidth)),a=e=>Object(n("C0PT").b)(e.content.firstChild.content).every((e=>e.attrs.colwidth&&e.attrs.colwidth[0]===n("9ehW").d||null===e.attrs.colwidth))},zBWt:function(e,t,n){var o=n("s2er")("wks"),r=n("ixoo"),i=n("7whZ").Symbol,s="function"==typeof i;(e.exports=function(e){return o[e]||(o[e]=s&&i[e]||(s?i:r)("Symbol."+e))}).store=o},"zQ/W":function(e,t,n){"use strict";var o=n("AGgm").normalizeReference,r=n("AGgm").isSpace;e.exports=function(e,t){var n,i,s,a,c,l,d,u,p="",h="",f=e.pos,m=e.posMax,b=e.pos,g=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(c=e.pos+1,(a=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((l=a+1)<m&&40===e.src.charCodeAt(l)){for(g=!1,l++;l<m&&(i=e.src.charCodeAt(l),r(i)||10===i);l++);if(l>=m)return!1;if(b=l,(d=e.md.helpers.parseLinkDestination(e.src,l,e.posMax)).ok){for(p=e.md.normalizeLink(d.str),e.md.validateLink(p)?l=d.pos:p="",b=l;l<m&&(i=e.src.charCodeAt(l),
r(i)||10===i);l++);if(d=e.md.helpers.parseLinkTitle(e.src,l,e.posMax),l<m&&b!==l&&d.ok)for(h=d.str,l=d.pos;l<m&&(i=e.src.charCodeAt(l),r(i)||10===i);l++);}(l>=m||41!==e.src.charCodeAt(l))&&(g=!0),l++}if(g){if(void 0===e.env.references)return!1;if(l<m&&91===e.src.charCodeAt(l)?(b=l+1,(l=e.md.helpers.parseLinkLabel(e,l))>=0?s=e.src.slice(b,l++):l=a+1):l=a+1,s||(s=e.src.slice(c,a)),!(u=e.env.references[o(s)]))return e.pos=f,!1;p=u.href,h=u.title}return t||(e.pos=c,e.posMax=a,e.push("link_open","a",1).attrs=n=[["href",p]],h&&n.push(["title",h]),e.md.inline.tokenize(e),e.push("link_close","a",-1)),e.pos=l,e.posMax=m,!0}},zRNw:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),i=n("V2qZ");const s=({typeAheadHandlers:e,removeDecorations:t,createDecorations:o})=>{const r=(e=>t=>t instanceof n("cblB").b&&e.find((e=>e.trigger===t.trigger))||null)(e),s=(e,{tr:n,triggerHandler:r,inputMethod:i,reopenQuery:s,selectedIndex:a})=>{t(e.decorationSet)
;const{decorationSet:c,decorationElement:l,stats:d}=o(n,{triggerHandler:r,inputMethod:i,reopenQuery:s});return{...e,stats:d,decorationSet:c,triggerHandler:r,decorationElement:l,inputMethod:i,selectedIndex:"number"==typeof a?a:-1,items:[],query:s||""}},a=e=>(t(e.decorationSet),{...e,inputMethod:null,query:"",decorationElement:null,decorationSet:i.b.empty,stats:null,triggerHandler:void 0,items:[]});return(e,o,i)=>{const c=e.getMeta(n("yUK8").a)||{},l=r(i);if(i&&l&&(e=>{if(!(e instanceof n("cblB").b))return!1;const t=e.isInsertionStep()&&e.stage===n("cblB").a.DELETING_RAW_QUERY,o=e.isUndoingStep()&&e.stage===n("cblB").a.INSERTING_ITEM;return t||o})(i))return s(o,{tr:e,triggerHandler:l,inputMethod:n("+PNV").f.KEYBOARD,reopenQuery:i.query,selectedIndex:i.selectedIndex});if((e=>{if(!(e instanceof n("cblB").b))return!1;const t=e.isInsertionStep()&&e.stage===n("cblB").a.INSERTING_ITEM,o=e.isUndoingStep()&&e.stage===n("cblB").a.DELETING_RAW_QUERY;return t||o})(i))return a(o)
;const{action:d,params:u}=c||{},p=d===n("Y+O0").a.OPEN_TYPEAHEAD_AT_CURSOR&&Object(n("Wd+7").h)(null==u?void 0:u.triggerHandler),h=e.selectionSet&&(e.isGeneric||Boolean(e.getMeta("pointer"))),f=[n("Y+O0").a.CLOSE_TYPE_AHEAD,n("Y+O0").a.INSERT_ITEM].includes(d)||h,m=d===n("Y+O0").a.CHANGE_QUERY,b=d===n("Y+O0").a.UPDATE_LIST_ITEMS,g=d===n("Y+O0").a.UPDATE_SELECTED_INDEX;if(p)return s(o,{tr:e,triggerHandler:u.triggerHandler,inputMethod:u.inputMethod});if(f)return a(o);if(m)return{...o,query:u.query};if(b){const{items:e}=u,{selectedIndex:t}=o;return{...o,items:e,selectedIndex:Math.max(t>=e.length?e.length-1:t,-1)}}if(g)return{...o,selectedIndex:u.selectedIndex};if(e.docChanged){const{decorationSet:n}=o,r=()=>{t(o.decorationSet)},i=n.map(e.mapping,e.doc,{onRemove:r});return{...o,decorationSet:i}}return o}};var a=n("wSSu"),c=n.n(a),l=n("EcEN"),d=n.n(l),u=n("UxO+"),p=n("0f8l"),h=n("hyZr");let f;!function(e){e.BEFORE_TEXT_INSERTED="BEFORE_TEXT_INSERTED",
e.AFTER_TEXT_INSERTED="AFTER_TEXT_INSERTED"}(f||(f={}));var m=n("lSNA"),b=n.n(m),g=n("sEfC"),v=n.n(g);const y={name:"v66mgv",styles:"border:0;clip:rect(0 0 0 0);height:1px;marginbottom:-1px;marginright:-1px;overflow:hidden;padding:0;position:absolute;whitespace:nowrap;width:1px"};class O extends r.a.Component{constructor(...e){super(...e),b()(this,"state",{bump:!1,debounced:!1,silenced:!1})}componentWillMount(){this.debounceStatusUpdate=v()((()=>{if(!this.state.debounced){const e=!this.props.isInFocus;this.setState((({bump:t})=>({bump:!t,debounced:!0,silenced:e})))}}),1400)}componentWillUnmount(){}componentWillReceiveProps(){this.setState((({bump:e})=>({bump:!e,debounced:!1})))}render(){const{assistiveText:e,id:t}=this.props,{bump:o,debounced:r,silenced:i}=this.state;return this.debounceStatusUpdate(),Object(n("AeFk").jsx)("div",{css:y},Object(n("AeFk").jsx)("div",{id:t+"__status--A",role:"status","aria-atomic":"true","aria-live":"polite"
},`${!i&&r&&o?e:""}`),Object(n("AeFk").jsx)("div",{id:t+"__status--B",role:"status","aria-atomic":"true","aria-live":"polite"},`${i||!r||o?"":e}`))}}O.displayName="AssistveTextComponent",b()(O,"defaultProps",{statusDebounceMillis:1400,debounce:!0,assistiveText:"",isInFocus:!1,id:""});const E=O,w=Object(n("AeFk").css)({outline:"none","& input":{width:"5px",border:"none",background:"transparent",padding:0,margin:0,fontSize:"1em",height:n("anI9").ab,caretColor:"var(--ds-text-accent-blue, #0052CC)"}}),S=r.a.memo((({triggerQueryPrefix:e,cancel:t,onQueryChange:r,onItemSelect:i,selectNextItem:s,selectPreviousItem:a,forceFocus:c,reopenQuery:l,onQueryFocus:d,onUndoRedo:u,editorView:h,items:m,useBetterTypeaheadNavigation:b})=>{const g=Object(o.useRef)(document.createElement("span")),v=Object(o.useRef)(null),[y,O]=Object(o.useState)(null),S=Object(o.useCallback)((()=>{var e;return(null===(e=g.current)||void 0===e?void 0:e.textContent)||""}),[]),k=Object(o.useCallback)((e=>{const t=S();r(t)
}),[r,S]),[x,C]=Object(o.useState)(!1),T=Object(o.useCallback)((e=>{var o;const r=Object(p.keyName)(e),c=document.getSelection(),l=(null===(o=g.current)||void 0===o?void 0:o.textContent)||"",d=S();let m=!1;const{selectedIndex:v}=Object(n("Wd+7").c)(h.state);switch(C(!0),r){case" ":0===d.length&&(t({forceFocusOnEditor:!0,text:" ",addPrefixTrigger:!0,setSelectionAt:f.AFTER_TEXT_INSERTED}),m=!0);break;case"Escape":case"PageUp":case"PageDown":case"Home":t({text:d,forceFocusOnEditor:!0,addPrefixTrigger:!0,setSelectionAt:f.AFTER_TEXT_INSERTED}),m=!0;break;case"Backspace":0!==l.length&&0!==(null==c?void 0:c.anchorOffset)||(e.stopPropagation(),e.preventDefault(),t({forceFocusOnEditor:!0,text:d,addPrefixTrigger:!1,setSelectionAt:f.BEFORE_TEXT_INSERTED}));break;case"Enter":(!e.isComposing||229!==e.which&&229!==e.keyCode)&&(-1===v&&(b&&a(),s()),i(e.shiftKey?n("FOo9").a.SHIFT_ENTER:n("FOo9").a.ENTER));break;case"Tab":-1===v&&(b&&a(),s()),i(n("FOo9").a.TAB);break;case"ArrowDown":(b||-1===v)&&s()
;break;case"ArrowUp":(b||-1===v)&&a()}const y=(e=>{const t=Object(p.keyName)(e);return e.ctrlKey&&"y"===t||(e.ctrlKey||e.metaKey)&&e.shiftKey&&"Z"===t?"historyRedo":!(!e.ctrlKey&&!e.metaKey||"z"!==t)&&"historyUndo"})(e);if(u&&y&&u(y)&&(m=!0),(e=>["Enter","Tab","ArrowDown","ArrowUp"].includes(e.key))(e)||m)return e.stopPropagation(),e.preventDefault(),!1}),[b,u,i,s,a,t,S,h.state]),j=Object(o.useCallback)((e=>{var t;return e.stopPropagation(),e.preventDefault(),d(),null===(t=v.current)||void 0===t||t.focus(),!1}),[d]);Object(o.useLayoutEffect)((()=>{if(!g.current)return;const{current:e}=g,o=e=>{d()},r=e=>{const n=Object(p.keyName)(e);if(["ArrowLeft","ArrowRight"].includes(n)&&document.getSelection&&document.getSelection()){var o;const r=(null===(o=g.current)||void 0===o?void 0:o.textContent)||"",i=document.getSelection(),s=i&&"ArrowRight"===n&&i.anchorOffset===r.length,a=i&&"ArrowLeft"===n&&(0===i.anchorOffset||e.metaKey);if(!s&&!a)return;return t({forceFocusOnEditor:!0,
addPrefixTrigger:!0,text:S(),setSelectionAt:s?f.AFTER_TEXT_INSERTED:f.BEFORE_TEXT_INSERTED}),e.preventDefault(),void e.stopPropagation()}T(e)},i=e=>{var o;const{relatedTarget:r}=e;r instanceof HTMLElement&&r.closest&&r.closest(".fabric-editor-typeahead")||(!n("j5wO").a.chrome||"Range"===(null===(o=window.getSelection())||void 0===o?void 0:o.type)||"sourceCapabilities"in e&&e.sourceCapabilities)&&t({addPrefixTrigger:!0,text:S(),setSelectionAt:f.BEFORE_TEXT_INSERTED,forceFocusOnEditor:!1})},s=()=>{t({addPrefixTrigger:!1,text:"",forceFocusOnEditor:!0,setSelectionAt:f.BEFORE_TEXT_INSERTED})},a=t=>{var o;C(!1);const{target:r}=t;if(!t.isComposing&&r instanceof HTMLElement){if("historyUndo"===t.inputType&&0===(null===(o=r.textContent)||void 0===o?void 0:o.length))return t.preventDefault(),t.stopPropagation(),void s();if(null!=t.data&&null===v.current&&(O(""),n("j5wO").a.safari)){t.preventDefault();const n=document.createTextNode(t.data);e.appendChild(n)
;const o=window.getSelection(),r=document.createRange();r.setStart(n,n.length),r.collapse(!0),null==o||o.removeAllRanges(),null==o||o.addRange(r)}}};if(n("j5wO").a.safari){const t=e=>{var t;const{target:n}=e;if(!e.isComposing&&n instanceof HTMLElement)return"historyUndo"===e.inputType&&1===(null===(t=n.textContent)||void 0===t?void 0:t.length)?(e.preventDefault(),e.stopPropagation(),void s()):void 0};e.addEventListener("input",t)}return e.addEventListener("focusout",i),e.addEventListener("focusin",o),e.addEventListener("keydown",r),e.addEventListener("beforeinput",a),()=>{e.removeEventListener("focusout",i),e.removeEventListener("focusin",o),e.removeEventListener("keydown",r),e.removeEventListener("beforeinput",a),n("j5wO").a.safari&&e.removeEventListener("input",null)}}),[e,S,d,t,T,h.state]),Object(o.useLayoutEffect)((()=>{const e="string"==typeof l&&l.trim().length>0;g.current&&c&&(O(e?l:null),requestAnimationFrame((()=>{if(null==g||!g.current)return;const t=window.getSelection()
;if(t&&e&&g.current.lastChild instanceof Text){const e=g.current.lastChild,n=document.createRange();n.setStart(g.current.lastChild,e.length),n.collapse(!0),t.removeAllRanges(),t.addRange(n)}g.current.focus(),C(!0)})))}),[c,l]);const A="typeahaed_decoration_element_id__assistiveHint",N=Object(n("3NU0").a)();return Object(n("AeFk").jsx)(o.Fragment,null,e,Object(n("AeFk").jsx)("span",{css:w,contentEditable:!0,ref:g,onKeyUp:k,onClick:j,role:"combobox","aria-controls":"typeahaed_decoration_element_id","aria-autocomplete":"list","aria-expanded":0!==m.length,"aria-labelledby":A,suppressContentEditableWarning:!0,"data-query-prefix":e},null===y?Object(n("AeFk").jsx)("input",{ref:v,type:"text"}):y),Object(n("AeFk").jsx)("span",{id:A,style:{display:"none"}},N.formatMessage(((e,t)=>{switch(e){case"@":return n("x6oP").a.mentionInputLabel;case"/":default:return n("x6oP").a.quickInsertInputLabel;case":":return n("x6oP").a.emojiInputLabel}
})(e)),",",N.formatMessage(n("x6oP").a.inputQueryAssistiveLabel)),Object(n("AeFk").jsx)(E,{assistiveText:0===m.length?N.formatMessage(n("x6oP").a.noSearchResultsLabel,{itemsLength:m.length}):"",isInFocus:0===m.length||x,id:"typeahaed_decoration_element_id"}))}));S.displayName="InputQuery";const k=[],x=(e,t,r)=>{const[i,s]=Object(o.useState)(k),a=Object(o.useRef)(!0),c=Object(o.useRef)(t);return Object(o.useEffect)((()=>{const o=null==e?void 0:e.getItems;if(!o)return void s(k);const i={query:r||"",editorState:t.state},{current:l}=c;o(i).then((e=>{const t=e.length>0?e:k;a.current&&s(t),queueMicrotask((()=>{(e=>(t,o)=>{const r=t.tr;return r.setMeta(n("yUK8").a,{action:n("Y+O0").a.UPDATE_LIST_ITEMS,params:{items:e}}),o&&o(r),!0})(t)(l.state,l.dispatch)}))}))}),[e,r]),Object(o.useEffect)((()=>()=>{a.current=!1}),[]),i},C=({view:e,setSelectionAt:t,text:o,forceFocusOnEditor:r})=>{const{tr:i,schema:s}=e.state;Object(n("7jB3").a)(i),o.length>0&&(i.replaceSelectionWith(s.text(o)),
t===f.BEFORE_TEXT_INSERTED&&(e=>t=>{const n=t.selection.$from.pos,o=Math.max(n-e.length,0),r=t.doc.resolve(o),i=u.TextSelection.findFrom(r,-1,!0);i&&t.setSelection(i)})(o)(i)),e.dispatch(i),r&&e.focus()},T=(e,t,r)=>{const i=Object(o.useRef)(t),s=Object(o.useRef)(r),a=Object(o.useCallback)((({setSelectionAt:t,text:n,forceFocusOnEditor:o})=>{if(!e)return;const{current:r}=i;C({view:r,setSelectionAt:t,text:n,forceFocusOnEditor:o})}),[e]),c=Object(o.useCallback)((({mode:t,index:o,query:r})=>{const c=s.current;if(0===c.length||!e){const t=`${e.trigger}${r}`;return void a({forceFocusOnEditor:!0,setSelectionAt:f.AFTER_TEXT_INSERTED,text:t})}const l=c[o];if(!l)return;const{current:d}=i;Object(n("rPiI").a)(d)({item:l,handler:e,mode:t,query:r,sourceListItem:c})}),[e,a]),l=Object(o.useCallback)((({mode:t,query:o})=>{const r=s.current;if(r&&r.length>1)return!1;if(1===r.length)queueMicrotask((()=>{c({mode:t,query:o,index:0})}));else{const r=`${e.trigger}${o}`;queueMicrotask((()=>{a({
forceFocusOnEditor:!0,setSelectionAt:f.AFTER_TEXT_INSERTED,text:t===n("FOo9").a.SPACE?r.concat(" "):r})}))}return!0}),[c,e,a]);return Object(o.useLayoutEffect)((()=>{s.current=r}),[r]),[c,a,l]},j=r.a.memo((({triggerHandler:e,editorView:t,anchorElement:i,shouldFocusCursorInsideQuery:s,popupsMountPoint:a,popupsBoundariesElement:c,popupsScrollableElement:l,createAnalyticsEvent:d,inputMethod:u,getDecorationPosition:p,reopenQuery:h,onUndoRedo:f,useBetterTypeaheadNavigation:m})=>{const[b,g]=Object(o.useState)(!1),[v,y]=Object(o.useState)(h||""),O=Object(o.useRef)(v),E=Object(o.useRef)(t),w=x(e,t,v);Object(o.useLayoutEffect)((()=>{O.current=v}),[v]);const[k,C]=T(e,t,w),j=Object(o.useMemo)((()=>Object(n("Wd+7").j)({editorView:t,direction:"next",useBetterTypeaheadNavigation:m})),[t,m]),A=Object(o.useMemo)((()=>Object(n("Wd+7").j)({editorView:t,direction:"previous",useBetterTypeaheadNavigation:m
})),[t,m]),N=Object(o.useCallback)((({setSelectionAt:t,addPrefixTrigger:n,text:o,forceFocusOnEditor:r})=>{g(!0);const i=n?`${e.trigger}${o}`:o;C({forceFocusOnEditor:r,setSelectionAt:t,text:i})}),[e,C]),I=Object(o.useCallback)(((e=n("FOo9").a.SELECTED)=>{const{current:t}=E,{selectedIndex:o}=Object(n("Wd+7").c)(t.state);g(!0),queueMicrotask((()=>{k({mode:e,index:o,query:O.current})}))}),[k]),P=Object(o.useCallback)((()=>{}),[]),M=Object(o.useCallback)((()=>{g(!0)}),[]);return Object(o.useEffect)((()=>{const{current:e}=E,t=Object(n("Wd+7").c)(e.state);0!==v.length&&v!==t.query&&t.triggerHandler&&Object(n("3EgI").a)(v)(e.state,e.dispatch)}),[v,h]),(({triggerHandler:e,items:t,query:r,editorView:i,closePopup:s})=>{const a=Object(o.useRef)(i);Object(o.useLayoutEffect)((()=>{if(!r||"function"!=typeof e.forceSelect)return;const o=e.forceSelect({items:t,query:r,editorState:a.current.state});if(!o)return;const{current:i}=a;s(),queueMicrotask((()=>{Object(n("rPiI").a)(i)({item:o,
mode:n("FOo9").a.SPACE,query:r,handler:e,sourceListItem:t})}))}),[e,s,r,t])})({triggerHandler:e,items:w,query:v,editorView:t,closePopup:M}),b?null:r.a.createElement(S,{useBetterTypeaheadNavigation:m,triggerQueryPrefix:e.trigger,onQueryChange:y,onItemSelect:I,selectNextItem:j,selectPreviousItem:A,onQueryFocus:P,cancel:N,forceFocus:s,onUndoRedo:f,reopenQuery:h,editorView:t,items:w})}));j.displayName="WrapperTypeAhead";const A=(e,t)=>{var o;const r=e.find((e=>{var o;return(null===(o=e.getMeta(n("yUK8").a))||void 0===o?void 0:o.action)===t}));return r?null===(o=r.getMeta(n("yUK8").a))||void 0===o?void 0:o.params:null};function N({reactDispatch:e,popupMountRef:t,createAnalyticsEvent:o,typeAheadHandlers:a,getIntl:l,useBetterTypeaheadNavigation:f}){const m=l(),{createDecorations:b,removeDecorations:g}=(({intl:e,popupMountRef:t,createAnalyticsEvent:o,useBetterTypeaheadNavigation:s})=>({createDecorations:(a,{triggerHandler:l,inputMethod:f,reopenQuery:m})=>{const{selection:b}=a
;if(!(b instanceof u.TextSelection&&b.$cursor))return{decorationSet:i.b.empty,stats:null,decorationElement:null};const g=`decoration_id_typeahead_decoration_key_${d()()}`,{$cursor:v}=b,y=document.createElement("mark"),O=new(n("TBml").a);let E=!0;const w=i.a.widget(v.pos,((i,a)=>{var d,u,p;return y.setAttribute("id",g),y.setAttribute("role","search"),y.dataset.typeAheadQuery="true",y.dataset.trigger=l.trigger,y.dataset.editorPopup="true",y.dataset.typeAhead="typeaheadDecoration",y.style.color="var(--ds-text-accent-blue, #0052CC)",y.style.backgroundColor="transparent",c.a.render(r.a.createElement(n("UO0f").b,{locale:e.locale||"en",messages:e.messages,formats:e.formats},r.a.createElement(j,{triggerHandler:l,editorView:i,anchorElement:y,createAnalyticsEvent:o,inputMethod:f,getDecorationPosition:a,shouldFocusCursorInsideQuery:E,popupsMountPoint:null===(d=t.current)||void 0===d?void 0:d.popupsMountPoint,
popupsBoundariesElement:null===(u=t.current)||void 0===u?void 0:u.popupsBoundariesElement,popupsScrollableElement:null===(p=t.current)||void 0===p?void 0:p.popupsScrollableElement,onUndoRedo:e=>{if(!["historyUndo","historyRedo"].includes(e))return!1;const t="string"==typeof m&&m.trim().length>0,o=Object(n("Wd+7").f)(i.state);if(t||0===o.length){const t="historyUndo"===e?h.d:h.c;let o=i.state.tr;const r=e=>{o=e},s=t(i.state,r);return s&&(Object(n("7jB3").a)(o),i.dispatch(o),i.focus()),s}return!1},reopenQuery:m,useBetterTypeaheadNavigation:s})),y),E=!1,y}),{isTypeAheadDecoration:!0,key:g,side:0,stopEvent:e=>{const t=Object(p.keyName)(e),n=document.getSelection();return"ArrowLeft"!==t||0!==(null==n?void 0:n.anchorOffset)},ignoreSelection:!1});return{decorationSet:i.b.create(a.doc,[w]),decorationElement:y,stats:O}},removeDecorations:e=>{if(!e||e===i.b.empty)return!1;const t=e.find(void 0,void 0,(e=>e.isTypeAheadDecoration));return!(!t||0===t.length||(t.forEach((({spec:e})=>{
if(!e.key)return;const t=document.querySelector(`#${e.key}`);t&&c.a.unmountComponentAtNode(t)})),0))}}))({intl:m,popupMountRef:t,createAnalyticsEvent:o,useBetterTypeaheadNavigation:f}),v=s({createDecorations:b,removeDecorations:g,typeAheadHandlers:a,popupMountRef:t});return new(n("KkS8").a)({key:n("yUK8").a,state:{init:()=>({typeAheadHandlers:a,query:"",decorationSet:i.b.empty,decorationElement:null,items:[],selectedIndex:-1,stats:null,inputMethod:null}),apply(t,o,r,i){const s=(e=>{const t=e.steps.filter((e=>e instanceof n("cblB").b));return 1===t.length?t[0]:null})(t),a=v(t,o,s);return o!==a&&e(n("yUK8").a,a),a}},appendTransaction(e,t,o){const r=A(e,n("Y+O0").a.INSERT_RAW_QUERY);if(r){const e=r(o);if(e)return e}},view:()=>({update(e){}}),props:{decorations:e=>{var t;return null===(t=n("yUK8").a.getState(e))||void 0===t?void 0:t.decorationSet},handleDOMEvents:{compositionend:(e,t)=>!1,click:(e,t)=>{const{target:o}=t
;return!!(o instanceof HTMLElement&&Object(n("uYq7").a)(o,"[data-type-ahead=typeaheadDecoration]"))}}}})}function I(){return new(n("KkS8").a)({appendTransaction(e,t,o){const r=A(e,n("Y+O0").a.INSERT_ITEM);if(r){const e=r(o);if(e)return e}}})}function P(e,t,o){if(!t||0===t.length)return;const r=t.reduce(((e,t)=>{const o=t.customRegex||t.trigger;if(!o)return e;const r=new RegExp(`(^|[.!?\\s${n("N3sK").b}])(${o})$`);return e.push(Object(n("9hcL").c)(r,((e,o)=>Object(n("ifNk").b)({triggerHandler:t,inputMethod:n("+PNV").f.KEYBOARD})(e.tr)))),e}),[]);return Object(n("9hcL").b)("type-ahead",r,{allowInsertTextOnDocument:!1})}var M=n("69XA"),R=n("b9ZJ");const _=r.a.memo((({numberOfResults:e})=>{const t=Object(n("3NU0").a)();return Object(n("AeFk").jsx)(E,{assistiveText:t.formatMessage(n("x6oP").a.searchResultsLabel,{itemsLength:e}),isInFocus:!0,id:"typeahaed_decoration_element_id__popup"})}));var L={name:"fhrijz",
styles:"button{padding:12px 12px 11px;span:last-child span:last-child{white-space:normal;}}"};const D=r.a.memo((({items:e,selectedIndex:t,editorView:r,onItemClick:i,intl:s,fitHeight:a,decorationElement:c,triggerHandler:l})=>{var d;const u=Object(o.useRef)(),p=Object(o.useRef)(null),h=Object(o.useRef)({overscanStartIndex:0,overscanStopIndex:0,startIndex:0,stopIndex:0}),f=64*e.length,[m,b]=Object(o.useState)(Math.min(f,a)),[g,v]=Object(o.useState)(new M.CellMeasurerCache({fixedWidth:!0,defaultHeight:64})),y=Object(o.useCallback)((e=>{h.current=e}),[]),O=Object(o.useMemo)((()=>({onItemClick:i})),[i]),E=Object(o.useCallback)((()=>{var e;Object(n("j4JT").a)(-1)(r.state,r.dispatch),u.current.scrollToRow(0),null==c||null===(e=c.querySelector("[role='combobox']"))||void 0===e||e.focus()}),[r,u,c]),w=Object(o.useMemo)((()=>Object(n("Wd+7").j)({editorView:r,direction:"next"})),[r]),S=Object(o.useMemo)((()=>Object(n("Wd+7").j)({editorView:r,direction:"previous"
})),[r]),k=h.current.startIndex,x=h.current.stopIndex,C=Object(o.useCallback)((({scrollUpdateWasRequested:e})=>{e&&requestAnimationFrame((()=>{requestAnimationFrame((()=>{t>=k&&t<=x||-1===t?-1===t&&u.current.scrollToRow(0):u.current.scrollToRow(t)}))}))}),[t,k,x]);Object(o.useLayoutEffect)((()=>{if(!u.current)return;t>=k&&t<=x||-1===t?-1===t&&u.current.scrollToRow(0):u.current.scrollToRow(t)}),[t,k,x]),Object(o.useLayoutEffect)((()=>{v(new M.CellMeasurerCache({fixedWidth:!0,defaultHeight:64})),requestAnimationFrame((()=>{var e;null!==(e=p.current)&&void 0!==e&&e.firstChild&&p.current.firstChild.scrollTo(0,0)}))}),[e]),Object(o.useLayoutEffect)((()=>{const t=Math.min(e.reduce(((e,t,n)=>e+g.rowHeight({index:n})),0),a);b(t)}),[e,g,a]),Object(o.useLayoutEffect)((()=>{if(!p.current)return;const{current:e}=p,o=e=>{if((e=>["ArrowDown","ArrowUp","Tab","Enter"].includes(e.key))(e))switch(e.key){case"ArrowDown":w(),e.preventDefault();break;case"ArrowUp":S(),e.preventDefault();break;case"Tab":
i(n("FOo9").a.TAB,t),e.preventDefault();break;case"Enter":(!e.isComposing||229!==e.which&&229!==e.keyCode)&&(i(e.shiftKey?n("FOo9").a.SHIFT_ENTER:n("FOo9").a.ENTER,t),e.preventDefault());break;default:e.preventDefault()}else E()};return null==e||e.addEventListener("keydown",o),()=>{null==e||e.removeEventListener("keydown",o)}}),[r.state,E,w,S,t,i,e.length]);const T=Object(n("Wd+7").e)(null==l?void 0:l.trigger,s).popupAriaLabel;if(!Array.isArray(e))return null;const j=(null===(d=c.querySelector("[role='combobox']"))||void 0===d?void 0:d.getAttribute("aria-controls"))||"typeahaed_decoration_element_id";return Object(n("AeFk").jsx)(n("KVfY").a,{"aria-label":T,"aria-relevant":"additions removals"},Object(n("AeFk").jsx)("div",{id:j,ref:p},Object(n("AeFk").jsx)(R.List,{rowRenderer:({index:o,key:r,style:i,parent:a})=>{const c=e[o];return Object(n("AeFk").jsx)(M.CellMeasurer,{key:r,cache:g,parent:a,columnIndex:0,rowIndex:o},Object(n("AeFk").jsx)("div",{style:i,"data-index":o
},Object(n("AeFk").jsx)("div",{"data-testid":`list-item-height-observed-${o}`},Object(n("AeFk").jsx)(n("yA3P").a,{key:e[o].title,item:c,itemsLength:e.length,itemIndex:o,selectedIndex:t,onItemClick:O.onItemClick,ariaLabel:Object(n("Wd+7").e)(null==l?void 0:l.trigger,s,c).listItemAriaLabel}))))},ref:u,rowCount:e.length,rowHeight:g.rowHeight,onRowsRendered:y,width:320,onScroll:C,height:m,overscanRowCount:3,containerRole:"presentation",role:"listbox",css:L}),Object(n("AeFk").jsx)(_,{numberOfResults:e.length.toString()})))})),F=Object(n("o5hF").c)(D);F.displayName="TypeAheadList"
;const B=380,V=Object(n("AeFk").css)("background:","var(--ds-surface-overlay, #FFFFFF)",";border-radius:",Object(n("7w+A").borderRadius)(),"px;box-shadow:","var(--ds-shadow-overlay, 0 0 1px rgba(9, 30, 66, 0.31), 0 4px 8px -2px rgba(9, 30, 66, 0.25))",";padding:",Object(n("7w+A").gridSize)()/2,"px 0;width:320px;max-height:380px;overflow-y:auto;-ms-overflow-style:-ms-autohiding-scrollbar;position:relative;"),z=({state:e,triggerHandler:t})=>null!=t&&t.getHighlight?t.getHighlight(e):null,H=[0,8],U=r.a.memo((e=>{const{editorView:t,triggerHandler:r,anchorElement:i,popupsMountPoint:s,popupsBoundariesElement:a,popupsScrollableElement:c,items:l,selectedIndex:d,onItemInsert:u,fireAnalyticsCallback:p,isEmptyQuery:h,cancel:m}=e,b=Object(o.useRef)(null),g=Object(o.useMemo)((()=>performance.now()),[l,h,p,r]);Object(o.useEffect)((()=>{if(!p)return;const e=performance.now()-g;p({payload:{action:n("+PNV").a.RENDERED,actionSubject:n("+PNV").b.TYPEAHEAD,eventType:n("+PNV").e.OPERATIONAL,attributes:{
time:e,items:l.length,initial:h}}})}),[g,l,p,h,r]),Object(o.useEffect)((()=>{p&&p({payload:{action:n("+PNV").a.VIEWED,actionSubject:n("+PNV").b.TYPEAHEAD_ITEM,eventType:n("+PNV").e.OPERATIONAL,attributes:{index:d,items:l.length}}})}),[l,p,d,r]);const[v,y]=Object(o.useState)(B),O=Object(o.useCallback)((()=>{if(!i||!s)return;const e=i,{top:t,height:n}=e.getBoundingClientRect(),o=document.body,{height:r,top:a}=o.getBoundingClientRect(),c=t-(a-o.scrollTop),l=a+r-(t+n);if(l>=B)return y(B);const d=(l>=c?l:c)-24,u=Math.min(B,d);return y(u)}),[i,s]),E=Object(n("w95p").a)(O);return Object(o.useLayoutEffect)((()=>{const e=c||Object(n("fuko").c)(i);return O(),window.addEventListener("resize",E),e&&e.addEventListener("scroll",E),()=>{window.removeEventListener("resize",E),e&&e.removeEventListener("scroll",E)}}),[i,c,E,O]),Object(o.useLayoutEffect)((()=>{const e=e=>{var t;const{relatedTarget:n}=e
;n instanceof HTMLElement&&n.closest&&(n.closest(".fabric-editor-typeahead")||n.closest('[data-type-ahead="typeaheadDecoration"]'))||"Range"===(null===(t=window.getSelection())||void 0===t?void 0:t.type)&&m({addPrefixTrigger:!0,setSelectionAt:f.AFTER_TEXT_INSERTED,forceFocusOnEditor:!1})},{current:t}=b;return null==t||t.addEventListener("focusout",e),()=>{null==t||t.removeEventListener("focusout",e)}}),[b,m]),Object(n("AeFk").jsx)(n("poXX").a,{zIndex:n("anI9").n,target:i,mountTo:s,boundariesElement:a,scrollableElement:c,fitHeight:v,fitWidth:340,offset:H},Object(n("AeFk").jsx)("div",{css:V,tabIndex:0,className:"fabric-editor-typeahead",ref:b},Object(n("AeFk").jsx)(z,{state:t.state,triggerHandler:r}),Object(n("AeFk").jsx)(F,{items:l,selectedIndex:d,onItemClick:u,fitHeight:v,editorView:t,decorationElement:i,triggerHandler:r})))}));U.displayName="TypeAheadPopup";const W=r.a.memo((({editorView:e,popupMountRef:t,typeAheadState:o,fireAnalyticsCallback:i})=>{var s,a,c
;const l=o.decorationSet.find().length>0,{triggerHandler:d,items:u,selectedIndex:p,decorationElement:h,decorationSet:f,query:m}=o,[b,g,v]=T(d,e,u),y=r.a.useCallback((({index:t})=>{queueMicrotask((()=>{Object(n("j4JT").a)(t)(e.state,e.dispatch)}))}),[e]),O=r.a.useCallback(((e=n("FOo9").a.SELECTED,t)=>{queueMicrotask((()=>{b({mode:e,index:t,query:m})}))}),[b,m]),E=r.a.useCallback((({setSelectionAt:e,addPrefixTrigger:t,forceFocusOnEditor:n})=>{const o=t?`${null==d?void 0:d.trigger}${m}`:m;g({forceFocusOnEditor:n,setSelectionAt:e,text:o})}),[d,g,m]);return r.a.useEffect((()=>{if(!l||!m)return;if(!(" "===m[m.length-1]))return;v({mode:n("FOo9").a.SPACE,query:m.trim()})}),[l,m,v]),l&&d&&h instanceof HTMLElement&&0!==u.length?r.a.createElement(U,{editorView:e,popupsMountPoint:null===(s=t.current)||void 0===s?void 0:s.popupsMountPoint,popupsBoundariesElement:null===(a=t.current)||void 0===a?void 0:a.popupsBoundariesElement,
popupsScrollableElement:null===(c=t.current)||void 0===c?void 0:c.popupsScrollableElement,anchorElement:h,triggerHandler:d,fireAnalyticsCallback:i,items:u,selectedIndex:p,setSelectedItem:y,onItemInsert:O,decorationSet:f,isEmptyQuery:!m,cancel:E}):null}));t.a=e=>{var t;const o=null===(t=null==e?void 0:e.useBetterTypeaheadNavigation)||void 0===t||t,i=Object(n("ViYe").a)(null==e?void 0:e.createAnalyticsEvent),s={current:null};return{name:"typeAhead",marks:()=>[{name:"typeAheadQuery",mark:n("Krjk").a}],pmPlugins:(t=[])=>[{name:"typeAhead",plugin:({dispatch:n,getIntl:r})=>N({getIntl:r,popupMountRef:s,reactDispatch:n,typeAheadHandlers:t,createAnalyticsEvent:null==e?void 0:e.createAnalyticsEvent,useBetterTypeaheadNavigation:o})},{name:"typeAheadInsertItem",plugin:I},{name:"typeAheadInputRule",plugin:({schema:e,featureFlags:n})=>P(0,t)}],contentComponent:({editorView:e,containerElement:t,popupsMountPoint:o,popupsBoundariesElement:a,popupsScrollableElement:c,wrapperElement:l})=>(s.current={
popupsMountPoint:o||l||void 0,popupsBoundariesElement:a,popupsScrollableElement:c||t||void 0},r.a.createElement(n("fd7e").a,{plugins:{typeAheadState:n("yUK8").a},render:({typeAheadState:t})=>t?r.a.createElement(W,{editorView:e,popupMountRef:s,typeAheadState:t,fireAnalyticsCallback:i}):null})),onEditorViewStateUpdated({originalTransaction:t,oldEditorState:o,newEditorState:r}){const s=Object(n("Wd+7").c)(o),a=Object(n("Wd+7").c)(r);if(!s||!a)return;const{triggerHandler:c}=s,{triggerHandler:l}=a,d=c!==l;if(null!=c&&c.dismiss&&d){const e=t.getMeta(n("yUK8").a),o=e&&"INSERT_RAW_QUERY"===e.action;c.dismiss({editorState:r,query:s.query,stats:(s.stats||new(n("TBml").a)).serialize(),wasItemInserted:o})}null!=l&&l.onOpen&&d&&l.onOpen(r),l&&d&&null!=e&&e.createAnalyticsEvent&&i({payload:{action:n("+PNV").a.INVOKED,actionSubject:n("+PNV").b.TYPEAHEAD,actionSubjectId:l.id||"not_set",attributes:{inputMethod:a.inputMethod||n("+PNV").f.KEYBOARD},eventType:n("+PNV").e.UI}})}}}},zWmI:function(e,t,n){
"use strict";n.d(t,"b",(function(){return o}));const o=()=>{const e=window.getSelection();if(e){const t=e&&1===e.rangeCount&&e.getRangeAt(0).cloneRange();t&&(e.removeAllRanges(),e.addRange(t))}};t.a=(e,t)=>{var r;n("j5wO").a.gecko&&e.docChanged&&"number"==typeof(null===(r=n("HhhU").a.getState(t))||void 0===r?void 0:r.pos)&&o()}},zYPQ:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var o=n("mG1W");const r=e=>Object(o.findParentNode)((e=>e.type.spec.tableRole&&"table"===e.type.spec.tableRole))(e),i=e=>Object(o.findParentNodeClosestToPos)(e,(e=>e.type.spec.tableRole&&"table"===e.type.spec.tableRole)),s=e=>Object(o.findParentNodeClosestToPos)(e,(e=>e.type.spec.tableRole&&/cell/i.test(e.type.spec.tableRole))),a=e=>{const t=s(e);if(t){const o=i(e);if(o){const e=n("wYWE").b.get(o.node),r=t.pos-o.start;return e.rectBetween(r,r)}}}},zaYB:function(e,t,n){"use strict"
;n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u}));var o=n("q1tI"),r=n.n(o),i=n("TSYQ"),s=n.n(i);const a=250,c=200,l=["wrap-left","wrap-right","align-end","align-start"],d=(e,t,n)=>l.indexOf(e)>-1&&n&&t&&t>.5*n;function u({layout:e,width:t,height:o,containerWidth:i=t,isLoading:a=!1,pctWidth:c,className:l,children:u,nodeType:p="mediaSingle",fullWidthMode:h,lineLength:f,hasFallbackContainer:m=!0,handleMediaSingleRef:b}){const g=r.a.Children.toArray(u);!c&&d(e,t,f)&&(c=50);const v=void 0===t;if(c){const e=Math.ceil(Object(n("Qvlh").d)(c/100,f||i||0));v?t=e-n("anI9").x:void 0!==t&&(o=o/t*e,t=e)}else v&&(t=n("anI9").c-n("anI9").x);let y,O;if(v)y=o;else if(void 0!==t){O=`${(o/t*100).toFixed(3)}%`,"embedCard"===p&&(O=`calc(${O} + 32px)`)}const[E,w]=g;return Object(n("AeFk").jsx)("div",{ref:b,css:Object(n("zux5").a)({width:t,layout:e,containerWidth:i,pctWidth:c,
fullWidthMode:h}),"data-layout":e,"data-width":c,"data-node-type":p,className:s()("rich-media-item mediaSingleView-content-wrap",`image-${e}`,l,{"is-loading":a,"rich-media-wrapped":"wrap-left"===e||"wrap-right"===e})},Object(n("AeFk").jsx)(n("zux5").b,{hasFallbackContainer:m,height:y,paddingBottom:O},E),w)}},znrX:function(e,t,n){var o=n("nA4W"),r=n("CYMq"),i=n("WpRT")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),o(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},zrlP:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));const o=e=>e.map((e=>i(e))).concat(r).join("\n"),r="\n  ::selection,*::selection {\n    background-color: transparent;\n  }\n  ::-moz-selection,*::-moz-selection {\n    background-color: transparent;\n  }\n",i=e=>{switch(e){case n("5iLT").a.Border:
return`\n        border: ${n("anI9").C};\n\n        // Fixes ED-15246: Trello card is visible through a border of a table border\n        &::after {\n          height: 100%;\n          content: '\\00a0';\n          background: ${n("anI9").E};\n          position: absolute;\n          right: -1px;\n          top: 0;\n          bottom: 0;\n          width: 1px;\n          border: none;\n          display: inline-block;\n        }\n      `;case n("5iLT").a.BoxShadow:return`\n        box-shadow: ${n("anI9").G};\n        border-color: transparent;\n        `;case n("5iLT").a.Background:return`background-color: var(--ds-background-selected, ${n("anI9").B});`;case n("5iLT").a.Blanket:
return`\n        position: relative;\n\n        // Fixes ED-9263, where emoji or inline card in panel makes selection go outside the panel\n        // in Safari. Looks like it's caused by user-select: all in the emoji element\n        -webkit-user-select: text;\n\n        ::before {\n          position: absolute;\n          content: '';\n          left: 0;\n          right: 0;\n          top: 0;\n          bottom: 0;\n          width: 100%;\n          pointer-events: none;\n          z-index: ${n("anI9").J};\n          background-color: var(--ds-blanket-selected, #B3D4FF4C)\n        }`;default:return""}}},zux5:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));n("q1tI");function o(e,t,o=0,r,i){switch(e){case"align-start":case"align-end":case"wrap-right":case"wrap-left":return t>o/2?"calc(50% - 12px)":`${t}px`;case"wide":return Object(n("xEd5").e)(o);case"full-width":return Object(n("xEd5").c)(e,o);default:return i?`${t}px`:r?function(e){
return e>n("anI9").s?"100%":`${e}px`}(t):function(e){return e>n("anI9").r?"100%":`${e}px`}(t)}}var r={name:"1bxycju",styles:"min-width:100%"};const i=({containerWidth:e=0,fullWidthMode:t,isResized:i,layout:s,pctWidth:a,width:c})=>Object(n("AeFk").css)("tr &,[data-layout-column] &,[data-node-type='expand'] &{max-width:100%;}width:",a?function(e,t,o=0){switch(e){case"wide":return Object(n("xEd5").e)(o);case"full-width":return Object(n("xEd5").c)(e,o);default:return`${t}px`}}(s,c||0,e):o(s,c||0,e,t,i),";","full-width"===s&&r," max-width:",function(e,t){switch(e){case"wide":return Object(n("xEd5").e)(t);case"full-width":return Object(n("xEd5").c)(e,t);default:return"100%"}}(s,e),";float:",function(e){switch(e){case"wrap-right":return"right";case"wrap-left":return"left";default:return"none"}}(s),";margin:",function(e){switch(e){case"wrap-right":return"12px auto 12px 12px";case"wrap-left":return"12px 12px 12px auto";default:return"24px auto"}}(s),";",function(e){switch(e){case"align-end":
return"margin-right: 0";case"align-start":return"margin-left: 0";default:return""}}(s),";&:not(.is-resizing){transition:width 100ms ease-in;}"),s=e=>Object(n("AeFk").css)("position:relative;",(({hasFallbackContainer:e,paddingBottom:t,height:o})=>Object(n("AeFk").css)(e?`\n  &::after {\n    content: '';\n    display: block;\n    ${o?`height: ${o}px;`:t?`padding-bottom: ${t};`:""}\n\n    /* Fixes extra padding problem in Firefox */\n    font-size: 0;\n    line-height: 0;\n  }\n  `:"",";"))(e),"&>figure{position:",e.hasFallbackContainer?"absolute":"relative",";height:100%;width:100%;}&>div{position:",e.hasFallbackContainer?"absolute":"relative",";height:100%;width:100%;}&[data-node-type='embedCard']>div{width:100%;}[data-node-type='media']{position:static!important;>div{position:absolute;height:100%;}}"),a=({children:e,...t})=>Object(n("AeFk").jsx)("div",{css:s(t)},e);a.displayName="WrapperMediaSingle"},zvNc:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}))
;var o=n("pVnL"),r=n.n(o),i=n("lSNA"),s=n.n(i),a=n("q1tI");const c={name:"1g729k1",styles:"margin:0;word-wrap:break-word;min-width:0;flex:1 1 auto"},l={name:"1cwv7be",styles:"display:flex;flex-direction:row;padding:6px 3px;position:relative"},d=e=>Object(n("AeFk").css)({display:"flex",flexDirection:"row",margin:"var(--ds-space-100, 8px) 0 0 0",padding:"var(--ds-space-100, 8px)",paddingLeft:"var(--ds-space-150, 12px)",borderRadius:`${Object(n("7w+A").borderRadius)()}px`,backgroundColor:Object(n("56zV").a)({light:"var(--ds-background-neutral, rgba(9, 30, 66, 0.04))",dark:"var(--ds-background-neutral, #283447)"})({theme:e}),position:"relative",".decision-item":{cursor:"initial"}}),u=e=>Object(n("AeFk").css)({margin:`0 0 0 ${e}px`,position:"absolute",color:"var(--ds-text-subtlest, #6B778C)",pointerEvents:"none",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"calc(100% - 50px)"});class p extends a.PureComponent{renderPlaceholder(){
const{children:e,placeholder:t,showPlaceholder:o,itemType:r}=this.props;if(!o||!t||e)return null;const i=Object(n("7w+A").gridSize)()*("TASK"===r?3:3.5);return Object(n("AeFk").jsx)("span",{"data-component":"placeholder",css:u(i),contentEditable:!1},t)}renderMessageAppearance(){const{contentRef:e,children:t,icon:o,itemType:i,checkBoxId:s,dataAttributes:a,theme:u}=this.props;return"TASK"===i?Object(n("AeFk").jsx)("div",{css:l,id:`${s}-wrapper`},o,this.renderPlaceholder(),Object(n("AeFk").jsx)("div",r()({"data-component":"content",css:c,ref:e},a),t)):"DECISION"===i?Object(n("AeFk").jsx)("div",{css:d(u),"data-decision-wrapper":"true"},o,this.renderPlaceholder(),Object(n("AeFk").jsx)("div",r()({"data-component":"content",css:c,ref:e},a),t)):null}render(){return this.renderMessageAppearance()}}p.displayName="Item",s()(p,"defaultProps",{appearance:"inline"})},zyRD:function(e,t,n){"use strict";function o(e){
const t=e.action===n("+PNV").a.INSERTED&&e.actionSubject===n("+PNV").b.DOCUMENT,o=e.action===n("+PNV").a.FORMATTED&&e.actionSubject===n("+PNV").b.TEXT;return!!e.actionSubjectId&&(t||o)&&(e.attributes={...e.attributes,actionSubjectId:e.actionSubjectId}),e}n.d(t,"a",(function(){return o}))}}]);try{window.__jsEvalStop("async-editor-view.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-editor-view.e84961112bcf95db3004.8.js.map