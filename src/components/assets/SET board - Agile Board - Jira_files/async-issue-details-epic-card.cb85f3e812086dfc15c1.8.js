try{window.performance.mark("async-issue-details-epic-card.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-issue-details-epic-card"],{sKMr:function(e,s,t){"use strict";t.r(s),t.d(s,"default",(function(){return R}));var a=t("pVnL"),o=t.n(a),r=t("q1tI"),n=t.n(r);const l=e=>{const s={totalIssues:0,inProgressIssueCount:0,completedIssueCount:0};return e.length?(e.forEach((e=>{const a=e.fields.find((e=>"status"===e.key)).value.statusCategory.id;a===Object(t("67S7").categoryIdForStatusCategory)(t("67S7").IN_PROGRESS)?s.inProgressIssueCount+=1:a===Object(t("67S7").categoryIdForStatusCategory)(t("67S7").DONE)&&(s.completedIssueCount+=1)})),s.totalIssues=e.length,s):s},c=e=>t("w3uD").a`query epicCardQuery {
    issue(issueIdOrKey: "${e}", latestVersion: true, screen: "view") {
        id
        fields {
            key
            title
            content
            schema {
                custom
                system
                ${(()=>"configuration {\n        key\n        value\n    }\n    ")()}
                items
                type
                renderer
            }
            configuration
        }
    }
}`,i=async(e,s)=>{var a,o;const r=await Object(t("2tF7").f)(`${e}/rest/graphql/1/`,{method:"POST",body:JSON.stringify({query:c(s)})});if(null!=r&&null!==(a=r.data)&&void 0!==a&&null!==(o=a.issue)&&void 0!==o&&o.fields)return(e=>{var s;const a=null===(s=e.find((e=>e.schema.custom===t("rkNR").hb)))||void 0===s?void 0:s.key,o=e.reduce(((e,s)=>({...e,[s.key]:{value:s.content,title:s.title}})),{});return{summaryValue:o.summary.value,summaryTitle:o.summary.title,issueTypeIconUrl:o.issuetype.value.iconUrl,issues:l(o["epic-issues"].value),color:null!=a?Object(t("r3OG").h)(Object(t("r3OG").e)(o[a].value)):void 0}})(r.data.issue.fields)},u=()=>Object(t("zCFh").a)("progress-bar-colour-margin-improvement_0uuk7",!1);var m=Object(t("D6b/").defineMessages)({completionPercentageText:{id:"issue-progress-summary.completion-percentage-text",defaultMessage:"{completionPercentage}% Done",
description:"Text to be displayed next to the child issues progress bar which indicates percentage of child issues completed. Please ensure translation for the word Done aligns with the status category translation."},todoIssuesSegmentTooltipText:{id:"issue-progress-summary.todo-issues-segment-tooltip-text",defaultMessage:"To Do: {todoIssueCount} of {totalIssueCount, plural, one {# issue} other {# issues}}",description:"Tooltip for the To Do segment of the progress bar in child issues panels, i.e. not classic subtasks."},todoSubtasksSegmentTooltipText:{id:"issue-progress-summary.todo-subtasks-segment-tooltip-text",defaultMessage:"To Do: {todoIssueCount} of {totalIssueCount, plural, one {# subtask} other {# subtasks}}",description:"Tooltip for the To Do segment of the progress bar in classic subtask panels."},inProgressIssuesSegmentTooltipText:{id:"issue-progress-summary.in-progress-issues-segment-tooltip-text",
defaultMessage:"In Progress: {inProgressIssueCount} of {totalIssueCount, plural, one {# issue} other {# issues}}",description:"Tooltip for the In Progress segment of the progress bar in child issues panels, i.e. not classic subtasks."},inProgressSubtasksSegmentTooltipText:{id:"issue-progress-summary.in-progress-subtasks-segment-tooltip-text",defaultMessage:"In Progress: {inProgressIssueCount} of {totalIssueCount, plural, one {# subtask} other {# subtasks}}",description:"Tooltip for the In Progress segment of the progress bar in classic subtask panels."},completedIssuesSegmentTooltipText:{id:"issue-progress-summary.completed-issues-segment-tooltip-text",defaultMessage:"Done: {completedIssueCount} of {totalIssueCount, plural, one {# issue} other {# issues}}",description:"Tooltip for the Done segment of the progress bar in child issues panels, i.e. not classic subtasks."},completedSubtasksSegmentTooltipText:{id:"issue-progress-summary.completed-subtasks-segment-tooltip-text",
defaultMessage:"Done: {completedIssueCount} of {totalIssueCount, plural, one {# subtask} other {# subtasks}}",description:"Tooltip for the Done segment of the progress bar in classic subtask panels."}});t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG");t("5kDX").a.N30,t("5kDX").a.N30;const d=`var(--ds-background-accent-blue-bolder, ${t("5kDX").a.B400})`,g=`var(--ds-border-information, ${t("5kDX").a.B200})`,p=`var(--ds-background-accent-green-bolder, ${t("5kDX").a.G300})`,b=`var(--ds-border-success, ${t("5kDX").a.G300})`,f=Object(r.forwardRef)((({as:e="div",style:s,...a},n)=>r.createElement(e,o()({},a,{style:s,ref:n,className:Object(t("TCwg").a)(["_1e0c1txw _4cvr1h6o",a.className])}))));const y=Object(r.forwardRef)((({as:e="div",style:s,...a},n)=>r.createElement(e,o()({},a,{style:s,ref:n,className:Object(t("TCwg").a)(["_16jlkb7n",a.className])}))));const N=Object(r.forwardRef)((({as:e="div",style:s,...a},n)=>r.createElement(e,o()({},a,{
style:s,ref:n,className:Object(t("TCwg").a)(["_18u07vkz _2hwxyh40 _1o9zidpf _syaz1wmz",a.className])}))));const v=Object(r.forwardRef)((({as:e="span",style:s,...a},n)=>r.createElement(e,o()({},a,{style:s,ref:n,className:Object(t("TCwg").a)(["_1e0c1o8l _1bsb1tcg _y3gnusic",a.className])}))));const T={remainingTooltip:m.todoSubtasksSegmentTooltipText,completedTooltip:m.completedSubtasksSegmentTooltipText,inProgressTooltip:m.inProgressSubtasksSegmentTooltipText},C={remainingTooltip:m.todoIssuesSegmentTooltipText,completedTooltip:m.completedIssuesSegmentTooltipText,inProgressTooltip:m.inProgressIssuesSegmentTooltipText};var k=({isClassicSubtaskPanel:e,totalIssueCount:s,inProgressIssueCount:a,completedIssueCount:o,showPercentageDoneText:r=!0})=>{const{formatMessage:l}=Object(t("6JHv").a)(),c=s-a-o,i=Math.floor(o/s*100),{remainingTooltip:k,completedTooltip:h,inProgressTooltip:w}=e?T:C;return n.a.createElement(f,null,n.a.createElement(y,null,n.a.createElement(t("1V2q").a,{sum:s,
remainingTooltipContent:l(k,{todoIssueCount:c,totalIssueCount:s})},n.a.createElement(t("FLEV").a,{value:o,color:u()?b:p,tooltipContent:l(h,{completedIssueCount:o,totalIssueCount:s})}),n.a.createElement(t("FLEV").a,{value:a,color:u()?g:d,tooltipContent:l(w,{inProgressIssueCount:a,totalIssueCount:s})}))),r?n.a.createElement(N,null,l(m.completionPercentageText,{completionPercentage:n.a.createElement(v,null,i)})):null)},h=t("hJd6"),w=Object(t("D6b/").defineMessages)({issue:{id:"epic-card.card.issue",defaultMessage:"{count, plural, =0 {no issues} one {# issue} other {# issues}}",description:"number of issue, single/plural"}});t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG"),t("3gNG");const O=Object(r.forwardRef)((({as:e="div",style:s,...a},n)=>r.createElement(e,o()({},a,{style:s,ref:n,className:Object(t("TCwg").a)(["_ca0q7vkz _u5f37vkz _n3td7vkz _19bv7vkz",a.className])
}))));const E=Object(r.forwardRef)((({as:e="div",style:s,...a},n)=>r.createElement(e,o()({},a,{style:s,ref:n,className:Object(t("TCwg").a)(["_ca0q7vkz _u5f37vkz _n3td7vkz _19bv7vkz _1bsbnklw _syaz1fxt",a.className])}))));const j=Object(r.forwardRef)((({as:e="div",style:s,...a},n)=>r.createElement(e,o()({},a,{style:s,ref:n,className:Object(t("TCwg").a)(["_1e0c1txw _1bah1yb4 _n3td1crf",a.className])}))));const I=Object(r.forwardRef)((({as:e="div",style:s,...a},n)=>r.createElement(e,o()({},a,{style:s,ref:n,className:Object(t("TCwg").a)(["_n3td1crf _1x2q1fxt",a.className])}))));const _=Object(r.forwardRef)((({as:e="div",style:s,...a},n)=>r.createElement(e,o()({},a,{style:s,ref:n,className:Object(t("TCwg").a)(["_n3td1crf",a.className])}))));const S=Object(r.forwardRef)((({as:e="div",style:s,...a},n)=>r.createElement(e,o()({},a,{style:s,ref:n,className:Object(t("TCwg").a)(["_1e0c1txw _1bah1yb4 _4cvr1h6o",a.className])}))))
;const x=Object(r.forwardRef)((({as:e="div",style:s,...a},n)=>r.createElement(e,o()({},a,{style:s,ref:n,className:Object(t("TCwg").a)(["_1x2q1fxt",a.className])}))));const G=Object(r.forwardRef)((({as:e="div",style:s,...a},n)=>r.createElement(e,o()({},a,{style:s,ref:n,className:Object(t("TCwg").a)(["_syaz1thw",a.className])}))));const P=Object(r.forwardRef)((({as:e="div",style:s,...a},n)=>{const{selectedColor:l,...c}=a;return r.createElement(e,o()({},c,{style:{...s,"--_1nvmxum":Object(t("81+3").a)(a.selectedColor)},ref:n,className:Object(t("TCwg").a)(["_2hwx7vkz _1ul91tcg _1bsb1tcg _4t3i1tcg _2rko1l7b _11q71ake",a.className])}))}));const D=({issueKey:e,isLoading:s,epicData:a,epicName:o})=>{const{formatMessage:r}=Object(t("6JHv").a)();if(s||!a)return n.a.createElement(O,null,n.a.createElement(t("6UK4").a,{size:"medium"}));const l=a.issues.totalIssues;return n.a.createElement(E,null,n.a.createElement(t("meiU").a,{onMount:e=>Object(t("SALc").f)(e,"EpicCard mounted")
}),n.a.createElement(j,null,n.a.createElement(S,null,n.a.createElement(P,{selectedColor:a.color}),n.a.createElement(x,null,n.a.createElement("h5",null,o),n.a.createElement(G,null,r(w.issue,{count:l})))),n.a.createElement("div",null,n.a.createElement(t("340+").a,{spacing:"compact",appearance:"subtle-link",iconBefore:n.a.createElement(t("yaNf").a,{url:a.issueTypeIconUrl}),href:`/browse/${e}`,component:h.a},e))),n.a.createElement(I,null,n.a.createElement("h5",null,a.summaryTitle),n.a.createElement("span",null,a.summaryValue)),l>0?n.a.createElement(_,null,n.a.createElement(k,{isClassicSubtaskPanel:!1,totalIssueCount:l,inProgressIssueCount:a.issues.inProgressIssueCount,completedIssueCount:a.issues.completedIssueCount,showPercentageDoneText:!1})):null)};D.displayName="Card";var z=D;t("3gNG"),t("3gNG");const M=Object(r.forwardRef)((({as:e="div",style:s,...a},n)=>r.createElement(e,o()({},a,{style:s,ref:n,className:Object(t("TCwg").a)(["_1n1uewfl _nz6rewfl",a.className])}))))
;var R=Object(r.memo)((({children:e,issueKey:s,epicName:a})=>{const[l,c]=Object(r.useState)(!1),{loading:u,error:m,value:d}=(e=>{const s=Object(r.useCallback)((()=>i("",e)),["",e]),{loading:a,error:o,data:n,fetch:l}=Object(t("EffF").a)(s,{loading:!0});return Object(r.useEffect)((()=>{l()}),["",l]),{loading:a,error:o,value:n}})(s.toString()),{setCardHoverStatus:g,setTriggerHoverStatus:p}=Object(t("cy8+").a)({onHide:()=>c(!1),onShow:()=>c(!0)}),b=Object(r.useCallback)((()=>{p(!0)}),[p]),f=Object(r.useCallback)((()=>{p(!1)}),[p]),y=Object(r.useCallback)((()=>{g(!0)}),[g]),N=Object(r.useCallback)((()=>{g(!1)}),[g]);if(m||!d&&!u)return e;const v=()=>n.a.createElement("div",{onMouseEnter:y,onMouseLeave:N,onClick:e=>e.stopPropagation()},n.a.createElement(z,{issueKey:s,isLoading:u,epicName:a,epicData:d}));return n.a.createElement(t("qAQD").a,{id:"epic-card",packageName:"issue-view"},n.a.createElement(M,null,n.a.createElement(t("wR8r").a,{zIndex:t("3d9S").g.modal,autoFocus:!1,isOpen:l,
onClose:()=>c(!1),content:()=>n.a.createElement(v,null),trigger:s=>n.a.createElement("div",o()({onMouseEnter:b,onMouseLeave:f},s),e)})))}))}}]);try{window.__jsEvalStop("async-issue-details-epic-card.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-issue-details-epic-card.cb85f3e812086dfc15c1.8.js.map