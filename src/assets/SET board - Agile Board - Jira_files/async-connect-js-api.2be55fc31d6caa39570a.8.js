try{window.performance.mark("async-connect-js-api.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-connect-js-api"],{"/xti":function(t,n,o){"use strict";o.r(n),o.d(n,"performSideEffects",(function(){return pe}));var r=o("6nH1"),i=o.n(r);o("INTo");const a={allJsVersion:"0.0.0",dialogModules:{},dialogOptions:{},inlineDialogOptions:{}};let s=null;const c=async()=>{Object(o("ZyuQ").c)()||(window._AP={});(e=>{Object.keys(e).forEach((t=>{Object.prototype.hasOwnProperty.call(e,t)&&(window._AP[t]=e[t])}))})(await(()=>s||(s=fetch("/rest/internal/latest/connect/data/dialog").then((e=>e.json())).catch((e=>(Object(o("q2+m").a)({error:e,meta:{packageName:"jiraConnect",teamName:"magma",id:"fetchConnectDialogOptionsData"}}),a))),s))())};function d(){const e=this;e._promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n}))}d.prototype.then=function(e,t){return this._promise.then(e,t),this},d.prototype.finally=function(e){return this._promise.finally(e),this},
d.prototype.done=function(e){return this._promise.then(e),this},d.prototype.fail=function(e){return this._promise.catch((t=>{e(t,t)})),this},d.prototype.always=function(e){return this._promise.finally(e),this};const u=(e,t)=>`/plugins/servlet/ac/${encodeURIComponent(e)}/${encodeURIComponent((e=>new URL(e,window.location.origin).pathname.slice(1))(t))}`,l=e=>{const t={};return Object.keys(e).forEach((n=>{t[`ac.${n}`]=e[n]})),t},f=(e,t,n,r)=>{const i={...t,...l(r)},a=(e,t={})=>{Object(o("bA5r").b)("fetchModuleConfiguration",e,{extId:null==n?void 0:n.id,extKey:null==n?void 0:n.key,addonKey:null==n?void 0:n.addon_key,moduleKey:null==n?void 0:n.module_key,...t})},s={method:"POST",body:new URLSearchParams(i),headers:{"Content-Type":"json"===n.classifier?"application/x-www-form-urlencoded":"text/html"}},c="Unable to retrieve addon module URL. Please check your specified module key.";return fetch(e,s).then((e=>{(e=>{const t=Math.round(Date.parse(e)/1e3),n=Math.round(Date.now()/1e3);let o
;Number.isNaN(t)||(o=Math.abs(n-t),window.connectHost.setJwtClockSkew(o+60))})(e.headers.get("Date"));const t=e.status,n=new(o("bA5r").a)("Network request failed",t),r={errorText:c};return e.ok?e.json():(e.text().catch((()=>"")).then((e=>{a(n,{...r,bodyText:e})})),Promise.reject(Object.assign(n,r)))})).then((e=>{if(n.addon_key&&-1!==o("ZyuQ").a.indexOf(n.addon_key)&&403===e.status){const t=e.status,n=new(o("bA5r").a)(e.message,t);a(n)}return e})).then((e=>Object(o("ZyuQ").c)()._convertConnectOptions(e))).catch((t=>{const r=t.message||t.statusText||c,i="string"==typeof t.responseText?t.responseText.substring(0,1e3):"Something unexpected went wrong with the request",s=t.status;window.connectHost&&window.connectHost.trackContentResolverEvent&&t&&window.connectHost.trackContentResolverEvent(!1,{extension:n,attrs:{contentResolverUrl:e,httpStatusCode:s,errorText:r,responseText:i}});const d=new(o("bA5r").a)(r,s,t);return a(d,{bodyText:i}),Object(o("eio7").a)()?Promise.reject({text:c,cause:d
}):Promise.reject({text:c})}))},p=(e,t)=>{const n=new d,r=(e=>{const t=`${e.addon_key}__${e.key}`,n=Object(o("ZyuQ").c)();if(n&&n.cacheableIframeUrls&&n.cacheableIframeUrls[t])return n.cacheableIframeUrls[t]})(e);if(r&&!t)return n.resolve(Object(o("ZyuQ").c)()._convertConnectOptions({addon_key:e.addon_key,key:e.key,url:r,productCtx:JSON.stringify(e.options.productContext||{})})),n;const i={"plugin-key":e.addon_key,"product-context":JSON.stringify(e.options.productContext||{}),key:e.key,width:e.width||"100%",height:e.height||"100%",classifier:e.classifier||"raw"};e.options.contentClassifier&&(i.classifier=[e.options.contentClassifier,i.classifier]);const a=((e,t)=>{const n={};return Object.keys(e).forEach((o=>{t(o,e[o])&&(n[o]=e[o])})),n})(e.options.customData||{},((e,t)=>!Object(o("ZyuQ").f)(t)&&(!("string"==typeof t||t instanceof String)||t.length<255))),s=u(e.addon_key,e.key);return f(s,i,e,a).then((e=>{n.resolve(e)})).catch((e=>{n.reject(e)})),n},h=e=>{
e.registerContentResolver.resolveByExtension(p),window.addEventListener("message",(e=>function(t){if("set_inner_iframe_url"===t.data.type){const{iframeData:n}=t.data;return n.classifier="json",p(t.data.iframeData,!0).then((n=>{n.id=t.data.extension_id,e.registerExistingExtension(n.id,{extension:n}),t.source.location=n.url}))}})(e))},g={},m=e=>{if(e.id&&e.id.length>1)return e.id;throw new Error("ACJS: cannot generate cache key for extension")},y=e=>{var t,n;return null===(t=g[e])||void 0===t||null===(n=t.context)||void 0===n?void 0:n.contextObj},v=(e,t)=>({cachedAt:Date.now(),contextJwt:t,contextObj:e}),w=e=>{const t=m(e);(!g[t]||!g[t].promise&&g[t].context&&(e=>3e4+e<Date.now())(g[t].context.cachedAt))&&(e.classifier="json",g[t]=g[t]||{},g[t].promise=p(e,!0).done((e=>{e&&(g[t].context=v(e.options.structuredContext,e.options.contextJwt))})))},x=e=>{if(!e||e.length<2)throw new Error("ACJS: Cannot get token. Add-on does not support JWT authentication")},b=e=>{if((e=>{
let t=!(e.contextJwt&&window.connectHost.isJwtExpired(e.contextJwt,!0)||!e.structuredContext);if(t){const n=e.productContext&&Object.getOwnPropertyNames(e.productContext).length>0,o=Object.getOwnPropertyNames(e.structuredContext).length>0;!n||o||(t=!1)}return t})(e.extension.options)){const t=m(e.extension);g[t]={context:v(e.extension.options.structuredContext,e.extension.options.contextJwt)}}else w(e.extension)},_=e=>new Promise(((t,n)=>{const r=(t,n={})=>{var r,i,a,s,c,d,u,l;return Object(o("bA5r").b)("getToken",t,{extId:null===(r=e._context)||void 0===r||null===(i=r.extension)||void 0===i?void 0:i.id,extKey:null===(a=e._context)||void 0===a||null===(s=a.extension)||void 0===s?void 0:s.key,addonKey:null===(c=e._context)||void 0===c||null===(d=c.extension)||void 0===d?void 0:d.addon_key,moduleKey:null===(u=e._context)||void 0===u||null===(l=u.extension)||void 0===l?void 0:l.module_key,...n})},i=m(e._context.extension);w(e._context.extension);const a=g[i].promise;a?a.done((e=>{
Object(o("eio7").a)()||x(e.options.contextJwt);try{Object(o("eio7").a)()&&x(e.options.contextJwt),t(e.options.contextJwt)}catch(n){const e=new(o("bA5r").a)("getToken fails",n.status,n);r(e,{isErrorInResolveFunc:!0})}})).fail((e=>{const t="ACJS: content resolver failed to get context jwt token",i=e.message||e.statusText||t,a=new(o("bA5r").a)(i,e.status,e);r(a),n(t)})).always((()=>{delete g[i].promise})):(x(g[i].context.contextJwt),t(g[i].context.contextJwt))}));_.returnsPromise=!0;const k=e=>new Promise(((t,n)=>{const r=(t,n={})=>{var r,i,a,s,c,d,u,l;return Object(o("bA5r").b)("getContext",t,{extId:null===(r=e._context)||void 0===r||null===(i=r.extension)||void 0===i?void 0:i.id,extKey:null===(a=e._context)||void 0===a||null===(s=a.extension)||void 0===s?void 0:s.key,addonKey:null===(c=e._context)||void 0===c||null===(d=c.extension)||void 0===d?void 0:d.addon_key,moduleKey:null===(u=e._context)||void 0===u||null===(l=u.extension)||void 0===l?void 0:l.module_key,...n})
},i=m(e._context.extension);w(e._context.extension);const a=g[i].promise;a?a.done((e=>{try{t(y(i))}catch(n){const e=new(o("bA5r").a)("getContext fails",n.status,n);r(e,{isErrorInResolveFunc:!0})}})).fail((e=>{const t="ACJS: content resolver failed to get context",i=e.message||e.statusText||t,a=new(o("bA5r").a)(i,e.status,e);r(a),n(t)})).always((()=>{delete g[i].promise})):t(y(i))}));k.returnsPromise=!0;var E=o("K7+Q"),A=o.n(E),C=o("mEq2"),O=o.n(C),S=o("D2BS"),I=o.n(S);let j={addonmodule:(e,t)=>{const n=e&&e.addonKey,o=e&&e.moduleKey;if(!n)throw new Error("Missing addonKey parameter in the context.");if(!o)throw new Error("Missing moduleKey parameter in the context.");let r=`/plugins/servlet/ac/${function(e){const t=e.map(encodeURIComponent).join("/");return new URL(t,window.location.origin).pathname.slice(1)}([n,o])}`;void 0!==e.context&&console.warn("DEPRECATED API - The context field has been deprecated in favor of customData.");const i=function(e){
return Object.keys(e).map((t=>[`ac.${t}`,e[t]].map(encodeURIComponent).join("="))).join("&")}({...e.context||{},...e.customData||{}});r=""!==i?`${r}?${i}`:r,t.apply(void 0,[r])},site:(e,t)=>{if(e)if(e.relativeUrl){if("string"!=typeof e.relativeUrl||"/"!==e.relativeUrl[0])throw new Error("Invalid relativeUrl passed in context");n(e.relativeUrl);const o=`${window.location.protocol}//${window.location.hostname}${e.relativeUrl}`;t.apply(void 0,[o])}else{if(!e.absoluteUrl)throw new Error("No context supplied to Navigator API");{const o=`${window.location.protocol}//${window.location.hostname}/`;if("string"!=typeof e.absoluteUrl||0!==e.absoluteUrl.indexOf(o))throw new Error("Invalid absoluteUrl passed in context");n(e.absoluteUrl),t.apply(void 0,[e.absoluteUrl])}}function n(e){if(-1!==new URL(e,document.baseURI).pathname.replace(/\/+/g,"/").toLowerCase().indexOf("plugins/servlet/ac-redirect"))throw new Error("Cannot use legacy redirect filter in Navigator API")}}};var T=o("cNpz"),P=o.n(T)
;let R=!1;const L=e=>{const t=function(){window.location.href=e};if(Object(o("jaLJ").d)()){const n=Object(o("jaLJ").b)();n&&n.navigate&&n.navigate(e,t)}else if(Object(o("jaLJ").a)()){const t=Object(o("jaLJ").c)();t&&t.navigate&&t.navigate(e)}else t()},D=(e,t)=>!!e[t]||(console.error(`Missing ${t} in navigator context`),!1),M=(e,t,n)=>`${e+(e.indexOf("?")>-1?"&":"?")+t}=${encodeURIComponent(n)}`,F=(e,t,n)=>{const o=e.toLowerCase(),r=t||{};if(r.addonKey||(r.addonKey=n._context.extension.addon_key),!(()=>R)())return void console.error("connect navigation api not yet implemented for this product");const i=(()=>j)();if((()=>j&&0!==Object.getOwnPropertyNames(j).length)()&&o in i){const e=i[o];if("function"==typeof e)e(r,L);else{const t=((e,t)=>{let n=e;return"/"!==e[0]&&(n=`/${e}`),P.a.parse(n).expand(t)})(e,r);L(t)}}else console.error(`The URL target ${o} is not available. Valid targets are: ${Object.keys(i).toString()}`)},N=(e,t)=>{
let n=Number(window.localStorage.getItem("lastReloadTimestamp")),o=Number(window.localStorage.getItem("reloadAttempts"));const r=Date.now();return r-n>e&&(o=0),o>=t?(console.error(`Reloads must be ${e}ms apart after ${o} reload attempts.`),!0):(n=r,o+=1,window.localStorage.setItem("lastReloadTimestamp",String(n)),window.localStorage.setItem("reloadAttempts",String(o)),!1)},$=()=>{N(12e4,5)||(Object(o("jaLJ").d)()?(t=>{function n(t){try{if(null==t.location.href)return!1}catch(e){return!1}return!0}function o(e){return e===e.parent}let r=t;for(;!o(r)&&n(r.parent);)r=r.parent;return r})(window).location.reload():window.location.reload())},U=e=>{const t=e._context.extension.options.user;e({fullName:void 0===t.uid&&void 0===t.ukey?null:Object(o("ZyuQ").e)("remote-user-fullname")||null,id:t.uid,key:t.ukey})},B=e=>{e({atlassianAccountId:Object(o("ZyuQ").e)("atlassian-account-id")||null,accountType:Object(o("ZyuQ").e)("account-type")||null})},J=e=>{e(e._context.extension.options.user.timeZone)
},H=e=>{e(Object(o("ZyuQ").e)("user-locale"))},q=(e,t)=>{if(window.dashboardSpaBridge){const n=e.closest("[data-gadget-id]");if(n&&t){const e=n.getAttribute("data-gadget-id");window.dashboardSpaBridge.setGadgetHeight(e,t.replace(/[^0-9.]/g,""))}}},K=e=>{e.onIframeEstablished((e=>{q(e.$el)})),(e=>{"loading"!==document.readyState&&e(),document.addEventListener("DOMContentLoaded",e)})((()=>{Object(o("ZyuQ").d)()("body").on("resized",".ap-container",((e,t)=>{q(e.target,t.height)}))}))},z=()=>{(e=>{j=Object.assign(j,e)})({filters:"/secure/ManageFilters.jspa",projects:"/secure/BrowseProjects.jspa",boards:"/secure/ManageRapidViews.jspa",dashboards:"/secure/ConfigurePortalPages!default.jspa",dashboard:"/secure/Dashboard.jspa?selectPageId={dashboardId}",issue:"/browse/{issueKey}",userprofile:(e,t)=>{const n="/secure/admin/user/ViewProfile.jspa";let o;o=D(e,"userAccountId")?M(n,"accountId",e.userAccountId):D(e,"username")?M(n,"username",e.username):`${n}?name=`,t(o)},
projectadminsummary:"/plugins/servlet/project-config/{projectKey}/summary",projectadmintabpanel:"/plugins/servlet/ac/{addonKey}/{adminPageKey}?project.key={projectKey}&project.id={projectId}"}),(()=>{R=!0})()};function Q(e){return"jiraWorkflowPostFunctions"===e&&document.querySelectorAll("input[name='postFunction.id']").length>0?"postFunction":"jiraWorkflowConditions"===e&&document.querySelectorAll("input[name='condition.id']").length>0?"condition":"jiraWorkflowValidators"===e&&document.querySelectorAll("input[name='validator.id']").length>0?"validator":null}function V(e,t,n){const r=`#${Object(o("ZyuQ").b)(Q(e))}-config-${Object(o("ZyuQ").b)(t)}`,i=document.querySelector(r);return n&&i&&(i.value=n),i?i.value:void 0}function W(e){return Boolean(Q(e))}function G(e,t,n,o){if(!e)throw new Error("Missing module type");if(!W(e))throw new Error("Not on a workflow configuration page");let r=!1;((e,t,n,o,r)=>{e.addEventListener(n,(function(e){const{target:n}=e;if(n&&n instanceof Element){
const e=n.closest(t);e&&o.apply(e,arguments)}}),r)})(document,"#add_submit, #update_submit","click",(i=>{if(!r||o){i.preventDefault();n((n=>{if(n.valid){V(e,t,n.value),r=!0;const{target:o}=i;o&&"click"in o&&o.click()}}))}}))}let Z=()=>{};const Y=e=>{e.onIframeEstablished((t=>{const{moduleType:n}=t.extension.options;if(n&&W(n)&&function(e){if(e&&e.options&&e.options.productContext&&e.options.moduleType){const t=e.options.productContext,{moduleType:n}=e.options;if(n&&t[`${Q(n)}.id`]&&t[`${Q(n)}.id`].length>5)return!0}return!1}(t.extension)){const r=function(e){if(!e)throw new Error("Missing module type");const t=`input[name='${Object(o("ZyuQ").b)(Q(e))}.id']`,n=document.querySelector(t);return n&&n.value}(n);"string"==typeof r&&G(n,r,(n=>{Z=n,e.broadcastEvent("jira_workflow_post_function_submit",{id:t.extension.id})}))}}))},X=e=>{const t=(()=>Object(o("ZyuQ").e)("user-locale")||o("vJdW").b)(),n=Object(o("nTyr").a)(t);Object(o("sOZ8").a)([n]).then(e)},ee={dateFormat:"%e/%b/%y",
dateTimeFormat:"%e/%b/%y %I:%M %p",timeFormat:"12",firstDay:1,useISO8601WeekNumbers:!1};let te=null;function ne(){const e=new Promise((e=>{X(e)}));return null===te&&(te=function(){return fetch("/rest/internal/latest/connect/data/datepicker").then((e=>e.json())).catch((()=>ee))}()),Promise.all([te,e]).then((e=>e[0]))}function oe(e,t){let n=window.calendar;const o=Calendar._FD?void 0:1;n&&n.hide();let r=e||{};r=Object.assign(r,t,{singleClick:"true",inputField:{}}),n=new Calendar(r.useISO8601WeekNumbers?1:o,r.date,(new Date).toISOString(),r.onSelect||(()=>{}),(e=>{e.hide(),e.destroy()})),window.calendar=n,n.weekNumbers=!0,n.showsOtherMonths=!1,n.params=r,n.showsTime=r.showTime,n.time24="24"===r.timeFormat;const i=r.showTime?r.dateTimeFormat:r.dateFormat;return n.setDateFormat(i),n.create(),n.refresh(),n.showAt(r.position.left||0,r.position.top||0),n}const re=function(e){ne().then(oe.bind(this,e)).catch(console.error)},ie={top:0,left:0},ae=e=>{const t={"<":"&lt;",">":"&gt;","&":"&amp;",
"'":"&#39;","`":"&#96;"};return e.replace(/[&"'<>`]/g,(e=>"string"==typeof t[e]?t[e]:"&quot;"))},se=e=>{const t=ae(e.sectionId||""),n=ae(e.header||""),o=ae(e.src||""),r=ae(e.frameId||""),i=ae(e.submitButtonId||""),a=ae(e.cancelButtonId||"")
;return`\n<section id="${t}" class="aui-dialog2 aui-dialog2-xlarge aui-layer" data-aui-remove-on-hide="true" role="dialog" aria-hidden="true">\n    <header class="aui-dialog2-header">\n        <h2>${n}</h2>\n    </header>\n    <div style="height: 100%; overflow: hidden; display: flex; flex-direction: column; background-color: var(--ds-surface-overlay, #FFFFFF);">\n        <p>${ae(e.descriptionText||"")}</p>\n        <iframe src="${o}" id="${r}" style="flex: 1; border: none;"></iframe>\n    </div>\n    <footer class="aui-dialog2-footer">\n        <div class="aui-dialog2-footer-actions">\n            <button id="${i}" class="aui-button aui-button-primary">\n                ${ae(e.submitText||"")}\n            </button>\n            <button id="${a}" class="aui-button aui-button-link">\n                ${ae(e.cancelText||"")}\n            </button>\n        </div>\n    </footer>\n</section>\n            `.trim()
},ce="connect-app-jql-editor-frame-id",de="connect-app-jql-editor-section-id",ue="connect-app-jql-editor-submit-id",le="connect-app-jql-editor-cancel-id",fe={refreshIssuePage:()=>{const e=new CustomEvent("legacy_refreshIssuePage");Object(o("/h0V").getAnalyticsWebClientPromise)().then((e=>{e.getInstance().sendTrackEvent({source:"jiraConnect",actionSubject:"refreshIssuePage",action:"called",attributes:{isSpa:!!window.__SPA__}})})),document.dispatchEvent(e)},updateIssueGlance:(e,t)=>{const n=new CustomEvent("legacy_updateIssueGlance",{detail:[null,{addonKey:t._context.extension.addon_key,moduleKey:t._context.extension.key,data:e}]});document.dispatchEvent(n)},getWorkflowConfiguration:e=>{var t,n;if("function"!=typeof e)return!1;const{moduleType:o}=e._context.extension.options;if(!o||!W(o))return!1;const r=V(o,(null===(t=e._context.extension)||void 0===t||null===(n=t.options)||void 0===n?void 0:n.productContext)[`${Q(o)}.id`]);return e&&e(r),!0},_submitWorkflowConfigurationResponse:e=>{
Z(e)},isDashboardItemEditable:e=>{if(window.dashboardSpaBridge){const t=document.getElementById(e._context.extension_id);if(t){const n=t.closest("[data-gadget-id]");if(n){const t=n.getAttribute("data-gadget-id");e(window.dashboardSpaBridge.isGadgetConfigurable(t))}}}},setDashboardItemTitle:(e,t)=>{if(window.dashboardSpaBridge){const n=document.getElementById(t._context.extension_id);if(n){const t=n.closest("[data-gadget-id]");if(t){const n=t.getAttribute("data-gadget-id");window.dashboardSpaBridge.setGadgetTitle(n,e)}}}},openCreateIssueDialog:(e,t)=>{Object(o("sOZ8").a)(["wrc!com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue"]).then((()=>{if(!JIRA||!JIRA.Forms||!JIRA.Forms.createCreateIssueForm)return void console.warn("Connect: Create issue form is not available");const n=JIRA.Forms.createCreateIssueForm(e).asDialog({trigger:document.createElement("a"),id:"create-issue-dialog",windowTitle:document.title.replace(/ - Jira$/,""),shouldLoadHeritageFormDialogContext:!0,
triggerPointKey:"ecosystemApiCreateIssue"});n.show();let o=[];JIRA.one("QuickCreateIssue.sessionComplete",((e,t)=>{o=t.map((e=>e.createdIssueDetails))})),n.bind("Dialog.hide",(()=>{"function"==typeof t&&t.call({},o)}))}))},openIssueDialog:(e,t)=>{Object(o("sOZ8").a)(["wrc!com.atlassian.jira.jira-atlaskit-plugin:async-modals"]).then((()=>{window.require("jira/async-modals").then((n=>{if(!n.showConnectIssueModal)return console.warn("Connect: open issue dialog is not available"),void t("OPEN_ISSUE_DIALOG_IS_NOT_AVAILABLE");n.showConnectIssueModal({issueKey:e,onCancel:t,onError:t})}))}))},openDatePicker:(e,t)=>{const n=((e,t)=>{var n,o,r;const i=e;i.onSelect=(e,n)=>{window.connectHost.broadcastEvent("jira_date_selected",{id:t._context.extension_id},{isoDate:e.date.toISOString(),date:n}),e.dateClicked&&e.callCloseHandler()};const a=null===(n=document.getElementById(t._context.extension_id))||void 0===n?void 0:n.getBoundingClientRect();return i.position=e.position||ie,
i.position.top+=null!==(o=null==a?void 0:a.top)&&void 0!==o?o:0,i.position.left+=null!==(r=null==a?void 0:a.left)&&void 0!==r?r:0,i})(e,t);return re(n),n},initJQLEditor:()=>{},showJQLEditor:(e,t)=>{const n=`/issues/?app=true&jql=${e.jql||""}`,o=document.createElement("div");o.innerHTML=se({src:n,frameId:ce,sectionId:de,submitButtonId:ue,cancelButtonId:le,header:e.header||"JQL Editor",submitText:e.submitText||"Submit",cancelText:e.cancelText||"Cancel",descriptionText:(e.descriptionText||"").substring(0,512)}),document.body.appendChild(o.firstChild);AJS.dialog2(`#${de}`).show(),document.getElementById(le).addEventListener("click",(e=>{e.preventDefault(),AJS.dialog2(`#${de}`).hide()})),document.getElementById(ue).addEventListener("click",(e=>{e.preventDefault();const n=document.getElementById(ce).contentWindow.document;n.querySelector(".search-button").click();const o=new URLSearchParams(n.location.search).get("jql");AJS.dialog2(`#${de}`).hide(),t({jql:o})}))},isNativeApp:e=>{
const{userAgent:t}=window.navigator;let n=!1;const o=/iPhone|iPod|iPad/i.test(t),r=/Safari/i.test(t),i=/Android/i.test(t),a=/wv/i.test(t);(o&&!r||i&&a)&&(n=!0),e(n)}},pe=()=>{const e=null!=window.connectHost&&window.connectHost!==i.a?"replaced":"loaded";Object(o("/h0V").getAnalyticsWebClientPromise)().then((t=>{t.getInstance().sendOperationalEvent({source:"connect-loader",actionSubject:"connectHost",action:e,attributes:{isSpa:!!window.__SPA__}})})),window.connectHost=i.a,i.a.__FLAVOUR__="MODERN",c(),(()=>{window.define("ac/create",(()=>({appendConnectAddon:e=>Object(o("ZyuQ").c)().appendConnectAddon(e)})))})(),(e=>{Object(o("ZyuQ").c)()._addonAttemptCounter={},e.setExtensionConfigurationOptions("crev",window._AP.allJsVersion),e.onIframeEstablished((e=>{e.$el.closest(".ap-iframe-container").addClass("iframe-init")})),e.onFrameClick((e=>{e.click()}))})(i.a),(()=>{window.define("ac/analytics",(()=>({emitGasV3:(e,t)=>{Object(o("/h0V").getAnalyticsWebClientPromise)().then((n=>{
const o=n.getInstance();switch(e){case"operational":o.sendOperationalEvent(t);break;case"page":o.sendPageEvent(t,void 0);break;case"screen":o.sendScreenEvent(t);break;default:throw new Error("ACJS: Unknown GasV3 event type")}}))}})))})(),h(i.a),(e=>{e.onIframeEstablished(b),e.onIframeUnload((e=>{delete g[m(e.extension)]}))})(i.a),(async e=>{e.defineModule("cookie",A.a),e.defineModule("history",O.a),e.defineModule(I.a),e.defineModule("navigator",{_shouldThrottle:N,go:F,reload:$}),e.defineModule("user",{getCurrentUser:B,getLocale:H,getTimeZone:J,getUser:U}),e.defineModule("context",{getToken:_,getContext:k})})(i.a),K(i.a),z(),Y(i.a),(e=>{e.defineModule("jira",fe)})(i.a),(()=>{o.e("async-jira-connect-css").then(o.bind(null,"sx36"))})()}},"6nH1":function(t,n,o){!function(n,o){t.exports=function(){"use strict";function t(e,n){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},t(e,n)}function n(e,n){e.prototype=Object.create(n.prototype),
e.prototype.constructor=e,t(e,n)}var o;function r(){}function i(){i.init.call(this)}function a(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function s(e,t,n){if(t)e.call(n);else for(var o=e.length,r=y(e,o),i=0;i<o;++i)r[i].call(n)}function c(e,t,n,o){if(t)e.call(n,o);else for(var r=e.length,i=y(e,r),a=0;a<r;++a)i[a].call(n,o)}function d(e,t,n,o,r){if(t)e.call(n,o,r);else for(var i=e.length,a=y(e,i),s=0;s<i;++s)a[s].call(n,o,r)}function u(e,t,n,o,r,i){if(t)e.call(n,o,r,i);else for(var a=e.length,s=y(e,a),c=0;c<a;++c)s[c].call(n,o,r,i)}function l(e,t,n,o){if(t)e.apply(n,o);else for(var r=e.length,i=y(e,r),a=0;a<r;++a)i[a].apply(n,o)}function f(e,t,n,o){var i,s,c;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((s=e._events)?(s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),c=s[t]):(s=e._events=new r,e._eventsCount=0),c){if("function"==typeof c?c=s[t]=o?[n,c]:[c,n]:o?c.unshift(n):c.push(n),
!c.warned&&(i=a(e))&&i>0&&c.length>i){c.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=c.length,p(d)}}else c=s[t]=n,++e._eventsCount;return e}function p(e){"function"==typeof console.warn?console.warn(e):console.log(e)}function h(e,t,n){var o=!1;function r(){e.removeListener(t,r),o||(o=!0,n.apply(e,arguments))}return r.listener=n,r}function g(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function m(e,t){for(var n=t,o=n+1,r=e.length;o<r;n+=1,o+=1)e[n]=e[o];e.pop()}function y(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}function v(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}r.prototype=Object.create(null),i.EventEmitter=i,i.usingDomains=!1,i.prototype.domain=void 0,i.prototype._events=void 0,
i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.init=function(){this.domain=null,i.usingDomains&&o.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new r,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return a(this)},i.prototype.emit=function(e){var t,n,o,r,i,a,f,p="error"===e;if(a=this._events)p=p&&null==a.error;else if(!p)return!1;if(f=this.domain,p){if(t=arguments[1],!f){if(t instanceof Error)throw t;var h=new Error('Uncaught, unspecified "error" event. ('+t+")");throw h.context=t,h}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=f,t.domainThrown=!1,f.emit("error",t),!1}if(!(n=a[e]))return!1;var g="function"==typeof n;switch(o=arguments.length){case 1:
s(n,g,this);break;case 2:c(n,g,this,arguments[1]);break;case 3:d(n,g,this,arguments[1],arguments[2]);break;case 4:u(n,g,this,arguments[1],arguments[2],arguments[3]);break;default:for(r=new Array(o-1),i=1;i<o;i++)r[i-1]=arguments[i];l(n,g,this,r)}return!0},i.prototype.addListener=function(e,t){return f(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return f(this,e,t,!0)},i.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,h(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,h(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,o,i,a,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(o=this._events))return this;if(!(n=o[e]))return this
;if(n===t||n.listener&&n.listener===t)0==--this._eventsCount?this._events=new r:(delete o[e],o.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){s=n[a].listener,i=a;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new r,this;delete o[e]}else m(n,i);o.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new r,this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=new r:delete n[e]),this;if(0===arguments.length){for(var o,i=Object.keys(n),a=0;a<i.length;++a)"removeListener"!==(o=i[a])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=new r,this._eventsCount=0,this}
if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},i.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"==typeof t?[t.listener||t]:v(t):[]},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},i.prototype.listenerCount=g,i.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var w,x=function(e){function t(){var t;return(t=e.call(this)||this).setMaxListeners(20),t}n(t,e);var o=t.prototype;return o.dispatch=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];this.emit.apply(this,["before:"+e].concat(n)),this.emit.apply(this,arguments),this.emit.apply(this,["after:"+e].concat(n))},o.registerOnce=function(e,t){if("string"!=typeof e)throw"ACJS: event name must be string";this.once(e,t)},o.register=function(e,t){
if("string"!=typeof e)throw"ACJS: event name must be string";this.on(e,t)},o.unregister=function(e,t){if("string"!=typeof e)throw"ACJS: event name must be string";this.removeListener(e,t)},t}(i),b=new x,_=window.AJS&&window.AJS.$||function(){},k=.25,E=[],A=function(e){E=E.filter((function(t){var n=t.element,o=t.callback;return n!==e||(o(),!1)}))};if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window){var C=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.intersectionRatio,n=e.target;t>0&&(C.unobserve(n),A(n))}))}),{threshold:k});w=C.observe.bind(C)}var O=function(e,t){"function"==typeof t&&e instanceof Element&&(E.push({element:e,callback:t}),w(e))},S=function(e){var t=document.querySelector("meta[name='ajs-"+e+"']");return null===t?void 0:t.getAttribute("content")||void 0};function I(e){if(AJS&&AJS.DarkFeatures&&AJS.DarkFeatures.isEnabled&&AJS.DarkFeatures.isEnabled(e))return!0;var t=window.featureFlags||S("fe-feature-flags");if(!t)return!1
;var n={};try{n="object"==typeof t?t:JSON.parse(t)}catch(o){return!1}return!(!n[e]||"boolean"!=typeof n[e].value)&&n[e].value}function j(){return I("com.atlassian.connect.acjs.onecloud-1878-set-block-display")}var T={getBooleanFeatureFlag:I,isSetBlockDisplayFlagEnabled:j},P="connect.addon.",R=2e4,L=100;function D(e){return 100*Math.random()<=e}var M=5,F=new(function(){function t(){this._addons={}}var n=t.prototype;return n._track=function(e,t){var n=window,o=P+e;if((t=t||{}).version=n._AP&&n._AP.version?n._AP.version:void 0,t.userAgent=n.navigator.userAgent,!n.AJS)return!1;if(n.AJS.Analytics)n.AJS.Analytics.triggerPrivacyPolicySafeEvent(o,t);else{if(!n.AJS.trigger)return!1;AJS.trigger("analyticsEvent",{name:o,data:t})}return!0},n._trackGasV3=function(t,n){try{window.require("ac/analytics").emitGasV3(t,n)}catch(e){window.Confluence||window.__karma__||console.info("Connect GasV3 catch",e)}},n._time=function(){
return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},n.trackLoadingStarted=function(e){this._addons&&e&&e.id?(e.startLoading=this._time(),this._addons[e.id]=e):console.error("ACJS: cannot track loading analytics",this._addons,e)},n.trackLoadingEnded=function(t){var n=this;if(this._addons&&t&&this._addons[t.id]){var o,r=t.url,i=void 0!==r&&-1===r.indexOf("xdm_e="),a=this._time()-this._addons[t.id].startLoading,s=this.getIframeLoadApdex(a);try{o=Object.keys(JSON.parse(this._addons[t.id].$el[0].name).api).sort().toString()}catch(e){o="error"}var c={addonKey:t.addon_key,moduleKey:t.key,moduleType:t.options?t.options.moduleType:void 0,moduleLocation:t.options?t.options.moduleLocation:void 0,pearApp:t.options&&"true"===t.options.pearApp?"true":"false",iframeLoadMillis:a,iframeLoadApdex:s,iframeIsCacheable:i,value:a>R?"x":Math.ceil(a/L),api:o};"function"==typeof window.requestIdleCallback?window.requestIdleCallback((function(){
return n._track("iframe.performance.load",c)}),{timeout:100}):this._track("iframe.performance.load",c)}else console.error("ACJS: cannot track loading end analytics",this._addons,t)},n.getIframeLoadApdex=function(e){var t=300;return e<=t?1:e<=4*t?.5:0},n.trackLoadingTimeout=function(e){var t=window.navigator.onLine;"boolean"!=typeof t&&(t="not-supported"),this._track("iframe.performance.timeout",{addonKey:e.addon_key,moduleKey:e.key,moduleType:e.options?e.options.moduleType:void 0,moduleLocation:e.options?e.options.moduleLocation:void 0,pearApp:e.options&&"true"===e.options.pearApp?"true":"false",connectedStatus:t.toString()}),this.trackLoadingEnded(e)},n.trackLoadingCancel=function(e){this._track("iframe.performance.cancel",{addonKey:e.addon_key,moduleKey:e.key,moduleType:e.options?e.options.moduleType:void 0,moduleLocation:e.options?e.options.moduleLocation:void 0,pearApp:e.options&&"true"===e.options.pearApp?"true":"false"})},n.trackUseOfDeprecatedMethod=function(e,t){
this._track("jsapi.deprecated",{addonKey:t.addon_key,moduleKey:t.key,methodUsed:e})},n.trackMultipleDialogOpening=function(e,t){this._track("jsapi.dialog.multiple",{addonKey:t.addon_key,moduleKey:t.key,dialogType:e})},n.trackVisible=function(e){this._track("iframe.is_visible",{addonKey:e.addon_key,moduleKey:e.key,moduleType:e.options?e.options.moduleType:void 0,pearApp:e.options&&"true"===e.options.pearApp?"true":"false"})},n.trackIframePerformance=function(e,t){this._trackGasV3("operational",{source:t.addon_key,action:"iframeRendered",actionSubject:"connectAddon",actionSubjectId:t.addon_key,attributes:{key:t.key,pearApp:this._getPearApp(t),moduleType:this._getModuleType(t),iframeIsCacheable:this._isCacheable(t),moduleLocation:this._getModuleLocation(t),domainLookupTime:e.domainLookupTime,connectionTime:e.connectionTime,decodedBodySize:e.decodedBodySize,domContentLoadedTime:e.domContentLoadedTime,fetchTime:e.fetchTime}})},n.dispatch=function(e,t){this._track(e,t)},
n.trackExternal=function(e,t){this._track(e,t)},n._resetAnalyticsDueToUnreliable=function(e){if(!e)throw new Error("Cannot reset analytics due to no extension id");this._addons[e]?(clearTimeout(this._addons[e]),delete this._addons[e]):console.info("Cannot clear analytics, cache does not contain extension id")},n._isCacheable=function(e){var t=e.url;return void 0!==t&&-1===t.indexOf("xdm_e=")},n._getModuleType=function(e){return e.options?e.options.moduleType:void 0},n._getModuleLocation=function(e){return e.options?e.options.moduleLocation:void 0},n._getPearApp=function(e){return e.options&&"true"===e.options.pearApp},n.trackGasV3Visible=function(e){this._trackGasV3("operational",{action:"iframeViewed",actionSubject:"connectAddon",actionSubjectId:e.addon_key,attributes:{moduleType:this._getModuleType(e),iframeIsCacheable:this._isCacheable(e),moduleKey:e.key,moduleLocation:this._getModuleLocation(e),pearApp:this._getPearApp(e)},source:e.addon_key})},
n.trackGasV3ContentResolver=function(e,t){if(D(M)){var n=t.extension,o=t.attrs,r=e?"contentResolverSucceeded":"contentResolverFailed";this._trackGasV3("operational",{action:r,actionSubject:"connectAddon",actionSubjectId:n.addon_key,attributes:Object.assign({},o,{moduleType:this._getModuleType(n),moduleKey:n.key,moduleLocation:this._getModuleLocation(n),pearApp:this._getPearApp(n)}),source:n.addon_key})}},n.trackGasV3LoadingEnded=function(e){var t=this._time()-this._addons[e.id].startLoading;this._trackGasV3("operational",{action:"iframeLoaded",actionSubject:"connectAddon",actionSubjectId:e.addon_key,attributes:{moduleType:this._getModuleType(e),iframeIsCacheable:this._isCacheable(e),iframeLoadMillis:t,moduleKey:e.key,moduleLocation:this._getModuleLocation(e),pearApp:this._getPearApp(e)},source:e.addon_key})},n.trackGasV3LoadingTimeout=function(e){this._trackGasV3("operational",{action:"iframeTimeout",actionSubject:"connectAddon",actionSubjectId:e.addon_key,attributes:{
moduleType:this._getModuleType(e),iframeIsCacheable:this._isCacheable(e),moduleKey:e.key,moduleLocation:this._getModuleLocation(e),pearApp:this._getPearApp(e)},source:e.addon_key})},t}());_.fn&&b.register("iframe-create",(function(e){F.trackLoadingStarted(e.extension)}));b.register("iframe-bridge-start",(function(e){F.trackLoadingStarted(e.extension)})),b.register("iframe-bridge-established",(function(e){F.trackLoadingEnded(e.extension),O(document.getElementById(e.extension.id),(function(){b.dispatch("iframe-visible",e.extension),F.trackVisible(e.extension),F.trackGasV3Visible(e.extension)}))})),b.register("iframe-bridge-established",(function(e){F.trackGasV3LoadingEnded(e.extension)})),b.register("iframe-bridge-timeout",(function(e){F.trackLoadingTimeout(e.extension)})),b.register("iframe-bridge-cancelled",(function(e){F.trackLoadingCancel(e.extension)})),b.register("analytics-deprecated-method-used",(function(e){F.trackUseOfDeprecatedMethod(e.methodUsed,e.extension)})),
b.register("analytics-iframe-performance",(function(e){F.trackIframePerformance(e.metrics,e.extension)})),b.register("iframe-destroyed",(function(e){F._resetAnalyticsDueToUnreliable(e.extension.extension_id)})),b.register("analytics-external-event-track",(function(e){F.trackExternal(e.eventName,e.values)})),b.register("analytics-content-resolver-track",(function(e){var t=e.success,n=e.extra;F.trackGasV3ContentResolver(t,n)})),b.register("iframe-bridge-timeout",(function(e){F.trackGasV3LoadingTimeout(e.extension)}));var N={timeout:function(e,t){b.dispatch("iframe-bridge-timeout",{$el:e,extension:t})},cancelled:function(e,t){b.dispatch("iframe-bridge-cancelled",{$el:e,extension:t})}},$="ap-status-indicator",U={loading:'<div class="ap-loading"><div class="small-spinner"></div>Loading app...</div>',"load-timeout":'<div class="ap-load-timeout"><div class="small-spinner"></div>App is not responding. Wait or <a href="#" class="ap-btn-cancel">cancel</a>?</div>',
"load-error":"App failed to load."},B=12e3,J=new(function(){function e(){this._stateRegistry={}}var t=e.prototype;return t._loadingContainer=function(e){return e.find("."+$)},t.render=function(){var e=document.createElement("div");e.classList.add($),e.innerHTML=U.loading;var t=_(e);return this._startSpinner(t),t},t._startSpinner=function(e){setTimeout((function(){var t=e.find(".small-spinner");t.length&&t.spin&&t.spin({lines:12,length:3,width:2,radius:3,trail:60,speed:1.5,zIndex:1})}),10)},t.hide=function(e,t){this._clearTimeout(t),this._loadingContainer(e)[0].style.display="none"},t.cancelled=function(e,t){var n=U["load-error"];this._loadingContainer(e).empty().text(n)},t._setupTimeout=function(e,t){this._stateRegistry[t.id]=setTimeout((function(){N.timeout(e,t)}),B)},t._clearTimeout=function(e){this._stateRegistry[e]&&(clearTimeout(this._stateRegistry[e]),delete this._stateRegistry[e])},t.timeout=function(e,t){var n=_(U["load-timeout"]),o=this._loadingContainer(e)
;return o.empty().append(n),this._startSpinner(o),_("a.ap-btn-cancel",o).click((function(){N.cancelled(e,t)})),this._clearTimeout(t),o},e}());function H(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}function q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function K(e,n,o){return K=q()?Reflect.construct.bind():function(e,n,o){var r=[null];r.push.apply(r,n);var i=new(Function.bind.apply(e,r));return o&&t(i,o.prototype),i},K.apply(null,arguments)}b.register("iframe-create",(function(e){e.extension.options.noDom||J._setupTimeout(e.$el.parents(".ap-iframe-container"),e.extension)})),b.register("iframe-bridge-established",(function(e){e.extension.options.noDom||J.hide(e.$el.parents(".ap-iframe-container"),e.extension.id)
})),b.register("iframe-bridge-timeout",(function(e){e.extension.options.noDom||J.timeout(e.$el,e.extension.id)})),b.register("iframe-bridge-cancelled",(function(e){e.extension.options.noDom||J.cancelled(e.$el,e.extension.id)})),b.register("iframe-destroyed",(function(e){J._clearTimeout(e.extension.extension_id)}));var z="[Simple-XDM] ",Q=Function.prototype.bind,V={locationOrigin:function(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},randomString:function(){return Math.floor(1e9*Math.random()).toString(16)},isString:function(e){return"string"==typeof e||e instanceof String},argumentsToArray:function(e){return Array.prototype.slice.call(e)},argumentNames:function(e){return e.toString().replace(/((\/\/.*$)|(\/\*[^]*?\*\/))/gm,"").replace(/[^(]+\(([^)]*)[^]+/,"$1").match(/([^\s,]+)/g)||[]},hasCallback:function(e){var t=e.length;return t>0&&"function"==typeof e[t-1]},
error:function(e){if(window.console&&window.console.error){var t=[];"string"==typeof e?(t.push(z+e),t=t.concat(Array.prototype.slice.call(arguments,1))):(t.push(z),t=t.concat(Array.prototype.slice.call(arguments))),window.console.error.apply(null,t)}},warn:function(e){window.console&&console.warn(z+e)},log:function(e){window.console&&window.console.log(z+e)},_bind:function(e,t){return Q&&t.bind===Q?t.bind(e):function(){return t.apply(e,arguments)}},throttle:function(e,t,n){var o=0;return function(){var r=Date.now();r-o>t&&(o=r,e.apply(n,arguments))}},each:function(e,t){var n,o;if(e)if(null!=(n=e.length)&&"function"!=typeof e)for(o=0;o<n&&!1!==t.call(e[o],o,e[o]);)o+=1;else for(o in e)if(e.hasOwnProperty(o)&&!1===t.call(e[o],o,e[o]))break},extend:function(e){var t=arguments;return[].slice.call(t,1,t.length).forEach((function(t){"object"==typeof t&&Object.getOwnPropertyNames(t).forEach((function(n){e[n]=t[n]}))})),e},sanitizeStructuredClone:function(e){
var t=[Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer],n=[Error,Node],o=V.warn,r=[];function i(e){if("function"==typeof e)return o("A function was detected and removed from the message."),null;if(n.some((function(t){return e instanceof t&&(o(t.name+" object was detected and removed from the message."),!0)})))return{};if(e&&"object"==typeof e&&t.every((function(t){return!(e instanceof t)}))){var a;if(Array.isArray(e))a=e.map((function(e){return i(e)}));else{if(r.indexOf(e)>-1)return o("A circular reference was detected and removed from the message."),null;for(var s in r.push(e),a={},e)if(e.hasOwnProperty(s)){var c=i(e[s]);null!==c&&(a[s]=c)}r.pop()}return a}return e}return i(e)},getOrigin:function(t,n){if("function"==typeof URL)try{return new URL(t,n).origin}catch(e){}var o=document.implementation.createHTMLDocument("");if(n){var r=o.createElement("base");r.href=n,o.head.appendChild(r)}var i=o.createElement("a");i.href=t,o.body.appendChild(i);var a=i.protocol+"//"+i.hostname
;return t.match(/\/\/[^/]+:[0-9]+\//)&&(a+=i.port?":"+i.port:""),a}},W=3e4,G=function(t){n(r,t);var o=r.prototype;function r(e){var n;return e=e||{},(n=t.call(this,e)||this)._registeredExtensions=e.extensions||{},n._registeredAPIModules={},n._registeredAPIModules._globals={},n._pendingCallbacks={},n._keycodeCallbacks={},n._clickHandler=null,n._pendingEvents={},n._messageHandlers={init:n._handleInit,req:n._handleRequest,resp:n._handleResponse,broadcast:n._handleBroadcast,event_query:n._handleEventQuery,key_triggered:n._handleKeyTriggered,addon_clicked:n._handleAddonClick,get_host_offset:n._getHostOffset,unload:n._handleUnload,sub:n._handleSubInit},n}return o._padUndefinedArguments=function(e,t){return e.length>=t?e:e.concat(new Array(t-e.length))},o._verifyAPI=function(e,t){var n=e.data.targets;if(n){var o=this.getApiSpec(),r=!1;i(o,n),e.source.postMessage({type:"api_tamper",tampered:r},t.extension.url)}function i(e,t){Object.getOwnPropertyNames(t).forEach((function(n){
"object"==typeof t[n]&&e[n]?i(e[n],t[n]):"parent"===t[n]&&e[n]&&(r=!0)}))}},o._handleInit=function(e,t){e.source.postMessage({type:"init_received"},t.extension.url),this._registeredExtensions[t.extension_id].source=e.source,t.initCallback&&(t.initCallback(e.data.eid),delete t.initCallback),e.data.targets&&this._verifyAPI(e,t)},o._handleSubInit=function(e,t){var n=t.extension.options.noSub||this._getBooleanFeatureFlag&&this._getBooleanFeatureFlag("com.atlassian.connect.resolve_inner_iframe_url"),o=e.data;n?V.error("Sub-Extension requested by ["+t.extension.addon_key+"] but feature is disabled"):this.registerExtension(o.ext.id,{extension:o.ext}),this._registeredRequestNotifier&&this._registeredRequestNotifier.call(null,{sub:o.ext,type:o.type,addon_key:t.extension.addon_key,key:t.extension.key,extension_id:t.extension_id,blocked:n})},o._getHostOffset=function(e,t){var n=e.source,o=null,r=t||window
;if(r===r.top&&"function"==typeof r.getHostOffsetFunctionOverride&&(o=r.getHostOffsetFunctionOverride(n)),"number"!=typeof o)for(o=0;!this._hasSameOrigin(n);)o++,n=n.parent;e.source.postMessage({hostFrameOffset:o},e.origin)},o._hasSameOrigin=function(t){if(t===t.top)return!0;try{var n="test_var_"+Math.random().toString(16).substr(2);return t[n]=!0,t[n]}catch(e){}return!1},o._handleResponse=function(e){var t=e.data,n=this._pendingCallbacks[t.mid];n&&(delete this._pendingCallbacks[t.mid],n.apply(window,t.args))},o.registerRequestNotifier=function(e){this._registeredRequestNotifier=e},o._handleRequest=function(e,t){function n(){var n=V.sanitizeStructuredClone(V.argumentsToArray(arguments));e.source.postMessage({mid:e.data.mid,type:"resp",forPlugin:!0,args:n},t.extension.url)}var o=e.data,r=this._registeredAPIModules[o.mod],i=this.getRegisteredExtensions(t.extension)[0];if(r){var a=o.fn;if(o._cls){var s=r[o._cls],c=o.mod+"-"+o._cls+"-";n._id=o._id,
"constructor"===a?(s._construct||(s.constructor.prototype._destroy=function(){delete this._context._proxies[c+this._id]},s._construct=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=K(s.constructor,t),r=t[t.length-1];return o._id=r._id,o._context=r._context,o._context._proxies[c+o._id]=o,o}),r=s,a="_construct"):r=i._proxies[c+o._id]}var d=r[a];if(d){var u=o.args,l=d.length-1;"_construct"===a&&(l=r.constructor.length-1),n._context=i,(u=this._padUndefinedArguments(u,l)).push(n);var f=d.apply(r,u);d.returnsPromise&&("object"!=typeof f&&"function"!=typeof f||"function"!=typeof f.then?n("Defined module method did not return a promise."):f.then((function(e){n(void 0,e)})).catch((function(e){n(e=e instanceof Error?e.message:e)}))),this._registeredRequestNotifier&&this._registeredRequestNotifier.call(null,{module:o.mod,fn:o.fn,type:o.type,addon_key:t.extension.addon_key,key:t.extension.key,extension_id:t.extension_id})}}},
o._handleBroadcast=function(e,t){var n=e.data,o=function(e){return e.extension.addon_key===t.extension.addon_key&&e.extension_id!==t.extension_id};this.dispatch(n.etyp,o,n.evnt,null,null)},o._handleKeyTriggered=function(e,t){var n=e.data,o=this._keycodeKey(n.keycode,n.modifiers,t.extension_id),r=this._keycodeCallbacks[o];r&&r.forEach((function(e){e.call(null,{addon_key:t.extension.addon_key,key:t.extension.key,extension_id:t.extension_id,keycode:n.keycode,modifiers:n.modifiers})}),this)},o.defineAPIModule=function(e,t){return t=t||"_globals",this._registeredAPIModules[t]=V.extend({},this._registeredAPIModules[t]||{},e),this._registeredAPIModules},o.isAPIModuleDefined=function(e){return void 0!==this._registeredAPIModules[e]},o._pendingEventKey=function(e,t){var n=e.addon_key||"global";return e.key&&(n=n+"@@"+e.key),n=n+"@@"+t},o.queueEvent=function(e,t,n,o){if(this._findRegistrations(t).some((function(e){return void 0!==e.registered_events}),this))this.dispatch(e,t,n,o);else{
this._cleanupInvalidEvents();var r=(new Date).getTime();this._pendingEvents[this._pendingEventKey(t,r)]={type:e,targetSpec:t,event:n,callback:o,time:r,uid:V.randomString()}}},o._cleanupInvalidEvents=function(){var e=this,t=(new Date).getTime();Object.keys(this._pendingEvents).forEach((function(n){var o=e._pendingEvents[n];t-o.time<=W||delete e._pendingEvents[n]}))},o._handleEventQuery=function(e,t){var n=this,o={},r=(new Date).getTime();return Object.keys(this._pendingEvents).forEach((function(i){var a=n._pendingEvents[i],s=r-a.time<=W,c=!a.targetSpec||0!==n._findRegistrations(a.targetSpec).length;c&&a.targetSpec.key&&(c=a.targetSpec.addon_key===t.extension.addon_key&&a.targetSpec.key===t.extension.key),s&&c?(o[i]=a,a.targetSpec=a.targetSpec||{},n.dispatch(a.type,a.targetSpec,a.event,a.callback,e.source)):s||delete n._pendingEvents[i]})),this._registeredExtensions[t.extension_id].registered_events=e.data.args,o},o._handleUnload=function(e,t){
t&&(t.extension_id&&this._registeredExtensions[t.extension_id]&&delete this._registeredExtensions[t.extension_id].source,t.unloadCallback&&t.unloadCallback(e.data.eid))},o.dispatch=function(e,t,n,o,r){function i(t,n){var r;t.source&&t.source.postMessage&&(o&&(r=V.randomString(),this._pendingCallbacks[r]=o),t.source.postMessage({type:"evt",mid:r,etyp:e,evnt:n},t.extension.url))}this._findRegistrations(t||{}).forEach((function(e){r&&!e.source&&(e.source=r),e.source&&V._bind(this,i)(e,n)}),this)},o._findRegistrations=function(e){var t=this;if(0===this._registeredExtensions.length)return V.error("no registered extensions",this._registeredExtensions),[];var n=Object.getOwnPropertyNames(e),o=Object.getOwnPropertyNames(this._registeredExtensions).map((function(e){return t._registeredExtensions[e]}));return e instanceof Function?o.filter(e):o.filter((function(t){return n.every((function(n){return t.extension[n]===e[n]}))}))},o.registerExtension=function(e,t){t._proxies={},t.extension_id=e,
this._registeredExtensions[e]=t},o._keycodeKey=function(e,t,n){var o=e;return t&&("string"==typeof t&&(t=[t]),t.sort(),t.forEach((function(e){o+="$$"+e}),this)),o+"__"+n},o.registerKeyListener=function(e,t,n,o){"string"==typeof n&&(n=[n]);var r=this._registeredExtensions[e],i=this._keycodeKey(t,n,e);this._keycodeCallbacks[i]||(this._keycodeCallbacks[i]=[],r.source.postMessage({type:"key_listen",keycode:t,modifiers:n,action:"add"},r.extension.url)),this._keycodeCallbacks[i].push(o)},o.unregisterKeyListener=function(e,t,n,o){var r=this._keycodeKey(t,n,e),i=this._keycodeCallbacks[r],a=this._registeredExtensions[e];if(i){if(o){var s=i.indexOf(o);this._keycodeCallbacks[r].splice(s,1)}else delete this._keycodeCallbacks[r];a.source&&a.source.postMessage&&a.source.postMessage({type:"key_listen",keycode:t,modifiers:n,action:"remove"},a.extension.url)}},o.registerClickHandler=function(e){if("function"!=typeof e)throw new Error("callback must be a function")
;if(null!==this._clickHandler)throw new Error("ClickHandler already registered");this._clickHandler=e},o._handleAddonClick=function(e,t){"function"==typeof this._clickHandler&&this._clickHandler({addon_key:t.extension.addon_key,key:t.extension.key,extension_id:t.extension_id})},o.unregisterClickHandler=function(){this._clickHandler=null},o.getApiSpec=function(e){var t=this;function n(e){return Object.getOwnPropertyNames(e).reduce((function(t,o){var r=e[o];switch(typeof r){case"function":t[o]={args:V.argumentNames(r),returnsPromise:r.returnsPromise||!1};break;case"object":r.hasOwnProperty("constructor")&&(t[o]=n(r))}return t}),{})}return Object.getOwnPropertyNames(this._registeredAPIModules).reduce((function(o,r){var i=t._registeredAPIModules[r];return void 0!==i.addonKey&&i.addonKey!==e||(o[r]=n(i)),o}),{})},o._originEqual=function(e,t){function n(e){return"string"==typeof e&&e.length>0}var o=V.getOrigin(e);return!!(n(e)&&n(t)&&n(o))&&t===o},o._checkOrigin=function(e,t){
var n=["init"],o=t&&!t.source&&n.indexOf(e.data.type)>-1,r=t&&e.source===t.source,i=t&&this._originEqual(t.extension.url,e.origin)&&(o||r);return"get_host_offset"===e.data.type&&window===window.top&&(i=!0),"unload"!==e.data.type||!r&&void 0!==e.source||(i=!0),i},o.getRegisteredExtensions=function(e){return e?this._findRegistrations(e):this._registeredExtensions},o.unregisterExtension=function(e){var t=this._findRegistrations(e);0!==t.length&&t.forEach((function(e){var t=this;Object.keys(this._pendingEvents).forEach((function(n){var o=t._pendingEvents[n].targetSpec||{};o.addon_key===e.extension.addon_key&&o.key===e.extension.key&&delete t._pendingEvents[n]})),delete this._registeredExtensions[e.extension_id]}),this)},o.setFeatureFlagGetter=function(e){this._getBooleanFeatureFlag=e},r}(function(){function e(e){var t=e||{};this._registerListener(t.listenOn)}var t=e.prototype;return t._registerListener=function(e){e&&e.addEventListener||(e=window),
e.addEventListener("message",V._bind(this,this._receiveMessage),!1)},t._receiveMessage=function(e){var t,n=this._messageHandlers[e.data.type],o=e.data.eid;if(o&&this._registeredExtensions&&(t=this._registeredExtensions[o]),!n||!this._checkOrigin(e,t))return!1;n.call(this,e,t)},e}()),Z=function(){function e(){this._xdm=new G}var t=e.prototype;return t.dispatch=function(e,t,n,o){return this._xdm.queueEvent(e,t,n,o),this.getExtensions(t)},t.broadcast=function(e,t,n){return this._xdm.dispatch(e,t,n,null,null),this.getExtensions(t)},t._createId=function(e){if(!e.addon_key||!e.key)throw Error("Extensions require addon_key and key");return e.addon_key+"__"+e.key+"__"+V.randomString()},t.create=function(e,t,n){var o=this.registerExtension(e,t,n),r=e.options||{},i={extension_id:o,api:this._xdm.getApiSpec(e.addon_key),origin:V.locationOrigin(),options:r};return{id:o,name:JSON.stringify(i),src:e.url}},t.registerRequestNotifier=function(e){this._xdm.registerRequestNotifier(e)},
t.registerExtension=function(e,t,n){var o=this._createId(e);return this._xdm.registerExtension(o,{extension:e,initCallback:t,unloadCallback:n}),o},t.registerKeyListener=function(e,t,n,o){this._xdm.registerKeyListener(e,t,n,o)},t.unregisterKeyListener=function(e,t,n,o){this._xdm.unregisterKeyListener(e,t,n,o)},t.registerClickHandler=function(e){this._xdm.registerClickHandler(e)},t.unregisterClickHandler=function(){this._xdm.unregisterClickHandler()},t.defineModule=function(e,t,n){this._xdm.defineAPIModule(t,e,n)},t.isModuleDefined=function(e){return this._xdm.isAPIModuleDefined(e)},t.defineGlobals=function(e){this._xdm.defineAPIModule(e)},t.getExtensions=function(e){return this._xdm.getRegisteredExtensions(e)},t.unregisterExtension=function(e){return this._xdm.unregisterExtension(e)},t.returnsPromise=function(e){e.returnsPromise=!0},t.setFeatureFlagGetter=function(e){this._xdm.setFeatureFlagGetter(e)},t.registerExistingExtension=function(e,t){return this._xdm.registerExtension(e,t)},e
}(),Y=new Z,X=["contextJwt","url"],ee={broadcast:function(e,t,n){Y.dispatch(e,t,n),b.dispatch("event-dispatch",{type:e,targetSpec:t,event:n})},broadcastPublic:function(e,t,n){b.dispatch("event-public-dispatch",{type:e,event:t,sender:n});var o=n.options||{};o.contextJwt,o.url;var r=H(o,X);Y.dispatch(e,{},{sender:{addonKey:n.addon_key,key:n.key,options:V.sanitizeStructuredClone(r)},event:t})}};function te(e){if(!e)throw new Error("No selector to escape");return e.replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$&")}function ne(e){var t=!1,n="px";if("string"==typeof e&&(t=e.indexOf("%")===e.length-1,e=parseInt(e,10),t&&(n="%")),!isNaN(e))return e+n}function oe(e){return _("iframe#"+te(e))}function re(e,t){return t?e.slice(0,t):e[0]}function ie(e){return e[e.length-1]}function ae(e,t){return"object"!=typeof e?{}:Object.keys(e).filter((function(e){return t.indexOf(e)>=0})).reduce((function(t,n){var o;return Object.assign(t,((o={})[n]=e[n],o))}),{})}function se(e,t){var n
;return function(){var o=this,r=[].slice.call(arguments);function i(){n=null,e.apply(o,r)}n&&clearTimeout(n),n=setTimeout(i,t||50)}}function ce(e,t,n,o){return e&&e[t]&&e[t].supports?e[t].supports(n):o}var de={escapeSelector:te,stringToDimension:ne,getIframeByExtensionId:oe,first:re,last:ie,pick:ae,debounce:se,isSupported:ce,extend:Object.assign},ue={emit:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=de.last(n);n=de.first(n,-1),ee.broadcast(e,{addon_key:r._context.extension.addon_key},n)},emitPublic:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=de.last(n)._context.extension;n=de.first(n,-1),ee.broadcastPublic(e,n,r)},emitToDataProvider:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=de.last(t);o._context.extension,t=de.first(t,-1),ee.broadcast("dataProviderEvent",{addon_key:o._context.extension.addon_key},t)}},le={open:function(e,t){
b.dispatch("dialog-extension-open",{extension:e,options:t})},close:function(){b.dispatch("dialog-close-active",{})},addUserButton:function(e,t){b.dispatch("dialog-button-add",{button:{text:e.text,identifier:e.identifier,data:{userButton:!0}},extension:t})}},fe={close:function(e){b.dispatch("dialog-close",{dialog:e.dialog,extension:e.extension,customData:e.customData})},closeActive:function(e){b.dispatch("dialog-close-active",e)},clickButton:function(e,t,n){b.dispatch("dialog-button-click",{identifier:e,$el:t,extension:n})},toggleButton:function(e){b.dispatch("dialog-button-toggle",e)},toggleButtonVisibility:function(e){b.dispatch("dialog-button-toggle-visibility",e)}},pe={registerKeyEvent:function(e){Y.registerKeyListener(e.extension_id,e.key,e.modifiers,e.callback),b.dispatch("dom-event-register",e)},unregisterKeyEvent:function(e){Y.unregisterKeyListener(e.extension_id,e.key,e.modifiers,e.callback),b.dispatch("dom-event-unregister",e)},registerWindowKeyEvent:function(e){
window.addEventListener("keydown",(function(t){t.keyCode===e.keyCode&&e.callback()}))},registerClickHandler:function(e){Y.registerClickHandler((function(t){var n=document.getElementById(t.extension_id);n&&e(n)}))},unregisterClickHandler:function(){Y.unregisterClickHandler()}},he=new(function(){function e(){}return e.prototype.randomIdentifier=function(){return Math.random().toString(16).substring(7)},e}()),ge=new(function(){function e(){}var t=e.prototype;return t._maxDimension=function(e,t){var n=de.stringToDimension(e),o=parseInt(n,10),r=parseInt(t,10);return n.indexOf("%")>-1&&o>=100||o>r?"100%":n},t._closeOnEscape=function(e){return!1!==e.closeOnEscape},t._size=function(e){var t=e.size;return"x-large"===e.size&&(t="xlarge"),"maximum"!==e.size&&"100%"===e.width&&"100%"===e.height&&(t="fullscreen"),t},t._header=function(e){var t="";switch(typeof e){case"string":t=e;break;case"object":t=e.value}return t},t._hint=function(e){return"string"==typeof e?e:""},t._chrome=function(e){var t=!1
;return"boolean"==typeof e.chrome&&(t=e.chrome),"fullscreen"===e.size&&(t=!0),"maximum"===e.size&&(t=!1),t},t._width=function(e){if(!e.size)return e.width?this._maxDimension(e.width,_(window).width()):"50%"},t._height=function(e){if(!e.size)return e.height?this._maxDimension(e.height,_(window).height()):"50%"},t._actions=function(e){var t=[];return(e=e||{}).actions||(t=[{name:"submit",identifier:"submit",text:e.submitText||"Submit",type:"primary",disabled:!0},{name:"cancel",identifier:"cancel",text:e.cancelText||"Cancel",type:"link",immutable:!0}]),e.buttons&&(t=t.concat(this._buttons(e))),t},t._id=function(e){return"string"!=typeof e&&(e=Math.random().toString(36).substring(2,8)),e},t._buttons=function(e){var t=[];return e.buttons&&Array.isArray(e.buttons)&&e.buttons.forEach((function(e){var n,o,r=!1;e.text&&"string"==typeof e.text&&(n=e.text),o=e.identifier&&"string"==typeof e.identifier?e.identifier:he.randomIdentifier(),e.disabled&&!0===e.disabled&&(r=!0),t.push({text:n,
identifier:o,type:"secondary",custom:!0,disabled:r})})),t},t._onHide=function(e){var t=function(){};return"function"==typeof e.onHide?e.onHide:t},t.sanitizeOptions=function(e){e=e||{};var t={chrome:this._chrome(e),header:this._header(e.header),hint:this._hint(e.hint),width:this._width(e),height:this._height(e),$content:e.$content,extension:e.extension,actions:this._actions(e),id:this._id(e.id),size:e.size,closeOnEscape:this._closeOnEscape(e),onHide:this._onHide(e)};return t.size=this._size(t),t},t.moduleOptionsFromGlobal=function(e,t){var n={chrome:!0};return!!(window._AP&&window._AP.dialogModules&&window._AP.dialogModules[e]&&window._AP.dialogModules[e][t])&&de.extend({},n,window._AP.dialogModules[e][t].options)},t.trackMultipleDialogOpening=function(e,t){var n,o=this._size(t)
;_(".ap-aui-dialog2:visible").length&&(n=_("#macro-browser-dialog").length||AJS.Confluence&&AJS.Confluence.Editor&&AJS.Confluence.Editor.currentEditMode?"fullscreen"===o?"connect-macro-multiple-fullscreen":"connect-macro-multiple":"connect-multiple",F.trackMultipleDialogOpening(n,e))},t.assertActiveDialogOrThrow=function(e,t){if(!e.isActiveDialog(t))throw new Error("Failed to find an active dialog for: "+t)},e}()),me={notifyIframeCreated:function(e,t){b.dispatch("iframe-create",{$el:e,extension:t})},notifyBridgeEstablished:function(e,t){b.dispatch("iframe-bridge-established",{$el:e,extension:t})},notifyIframeDestroyed:function(e){"string"==typeof e&&(e={id:e}),Y.getExtensions(e).forEach((function(e){b.dispatch("iframe-destroyed",{extension:e}),Y.unregisterExtension({id:e.extension_id})}),this)},notifyUnloaded:function(e,t){b.dispatch("iframe-unload",{$el:e,extension:t})}},ye={},ve=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){
return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))},we="%[a-f0-9]{2}",xe=new RegExp("("+we+")|([^%]+?)","gi"),be=new RegExp("("+we+")+","gi");function _e(e,t){try{return[decodeURIComponent(e.join(""))]}catch(r){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],_e(n),_e(o))}function ke(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(xe)||[],n=1;n<t.length;n++)t=(e=_e(t,n).join("")).match(xe)||[];return e}}function Ee(e){for(var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=be.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(s){var o=ke(n[0]);o!==n[0]&&(t[n[0]]=o)}n=be.exec(e)}t["%C2"]="\ufffd";for(var r=Object.keys(t),i=0;i<r.length;i++){var a=r[i];e=e.replace(new RegExp(a,"g"),t[a])}return e}var Ae=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return Ee(e)}
},Ce=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]},Oe=function(e,t){for(var n={},o=Object.keys(e),r=Array.isArray(t),i=0;i<o.length;i++){var a=o[i],s=e[a];(r?-1!==t.indexOf(a):t(a,s,e))&&(n[a]=s)}return n};!function(e){const t=ve,n=Ae,o=Ce,r=Oe,i=e=>null==e,a=Symbol("encodeFragmentIdentifier");function s(e){switch(e.arrayFormat){case"index":return t=>(n,o)=>{const r=n.length;return void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?n:null===o?[...n,[u(t,e),"[",r,"]"].join("")]:[...n,[u(t,e),"[",u(r,e),"]=",u(o,e)].join("")]};case"bracket":return t=>(n,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?n:null===o?[...n,[u(t,e),"[]"].join("")]:[...n,[u(t,e),"[]=",u(o,e)].join("")];case"colon-list-separator":
return t=>(n,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?n:null===o?[...n,[u(t,e),":list="].join("")]:[...n,[u(t,e),":list=",u(o,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return n=>(o,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?o:(r=null===r?"":r,0===o.length?[[u(n,e),t,u(r,e)].join("")]:[[o,u(r,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?n:null===o?[...n,u(t,e)]:[...n,[u(t,e),"=",u(o,e)].join("")]}}function c(e){let t;switch(e.arrayFormat){case"index":return(e,n,o)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===o[e]&&(o[e]={}),o[e][t[1]]=n):o[e]=n};case"bracket":return(e,n,o)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==o[e]?o[e]=[].concat(o[e],n):o[e]=[n]:o[e]=n};case"colon-list-separator":return(e,n,o)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),
t?void 0!==o[e]?o[e]=[].concat(o[e],n):o[e]=[n]:o[e]=n};case"comma":case"separator":return(t,n,o)=>{const r="string"==typeof n&&n.includes(e.arrayFormatSeparator),i="string"==typeof n&&!r&&l(n,e).includes(e.arrayFormatSeparator);n=i?l(n,e):n;const a=r||i?n.split(e.arrayFormatSeparator).map((t=>l(t,e))):null===n?n:l(n,e);o[t]=a};case"bracket-separator":return(t,n,o)=>{const r=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!r)return void(o[t]=n?l(n,e):n);const i=null===n?[]:n.split(e.arrayFormatSeparator).map((t=>l(t,e)));void 0!==o[t]?o[t]=[].concat(o[t],i):o[t]=i};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}function d(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(e,n){return n.encode?n.strict?t(e):encodeURIComponent(e):e}function l(e,t){return t.decode?n(e):e}function f(e){
return Array.isArray(e)?e.sort():"object"==typeof e?f(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function p(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function h(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}function g(e){const t=(e=p(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function m(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function y(e,t){d((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=c(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const i of e.split("&")){if(""===i)continue;let[e,a]=o(t.decode?i.replace(/\+/g," "):i,"=")
;a=void 0===a?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:l(a,t),n(l(e,t),a,r)}for(const o of Object.keys(r)){const e=r[o];if("object"==typeof e&&null!==e)for(const n of Object.keys(e))e[n]=m(e[n],t);else r[o]=m(e,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=f(n):e[t]=n,e}),Object.create(null))}e.extract=g,e.parse=y,e.stringify=(e,t)=>{if(!e)return"";d((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&i(e[n])||t.skipEmptyString&&""===e[n],o=s(t),r={};for(const i of Object.keys(e))n(i)||(r[i]=e[i]);const a=Object.keys(r);return!1!==t.sort&&a.sort(t.sort),a.map((n=>{const r=e[n];return void 0===r?"":null===r?u(n,t):Array.isArray(r)?0===r.length&&"bracket-separator"===t.arrayFormat?u(n,t)+"[]":r.reduce(o(n),[]).join("&"):u(n,t)+"="+u(r,t)
})).filter((e=>e.length>0)).join("&")},e.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=o(e,"#");return Object.assign({url:n.split("?")[0]||"",query:y(g(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:l(r,t)}:{})},e.stringifyUrl=(t,n)=>{n=Object.assign({encode:!0,strict:!0,[a]:!0},n);const o=p(t.url).split("?")[0]||"",r=e.extract(t.url),i=e.parse(r,{sort:!1}),s=Object.assign(i,t.query);let c=e.stringify(s,n);c&&(c=`?${c}`);let d=h(t.url);return t.fragmentIdentifier&&(d=`#${n[a]?u(t.fragmentIdentifier,n):t.fragmentIdentifier}`),`${o}${c}${d}`},e.pick=(t,n,o)=>{o=Object.assign({parseFragmentIdentifier:!0,[a]:!1},o);const{url:i,query:s,fragmentIdentifier:c}=e.parseUrl(t,o);return e.stringifyUrl({url:i,query:r(s,n),fragmentIdentifier:c},o)},e.exclude=(t,n,o)=>{const r=Array.isArray(n)?e=>!n.includes(e):(e,t)=>!n(e,t);return e.pick(t,r,o)}}(ye)
;for(var Se=Fe,Ie=[],je=[],Te="undefined"!=typeof Uint8Array?Uint8Array:Array,Pe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Re=0,Le=Pe.length;Re<Le;++Re)Ie[Re]=Pe[Re],je[Pe.charCodeAt(Re)]=Re;function De(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function Me(e,t,n){return 3*(t+n)/4-n}function Fe(e){for(var t,n=De(e),o=n[0],r=n[1],i=new Te(Me(e,o,r)),a=0,s=r>0?o-4:o,c=0;c<s;c+=4)t=je[e.charCodeAt(c)]<<18|je[e.charCodeAt(c+1)]<<12|je[e.charCodeAt(c+2)]<<6|je[e.charCodeAt(c+3)],i[a++]=t>>16&255,i[a++]=t>>8&255,i[a++]=255&t;return 2===r&&(t=je[e.charCodeAt(c)]<<2|je[e.charCodeAt(c+1)]>>4,i[a++]=255&t),1===r&&(t=je[e.charCodeAt(c)]<<10|je[e.charCodeAt(c+1)]<<4|je[e.charCodeAt(c+2)]>>2,i[a++]=t>>8&255,i[a++]=255&t),i}function Ne(e){var t=4-e.length%4;return 1===t?e+="=":2===t&&(e+="=="),(new TextDecoder).decode(Se(e))}je["-".charCodeAt(0)]=62,
je["_".charCodeAt(0)]=63;var $e=60;function Ue(e){return Be(e).iss}function Be(e){if(null===e||""===e)throw"Invalid JWT: must be neither null nor empty-string.";var t=e.indexOf("."),n=e.indexOf(".",t+1);if(t<0||n<=t)throw'Invalid JWT: must contain 2 period (".") characters.';var o=e.substring(t+1,n);if(null===o||""===o)throw"Invalid JWT: encoded claims must be neither null nor empty-string.";var r=Ne.call(window,o);return JSON.parse(r)}function Je(e,t){void 0===t&&(t=$e);var n=Be(e),o=0,r=Math.floor(Date.now()/1e3);return n&&n.exp&&(o=n.exp),o-t<r}b.register("jwt-skew-set",(function(e){$e=e.skew}));var He={parseJwtIssuer:Ue,parseJwtClaims:Be,isJwtExpired:Je};function qe(e){var t=Ke(e);return He.isJwtExpired(t)}function Ke(e){return ye.parse(ye.extract(e)).jwt}function ze(e){return Ke(e)&&0!==Ke(e).length}var Qe={hasJwt:ze,isJwtExpired:qe},Ve={registerContentResolver:function(e){b.dispatch("content-resolver-register-by-extension",e)},requestRefreshUrl:function(t){
if(!t.resolver)throw Error("ACJS: No content resolver supplied");var n=t.resolver.call(null,de.extend({classifier:"json"},t.extension));n.fail((function(e,n){b.dispatch("jwt-url-refreshed-failed",{extension:t.extension,$container:t.$container,errorText:n.text})})),n.done((function(n){var o={};if("object"==typeof n)o=n;else if("string"==typeof n)try{o=JSON.parse(n)}catch(e){console.error("ACJS: invalid response from content resolver")}t.extension.url=o.url,de.extend(t.extension.options,o.options),b.dispatch("jwt-url-refreshed",{extension:t.extension,$container:t.$container,url:t.extension.url})})),b.dispatch("jwt-url-refresh-request",{data:t})},setClockSkew:function(e){"number"==typeof e?b.dispatch("jwt-skew-set",{skew:e}):console.error("ACJS: invalid JWT clock skew set")}},We={optionsToAttributes:function(e){var t={};if(e&&"object"==typeof e&&(e.width&&(t.width=de.stringToDimension(e.width)),e.height&&(t.height=de.stringToDimension(e.height)),"string"==typeof e.sandbox)){
var n=document.createElement("iframe");t.sandbox=e.sandbox.split(" ").filter((function(e){return de.isSupported(n,"sandbox",e,!0)})).join(" ")}return t}},Ge=new(function(){function e(){this.store={}}var t=e.prototype;return t.set=function(e,t){if(t){var n={};n[e]=t}else n=e;de.extend(this.store,n)},t.get=function(e){return e?this.store[e]:de.extend({},this.store)},e}()),Ze=!1,Ye="com.codebarrel.addons.automation";function Xe(){if(!Ze){Ze=!0;var e={getPerformanceTiming:function(e){return new Promise((function(n,o){t(e)||o(new Error("This is a restricted API")),n(JSON.parse(JSON.stringify(window.performance.timing)))}))},getPerformanceNavigationTiming:function(e){return new Promise((function(n,o){t(e)||o(new Error("This is a restricted API")),window.PerformanceNavigationTiming||n(void 0);var r=window.performance.getEntriesByType("navigation");n(JSON.parse(JSON.stringify(r)))}))}};Y.returnsPromise(e.getPerformanceTiming),Y.returnsPromise(e.getPerformanceNavigationTiming),
Y.defineModule("_performance",e)}function t(e){return e._context.extension.addon_key===Ye}}var et=!1;function tt(){if(!et){et=!0;var e={getBooleanFeatureFlag:function(e){return new Promise((function(t,n){0===e.indexOf("com.atlassian.connect.acjs.iframe.")?t(I(e)):n(new Error("Only allowlisted flags can be accessed from the iframe."))}))}};Y.returnsPromise(e.getBooleanFeatureFlag),Y.defineModule("_featureFlag",e)}}var nt="data-theme",ot="data-color-mode";function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}function it(e,t){if("object"!==rt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==rt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function at(e){var t=it(e,"string")
;return"symbol"===rt(t)?t:String(t)}function st(e,t,n){return(t=at(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e){if(Array.isArray(e))return e}function dt(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,s=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(s.push(o.value),s.length!==t);c=!0);}catch(u){d=!0,r=u}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw r}}return s}}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function lt(e,t){if(e){if("string"==typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ut(e,t):void 0}}
function ft(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pt(e,t){return ct(e)||dt(e,t)||lt(e,t)||ft()}var ht=["light","dark","auto"],gt=["light","dark","legacy-light","legacy-dark","spacing","typography","shape"],mt=["light","dark","spacing","typography","shape"],yt=function(e){return void 0!==mt.find((function(t){return t===e}))},vt=function(e){return void 0!==gt.find((function(t){return t===e}))},wt=function(e){return["light","dark","auto"].includes(e)},xt=function(e){return e.split(" ").map((function(e){return e.split(":")})).reduce((function(e,t){var n=pt(t,2),o=n[0],r=n[1];return"colorMode"===o&&wt(r)&&(e[o]=r),yt(o)&&vt(r)&&(e[o]=r),e}),{})};function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}
return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){st(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kt=function(e){return void 0!==ht.find((function(t){return t===e}))},Et=function(){if("undefined"==typeof document)return{};var e=document.documentElement,t=e.getAttribute(ot)||"",n=e.getAttribute(nt)||"";return _t(_t({},xt(n)),kt(t)&&{colorMode:t})};function At(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ct(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,at(o.key),o)}}function Ot(e,t,n){return t&&Ct(e.prototype,t),n&&Ct(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}
var St=function(){function e(t){At(this,e),st(this,"observer",null),st(this,"mediaObserver",null),this.callback=t}return Ot(e,[{key:"observe",value:function(){var e=this;this.observer||(this.observer=new MutationObserver((function(){e.callback(Et())}))),this.observer.observe(document.documentElement,{attributeFilter:[nt,ot]})}},{key:"disconnect",value:function(){this.observer&&this.observer.disconnect()}}]),e}();function It(e){var t=jt(e),n=Ge.get();e.options=t.options=de.extend({},t.options),e.options.globalOptions=n,Tt(e.addon_key);var o=Y.create(t,(function(){e.options.noDOM||(e.$el=_(document.getElementById(e.id))),me.notifyBridgeEstablished(e.$el,e)}),(function(){me.notifyUnloaded(e.$el,e)}));return t.id=o.id,e.id=o.id,de.extend(o,We.optionsToAttributes(e.options)),{iframeAttributes:o,extension:e}}function jt(e){var t=e.url;return(I("platform.design-system-team.color-mode-in-acjs-url")||I("confluence.platform.design-system-team.color-mode-in-acjs-url"))&&(t=Pt(e.url)),{
addon_key:e.addon_key,key:e.key,url:t,options:e.options}}function Tt(e){e===Ye&&Xe(),tt()}function Pt(e){var t=Et().colorMode,n=new URL(e,document.baseURI);return t&&n.searchParams.set("initialColorMode",t),n.toString()}var Rt={createSimpleXdmExtension:It,extensionConfigSanitizer:jt},Lt=new(function(){function e(){this._contentResolver=!1}var t=e.prototype;return t.setContentResolver=function(e){this._contentResolver=e},t.resize=function(e,t,n){e=de.stringToDimension(e),t=de.stringToDimension(t),n.css({width:e,height:t}),n.trigger("resized",{width:e,height:t})},t.simpleXdmExtension=function(e,t){!e.url||Qe.hasJwt(e.url)&&Qe.isJwtExpired(e.url)?this._contentResolver?Ve.requestRefreshUrl({extension:e,resolver:this._contentResolver,$container:t}):console.error("JWT is expired and no content resolver was specified"):this._appendExtension(t,this._simpleXdmCreate(e))},t._simpleXdmCreate=function(e){var t=Rt.createSimpleXdmExtension(e);return e.id=t.iframeAttributes.id,
e.$el=this.render(t.iframeAttributes),e},t._appendExtension=function(e,t){var n=e.find("iframe");n.length>0&&n.destroy(),t.options.hideIframeUntilLoad&&t.$el.css({visibility:"hidden"}).load((function(){t.$el.css({visibility:""})})),e.prepend(t.$el),me.notifyIframeCreated(t.$el,t)},t._appendExtensionError=function(e,t){var n=_('<div class="connect-resolve-error"></div>'),o=_("<p />").text(t);n.append('<p class="error">Error: The content resolver threw the following error:</p>'),n.append(o),e.prepend(n)},t.resolverResponse=function(e){var t=this._simpleXdmCreate(e.extension);this._appendExtension(e.$container,t)},t.resolverFailResponse=function(e){this._appendExtensionError(e.$container,e.errorText)},t.render=function(e){return(e=e||{}).referrerpolicy="no-referrer",_("<iframe />").attr(e).addClass("ap-iframe")},e}());b.register("iframe-resize",(function(e){Lt.resize(e.width,e.height,e.$el)})),b.register("content-resolver-register-by-extension",(function(e){
Lt.setContentResolver(e.callback)})),b.register("jwt-url-refreshed",(function(e){Lt.resolverResponse(e)})),b.register("jwt-url-refreshed-failed",(function(e){Lt.resolverFailResponse(e)})),b.register("after:iframe-bridge-established",(function(e){e.extension.options.noDom?e.extension.options.bridgeEstablished=!0:e.$el[0].bridgeEstablished=!0}));var Dt={clicked:function(e){b.dispatch("button-clicked",{$el:e})},toggle:function(e,t){b.dispatch("button-toggle",{$el:e,disabled:t})},toggleVisibility:function(e,t){b.dispatch("button-toggle-visibility",{$el:e,hidden:t})}},Mt=["primary","link","secondary"],Ft=0,Nt=function(){function e(){this.AP_BUTTON_CLASS="ap-aui-button"}var t=e.prototype;return t.setType=function(e,t){return t&&Mt.indexOf(t)>=0&&e.addClass("aui-button-"+t),e},t.setDisabled=function(e,t){return void 0===t||e.data("immutable")||e.attr("aria-disabled",t),e},t.setHidden=function(e,t){return void 0===t||e.data("immutable")||e.toggle(!t),e},t._setId=function(e,t){
return t||(t="ap-button-"+Ft,Ft++),e.attr("id",t),e},t._additionalClasses=function(e,t){return t&&("string"!=typeof t&&(t=t.join(" ")),e.addClass(t)),e},t.getName=function(e){return _(e).data("name")},t.getText=function(e){return _(e).text()},t.getIdentifier=function(e){return _(e).data("identifier")},t.isVisible=function(e){return _(e).is(":visible")},t.isEnabled=function(e){return!("true"===_(e).attr("aria-disabled"))},t.render=function(e){var t=_("<button />");return e=e||{},t.addClass("aui-button "+this.AP_BUTTON_CLASS),t.text(e.text),t.data(e.data),t.data({name:e.name||e.identifier,identifier:e.identifier||he.randomIdentifier(),immutable:e.immutable||!1}),this._additionalClasses(t,e.additionalClasses),this.setType(t,e.type),this.setDisabled(t,e.disabled||!1),this._setId(t,e.id),t},e}(),$t=new Nt;_((function(){_("body").on("click","."+$t.AP_BUTTON_CLASS,(function(e){var t=_(e.target).closest("."+$t.AP_BUTTON_CLASS);"true"!==t.attr("aria-disabled")&&Dt.clicked(t)}))})),
b.register("button-toggle",(function(e){$t.setDisabled(e.$el,e.disabled)})),b.register("button-toggle-visibility",(function(e){$t.setHidden(e.$el,e.hidden)}));var Ut=["ap-iframe-container"],Bt=new(function(){function e(){}var t=e.prototype;return t.createExtension=function(e,t){var n=this._renderContainer();return t&&!1===t.loadingIndicator||n.append(this._renderLoadingIndicator()),Lt.simpleXdmExtension(e,n),n},t._renderContainer=function(e){var t=_("<div />").attr(e||{});return t.addClass(Ut.join(" ")),t},t._renderLoadingIndicator=function(){return J.render()},e}());function Jt(e){return Bt.createExtension(e)}b.register("iframe-create",(function(e){var t="embedded-"+e.extension.id;e.extension.$el.parents(".ap-iframe-container").attr("id",t)}));var Ht={defineCustomModule:function(e,t){var n={};t?(n.methods=t,n.name=e):n.methods=e,b.dispatch("module-define-custom",n)}},qt={trackDeprecatedMethodUsed:function(e,t){b.dispatch("analytics-deprecated-method-used",{methodUsed:e,extension:t})},
trackIframeBridgeStart:function(e){b.dispatch("iframe-bridge-start",{extension:e})},trackExternalEvent:function(e,t){b.dispatch("analytics-external-event-track",{eventName:e,values:t})},trackContentResolverEvent:function(e,t){b.dispatch("analytics-content-resolver-track",{success:e,extra:t})},trackIframePerformanceMetrics:function(e,t){e&&Object.getOwnPropertyNames(e).length>0&&b.dispatch("analytics-iframe-performance",{metrics:e,extension:t})}};function Kt(e){var t;return Array.isArray(e)?t=e.join(" "):"string"==typeof e&&(t=e.trim()),t}function zt(){return"webitem-"+Math.floor(1e9*Math.random()).toString(16)}function Qt(e){var t=e.attr("class"),n=t?t.match(/ap-plugin-key-([^\s]*)/):null;return!!Array.isArray(n)&&n[1]}function Vt(e){var t=e.attr("class"),n=t?t.match(/ap-module-key-([^\s]*)/):null;return!!Array.isArray(n)&&n[1]}function Wt(e){var t=e.attr("class"),n=t?t.match(/ap-target-key-([^\s]*)/):null;return!!Array.isArray(n)&&n[1]}function Gt(e){return Qt(e)+"__"+Vt(e)}
function Zt(e,t,n){var o=e+"Modules";if(window._AP&&window._AP[o]&&window._AP[o][t]&&window._AP[o][t][n])return de.extend({},window._AP[o][t][n].options)}function Yt(e,t){return Zt(e,Qt(t),Wt(t))}function Xt(t){var n,o=t.attr("href"),r={};if(o||(o=t.find("a").attr("href")),o){var i=o.indexOf("#");if(i>=0){var a=o.substring(i+1);try{n=JSON.parse(decodeURI(a))}catch(e){console.error("ACJS: cannot decode webitem anchor")}n&&window._AP&&window._AP._convertConnectOptions?r=window._AP._convertConnectOptions(n):console.error("ACJS: cannot convert webitem url to connect iframe options")}else{var s=Gt(t),c=t.hasClass("ap-inline-dialog")?"inlineDialog":"dialog",d=Yt(c,t);!d&&window._AP&&window._AP[c+"Options"]&&(d=de.extend({},window._AP[c+"Options"][s])||{}),d||(d={},console.warn("no webitem "+c+"Options for "+s)),d.productContext=d.productContext||{};var u=ye.parse(ye.extract(o));de.extend(d.productContext,u),r={addon_key:Qt(t),key:Vt(t),options:d}}}return r}function en(e){
var t=Gt(e),n=e.hasClass("ap-inline-dialog")?"inlineDialog":"dialog",o=Yt(n,e);!o&&window._AP&&window._AP[n+"Options"]&&(o=de.extend({},window._AP[n+"Options"][t])||{}),o||(o={},console.warn("no webitem "+n+"Options for "+t)),o.productContext=o.productContext||{},o.structuredContext=o.structuredContext||{};var r=Xt(e);return r&&r.options&&(de.extend(o.productContext,r.options.productContext),de.extend(o.structuredContext,r.options.structuredContext),o.contextJwt=r.options.contextJwt),o}var tn={sanitizeTriggers:Kt,uniqueId:zt,getExtensionKey:Qt,getKey:Vt,getOptionsForWebItem:en,getModuleOptionsByAddonAndModuleKey:Zt,getConfigFromTarget:Xt},nn=new function(){var e=this;this._providers={},this.registerProvider=function(t,n){e._providers[t]=n},this.getProvider=function(t){return e._providers[t]}},on=function(){function e(){this.moduleNamesToModules=new Map}return e.prototype.registerModule=function(e,t){var n=e.getModuleRegistrationName();this.moduleNamesToModules.set(n,e)},
e.prototype.getModuleByName=function(e){return this.moduleNamesToModules.get(e)},e.prototype.getProviderByModuleName=function(e){var t=this.moduleNamesToModules.get(e);return t&&t.isEnabled()?t.getProvider():void 0},e}(),rn=new on,an=new(function(){function e(){var e=this;this.create=function(e){return Jt(Rt.extensionConfigSanitizer(e))},this.dialog={create:function(e,t){var n=tn.getModuleOptionsByAddonAndModuleKey("dialog",e.addon_key,e.key),o=de.extend({},n||{},t);le.open(e,o)},close:function(t,n){var o=e.getFrameworkAdaptor().getProviderByModuleName("dialog");o?(ge.assertActiveDialogOrThrow(o,t),ee.broadcast("dialog.close",{addon_key:t},n),o.close()):le.close()}},this.registerContentResolver={resolveByExtension:function(t){e._contentResolver=t,Ve.registerContentResolver({callback:t})}},this.getContentResolver=function(){return e._contentResolver},this.registerProvider=function(e,t){nn.registerProvider(e,t)},this.getProvider=function(e){return nn.getProvider(e)},
this.frameworkAdaptor=rn}var t=e.prototype;return t.createExtension=function(e){e.options=e.options||{},e.options.noDom=!0;var t=Rt.createSimpleXdmExtension(e);return qt.trackIframeBridgeStart(t.extension),t},t.registerExistingExtension=function(e,t){return Y.registerExistingExtension(e,t)},t.setFrameworkAdaptor=function(e){this.frameworkAdaptor=e},t.getFrameworkAdaptor=function(){return this.frameworkAdaptor},t._cleanExtension=function(e){return de.pick(e,["id","addon_key","key","options","url"])},t.onIframeEstablished=function(e){var t=function(t){e.call({},{$el:t.$el,extension:this._cleanExtension(t.extension)})};e._wrapper=t.bind(this),b.register("after:iframe-bridge-established",e._wrapper)},t.offIframeEstablished=function(e){if(!e._wrapper)throw new Error("cannot unregister event dispatch listener without _wrapper reference");b.unregister("after:iframe-bridge-established",e._wrapper)},t.onIframeUnload=function(e){var t=this;b.register("after:iframe-unload",(function(n){
e.call({},{$el:n.$el,extension:t._cleanExtension(n.extension)})}))},t.onPublicEventDispatched=function(e){var t=function(t){e.call({},{type:t.type,event:t.event,extension:this._cleanExtension(t.sender)})};e._wrapper=t.bind(this),b.register("after:event-public-dispatch",e._wrapper)},t.offPublicEventDispatched=function(e){if(!e._wrapper)throw new Error("cannot unregister event dispatch listener without _wrapper reference");b.unregister("after:event-public-dispatch",e._wrapper)},t.onKeyEvent=function(e,t,n,o){pe.registerKeyEvent({extension_id:e,key:t,modifiers:n,callback:o})},t.offKeyEvent=function(e,t,n,o){pe.unregisterKeyEvent({extension_id:e,key:t,modifiers:n,callback:o})},t.onFrameClick=function(e){if("function"!=typeof e)throw new Error("handleIframeClick must be a function");pe.registerClickHandler(e)},t.offFrameClick=function(){pe.unregisterClickHandler()},t.destroy=function(e){me.notifyIframeDestroyed({id:e})},t.defineModule=function(e,t){Ht.defineCustomModule(e,t)},
t.isModuleDefined=function(e){return Y.isModuleDefined(e)},t.broadcastEvent=function(e,t,n){ee.broadcast(e,t,n)},t.getExtensions=function(e){return Y.getExtensions(e)},t.trackDeprecatedMethodUsed=function(e,t){qt.trackDeprecatedMethodUsed(e,t)},t.trackAnalyticsEvent=function(e,t){qt.trackExternalEvent(e,t)},t.trackContentResolverEvent=function(e,t){qt.trackContentResolverEvent(e,t)},t.setJwtClockSkew=function(e){Ve.setClockSkew(e)},t.isJwtExpired=function(e,t){return t?He.isJwtExpired(e):Qe.isJwtExpired(e)},t.hasJwt=function(e){return Qe.hasJwt(e)},t.getBooleanFeatureFlag=function(e){return I(e)},t.setExtensionConfigurationOptions=function(e,t){Ge.set(e,t)},t.getExtensionConfigurationOption=function(e){return Ge.get(e)},t.onIframeTimeout=function(e){var t=function(t){e.call({},{extension:this._cleanExtension(t.extension)})};e._wrapper=t.bind(this),b.register("after:iframe-bridge-timeout",e._wrapper)},t.offIframeTimeout=function(e){
if(!e._wrapper)throw new Error("cannot unregister event dispatch listener without _wrapper reference");b.unregister("after:iframe-bridge-timeout",e._wrapper)},t.onIframePerformanceTelemetry=function(e){var t=function(t){e.call({},{metrics:t.metrics,extension:this._cleanExtension(t.extension)})};e._wrapper=t.bind(this),b.register("after:analytics-iframe-performance",e._wrapper)},t.offIframePerformanceTelemetry=function(e){if(!e._wrapper)throw new Error("cannot unregister event dispatch listener without _wrapper reference");b.unregister("after:analytics-iframe-performance",e._wrapper)},t.onIframeVisible=function(e){var t=function(t){e.call({},{extension:this._cleanExtension(t)})};e._wrapper=t.bind(this),b.register("after:iframe-visible",e._wrapper)},t.offIframeVisible=function(e){if(!e._wrapper)throw new Error("cannot unregister event dispatch listener without _wrapper reference");b.unregister("after:iframe-visible",e._wrapper)},t.onContentResolverEvent=function(e){var t=function(t){
e.call({},t)};e._wrapper=t.bind(this),b.register("after:analytics-content-resolver-track",e._wrapper)},t.offContentResolverEvent=function(e){if(!e._wrapper)throw new Error("cannot unregister event dispatch listener without _wrapper reference");b.unregister("after:analytics-content-resolver-track",e._wrapper)},e}()),sn="ap-dialog-",cn="ap-aui-dialog2",dn=new RegExp("^"+sn+"[0-9A-Za-z]+$"),un=["small","medium","large","xlarge","fullscreen","maximum"],ln="ap-aui-dialog-button",fn="ap-dialog-custom-button",pn="aui-dialog2-footer",hn="aui-dialog2-footer-actions",gn="header-control-panel";function mn(){var e=AJS.LayerManager.global.getTopLayer();if(e&&dn.test(e.attr("id"))){var t=AJS.dialog2(e);return t._id=t.$el.attr("id").replace(sn,""),t}}function yn(e){var t=e.find("."+gn);return t.length||(t=e.find("."+hn)),t}function vn(e,t){return yn(t).find(".aui-button").filter((function(){return $t.getIdentifier(this)===e}))}var wn=function(){function e(){}var t=e.prototype
;return t._renderHeaderCloseBtn=function(){var e=_("<a />").addClass("aui-dialog2-header-close"),t=_("<span />").addClass("aui-icon aui-icon-small aui-iconfont-close-dialog").text("Close");return e.append(t),e},t._renderFullScreenHeader=function(e,t){var n=_("<div />").addClass("header-title-container aui-item expanded"),o=_("<div />").append(_("<span />").addClass("header-title").text(t.header||""));return n.append(o),e.append(n).append(this._renderHeaderActions(t.actions,t.extension)),e},t._renderHeader=function(e){var t=_("<header />").addClass("aui-dialog2-header");if("fullscreen"===e.size)return this._renderFullScreenHeader(t,e);if(e.header){var n=_("<h2 />").addClass("aui-dialog2-header-main").text(e.header);t.append(n)}return t.append(this._renderHeaderCloseBtn()),t},t._renderHeaderActions=function(e,t){var n=_("<div />").addClass("aui-item "+gn);return e[0].additionalClasses=["aui-icon","aui-icon-small","aui-iconfont-success"],
e[1].additionalClasses=["aui-icon","aui-icon-small","aui-iconfont-close-dialog"],this._renderActionButtons(e,t).forEach((function(e){n.append(e)})),n},t._renderContent=function(e){var t=_("<div />").addClass("aui-dialog2-content");return e&&t.append(e),t},t._renderFooter=function(e){var t=_("<footer />").addClass(pn);if("fullscreen"!==e.size){var n=this._renderFooterActions(e.actions,e.extension);t.append(n)}if(e.hint){var o=_("<div />").addClass("aui-dialog2-footer-hint").text(e.hint);t.append(o)}return t},t._renderActionButtons=function(e,t){var n=this,o=[];return[].concat(e).forEach((function(e){o.push(n._renderDialogButton({text:e.text,name:e.name,type:e.type,additionalClasses:e.additionalClasses,custom:e.custom||!1,identifier:e.identifier,immutable:e.immutable,disabled:e.disabled||!1},t))})),o},t._renderFooterActions=function(e,t){var n=_("<div />").addClass(hn);return this._renderActionButtons(e,t).forEach((function(e){n.append(e)})),n},t._renderDialogButton=function(e,t){
e.additionalClasses=e.additionalClasses||[],e.additionalClasses.push(ln),e.custom&&e.additionalClasses.push(fn);var n=$t.render(e);return n.extension=t,n},t.render=function(e){var t=de.extend({},e),n=ge.sanitizeOptions(e),o=_("<section />").attr({role:"dialog",id:sn+n.id});o.attr("data-aui-modal","true"),o.data({"aui-remove-on-hide":!0,extension:n.extension}),o.addClass("aui-layer aui-dialog2 "+cn),un.indexOf(n.size)>=0&&o.addClass("aui-dialog2-"+n.size),"fullscreen"!==n.size&&"maximum"!==n.size||(n.chrome&&o.addClass("ap-header-controls"),o.addClass("aui-dialog2-maximum")),o.append(this._renderContent(n.$content)),n.chrome?(o.prepend(this._renderHeader({header:n.header,actions:n.actions,size:n.size})),o.append(this._renderFooter({extension:n.extension,actions:n.actions,hint:n.hint,size:n.size}))):o.addClass("aui-dialog2-chromeless");var r=AJS.dialog2(o);return r._id=n.id,"fullscreen"===n.size&&(n.height=n.width="100%"),
n.size&&"fullscreen"!==n.size||AJS.layer(o).changeSize(n.width,n.height),n.onHide&&r.on("hide",n.onHide),r.show(),r.$el.data("extension",n.extension),r.$el.data("originalOptions",t),o},t.setIframeDimensions=function(e){Lt.resize("100%","100%",e)},t.getActive=function(){return mn()},t.buttonIsEnabled=function(e){var t=mn();if(t){var n=vn(e,t.$el);return $t.isEnabled(n)}},t.buttonIsVisible=function(e){var t=mn();if(t){var n=vn(e,t.$el);return $t.isVisible(n)}},t.getByExtension=function(e){var t;if("function"==typeof e)t=e;else{var n=Object.getOwnPropertyNames(e);t=function(t){var o=_(t).data("extension");return n.every((function(t){return o[t]===e[t]}))}}return _("."+cn).toArray().filter(t).map((function(e){return AJS.dialog2(e)}))},t.addButton=function(e,t){t.custom=!0;var n=this._renderDialogButton(t,e),o=this.getByExtension({addon_key:e.addon_key,key:e.key})[0].$el;return yn(o).append(n),o},e}(),xn=new wn;b.register("iframe-bridge-established",(function(e){
if(e.extension.options.isDialog){var t,n=an.getFrameworkAdaptor().getProviderByModuleName("dialog");n?(t=n.close,n.setButtonDisabled("submit",!1)):(fe.toggleButton({identifier:"submit",enabled:!0}),t=function(){fe.close({dialog:mn(),extension:e.extension})}),e.extension.options.preventDialogCloseOnEscape||(pe.registerKeyEvent({extension_id:e.extension.id,key:27,callback:t}),b.registerOnce("dialog-close",(function(t){pe.unregisterKeyEvent({extension_id:e.extension.id,key:27})})))}})),b.register("dialog-close-active",(function(e){var t=mn();t&&fe.close({customData:e.customData,dialog:t,extension:e.extension})})),b.register("dialog-close",(function(e){e.dialog&&e.dialog.hide()})),b.register("dialog-button-toggle",(function(e){var t=mn();if(t){var n=vn(e.identifier,t.$el);Dt.toggle(n,!e.enabled)}})),b.register("dialog-button-toggle-visibility",(function(e){var t=mn();if(t){var n=vn(e.identifier,t.$el);Dt.toggleVisibility(n,e.hidden)}})),b.register("button-clicked",(function(e){var t=e.$el
;if(t.hasClass(ln)){var n=t.parents("."+cn),o=n.find("iframe");o.length&&o[0].bridgeEstablished?fe.clickButton($t.getIdentifier(t),t,n.data("extension")):fe.close({dialog:mn(),extension:t.extension})}})),_.fn&&(b.register("iframe-create",(function(e){e.extension.options&&e.extension.options.isDialog&&xn.setIframeDimensions(e.extension.$el)})),b.register("dialog-button-add",(function(e){xn.addButton(e.extension,e.button)})),b.register("host-window-resize",de.debounce((function(){_("."+cn).each((function(e,t){var n=_(t),o=ge.sanitizeOptions(n.data("originalOptions"));t.style.width=o.width,t.style.height=o.height}))}),100)));function bn(){return bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},bn.apply(this,arguments)}function _n(e){var t,n;if(I("com.atlassian.connect.resolve-dialog-spacekey")&&null!=e&&e.options&&null!=(t=AJS)&&null!=(n=t.Meta)&&n.get){
var o=bn({},e.options.productContext||{});return AJS.Meta.get("space-key")&&(o["an.spaceKey"]=AJS.Meta.get("space-key")),bn({},e,{options:bn({},e.options,{productContext:o})})}return e}pe.registerWindowKeyEvent({keyCode:27,callback:function(){fe.closeActive({customData:{},extension:null})}});var kn=new(function(){function e(){}var t=e.prototype;return t.render=function(e,t){e.options=e.options||{},t=t||{},e.options.isDialog=!0,e.options.dialogId=t.id,e.options.callbackExtensionId=e.callback_extension_id,e.options.preventDialogCloseOnEscape=!1===t.closeOnEscape,e.options.hostFrameOffset=t.hostFrameOffset,e.options.hideIframeUntilLoad=!0;var n=Bt.createExtension(e);return xn.render({extension:e,$content:n,chrome:t.chrome,width:t.width,height:t.height,size:t.size,header:t.header,hint:t.hint,submitText:t.submitText,cancelText:t.cancelText,buttons:t.buttons,onHide:t.onHide})},t.getActiveDialog=function(){return xn.getActive()},t.buttonIsEnabled=function(e){return xn.buttonIsEnabled(e)},
t.buttonIsVisible=function(e){return xn.buttonIsVisible(e)},t.getByExtension=function(e){return"string"==typeof e&&(e={id:e}),xn.getByExtension(e)},e}());b.register("dialog-extension-open",(function(e){var t=_n(e.extension),n=ge.sanitizeOptions(e.options),o=an.getFrameworkAdaptor().getProviderByModuleName("dialog");if(o){var r=function(e){var n=t.key,o=t.addon_key,r={button:{identifier:e.identifier,name:e.identifier,text:e.text}};["submit","cancel"].indexOf(e.identifier)>=0&&ee.broadcast("dialog."+e.identifier,{addon_key:o,key:n},r),ee.broadcast("dialog.button.click",{addon_key:o,key:n},r)};t.options.preventDialogCloseOnEscape=!1===n.closeOnEscape,n.actions.map((function(e){return e.onClick=r.bind(null,e)})),o.create(n,t)}else kn.render(t,e.options)}));var En={};b.register("dialog-close",(function(e){if(e.dialog&&e.extension){var t={addon_key:e.extension.addon_key,id:e.extension.options.callbackExtensionId};ee.broadcast("dialog.close",t,e.customData)}})),
b.register("dialog-button-click",(function(e){var t={button:{name:$t.getName(e.$el),identifier:$t.getIdentifier(e.$el),text:$t.getText(e.$el)}},n="dialog.button.click",o={addon_key:e.extension.addon_key,key:e.extension.key};o.id=e.extension.id,e.$el.hasClass("ap-dialog-custom-button")||ee.broadcast("dialog."+t.button.name,o,t),ee.broadcast(n,o,t)}));var An=function(e,t){var n=(t=de.last(arguments))._id,o=t._context.extension,r={addon_key:o.addon_key,key:e.key,options:de.pick(o.options,["customData","productContext"]),callback_extension_id:o.id};r.options.customData=e.customData;var i=ge.moduleOptionsFromGlobal(r.addon_key,r.key);"number"==typeof(i||{}).hostFrameOffset&&(r.options.hostFrameOffset=i.hostFrameOffset),(e=de.extend({},i||{},e)).id=n,ge.trackMultipleDialogOpening(r,e),le.open(r,e),this.customData=e.customData,En[n]=this},Cn=function(){function e(e,t){t=de.last(arguments);var n=an.getFrameworkAdaptor().getProviderByModuleName("dialog")
;if(n)ge.assertActiveDialogOrThrow(n,t._context.extension.addon_key),this.name=e,this.identifier=e;else{if(!kn.getActiveDialog())throw new Error("Failed to find an active dialog.");this.name=e,this.identifier=e,this.enabled=kn.buttonIsEnabled(e),this.hidden=!kn.buttonIsVisible(e)}}var t=e.prototype;return t.enable=function(){this.setState({enabled:!0})},t.disable=function(){this.setState({enabled:!1})},t.isEnabled=function(e){e=de.last(arguments);var t=an.getFrameworkAdaptor().getProviderByModuleName("dialog");e(t?!t.isButtonDisabled(this.identifier):this.enabled)},t.toggle=function(){var e=an.getFrameworkAdaptor().getProviderByModuleName("dialog");e?e.toggleButton(this.identifier):this.setState({enabled:!this.enabled})},t.setState=function(e){var t=an.getFrameworkAdaptor().getProviderByModuleName("dialog");t?t.setButtonDisabled(this.identifier,!e.enabled):(this.enabled=e.enabled,fe.toggleButton({identifier:this.identifier,enabled:this.enabled}))},t.trigger=function(e){
e=de.last(arguments),this.enabled&&fe.dialogMessage({name:this.name,extension:e._context.extension})},t.isHidden=function(e){e=de.last(arguments);var t=an.getFrameworkAdaptor().getProviderByModuleName("dialog");e(t?t.isButtonHidden(this.identifier):this.hidden)},t.hide=function(){this.setHidden(!0)},t.show=function(){this.setHidden(!1)},t.setHidden=function(e){var t=an.getFrameworkAdaptor().getProviderByModuleName("dialog");t?t.setButtonHidden(this.identifier,e):(this.hidden=e,fe.toggleButtonVisibility({identifier:this.identifier,hidden:this.hidden}))},e}();function On(e){return En[e.extension.options.dialogId]}var Sn=function(e,t){t=de.last(arguments);var n=an.getFrameworkAdaptor().getProviderByModuleName("dialog");n?(ge.assertActiveDialogOrThrow(n,t._context.extension.addon_key),n.createButton({identifier:e.identifier,text:e.text,hidden:!1,disabled:e.disabled||!1,onClick:function(){ee.broadcast("dialog.button.click",{addon_key:t._context.extension.addon_key,
key:t._context.extension.key},{button:{identifier:e.identifier,text:e.text}})}})):le.addUserButton({identifier:e.identifier,text:e.text},t._context.extension)},In={create:{constructor:An},close:function(e,t){t=de.last(arguments);var n,o=an.getFrameworkAdaptor().getProviderByModuleName("dialog");o?(ge.assertActiveDialogOrThrow(o,t._context.extension.addon_key),ee.broadcast("dialog.close",{addon_key:t._context.extension.addon_key},e),o.close()):(n=t._context.extension.options.isDialog?kn.getByExtension(t._context.extension.id)[0]:kn.getActiveDialog(),fe.close({customData:e,dialog:n,extension:t._context.extension}))},getCustomData:function(e){var t=On((e=de.last(arguments))._context);e(t?t.customData:void 0)},getButton:{constructor:Cn,enable:Cn.prototype.enable,disable:Cn.prototype.disable,toggle:Cn.prototype.toggle,isEnabled:Cn.prototype.isEnabled,trigger:Cn.prototype.trigger,hide:Cn.prototype.hide,show:Cn.prototype.show,isHidden:Cn.prototype.isHidden},createButton:{constructor:Sn}}
;b.register("iframe-resize",(function(e){Lt.resize(e.width,e.height,e.$el)})),b.register("iframe-size-to-parent",(function(e){var t,n=de.getIframeByExtensionId(e.extensionId);t=_(window).height()-n.offset().top-1+"px",n.get(0).name.length>0&&"jiraProjectPages"===JSON.parse(n.get(0).name).options.moduleType&&(t="100%"),b.dispatch("iframe-resize",{width:"100%",height:t,$el:n})})),b.register("hide-footer",(function(e){e&&_("#footer").css({display:"none"})})),window.addEventListener("resize",(function(e){b.dispatch("host-window-resize",e)}),!0);var jn={iframeResize:function(e,t,n){var o;o=n.extension_id?de.getIframeByExtensionId(n.extension_id):n,b.dispatch("iframe-resize",{width:e,height:t,$el:o,extension:n.extension})},sizeToParent:function(e,t){b.dispatch("iframe-size-to-parent",{hideFooter:t,extensionId:e})},hideFooter:function(e){b.dispatch("hide-footer",e)}},Tn=de.debounce,Pn={},Rn=[],Ln={},Dn={getLocation:function(e){e=de.last(arguments);var t=nn.getProvider("get-location")
;e("function"==typeof t?t():window.location.href)},resize:function(e,t,n){n=de.last(arguments);var o=nn.getProvider("addon");if(o)o.resize(e,t,n._context);else{var r=n._context.extension.id,i=n._context.extension.options;if(-1!==Rn.indexOf(r)||i&&i.isDialog)return!1;Pn[r]||(Pn[r]=Tn((function(e,t,n){jn.iframeResize(e,t,n._context)}),50)),Pn[r](e,t,n)}return!0},sizeToParent:Tn((function(e,t){t=de.last(arguments);var n=nn.getProvider("addon");n?n.sizeToParent(e,t._context):t._context.extension.options.isFullPage?(de.getIframeByExtensionId(t._context.extension_id).addClass("full-size-general-page"),T.isSetBlockDisplayFlagEnabled()&&de.getIframeByExtensionId(t._context.extension_id).addClass("sized-to-parent"),jn.sizeToParent(t._context.extension_id,e),Ln[t._context.extension_id]={hideFooter:e}):de.getIframeByExtensionId(t._context.extension_id).addClass("full-size-general-page-fail")})),hideFooter:function(e){e&&jn.hideFooter(e)}},Mn=function(e){delete Pn[e],delete Ln[e],
-1!==Rn.indexOf(e)&&Rn.splice(Rn.indexOf(e),1)};b.register("host-window-resize",(function(e){Object.getOwnPropertyNames(Ln).forEach((function(e){jn.sizeToParent(e,Ln[e].hideFooter)}))})),b.register("after:iframe-unload",(function(e){Mn(e.extension.id)})),b.register("after:iframe-destroyed",(function(e){Mn(e.extension.extension.id)})),b.register("before:iframe-size-to-parent",(function(e){-1===Rn.indexOf(e.extensionId)&&Rn.push(e.extensionId)}));var Fn={hide:function(e){b.dispatch("inline-dialog-hide",{$el:e})},refresh:function(e){b.dispatch("inline-dialog-refresh",{$el:e})},hideTriggered:function(e,t){b.dispatch("inline-dialog-hidden",{extension_id:e,$el:t})},close:function(){b.dispatch("inline-dialog-close",{})},created:function(e){b.dispatch("inline-dialog-opened",{$el:e.$el,trigger:e.trigger,extension:e.extension})}},Nn={hide:function(e){e=de.last(arguments);var t=an.getFrameworkAdaptor().getProviderByModuleName("inlineDialog");t?t.hide(e._context):Fn.close()}
},$n="ac-message-container",Un=["generic","error","warning","success","info","hint"],Bn="ap-message-",Jn=new RegExp("^"+Bn+"[0-9A-fa-f]+$"),Hn={};function qn(e){return Jn.test(e)}function Kn(){var e=_("#"+$n);return e.length<1&&(e=_('<div id="'+$n+'" />').appendTo("body")),e}function zn(e){var t={};return"object"==typeof e&&["closeable","fadeout","delay","duration","id"].forEach((function(n){n in e&&(t[n]=e[n])})),t}var Qn=!1;function Vn(e,t,n,o){Qn||(Gn(),Qn=!0);var r=Kn();if(o=zn(o),_.extend(o,{title:t,body:AJS.escapeHtml(n)}),Un.indexOf(e)<0)throw"Invalid message type. Must be: "+Un.join(", ");qn(o.id)&&(AJS.messages[e](r,o),r.css("margin-left","-"+r.innerWidth()/2+"px"))}function Wn(e,t,n,o,r){var i="AP.messages."+e;console.warn("DEPRECATED API - AP.messages."+e+" has been deprecated since ACJS 5.0 and will be removed in a future release. Use AP.flag.create instead."),qt.trackDeprecatedMethodUsed(i,r._context.extension)
;var a=an.getFrameworkAdaptor().getProviderByModuleName("messages");if(a){var s=e,c=a[s];c||(a[s]=a.generic),c(t,n,o)}else Vn(e,t,n,o)}function Gn(){_(document).on("aui-message-close",(function(e,t){var n=t.attr("id").replace(Bn,"");Hn[n]&&(_.isFunction(Hn[n].onCloseTrigger)&&Hn[n].onCloseTrigger(),Hn[n]._destroy())}))}function Zn(e){return{constructor:function(t,n,o,r){var i=(r=de.last(arguments))._id;"string"!=typeof t&&(t=""),"string"!=typeof n&&(n=""),"object"!=typeof o&&(o={}),o.id=Bn+i,Wn(e,t,n,o,r),Hn[i]=this}}}var Yn={clear:function(e){var t=Bn+e._id;if(qn(t)){var n=an.getFrameworkAdaptor().getProviderByModuleName("messages");n?n.clear(t):_("#"+t).closeMessage()}},onClose:function(e,t){t=de.last(arguments);var n=e._id,o=an.getFrameworkAdaptor().getProviderByModuleName("messages");if(o){var r=Bn+e._id;o.onClose(r,t)}else Hn[n]&&(Hn[n].onCloseTrigger=t)},generic:Zn("generic"),error:Zn("error"),warning:Zn("warning"),success:Zn("success"),info:Zn("info"),hint:Zn("hint")},Xn={
actionInvoked:function(e,t){b.dispatch("flag-action-invoked",{id:t,actionId:e})},open:function(e){b.dispatch("flag-open",{id:e})},close:function(e){b.dispatch("flag-close",{id:e})},closed:function(e){b.dispatch("flag-closed",{id:e})}},eo="ap-flag-",to="ac-aui-flag",no="ac-flag-actions",oo=function(){function e(){}var t=e.prototype;return t.cleanKey=function(e){var t=new RegExp("^"+eo+"(.+)$"),n=e.match(t);return n&&n[1]?n[1]:null},t._toHtmlString=function(e){return"string"===_.type(e)?e:"object"===_.type(e)&&e instanceof _?e.html():void 0},t._renderBody=function(e){e=this._toHtmlString(e);var t=_("<div />").html(e);return _("<p />").addClass(no).appendTo(t),t.html()},t._renderActions=function(e,t,n){var o,r=e.find("."+no);return n=n||{},Object.getOwnPropertyNames(n).forEach((function(e){o=_("<a />").attr("href","#").data({key:e,flag_id:t}).text(n[e]),r.append(o)}),this),e},t.render=function(e){ao();var t=eo+e.id,n=AJS.flag({type:e.type,title:e.title,body:this._renderBody(e.body),
close:e.close});n.setAttribute("id",t);var o=_(n);return this._renderActions(o,e.id,e.actions),o.addClass(to),o.close=n.close,o},t.close=function(e){document.getElementById(e).close()},e}(),ro=new oo,io=!1;function ao(){io||(_(document).on("aui-flag-close",(function(e){var t=e.target.id,n=ro.cleanKey(t);Xn.closed(n)})),_(document).on("click","."+no,(function(e){var t=_(e.target),n=t.data("key"),o=t.data("flag_id");Xn.actionInvoked(n,o)})),io=!0)}b.register("flag-close",(function(e){ro.close(e.id)}));var so={},co=function(){function e(e,t){if(t=de.last(arguments),"object"==typeof e){var n=t._id,o=an.getFrameworkAdaptor().getProviderByModuleName("flag");if(o){var r=[];"object"==typeof e.actions&&(r=Object.getOwnPropertyNames(e.actions).map((function(t){return{actionKey:t,actionText:e.actions[t],executeAction:Xn.actionInvoked.bind(null,t,n)}})));var i=e.type||"info",a={id:n,title:e.title,body:e.body,actions:r,onClose:Xn.closed,close:e.close,type:i.toLowerCase()};this.flag=o.create(a)
;var s=nn.getProvider("addon");s&&s.registerUnmountCallback&&s.registerUnmountCallback(this.close.bind(this),t._context)}else this.flag=ro.render({type:e.type,title:e.title,body:AJS.escapeHtml(e.body),actions:e.actions,close:e.close,id:n}),Xn.open(this.flag.attr("id"));this.onTriggers={},this.extension=t._context.extension,so[t._id]=this,t.call(null,t._id)}}return e.prototype.close=function(){this.flag.close()},e}();function uo(e,t,n){if(so[e]){var o=so[e].extension;(n=n||{}).flagIdentifier=e;var r={id:o.id};ee.broadcast(t,r,n)}}b.register("flag-closed",(function(e){uo(e.id,"flag.close"),so[e.id]&&delete so[e.id]})),b.register("flag-action-invoked",(function(e){uo(e.id,"flag.action",{actionIdentifier:e.actionId})}));var lo,fo,po={create:{constructor:co,close:co.prototype.close}},ho={trackDeprecatedMethodUsed:function(e,t){t=de.last(arguments),qt.trackDeprecatedMethodUsed(e,t._context.extension)},trackIframePerformanceMetrics:function(e,t){t=de.last(arguments),
qt.trackIframePerformanceMetrics(e,t._context.extension)}},go=10;function mo(){window.removeEventListener("scroll",yo),lo=void 0,fo=void 0}function yo(){var e=document.documentElement.scrollHeight,t=window.innerHeight,n=e*(go/100);window.pageYOffset<=n?vo("nearTop"):t+window.pageYOffset+n>=e?vo("nearBottom"):fo=void 0}function vo(e){fo!==e&&(ee.broadcast("scroll."+e,{id:lo},{}),fo=e)}b.register("iframe-bridge-established",(function(e){e.extension.options.isFullPage&&(window.addEventListener("scroll",yo),lo=e.extension.id)})),b.register("iframe-destroyed",(function(e){mo()})),b.register("iframe-unload",(function(e){mo()}));var wo={getPosition:function(e){if((e=de.last(arguments))._context.extension.options.isFullPage){var t=de.getIframeByExtensionId(e._context.extension_id).offset(),n=_(window);e({scrollY:n.scrollTop()-t.top,scrollX:n.scrollLeft()-t.left,width:window.innerWidth,height:window.innerHeight})}},setVerticalPosition:function(e,t){
if((t=de.last(arguments))._context.extension.options&&t._context.extension.options.isFullPage){var n=de.getIframeByExtensionId(t._context.extension_id).offset();"number"==typeof e&&(document.documentElement.scrollTop=n.top+e)}}},xo={itemSelected:function(e,t,n){b.dispatch("dropdown-item-selected",{id:e,item:t,extension:n})}};function bo(e){var t={};if("string"==typeof e)t.content=e;else{if(!e.text||"string"!=typeof e.text)throw new Error("Unknown dropdown list item format.");t.content=e.text,"boolean"==typeof e.disabled&&(t.disabled=e.disabled),void 0!==e.itemId&&(t.itemId=e.itemId)}return t}function _o(e){return e.map((function(e){if(e.list&&Array.isArray(e.list)){var t={heading:e.heading};return t.items=e.list.map((function(e){return bo(e)})),t}}))}var ko={create:function(e,t){if(t=de.last(arguments),"object"==typeof e){var n=an.getFrameworkAdaptor().getProviderByModuleName("dropdown");if(n){var o=_o(e.list),r={dropdownId:e.dropdownId,dropdownGroups:o,
dropdownItemNotifier:function(e){xo.itemSelected(e.dropdownId,e.item,t._context.extension)}};return n.create(r,t._context),r}}},showAt:function(e,t,n,o){var r=de.last(arguments),i={left:0,top:0},a=document.getElementById(r._context.extension_id);a?i=a.getBoundingClientRect():console.error("ACJS: no iframe found for dropdown");var s=an.getFrameworkAdaptor().getProviderByModuleName("dropdown");if(s){var c={dropdownId:e,x:t,y:n,width:o};s.showAt(c,{iframeDimensions:i,onItemSelection:function(e,t){xo.itemSelected(e,t,r._context.extension)}})}},hide:function(e){var t=an.getFrameworkAdaptor().getProviderByModuleName("dropdown");t&&t.hide(e)},itemDisable:function(e,t){var n=an.getFrameworkAdaptor().getProviderByModuleName("dropdown");n&&n.itemDisable(e,t)},itemEnable:function(e,t){var n=an.getFrameworkAdaptor().getProviderByModuleName("dropdown");n&&n.itemEnable(e,t)}};function Eo(e,t,n,o){var r=!1;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s]
;if(!r&&"undefined"!=typeof console&&console.warn){r=!0,console.warn("DEPRECATED API - "+t+" has been deprecated "+(o?"since ACJS "+o:"in ACJS")+" and will be removed in a future release. "+(n?"Use "+n+" instead.":"No alternative will be provided."));var c=de.last(a);c&&c._context&&c._context.extension&&ho.trackDeprecatedMethodUsed(t,c)}return e.apply(void 0,a)}}b.register("dropdown-item-selected",(function(e){ee.broadcast("dropdown-item-selected",{addon_key:e.extension.addon_key,key:e.extension.key},{dropdownId:e.id,item:e.item})})),b.register("iframe-destroyed",(function(e){var t=an.getFrameworkAdaptor().getProviderByModuleName("dropdown");t&&t.destroyByExtension(e.extension.extension_id)})),b.register("after:iframe-unload",(function(e){var t=an.getFrameworkAdaptor().getProviderByModuleName("dropdown");t&&t.destroyByExtension(e.extension.extension_id)}));var Ao={focus:function(){window.document.querySelector("a").focus({preventScroll:!0}),window.document.querySelector("a").blur()},
getSelectedText:Eo((function(e){e("")}),"AP.host.getSelectedText()")},Co=function(){return I("connect-tokens-first-jira_f1ufl")||I("com.atlassian.connect.connect.tokensfirst_3dg08")},Oo={extensionIds:[],themeObserver:new St((function(e){var t={isTokensFirstEnabled:Co()};Oo.extensionIds.length&&Oo.extensionIds.forEach((function(n){Y.broadcast("theme_changed",{id:n},{newTheme:e,featureFlags:t})}))})),initializeTheming:function(){var e=de.last(arguments);if(e&&e._context&&e._context.extension_id){var t=e._context.extension_id;if(t){var n=Et(),o={isTokensFirstEnabled:Co()};Y.broadcast("theme_initialized",{id:t},{initialTheme:n,featureFlags:o}),this.extensionIds.includes(t)||(this.extensionIds.push(t),this.themeObserver.observe(document.documentElement))}}}},So=function(){function e(){this._webitems={},this._contentResolver=function(){}}var t=e.prototype;return t.setContentResolver=function(e){this._contentResolver=e},t.requestContent=function(e){
if(e.addon_key&&e.key)return this._contentResolver.call(null,de.extend({classifier:"json"},e))},t.getWebItemsBySelector=function(e){var t,n=this;return Object.getOwnPropertyNames(this._webitems).some((function(o){var r=n._webitems[o];return!(!r.selector||r.selector.trim()!==e.trim())&&(t=r,!0)})),t},t.setWebItem=function(e){return this._webitems[e.name]={name:e.name,selector:e.selector,triggers:e.triggers}},t._removeTriggers=function(e){var t=this,n=tn.sanitizeTriggers(e.triggers);_((function(){_("body").off(n,e.selector,t._webitems[e.name]._on)})),delete this._webitems[e.name]._on},t._addTriggers=function(e){var t=tn.sanitizeTriggers(e.triggers);e._on=function(t){t.preventDefault();var n=_(t.target).closest(e.selector),o=tn.getConfigFromTarget(n),r=o&&o.url?o.url:void 0,i={addon_key:tn.getExtensionKey(n),key:tn.getKey(n),options:tn.getOptionsForWebItem(n),url:r}
;"com.addonengine.analytics"!==i.addon_key||an.isModuleDefined("analytics")?jo.webitemInvoked(e,t,i):console.log("ACJS-1164 Dropping event "+t.type+" for plugin "+i.addon_key+" until AP.analytics loads...")},_((function(){_("body").on(t,e.selector,e._on),_("head").append('<style type="text/css">'+e.selector+".ap-link-webitem {pointer-events: auto;}</style>")}))},e}(),Io=new So;b.register("webitem-added",(function(e){Io._addTriggers(e.webitem)})),b.register("content-resolver-register-by-extension",(function(e){Io.setContentResolver(e.callback)})),document.addEventListener("aui-responsive-menu-item-created",(function(e){var t=e.detail.originalItem.querySelector('a[class*="ap-"]');if(t){var n=e.detail.newItem.querySelector("a");[].slice.call(t.classList).forEach((function(e){/^ap-/.test(e)&&n.classList.add(e)}))}}));var jo={addWebItem:function(e){var t;if(Io.getWebItemsBySelector(e.selector))return!1;t=Io.setWebItem(e),b.dispatch("webitem-added",{webitem:t})},
webitemInvoked:function(e,t,n){b.dispatch("webitem-invoked:"+e.name,{webitem:e,event:t,extension:n})}},To={addExtension:function(e){b.dispatch("inline-dialog-extension",{$el:e.$el,extension:e.extension})}},Po=new(function(){function e(){}var t=e.prototype;return t.resize=function(e){var t=de.stringToDimension(e.width),n=de.stringToDimension(e.height),o=e.$el.find(".contents");1===o.length&&(o.css({width:t,height:n}),Fn.refresh(e.$el))},t.refresh=function(e){e.is(":visible")&&e[0].popup.reset()},t._getInlineDialog=function(e){return AJS.InlineDialog(e)},t._renderContainer=function(){return _("<div />").addClass("aui-inline-dialog-contents")},t._displayInlineDialog=function(e){Fn.created({$el:e.$el,trigger:e.trigger,extension:e.extension})},t.hideInlineDialog=function(e){e.hide()},t.closeInlineDialog=function(){_(".aui-inline-dialog").filter((function(){return _(this).find(".ap-iframe-container").length>0})).hide()},t.render=function(e){
var t=this,n=_(document.getElementById("inline-dialog-"+e.id));return 0!==n.length&&n.remove(),AJS.InlineDialog(e.bindTo,e.id,(function(n,o,r){n.append(e.$content),t._displayInlineDialog({extension:e.extension,$el:n,trigger:o}),r()}),e.inlineDialogOptions)},e}());b.register("iframe-resize",(function(e){var t=e.$el.parents(".aui-inline-dialog");1===t.length&&Po.resize({width:e.width,height:e.height,$el:t})})),b.register("inline-dialog-refresh",(function(e){Po.refresh(e.$el)})),b.register("inline-dialog-hide",(function(e){Po.hideInlineDialog(e.$el)})),b.register("inline-dialog-close",(function(e){Po.closeInlineDialog()}));var Ro="inline-dialog",Lo=".ap-inline-dialog",Do="inline-dialog-target-uid",Mo=new(function(){function e(){this._inlineDialogWebItemSpec={name:Ro,selector:Lo,triggers:["mouseenter","click"]},this._inlineDialogWebItems={}}var t=e.prototype;return t.getWebItem=function(){return this._inlineDialogWebItemSpec},t._createInlineDialog=function(e){return Po.render({
extension:e.extension,id:e.id,bindTo:e.$target,$content:_("<div />"),inlineDialogOptions:e.extension.options})},t.triggered=function(e){if("click"===e.event.type||e.extension.options.onHover){var t=_(e.event.currentTarget),n=t.data(Do);this._createInlineDialog({id:n,extension:e.extension,$target:t,options:e.extension.options||{}}).show()}},t.opened=function(e){var t=e.$el.find("iframe");if(t&&1===t.length){var n=t.attr("src");if(n.length>0){var o=Qe.hasJwt(n);if(o&&!Qe.isJwtExpired(n)||!o)return!1}}var r=_n(e.extension),i=Io.requestContent(r);return i?(i.then((function(t){t.options=t.options||{},de.extend(t.options,{autoresize:!0,widthinpx:!0}),To.addExtension({$el:e.$el,extension:t})})),!0):(console.warn("no content resolver found"),!1)},t.addExtension=function(e){var t=Jt(e.extension);e.$el.empty().append(t)},t.createIfNotExists=function(e){var t=_(e.event.currentTarget),n=t.data(Do);n||(n=tn.uniqueId(),t.data(Do,n))},e}()),Fo=Mo.getWebItem()
;b.register("before:webitem-invoked:"+Fo.name,(function(e){Mo.createIfNotExists(e)})),b.register("webitem-invoked:"+Fo.name,(function(e){Mo.triggered(e)})),b.register("inline-dialog-opened",(function(e){Mo.opened(e)})),b.register("inline-dialog-extension",(function(e){Mo.addExtension(e)})),jo.addWebItem(Fo);var No="dialog",$o=".ap-dialog",Uo=["click"],Bo="dialog-target-uid",Jo={chrome:!0},Ho=new(function(){function e(){this._dialogWebItem={name:No,selector:$o,triggers:Uo}}var t=e.prototype;return t.getWebItem=function(){return this._dialogWebItem},t._dialogOptions=function(e){return de.extend({},Jo,e||{})},t.triggered=function(e){var t=_(e.event.currentTarget).data(Bo),n=this._dialogOptions(e.extension.options);n.id=t,le.open(e.extension,n)},t.createIfNotExists=function(e){var t=_(e.event.currentTarget),n=t.data(Bo);n||(n=tn.uniqueId(),t.data(Bo,n))},e}()),qo=Ho.getWebItem();b.register("webitem-invoked:"+qo.name,(function(e){Ho.triggered(e)})),
b.register("before:webitem-invoked:"+qo.name,Ho.createIfNotExists),jo.addWebItem(qo),window._AP||(window._AP={});window._AP.version||(window._AP.version="5.3.99");return Y.defineModule("messages",Yn),Y.defineModule("flag",po),Y.defineModule("dialog",In),Y.defineModule("inlineDialog",Nn),Y.defineModule("env",Dn),Y.defineModule("events",ue),Y.defineModule("_analytics",ho),Y.defineModule("scrollPosition",wo),Y.defineModule("dropdown",ko),Y.defineModule("host",Ao),Y.defineModule("theming",Oo),b.register("module-define-custom",(function(e){Y.defineModule(e.name,e.methods)})),Y.registerRequestNotifier((function(e){var t=function(){"req"===e.type?F.dispatch("bridge.invokemethod",{module:e.module,fn:e.fn,addonKey:e.addon_key,moduleKey:e.key}):"sub"===e.type&&F.dispatch("bridge.register-sub",{subAddonKey:e.sub.addon_key,subModuleKey:e.sub.key,addonKey:e.addon_key,moduleKey:e.key,blocked:e.blocked})};"function"==typeof window.requestIdleCallback?window.requestIdleCallback(t,{timeout:1e3}):t()
})),Y.setFeatureFlagGetter(I),an}()}()},D2BS:function(t,n,o){var r;!function(n){t.exports=function(){return function e(t,n,o){function i(s,c){if(!n[s]){if(!t[s]){if(!c&&!1)return r(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var u=n[s]={exports:{}};t[s][0].call(u.exports,(function(e){var n=t[s][1][e];return i(n||e)}),u,u.exports,e,t,n,o)}return n[s].exports}for(var a=!1,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,n,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r,i=["status","statusText","responseText"],a=["status","statusText","response"],s=["Content-Type","ETag","Link"];if(d("com.atlassian.connect.acjs.hc-43-whitelist-language-headers",!1))var c=["If-Match","If-None-Match","X-Atlassian-Force-Account-ID","X-Force-Accept-Language","Accept-Language"];else c=["If-Match","If-None-Match","X-Atlassian-Force-Account-ID"];function d(e,t){
return window.connectHost&&window.connectHost.getBooleanFeatureFlag?window.connectHost.getBooleanFeatureFlag(e):t}function u(){if(window.AJS&&window.AJS.contextPath)return window.AJS.contextPath();var e=document.querySelector("meta[name=ajs-context-path]");return e?e.getAttribute("content"):""}function l(e){return e.replace(/(http[s]?:\/\/[^"]*?&jwt=[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*.*?)\\"/gi,'\\"')}function f(t,n){var o={headers:{}};return n?a.forEach((function(n,r){if(o[n]=t[n],"response"===n)try{JSON.parse(t[n]),o[n]=l(t[n])}catch(e){}}),this):i.forEach((function(n,r){if(o[n]=t[n],"responseText"===n)try{JSON.parse(t[n]),o[n]=l(t[n])}catch(e){}}),this),s.forEach((function(e,n){o.headers[e]=t.getResponseHeader(e)}),this),o}function p(e,t,n){return n._isBlob&&n.blob&&n.name?e.append(t,n.blob,n.name):e.append(t,n),e}function h(e){if(e.contentType=!1,e.processData=!1,!e.data||"object"!=typeof e.data)throw new Error("For a Multipart request, data must to be an Object")
;var t=new FormData;return Object.keys(e.data).forEach((function(n){var o=e.data[n];Array.isArray(o)?o.forEach((function(e,o){t=p(t,n+"["+o+"]",e)})):t=p(t,n,o)})),e.data=t,e.headers["X-Atlassian-Token"]="no-check",e}function g(e){if("function"!=typeof e)throw new Error("ACJS request marshal must be a function");r=e}function m(){r=void 0}o.stripJWTUrls=l,o.addRequestMarshal=g,o.removeRequestMarshal=m,o.default={request:function(t,n){var o=u(),i={},a=(n=arguments[arguments.length-1])._context.extension,s=a.addon_key,d=a.key,l=a.options.allowPathTraversal;"string"==typeof t&&(t={url:t});var p=o+t.url;if(!l&&!new URL(p,document.baseURI).pathname.startsWith(o))return window.connectHost&&window.connectHost.trackAnalyticsEvent&&window.connectHost.trackAnalyticsEvent("jsapi.request.prevent-path-traversal",{addonKey:s,moduleKey:d,url:p}),n("Request url must include context path '"+o+"'",{});function g(e,t,o){n(!1,f(o,w),e)}function m(e,t,o){n(o,f(e,w),o)}t.headers=t.headers||{},
Object.getOwnPropertyNames(t.headers).forEach((function(e){i[e.toLowerCase()]=t.headers[e]}),this);var y={url:p,type:t.type||"GET",data:t.data,dataType:"text",contentType:t.contentType,cache:void 0!==t.cache?!!t.cache:void 0,headers:{Accept:i.accept||"*/*","AP-Client-Key":s}};"multipart/form-data"===y.contentType&&(y=h(y)),y.data&&"object"==typeof y.data&&"GET"===y.type.toUpperCase()&&Object.keys(y.data).forEach((function(e){y.url+=(y.url.indexOf("?")>=0?"&":"?")+encodeURIComponent(e)+"="+encodeURIComponent(y.data[e])})),!0===t.experimental&&(y.headers["X-ExperimentalApi"]="opt-in"),c.forEach((function(e,t){i[e.toLowerCase()]&&(y.headers[e]=i[e.toLowerCase()])}),this),y.cache||(y.url+=(y.url.indexOf("?")>=0?"&":"?")+"_r="+(new Date).getTime());var v=new XMLHttpRequest;v.open(y.type,y.url,!0);var w=!1;t.binaryAttachment&&(w=!0,v.responseType="arraybuffer"),y.contentType&&(y.headers["Content-type"]=y.contentType),Object.getOwnPropertyNames(y.headers).forEach((function(e){
v.setRequestHeader(e,y.headers[e])})),v.onload=function(){this.status>=200&&this.status<300?g(w?v.response:v.responseText,v.statusText,v):m(v,v.statusText,w?v.response:v.responseText)},v.onerror=function(){m(v,v.statusText,w?v.response:v.responseText)};try{var x=!0;r&&(x=r.call(null,y)),!0===x?v.send(y.data||null):(v.abort(),m(v,"string"==typeof x?x:void 0,x))}catch(e){v.abort(),m(v,void 0,e),console.error("ACJS Request: ",e.message,e)}}}},{}]},{},[1])(1)}()}()},Gu9H:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="Gu9H"},INTo:function(t,n,o){!function(){var t=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,50)}}(),n=function(e,t,r){try{var i=o("Gu9H")(e);t(i)}catch(a){r<=0?(console.error("Unable to load module: "+e),t(null)):setTimeout((function(){n(e,t,r-1)}),500)}
},r=function(e,t,n,o,i){void 0===o&&(o=20),i=i||500,!e.isModuleDefined||o<=0?n():e.isModuleDefined(t)?n(!0):setTimeout((function(){r(e,t,n,o-1,i)}),i)};function i(t){var n;if("string"==typeof t&&t.length>1)try{n=JSON.parse(t)}catch(e){console.error("ACJS: failed to decode context",t)}return"object"!=typeof n&&(n={}),n}function a(e){return void 0!==window[e]}function s(e,t,n){if(n=n||100,a(e))t(window[e]);else var o=setInterval((function(){a(e)&&(clearInterval(o),t(window[e]))}),n)}function c(e){window._AP.isSubHost=function(e,t){if("number"!=typeof e)return window.top;for(var n=t||window,o=0;o<e;o++)n=n.parent;return n}(e.hostFrameOffset)!==window;var t=window._AP._convertConnectOptions(e);window._AP.addonAttemptCounter[t.containerId]=0,window._AP.isSubHost?(window.AP&&window.AP._data&&window.AP._data.options&&window.AP._data.options.globalOptions&&(t.options.globalOptions=window.AP._data.options.globalOptions),d(window._AP._createSub(t),t)):s("connectHost",(function(e){(function(e,t){
return e.getExtensions(t).filter((function(e){return Boolean(document.getElementById(e.extension_id))}))})(e,{addon_key:t.addon_key,key:t.key}).forEach((function(n){if(n.extension.options.uniqueKey===t.options.uniqueKey){var o=document.getElementById(n.extension_id);e.destroy(n.extension_id),o&&AJS.$(o).closest(".ap-iframe-container").remove()}}),this),d(e.create(t),t)}))}function d(e,n){var o=document.getElementById(n.containerId);if(window._AP.addonAttemptCounter[n.containerId]++,o)if(delete window._AP.addonAttemptCounter[n.containerId],window._AP.isSubHost)o.appendChild(e),function(e,t){var n=e.contentDocument,o={type:"set_inner_iframe_url",iframeData:t,extension_id:JSON.parse(e.name).extension_id},r="(function(){ var w = window; for (var i=0; i<"+t.options.hostFrameOffset+"; i++){w = w.parent; } w.postMessage("+JSON.stringify(o)+', "*");}());';n.open(),n.write("<script>"+r+"<\/script>"),n.close()}(e,n);else{var r=o.querySelector(".ap-iframe-container")
;r&&(r.parentNode.removeChild(r),AJS.log&&AJS.log("AJS: duplicate iframe removed",n,o)),e.appendTo(o),e.data("addon-key",n.addon_key),e.data("key",n.key)}else window._AP.addonAttemptCounter[n.containerId]<=10&&t((function(){d(e,n)}))}window._AP=window._AP||{},window._AP.addonAttemptCounter=window._AP.addonAttemptCounter||{},window._AP._convertConnectOptions=function(e){var t={url:e.url,ns:e.uniqueKey,addon_key:e.addon_key,key:e.key,containerId:"embedded-"+e.uniqueKey,options:{history:{state:""},uniqueKey:e.uniqueKey,origin:e.origin,hostOrigin:e.hostOrigin,moduleType:e.moduleType,moduleLocation:e.moduleLocation,isFullPage:"1"===e.general,autoresize:!0,user:{timeZone:e.timeZone,fullName:e.fullName,uid:e.uid,ukey:e.ukey},productContext:i(e.productCtx),structuredContext:i(e.structuredContext),contextJwt:e.contextJwt,contextPath:e.cp,width:e.w||e.width,height:e.h||e.height,sandbox:e.sandbox,pearApp:e.pearApp,noSub:e.noSub,allowPathTraversal:e.allowPathTraversal,targets:{env:{resize:"both"}}
}};return"string"==typeof e.contentClassifier&&(t.options.contentClassifier=e.contentClassifier),"number"==typeof e.hostFrameOffset&&(t.options.hostFrameOffset=e.hostFrameOffset+1),window._AP.isSubHost||(t.options.history.state=window.location.hash?window.location.hash.substr(2):""),t},window._AP._createSub=function(e){var t=document.createElement("iframe"),n=function(){return window.connectHost||window.AP}().subCreate(e);return n.width=e.options.width||"",n.height=e.options.height||"",n.style="border:0;",n.class="ap-iframe",n["data-addon-key"]=e.addon_key,n["data-key"]=e.key,delete n.src,Object.getOwnPropertyNames(n).forEach((function(e){t.setAttribute(e,n[e])})),t},window._AP.appendConnectAddon=function(t){var o=!1;try{window.top.karma&&(o=!0)}catch(e){}if(void 0===t.hostFrameOffset&&void 0!==window.connectHostFrameOffset&&(t.hostFrameOffset=window.connectHostFrameOffset),window===window.top||o||void 0!==t.hostFrameOffset){
/^com\.atlassian\.(jira|confluence)\.emcee($|\.local|\.staging|\.development\..*)/g.test(t.addon_key)?n("ac/marketplace",(function(e){e&&s("connectHost",(function(t){t.defineModule("marketplace",e)})),c(t)}),20):"com.addonengine.analytics"===t.addon_key?s("connectHost",(function(e){r(e,"analytics",(function(){c(t)}))})):c(t)}else{var i=function(e){e.source===window.top&&e.data&&void 0!==e.data.hostFrameOffset&&(window.removeEventListener("message",i),t.hostFrameOffset=e.data.hostFrameOffset,c(t))};window.addEventListener("message",i),window.top.postMessage({type:"get_host_offset"},"*")}}}()},"K7+Q":function(e,t,n){var o;!function(t){e.exports=function(){return function e(t,n,r){function i(s,c){if(!n[s]){if(!t[s]){if(!c&&!1)return o(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var u=n[s]={exports:{}};t[s][0].call(u.exports,(function(e){var n=t[s][1][e];return i(n||e)}),u,u.exports,e,t,n,r)}return n[s].exports}
for(var a=!1,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o="AJS.conglomerate.cookie",r=/(\\|^"|"$)/g,i=/\|\|+/g,a=/"/g,s=/[.*+?|^$()[\]{\\]/g,c=encodeURIComponent("|"),d=encodeURIComponent("|").toLowerCase(),u="**PIPE**",l="**PIPE_PERCENT_ENCODED_UPPER**",f="**PIPE_PERCENT_ENCODED_LOWER**",p="**PERCENT**",h="**EQUALS**";function g(e){if("string"!=typeof e)return e;if(-1!==e.indexOf(u)||-1!==e.indexOf(l)||-1!==e.indexOf(f))throw new Error("Cannot use cookies that contain "+u+" or "+l+f);if(-1!==e.indexOf(p))throw new Error("Cannot use cookies that contain "+p);if(-1!==e.indexOf(h))throw new Error("Cannot use cookies that contain "+h);return e=(e=(e=(e=(e=e.replace(new RegExp(y("|"),"g"),u)).replace(new RegExp(c,"g"),l)).replace(new RegExp(d,"g"),f)).replace(new RegExp("%","g"),p)).replace(new RegExp("=","g"),h)}function m(e){
return"string"!=typeof e?e:e=(e=(e=(e=(e=e.replace(new RegExp(y(u),"g"),"|")).replace(new RegExp(y(l),"g"),c)).replace(new RegExp(y(f),"g"),d)).replace(new RegExp(y(p),"g"),"%")).replace(new RegExp(y(h),"g"),"=")}function y(e){return e.replace(s,"\\$&")}function v(e,t){t=t||"";var n=new RegExp(y(e)+"=([^|]+)"),o=t.match(n);return o&&o[1]}function w(e,t,n){var o=new RegExp("(\\s|\\|)*\\b"+y(e)+"=[^|]*[|]*");if(n=(n=n||"").replace(o,"|"),""!==t){var r=e+"="+t;n.length+r.length<4020&&(n+="|"+r)}return n.replace(i,"|")}function x(e){return e.replace(r,"")}function b(e){var t=new RegExp("\\b"+y(e)+"=((?:[^\\\\;]+|\\\\.)*)(?:;|$)"),n=document.cookie.match(t);return n&&x(n[1])}function _(e,t,n){var o,r="",i='"'+t.replace(a,'\\"')+'"';n&&((o=new Date).setTime(+o+24*n*60*60*1e3),r="; expires="+o.toGMTString()),document.cookie=e+"="+i+r+";path=/"}function k(e,t,n){var r=b(o);r=w(e,t,r),_(o,r,n||365)}function E(e,t){var n=v(e,b(o));return null!=n?n:t}function A(e){k(e,"")}function C(e,t){
if(!e||0===e.length)throw new Error("addon key must be defined on cookies");if(!t||0===t.length)throw new Error("Name must be defined")}function O(e,t){return C(e,t),e+"$$"+t}function S(e,t){return C(e,t),"connect.cookie:"+e+"$$"+t}function I(e){if(e&&e._context)return e._context.extension.addon_key;throw new Error("addon key not found in callback")}function j(e,t,n,o){var r=new Date;r.setTime(r.getTime()+24*(o||365)*60*60*1e3),localStorage.setItem(S(e,t),JSON.stringify({expiry:r.getTime(),value:n}))}function T(e,t){var n=localStorage.getItem(S(e,t));if(null!==n){var o=JSON.parse(n);if(!(o.expiry&&(new Date).getTime()>o.expiry)){var r=o.value;return"string"==typeof r?r:JSON.stringify(r)}localStorage.removeItem(t)}}n.default={save:function(e,t,n){var o=arguments[arguments.length-1],r=I(o);o._context&&j(r,e,t,n)},read:function(e,t){var n=T(I(t=arguments[arguments.length-1]),e);if(void 0!==n)return t(n),n;var o=m(E(O(I(t),g(e))));return t(o),o},erase:function(e){
var t=arguments[arguments.length-1];A(O(I(t),g(e))),localStorage.removeItem(S(I(t),e))}},t.exports=n.default},{}]},{},[1])(1)}()}()},TzFC:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=async(e,t=n("jLph").c)=>Object(n("PTs8").a)({wrmKeys:e,shouldLogError:t})},bA5r:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));class o extends n("Ffmi").a{constructor(e,t,n){super(e,{cause:n}),this.skipSentry=void 0,this.statusCode=void 0,this.name="NetworkError",this.statusCode=t,this.skipSentry=function(e){return!!e&&e>=400&&e<500}(t)}}const r=(e,t,o={})=>Object(n("q2+m").a)({error:t,meta:{id:e,packageName:"jiraConnect"},attributes:{skipSentry:t.skipSentry,statusCode:t.statusCode,...o},sendToPrivacyUnsafeSplunk:!0,skipSentry:t.skipSentry})},cNpz:function(e,t,n){!function(t){"use strict";var n=function(){function e(e){this.options=e}return e.prototype.toString=function(){
return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},e}(),o=function(){function e(t){return"function"==typeof Object.freeze?function(t){if("object"!=typeof t||null===t)return t;var n,o;for(o in Object.freeze(t),t)t.hasOwnProperty(o)&&"object"==typeof(n=t[o])&&e(n);return t}(t):t}return{isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},isString:function(e){return"[object String]"===Object.prototype.toString.apply(e)},isNumber:function(e){return"[object Number]"===Object.prototype.toString.apply(e)},isBoolean:function(e){return"[object Boolean]"===Object.prototype.toString.apply(e)},join:function(e,t){var n,o="",r=!0;for(n=0;n<e.length;n+=1)r?r=!1:o+=t,o+=e[n];return o},map:function(e,t){for(var n=[],o=0;o<e.length;o+=1)n.push(t(e[o]));return n},filter:function(e,t){for(var n=[],o=0;o<e.length;o+=1)t(e[o])&&n.push(e[o]);return n},deepFreeze:e}}(),r=function(){function e(e){return e>="0"&&e<="9"}return{isAlpha:function(e){
return e>="a"&&e<="z"||e>="A"&&e<="Z"},isDigit:e,isHexDigit:function(t){return e(t)||t>="a"&&t<="f"||t>="A"&&t<="F"}}}(),i=function(){var e=function(e){return unescape(encodeURIComponent(e))},t=function(e){return e<=127?1:194<=e&&e<=223?2:224<=e&&e<=239?3:240<=e&&e<=244?4:0},n=function(e){return 128<=e&&e<=191};function o(e,t){return"%"===e.charAt(t)&&r.isHexDigit(e.charAt(t+1))&&r.isHexDigit(e.charAt(t+2))}function i(e,t){return parseInt(e.substr(t,2),16)}return{encodeCharacter:function(t){var n,o,r="",i=e(t);for(o=0;o<i.length;o+=1)r+="%"+((n=i.charCodeAt(o))<16?"0":"")+n.toString(16).toUpperCase();return r},isPctEncoded:function(e){if(!o(e,0))return!1;var r=i(e,1),a=t(r);if(0===a)return!1;for(var s=1;s<a;s+=1)if(!o(e,3*s)||!n(i(e,3*s+1)))return!1;return!0},pctCharAt:function(e,r){var a=e.charAt(r);if(!o(e,r))return a;var s=i(e,r+1),c=t(s);if(0===c)return a;for(var d=1;d<c;d+=1)if(!o(e,r+3*d)||!n(i(e,r+3*d+1)))return a;return e.substr(r,3*c)}}}(),a=function(){return{
isVarchar:function(e){return r.isAlpha(e)||r.isDigit(e)||"_"===e||i.isPctEncoded(e)},isUnreserved:function(e){return r.isAlpha(e)||r.isDigit(e)||"-"===e||"."===e||"_"===e||"~"===e},isReserved:function(e){return":"===e||"/"===e||"?"===e||"#"===e||"["===e||"]"===e||"@"===e||"!"===e||"$"===e||"&"===e||"("===e||")"===e||"*"===e||"+"===e||","===e||";"===e||"="===e||"'"===e}}}(),s=function(){function e(e,t){var n,o="",r="";for("number"!=typeof e&&"boolean"!=typeof e||(e=e.toString()),n=0;n<e.length;n+=r.length)r=e.charAt(n),o+=a.isUnreserved(r)||t&&a.isReserved(r)?r:i.encodeCharacter(r);return o}return{encode:e,encodePassReserved:function(t){return e(t,!0)},encodeLiteral:function(e){var t,n="",o="";for(t=0;t<e.length;t+=o.length)(o=i.pctCharAt(e,t)).length>1?n+=o:n+=a.isReserved(o)||a.isUnreserved(o)?o:i.encodeCharacter(o);return n},encodeLiteralCharacter:function(e,t){var n=i.pctCharAt(e,t);return n.length>1||a.isReserved(n)||a.isUnreserved(n)?n:i.encodeCharacter(n)}}}(),c=function(){
var e={};function t(t){e[t]={symbol:t,separator:"?"===t?"&":""===t||"+"===t||"#"===t?",":t,named:";"===t||"&"===t||"?"===t,ifEmpty:"&"===t||"?"===t?"=":"",first:"+"===t?"":t,encode:"+"===t||"#"===t?s.encodePassReserved:s.encode,toString:function(){return this.symbol}}}return t(""),t("+"),t("#"),t("."),t("/"),t(";"),t("?"),t("&"),{valueOf:function(t){return e[t]?e[t]:"=,!@|".indexOf(t)>=0?null:e[""]}}}();function d(e){var t;if(null==e)return!1;if(o.isArray(e))return e.length>0;if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return!0;for(t in e)if(e.hasOwnProperty(t)&&d(e[t]))return!0;return!1}var u=function(){function e(e){this.literal=s.encodeLiteral(e)}return e.prototype.expand=function(){return this.literal},e.prototype.toString=e.prototype.expand,e}(),l=function(){function e(e){var t,o,s=[],d=null,u=null,l=null,p="";function h(){var t=e.substring(u,o);if(0===t.length)throw new n({expressionText:e,message:"a varname must be specified",position:o});d={varname:t,
exploded:!1,maxLength:null},u=null}function g(){if(l===o)throw new n({expressionText:e,message:"after a ':' you have to specify the length",position:o});d.maxLength=parseInt(e.substring(l,o),10),l=null}for(t=function(t){var r=c.valueOf(t);if(null===r)throw new n({expressionText:e,message:"illegal use of reserved operator",position:o,operator:t});return r}(e.charAt(0)),o=t.symbol.length,u=o;o<e.length;o+=p.length){if(p=i.pctCharAt(e,o),null!==u){if("."===p){if(u===o)throw new n({expressionText:e,message:"a varname MUST NOT start with a dot",position:o});continue}if(a.isVarchar(p))continue;h()}if(null!==l){if(o===l&&"0"===p)throw new n({expressionText:e,message:"A :prefix must not start with digit 0",position:o});if(r.isDigit(p)){if(o-l>=4)throw new n({expressionText:e,message:"A :prefix must have max 4 digits",position:o});continue}g()}if(":"!==p)if("*"!==p){if(","!==p)throw new n({expressionText:e,message:"illegal character",character:p,position:o});s.push(d),d=null,u=o+1}else{
if(null===d)throw new n({expressionText:e,message:"exploded without varspec",position:o});if(d.exploded)throw new n({expressionText:e,message:"exploded twice",position:o});if(d.maxLength)throw new n({expressionText:e,message:"an explode (*) MUST NOT follow to a prefix",position:o});d.exploded=!0}else{if(null!==d.maxLength)throw new n({expressionText:e,message:"only one :maxLength is allowed per varspec",position:o});if(d.exploded)throw new n({expressionText:e,message:"an exploeded varspec MUST NOT be varspeced",position:o});l=o+1}}return null!==u&&h(),null!==l&&g(),s.push(d),new f(e,t,s)}return function(t){var o,r,i=[],a=null,s=0;for(o=0;o<t.length;o+=1)if(r=t.charAt(o),null===s){if(null===a)throw new Error("reached unreachable code");if("{"===r)throw new n({templateText:t,message:"brace already opened",position:o});if("}"===r){if(a+1===o)throw new n({templateText:t,message:"empty braces",position:a});try{i.push(e(t.substring(a+1,o)))}catch(c){if(c.prototype===n.prototype)throw new n({
templateText:t,message:c.options.message,position:a+c.options.position,details:c.options});throw c}a=null,s=o+1}}else{if("}"===r)throw new n({templateText:t,message:"unopened brace closed",position:o});"{"===r&&(s<o&&i.push(new u(t.substring(s,o))),s=null,a=o)}if(null!==a)throw new n({templateText:t,message:"unclosed brace",position:a});return s<t.length&&i.push(new u(t.substr(s))),new p(t,i)}}(),f=function(){function e(e){return JSON&&JSON.stringify?JSON.stringify(e):e}function t(e){if(!d(e))return!0;if(o.isString(e))return""===e;if(o.isNumber(e)||o.isBoolean(e))return!1;if(o.isArray(e))return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function n(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push({name:t,value:e[t]});return n}function r(e,t,n){this.templateText=e,this.operator=t,this.varspecs=n}function i(e,t,n){var o="";if(n=n.toString(),t.named){if(o+=s.encodeLiteral(e.varname),""===n)return o+=t.ifEmpty;o+="="}
return null!==e.maxLength&&(n=n.substr(0,e.maxLength)),o+=t.encode(n)}function a(e){return d(e.value)}function c(e,r,i){var c=[],u="";if(r.named){if(u+=s.encodeLiteral(e.varname),t(i))return u+=r.ifEmpty;u+="="}return o.isArray(i)?(c=i,c=o.filter(c,d),c=o.map(c,r.encode),u+=o.join(c,",")):(c=n(i),c=o.filter(c,a),c=o.map(c,(function(e){return r.encode(e.name)+","+r.encode(e.value)})),u+=o.join(c,",")),u}function u(e,r,i){var c=[];return o.isArray(i)?(c=i,c=o.filter(c,d),c=o.map(c,(function(n){var o=s.encodeLiteral(e.varname);return t(n)?o+=r.ifEmpty:o+="="+r.encode(n),o}))):(c=n(i),c=o.filter(c,a),c=o.map(c,(function(e){var n=s.encodeLiteral(e.name);return t(e.value)?n+=r.ifEmpty:n+="="+r.encode(e.value),n}))),o.join(c,r.separator)}function l(e,t){var r=[],i="";return o.isArray(t)?(r=t,r=o.filter(r,d),r=o.map(r,e.encode),i+=o.join(r,e.separator)):(r=n(t),r=o.filter(r,(function(e){return d(e.value)})),r=o.map(r,(function(t){return e.encode(t.name)+"="+e.encode(t.value)})),
i+=o.join(r,e.separator)),i}return r.prototype.toString=function(){return this.templateText},r.prototype.expand=function(n){var r,a,s,f=[],p=this.operator;for(r=0;r<this.varspecs.length;r+=1)if(null!=(s=n[(a=this.varspecs[r]).varname]))if(a.exploded&&!0,o.isArray(s),"string"==typeof s||"number"==typeof s||"boolean"==typeof s)f.push(i(a,p,s));else{if(a.maxLength&&d(s))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+e(s));a.exploded?d(s)&&(p.named?f.push(u(a,p,s)):f.push(l(p,s))):!p.named&&t(s)||f.push(c(a,p,s))}return 0===f.length?"":p.first+o.join(f,p.separator)},r}(),p=function(){function e(e,t){this.templateText=e,this.expressions=t,o.deepFreeze(this)}return e.prototype.toString=function(){return this.templateText},e.prototype.expand=function(e){var t,n="";for(t=0;t<this.expressions.length;t+=1)n+=this.expressions[t].expand(e);return n},e.parse=l,e.UriTemplateError=n,e}();!function(t){e.exports=t}(p)}()
},hshg:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=async(e,t,o=n("jLph").c)=>Object(n("PTs8").a)({wrmKeys:e,shouldLogError:o,batchUrl:t})},jaLJ:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d}));let o=null,r=null;const i=e=>{r=e},a=()=>null!==o,s=()=>null!==r,c=()=>o,d=()=>r},mEq2:function(e,t,n){(function(t){var n;!function(o){e.exports=function(){var e;return function e(t,o,r){function i(s,c){if(!o[s]){if(!t[s]){if(!c&&!1)return n(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var u=o[s]={exports:{}};t[s][0].call(u.exports,(function(e){var n=t[s][1][e];return i(n||e)}),u,u.exports,e,t,o,r)}return o[s].exports}for(var a=!1,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0})
;var o=e("./constants"),r=e("./models"),i=e("./utils");function a(e,t){(0,i.callConnectHost)((function(n){(0,i.values)(n.getExtensions()).forEach((function(o){var i=o.extension.addon_key,a=new r.Current({url:window.location.href,state:t.state}),s=new r.Route(a);n.broadcastEvent(e,{addon_key:i},s.render(i))}))}))}var s=!1;function c(){s||(window.addEventListener("popstate",(function(e){var t=(0,i.createEvent)("ap_popstate");t.state=(0,i.unwrapState)(e.state),window.dispatchEvent(t)})),window.addEventListener("ap_popstate",(function(e){var t=(0,i.createEvent)("ap_changestate");t.state=e.state,window.dispatchEvent(t),a(o.HISTORY_POPSTATE,e)})),window.addEventListener("ap_pushstate",(function(e){var t=(0,i.createEvent)("ap_changestate");t.state=e.state,window.dispatchEvent(t),a(o.HISTORY_PUSHSTATE,e)})),window.addEventListener("ap_replacestate",(function(e){var t=(0,i.createEvent)("ap_changestate");t.state=e.state,window.dispatchEvent(t),a(o.HISTORY_REPLACESTATE,e)})),
window.addEventListener("ap_changestate",(function(e){a(o.HISTORY_CHANGESTATE,e)})),s=!0)}function d(e){var t=e.state.render(),n=e.url.render();window.history.pushState((0,i.wrapState)(t),n.title,n.url)}function u(e){var t=e.state.render(),n=e.url.render();window.history.replaceState((0,i.wrapState)(t),n.title,n.url)}n.default={_registerWindowListeners:function(){c()},back:function(e){e=arguments[arguments.length-1],this.go(-1,e)},forward:function(e){e=arguments[arguments.length-1],this.go(1,e)},go:function(e){arguments[arguments.length-1]._context.extension.options.isFullPage?window.history.go(e):(0,i.log)("History is only available to page modules")},getState:function(e,t){var n=(t=arguments[arguments.length-1])._context.extension.addon_key,o=new r.Current({url:window.location.href,state:(0,i.unwrapState)(window.history.state)}),a=new r.Route(o).render(n);if("hash"===(e=e&&"string"==typeof e?e:"hash"))t(a.hash);else{if("all"!==e)throw new Error("invalid type for getState");t(a)}},
pushState:function(e,t){var n=(t=arguments[arguments.length-1])._context.extension.addon_key,o=new r.Current({url:window.location.href,state:(0,i.unwrapState)(window.history.state)}),a=new r.Route(o),s=new r.Change(e,n),c=new r.Route(s);if(t._context.extension.options.isFullPage){c.url.isURLEqual(a.url)?(a.merge(c),u(a)):c.url.isPathnameEqual(a.url)?(a.merge(c),d(a)):d(c);var l=(0,i.createEvent)("ap_pushstate");l.state=(0,i.unwrapState)(window.history.state),window.dispatchEvent(l)}else(0,i.log)("History is only available to page modules")},replaceState:function(e,t){var n=(t=arguments[arguments.length-1])._context.extension.addon_key,o=new r.Current({url:window.location.href,state:(0,i.unwrapState)(window.history.state)}),a=new r.Route(o),s=new r.Change(e,n),c=new r.Route(s);if(t._context.extension.options.isFullPage){c.url.isURLEqual(a.url)||c.url.isPathnameEqual(a.url)?(a.merge(c),u(a)):u(c);var d=(0,i.createEvent)("ap_replacestate");d.state=(0,i.unwrapState)(window.history.state),
window.dispatchEvent(d)}else(0,i.log)("History is only available to page modules")}},t.exports=n.default},{"./constants":7,"./models":8,"./utils":9}],2:[function(n,o,r){(function(t){!function(n){var i="object"==typeof r&&r,a="object"==typeof o&&o&&o.exports==i&&o,s="object"==typeof t&&t;s.global!==s&&s.window!==s||(n=s);var c,d,u=2147483647,l=36,f=1,p=26,h=38,g=700,m=72,y=128,v="-",w=/^xn--/,x=/[^ -~]/,b=/\x2E|\u3002|\uFF0E|\uFF61/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=l-f,E=Math.floor,A=String.fromCharCode;function C(e){throw RangeError(_[e])}function O(e,t){for(var n=e.length;n--;)e[n]=t(e[n]);return e}function S(e,t){return O(e.split(b),t).join(".")}function I(e){for(var t,n,o=[],r=0,i=e.length;r<i;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<i?56320==(64512&(n=e.charCodeAt(r++)))?o.push(((1023&t)<<10)+(1023&n)+65536):(o.push(t),r--):o.push(t);return o}
function j(e){return O(e,(function(e){var t="";return e>65535&&(t+=A((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=A(e)})).join("")}function T(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:l}function P(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function R(e,t,n){var o=0;for(e=n?E(e/g):e>>1,e+=E(e/t);e>k*p>>1;o+=l)e=E(e/k);return E(o+(k+1)*e/(e+h))}function L(e){var t,n,o,r,i,a,s,c,d,h,g=[],w=e.length,x=0,b=y,_=m;for((n=e.lastIndexOf(v))<0&&(n=0),o=0;o<n;++o)e.charCodeAt(o)>=128&&C("not-basic"),g.push(e.charCodeAt(o));for(r=n>0?n+1:0;r<w;){for(i=x,a=1,s=l;r>=w&&C("invalid-input"),((c=T(e.charCodeAt(r++)))>=l||c>E((u-x)/a))&&C("overflow"),x+=c*a,!(c<(d=s<=_?f:s>=_+p?p:s-_));s+=l)a>E(u/(h=l-d))&&C("overflow"),a*=h;_=R(x-i,t=g.length+1,0==i),E(x/t)>u-b&&C("overflow"),b+=E(x/t),x%=t,g.splice(x++,0,b)}return j(g)}function D(e){var t,n,o,r,i,a,s,c,d,h,g,w,x,b,_,k=[];for(w=(e=I(e)).length,t=y,n=0,i=m,a=0;a<w;++a)(g=e[a])<128&&k.push(A(g));for(o=r=k.length,r&&k.push(v);o<w;){for(s=u,
a=0;a<w;++a)(g=e[a])>=t&&g<s&&(s=g);for(s-t>E((u-n)/(x=o+1))&&C("overflow"),n+=(s-t)*x,t=s,a=0;a<w;++a)if((g=e[a])<t&&++n>u&&C("overflow"),g==t){for(c=n,d=l;!(c<(h=d<=i?f:d>=i+p?p:d-i));d+=l)_=c-h,b=l-h,k.push(A(P(h+_%b,0))),c=E(_/b);k.push(A(P(c,0))),i=R(n,x,o==r),n=0,++o}++n,++t}return k.join("")}function M(e){return S(e,(function(e){return w.test(e)?L(e.slice(4).toLowerCase()):e}))}function F(e){return S(e,(function(e){return x.test(e)?"xn--"+D(e):e}))}if(c={version:"1.2.4",ucs2:{decode:I,encode:j},decode:L,encode:D,toASCII:F,toUnicode:M},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",(function(){return c}));else if(i&&!i.nodeType)if(a)a.exports=c;else for(d in c)c.hasOwnProperty(d)&&(i[d]=c[d]);else n.punycode=c}(this)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){var o=e("punycode");function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,
this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}n.parse=v,n.resolve=x,n.resolveObject=b,n.format=w,n.Url=r;var i=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,s=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(s),d=["%","/","?",";","#"].concat(c),u=["/","?","#"],l=255,f=/^[a-z0-9A-Z_-]{0,63}$/,p=/^([a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=e("querystring");function v(e,t,n){if(e&&k(e)&&e instanceof r)return e;var o=new r;return o.parse(e,t,n),o}function w(e){return _(e)&&(e=v(e)),e instanceof r?e.format():r.prototype.format.call(e)}function x(e,t){return v(e,!1,!0).resolve(t)}function b(e,t){return e?v(e,!1,!0).resolveObject(t):t}function _(e){return"string"==typeof e}function k(e){return"object"==typeof e&&null!==e}function E(e){
return null===e}function A(e){return null==e}r.prototype.parse=function(e,t,n){if(!_(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e;r=r.trim();var a=i.exec(r);if(a){var s=(a=a[0]).toLowerCase();this.protocol=s,r=r.substr(a.length)}if(n||a||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var v="//"===r.substr(0,2);!v||a&&g[a]||(r=r.substr(2),this.slashes=!0)}if(!g[a]&&(v||a&&!m[a])){for(var w,x,b=-1,k=0;k<u.length;k++){-1!==(E=r.indexOf(u[k]))&&(-1===b||E<b)&&(b=E)}-1!==(x=-1===b?r.lastIndexOf("@"):r.lastIndexOf("@",b))&&(w=r.slice(0,x),r=r.slice(x+1),this.auth=decodeURIComponent(w)),b=-1;for(k=0;k<d.length;k++){var E;-1!==(E=r.indexOf(d[k]))&&(-1===b||E<b)&&(b=E)}-1===b&&(b=r.length),this.host=r.slice(0,b),r=r.slice(b),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var C=this.hostname.split(/\./),O=(k=0,C.length);k<O;k++){var S=C[k];if(S&&!S.match(f)){
for(var I="",j=0,T=S.length;j<T;j++)S.charCodeAt(j)>127?I+="x":I+=S[j];if(!I.match(f)){var P=C.slice(0,k),R=C.slice(k+1),L=S.match(p);L&&(P.push(L[1]),R.unshift(L[2])),R.length&&(r="/"+R.join(".")+r),this.hostname=P.join(".");break}}}if(this.hostname.length>l?this.hostname="":this.hostname=this.hostname.toLowerCase(),!A){var D=this.hostname.split("."),M=[];for(k=0;k<D.length;++k){var F=D[k];M.push(F.match(/[^A-Za-z0-9_-]/)?"xn--"+o.encode(F):F)}this.hostname=M.join(".")}var N=this.port?":"+this.port:"",$=this.hostname||"";this.host=$+N,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!h[s])for(k=0,O=c.length;k<O;k++){var U=c[k],B=encodeURIComponent(U);B===U&&(B=escape(U)),r=r.split(U).join(B)}var J=r.indexOf("#");-1!==J&&(this.hash=r.substr(J),r=r.slice(0,J));var H=r.indexOf("?");if(-1!==H?(this.search=r.substr(H),this.query=r.substr(H+1),t&&(this.query=y.parse(this.query)),r=r.slice(0,H)):t&&(this.search="",this.query={}),
r&&(this.pathname=r),m[s]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){N=this.pathname||"",F=this.search||"";this.path=N+F}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",o=this.hash||"",r=!1,i="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&k(this.query)&&Object.keys(this.query).length&&(i=y.stringify(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==r?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),o&&"#"!==o.charAt(0)&&(o="#"+o),a&&"?"!==a.charAt(0)&&(a="?"+a),t+r+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+o},r.prototype.resolve=function(e){
return this.resolveObject(v(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(_(e)){var t=new r;t.parse(e,!1,!0),e=t}var n=new r;if(Object.keys(this).forEach((function(e){n[e]=this[e]}),this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach((function(t){"protocol"!==t&&(n[t]=e[t])})),m[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!m[e.protocol])return Object.keys(e).forEach((function(t){n[t]=e[t]})),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var o=(e.pathname||"").split("/");o.length&&!(e.host=o.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==o[0]&&o.unshift(""),o.length<2&&o.unshift(""),n.pathname=o.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){
var i=n.pathname||"",a=n.search||"";n.path=i+a}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),c=e.host||e.pathname&&"/"===e.pathname.charAt(0),d=c||s||n.host&&e.pathname,u=d,l=n.pathname&&n.pathname.split("/")||[],f=(o=e.pathname&&e.pathname.split("/")||[],n.protocol&&!m[n.protocol]);if(f&&(n.hostname="",n.port=null,n.host&&(""===l[0]?l[0]=n.host:l.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===o[0]?o[0]=e.host:o.unshift(e.host)),e.host=null),d=d&&(""===o[0]||""===l[0])),c)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,l=o;else if(o.length)l||(l=[]),l.pop(),l=l.concat(o),n.search=e.search,n.query=e.query;else if(!A(e.search)){if(f)n.hostname=n.host=l.shift(),(w=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=w.shift(),n.host=n.hostname=w.shift());return n.search=e.search,n.query=e.query,
E(n.pathname)&&E(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!l.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var p=l.slice(-1)[0],h=(n.host||e.host)&&("."===p||".."===p)||""===p,y=0,v=l.length;v>=0;v--)"."==(p=l[v])?l.splice(v,1):".."===p?(l.splice(v,1),y++):y&&(l.splice(v,1),y--);if(!d&&!u)for(;y--;y)l.unshift("..");!d||""===l[0]||l[0]&&"/"===l[0].charAt(0)||l.unshift(""),h&&"/"!==l.join("/").substr(-1)&&l.push("");var w,x=""===l[0]||l[0]&&"/"===l[0].charAt(0);f&&(n.hostname=n.host=x?"":l.length?l.shift():"",(w=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=w.shift(),n.host=n.hostname=w.shift()));return(d=d||n.host&&l.length)&&!x&&l.unshift(""),l.length?n.pathname=l.join("/"):(n.pathname=null,n.path=null),E(n.pathname)&&E(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},
r.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{punycode:2,querystring:6}],4:[function(e,t,n){"use strict";function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var d=e.length;c>0&&d>c&&(d=c);for(var u=0;u<d;++u){var l,f,p,h,g=e[u].replace(s,"%20"),m=g.indexOf(n);m>=0?(l=g.substr(0,m),f=g.substr(m+1)):(l=g,f=""),p=decodeURIComponent(l),h=decodeURIComponent(f),o(a,p)?r(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],5:[function(e,t,n){"use strict";var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:
return""}};t.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(a(e),(function(a){var s=encodeURIComponent(o(a))+n;return r(e[a])?i(e[a],(function(e){return s+encodeURIComponent(o(e))})).join(t):s+encodeURIComponent(o(e[a]))})).join(t):s?encodeURIComponent(o(s))+n+encodeURIComponent(o(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],o=0;o<e.length;o++)n.push(t(e[o],o));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],6:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":4,"./encode":5}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o="_AP";n.STATE_AP_KEY=o;var r="ac";n.QUERY_KEY_PREFIX=r;var i=".";n.QUERY_KEY_DELIMITER=i;var a="!";n.ANCHOR_PREFIX=a
;var s="history_popstate";n.HISTORY_POPSTATE=s;var c="history_pushstate";n.HISTORY_PUSHSTATE=c;var d="history_replacestate";n.HISTORY_REPLACESTATE=d;var u="history_changestate";n.HISTORY_CHANGESTATE=u},{}],8:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.Addon=a,n.Addons=s,n.Current=c,n.Change=d,n.State=u,n.URL=l,n.Route=f;var r=o(e("url")),i=e("./utils");function a(e){if(!(e=e||{}).key)throw new Error("missing key for addon");return this.key=e.key,this.state=e.state,this.query=e.query||{},this}function s(e){return(e=e||{}).models=e.models||[],e.models instanceof Array||(e.models=[e.models]),e.models=e.models.map((function(e){return e instanceof a?e:new a(e)})),this.models=e.models,this}function c(e){if(!(e=e||{}).url)throw new Error("missing url");var t=r.default.parse(e.url),n=new s,o=(0,i.parseQuery)(t.query).map(i.stripAddonQueryPrefix),c=(0,i.normalizeQueryByAddons)(o),d=c.filter((function(e){
return e.key})),f=c.filter((function(e){return!e.key}));return d.forEach((function(e){var t=new a(e);n.add(t)})),this.url=new l({url:e.url,addons:n,global:f}),this.state=new u(e.state),this}function d(e,t){var n=typeof e,o=r.default.parse(window.location.href),c={},d={};if("string"===n)c.protocol=o.protocol,c.slashes=o.slashes,c.hostname=o.hostname,c.pathname=o.pathname,c.port=o.port,c.search=o.search,c.query=o.query,c.hash=(0,i.addHash)((0,i.addHashPrefix)(e));else{if("object"!==n)throw new Error("invalid option type");var f=e.href?r.default.parse(e.href):o;c.protocol=o.protocol,c.slashes=o.slashes,c.hostname=o.hostname,c.port=o.port,c.pathname=f.pathname||o.pathname,c.search=null,c.query=null,c.hash=e.hash?(0,i.addHash)((0,i.addHashPrefix)(e.hash)):null,d.state=e.state,d.query=e.query}var p=new s,h=new s;if(d.state){var g=new a({key:t,state:d.state});p.add(g)}if(d.query){var m=new a({key:t,query:d.query});h.add(m)}var y=new u({addons:p}),v=new l({url:r.default.format(c),addons:h})
;return this.state=y,this.url=v,this}function u(e){return(e=e||{}).addons=e.addons||[],e.addons instanceof s||(e.addons=new s(e.addons)),this.addons=e.addons,this}function l(e){(e=e||{}).addons=e.addons||[],e.global=e.global||[],e.parsed instanceof r.default.Url||(e.parsed=r.default.parse(e.url)),e.addons instanceof s||(e.addons=new s(e.addons)),this.parsed=e.parsed,this.addons=e.addons,this.global=e.global,this.title=e.title||window.document.title}function f(e){if(!(e=e||{}).url)throw new Error("missing url option");if(e.url instanceof l||(e.url=new l(e.url)),!e.state)throw new Error("missing state option");e.state instanceof u||(e.state=new u(e.state)),this.url=e.url,this.state=e.state}s.prototype.add=function(e){this.models.push(e)},s.prototype.remove=function(e){this.models.splice(this.models.indexOf(e),1)},s.prototype.find=function(e){return(0,i.find)(this.models,(function(t){return t.key===e}))},s.prototype.merge=function(e){var t=this.find(e.key);t&&this.remove(t),this.add(e)},
u.prototype.merge=function(e){var t=this;e.addons.models.forEach((function(e){t.addons.merge(e)}))},u.prototype.render=function(){return(0,i.deepCopy)(this)},l.prototype.isURLEqual=function(e){return this.render().url===e.render().url},l.prototype.isPathnameEqual=function(e){var t=this.parsed.protocol===e.parsed.protocol,n=this.parsed.slashes===e.parsed.slashes,o=this.parsed.hostname===e.parsed.hostname,r=this.parsed.pathname===e.parsed.pathname;return t&&n&&o&&r},l.prototype.merge=function(e){var t=this;t.parsed.hash=e.parsed.hash,e.addons.models.forEach((function(e){t.addons.merge(e)}))},l.prototype.render=function(){var e=(0,i.deepCopy)(this),t=e.parsed,n=(0,i.denormalizeQueryByAddons)(this.addons.models),o=(0,i.denormalizeQueryByAddons)(this.global),a=n.concat(o).map(i.addAddonQueryPrefix),s=(0,i.formatQuery)(a);return t.query=s,t.search=t.query?"?"+t.query:null,e.url=r.default.format(t),e},f.prototype.merge=function(e){this.url.merge(e.url),this.state.merge(e.state)},
f.prototype.render=function(e){return(0,i.deepCopy)({key:e,hash:(0,i.stripHashPrefix)((0,i.stripHash)(this.url.parsed.hash)),query:this.url.addons.find(e)?this.url.addons.find(e).query:null,title:this.url.title,href:this.url.parsed.href,state:this.state.addons.find(e)?this.state.addons.find(e).state:null})}},{"./utils":9,url:3}],9:[function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0}),n.find=i,n.values=a,n.stripHash=s,n.stripHashPrefix=c,n.addHash=d,n.addHashPrefix=u,n.splitQueryParam=l,n.joinQueryParam=f,n.parseQuery=p,n.formatQuery=h,n.stripAddonQueryPrefix=g,n.addAddonQueryPrefix=m,n.normalizeQueryByAddons=y,n.denormalizeQueryByAddons=v,n.deepCopy=w,n.wrapState=x,n.unwrapState=b,n.createEvent=_,n.callConnectHost=k,n.log=E;var r=e("./constants");function i(e,t){for(var n=0,o=e.length;n<o;n+=1)if(t(e[n]))return e[n]}function a(e){var t=[]
;if(!e)return t;for(var n in e)t.push(e[n]);return t}function s(e){return e?e.slice(e.search("#")+1):null}function c(e){return null==e||""===e?"":e.toString().replace(new RegExp("^"+r.ANCHOR_PREFIX),"")}function d(e){return"#"+e}function u(e){if(null==e)throw"You must supply text to prefix";return r.ANCHOR_PREFIX+c(e)}function l(e){var t=e?e.split("="):[];t[0],t[1];return 2===t.length?{key:t[0],value:t[1]}:null}function f(e){return"key"in e&&"value"in e?[e.key,"=",e.value].join(""):null}function p(e){return(e?e.split("&"):[]).map((function(e){return l(e)})).filter((function(e){return e}))}function h(e){var t=e.map((function(e){return f(e)})).filter((function(e){return e}));return t.length?t.join("&"):null}function g(e){var t=e.key?e.key.split(r.QUERY_KEY_DELIMITER):[],n=r.QUERY_KEY_PREFIX;return t.length>=3&&n===t[0]?{addonKey:t.slice(1,t.length-1).join(r.QUERY_KEY_DELIMITER),key:t.slice(t.length-1).join(r.QUERY_KEY_DELIMITER),value:e.value}:e}function m(e){var t=r.QUERY_KEY_PREFIX
;return"addonKey"in e&&e.addonKey?{key:[t,e.addonKey,e.key].join(r.QUERY_KEY_DELIMITER),value:e.value}:e}function y(e){var t=[];return e.forEach((function(e){var n=e.key,r=e.value,i=e.addonKey,a=t.filter((function(e){return e.key===i}));a&&a.length?a[0].query[n]=r:t.push({key:i,query:o({},n,r)})})),t}function v(e){var t=[];return e.forEach((function(e){var n=e.key;Object.keys(e.query).forEach((function(o){var r=e.query[o];t.push({addonKey:n,key:o,value:r})}))})),t}function w(e){return JSON.parse(JSON.stringify(e))}function x(e){var t={};return t[r.STATE_AP_KEY]=e,t}function b(e){return e&&e[r.STATE_AP_KEY]?e[r.STATE_AP_KEY]:null}function _(e){var t;return"function"==typeof Event?t=new Event(e):((t=document.createEvent("Event")).initEvent(e,!1,!1),t)}function k(t){e&&e.amd?e(["connect-host"],(function(e){t(e)})):t(window.connectHost)}function E(e,t){t||(t="log"),console[t].call(null,"Atlassian Connect JS History: ",e)}},{"./constants":7}]},{},[1])(1)}()}()}).call(this,n("yLpj"))},
nTyr:function(e,t,n){"use strict";const o={cs_CZ:"calendar-cs",da_DK:"calendar-da",de_DE:"calendar-de",en_GB:"calendar-en",en_UK:"calendar-en",en_ZZ:"calendar-en",en_US:"calendar-en",es_ES:"calendar-es",et_EE:"calendar-en",fi_FI:"calendar-fi",fr_FR:"calendar-fr",hu_HU:"calendar-hu",is_IS:"calendar-en",it_IT:"calendar-it",ja_JP:"calendar-jp",ko_KR:"calendar-ko",nb_NO:"calendar-no",nl_NL:"calendar-nl",pl_PL:"calendar-pl",pt_BR:"calendar-pt",pt_PT:"calendar-pt",ro_RO:"calendar-ro",ru_RU:"calendar-ru",sk_SK:"calendar-sk",sv_SE:"calendar-sv",tr_TR:"calendar-tr",zh_CN:"calendar-zh",zh_TW:"calendar-zh"};t.a=e=>`wrc!jira.webresources:${(e=>o[e]||o.en_US)(e)}`},sOZ8:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));const o=e=>Object(n("TzFC").a)(e),r=(e,t)=>Object(n("hshg").a)(e,t)}}]);try{window.__jsEvalStop("async-connect-js-api.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-connect-js-api.2be55fc31d6caa39570a.8.js.map