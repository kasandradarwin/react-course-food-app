try{window.performance.mark("atlassian-navigation.async-notification-badge.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["atlassian-navigation.async-notification-badge"],{Be4h:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n("NY1e"),a=n("MblU");const i="atlaskitNotificationLogClient";class o{constructor(e,t,n=i){this.serviceConfig={url:e},this.cloudId=t,this.source=n}async countUnseenNotifications(e={}){const t={path:"/api/3/notifications/count/unseen",...e,queryParams:{...this.cloudId&&{cloudId:this.cloudId},source:this.source,...e.queryParams||{}},requestInit:{mode:"cors",headers:{"x-app-version":`${a.a}-${i}`},...e.requestInit||{}}};return s.b.requestService(this.serviceConfig,t)}}},MblU:function(e){e.exports=JSON.parse('{"a":"6.0.3"}')},NY1e:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u}));var s={};n.r(s),n.d(s,"requestService",(function(){return l}));var a=n("lSNA"),i=n.n(a)
;class o{constructor(){i()(this,"listeners",new Set)}subscribe(e){this.listeners.add(e),this.lastResult&&e.result(this.lastResult)}unsubscribe(e){this.listeners.delete(e)}notifyResult(e){this.listeners.forEach((t=>{t.result(e)}))}notifyError(e){this.listeners.forEach((t=>{t.error&&t.error(e)}))}notifyInfo(e){this.listeners.forEach((t=>{t.info&&t.info(e)}))}notifyNotReady(){this.listeners.forEach((e=>{e.notReady&&e.notReady()}))}}const r={},c=(e,t)=>{if(t)for(const n in t)if({}.hasOwnProperty.call(t,n)){const s=t[n];if(Array.isArray(s))for(let t=0;t<s.length;t++)e[n]=s[t];else e[n]=s}},l=(e,t)=>{const{url:n,securityProvider:s,refreshedSecurityProvider:a}=e,{path:i,queryParams:o,requestInit:u}=t||r,d=s&&s(),f=((e,t="",n,s)=>{const a=new URLSearchParams(new URL(e,"https://BASE_FALLBACK").search||void 0);if(e=e.split("?")[0],n)for(const r in n)({}).hasOwnProperty.call(n,r)&&a.append(r,n[r]);if(s&&s.params)for(const r in s.params)if({}.hasOwnProperty.call(s.params,r)){const e=s.params[r]
;if(Array.isArray(e))for(let t=0;t<e.length;t++)a.append(r,e[t]);else a.append(r,e)}let i="";t&&"/"!==e.substr(-1)&&!t.startsWith("/")&&(i="/");let o=a.toString();return o&&(o="?"+o),`${e}${i}${t}${o}`})(n,i,o,d),h=((e,t)=>{const n={};return c(n,t),e&&c(n,e.headers),n})(d,u&&u.headers),m=(e=>e&&e.omitCredentials?"omit":"include")(d),p=(null==t?void 0:t.ignoreResponsePayload)||!1,y={...u,headers:h,credentials:m};return fetch(f,y).then((e=>204===e.status?Promise.resolve():e.ok?p?Promise.resolve():e.json():401===e.status&&a?a().then((e=>l({url:n,securityProvider:()=>e},t))):Promise.reject({code:e.status,reason:e.statusText})))},u=s},feUo:function(e,t,n){"use strict";n.r(t),n.d(t,"Badge",(function(){return d}));var s=n("q1tI"),a=n.n(s),i=n("Be4h"),o=n("DTaC");const r=Object(o.i)((()=>n.e("async-atlaskit-badge").then(n.bind(null,"mUzi"))),{ssr:!1,moduleId:"./node_modules/@atlaskit/badge/dist/cjs/index.js"}),c=e=>a.a.createElement(n("iqve").a,{id:"help.atlaskit-badge",
packageName:n("aCQb").l,teamName:"navigation"},a.a.createElement(n("n+vo").a,{name:"lazy-notification-badge",fallback:null},a.a.createElement(r,e)));c.displayName="LazyNotifications";class l extends i.a{constructor(e){super("",""),this.count=0,this.count=e}countUnseenNotifications(){return Promise.resolve({count:this.count})}}const u=new l(0),d=({isNotificationCleared:e})=>{const[t,i]=Object(s.useState)(0),o=(async e=>{const[{releaseNotesNotifications:t}]=Object(n("UxYk").a)(),a=Object(s.useMemo)((()=>new l(t)),[t]);return await Promise.resolve(e||0===t?u:a)})(e);return Object(s.useEffect)((()=>{(async()=>{const e=await o;i(e.count)})()}),[o]),t>0?a.a.createElement(c,{max:3,appearance:"primary"},t):null}},xf3x:function(e,t,n){"use strict";n.r(t),n.d(t,"Badge",(function(){return m}));var s=n("q1tI"),a=n.n(s),i=n("Be4h"),o=n("DTaC");const r=Object(o.h)((()=>n.e("async-atlaskit-notification-indicator").then(n.bind(null,"VwTp")).then((e=>e.NotificationIndicator))),{ssr:!1,
moduleId:"./node_modules/@atlaskit/notification-indicator/dist/cjs/index.js"}),c=e=>a.a.createElement(n("n+vo").a,{name:"lazy-notification-indicator",fallback:null},a.a.createElement(r,e));let l;c.displayName="LazyNotificationIndicator";class u extends i.a{constructor(e){super("",""),this.mockedCount=0,this.mockedCount=e}countUnseenNotifications(){return Promise.resolve({count:this.mockedCount})}}const d=new u(0),f=6e4,h=18e4,m=({isNotificationCleared:e,setIsNotificationCleared:t,isNotificationDrawerOpen:o})=>{const[r,u]=Object(s.useState)(f),m=((e,t)=>{const{fabricNotificationLogUrl:a}=Object(n("QwAD").c)(),o=a||"",r=Object(s.useMemo)((()=>new i.a(o,void 0)),[o]);return Promise.resolve(e||t?d:r)})(e,o);return a.a.createElement(c,{notificationLogProvider:m,refreshRate:r,onCountUpdated:(n={newCount:0})=>{n.newCount&&u(h),e?l=setTimeout((()=>t(!1)),1e4):l&&clearTimeout(l)}})};m.displayName="Badge"}}]);try{window.__jsEvalStop("atlassian-navigation.async-notification-badge.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/atlassian-navigation.async-notification-badge.194c1a91eb7ab10047c5.8.js.map